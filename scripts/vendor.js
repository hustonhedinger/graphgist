if(function(){function BasicObject(){}function Object(){}function Class(){}function Module(){}function NilClass(){}function create_scope(base,klass,id){var const_alloc=function(){},const_scope=const_alloc.prototype=new base.constructor;klass._scope=const_scope,const_scope.base=klass,klass._base_module=base.base,const_scope.constructor=const_alloc,const_scope.constants=[],id&&(klass._orig_scope=base,base[id]=base.constructor[id]=klass,base.constants.push(id))}function boot_class_meta(superklass,constructor){function OpalClass(){}var mtor=function(){};mtor.prototype=superklass.constructor.prototype,OpalClass.prototype=new mtor;var klass=new OpalClass;return klass._id=unique_id++,klass._alloc=constructor,klass._isClass=!0,klass.constructor=OpalClass,klass._super=superklass,klass._methods=[],klass.__inc__=[],klass.__parent=superklass,klass._proto=constructor.prototype,constructor.prototype._klass=klass,klass}function boot_module(){function OpalModule(){}var mtor=function(){};mtor.prototype=RubyModule.constructor.prototype,OpalModule.prototype=new mtor;var module=new OpalModule;return module._id=unique_id++,module._isClass=!0,module.constructor=OpalModule,module._super=RubyModule,module._methods=[],module.__inc__=[],module.__parent=RubyModule,module._proto={},module.__mod__=!0,module.__dep__=[],module}function bridge_class(name,constructor){var klass=boot_class_meta(RubyObject,constructor);klass._name=name,create_scope(Opal,klass,name),bridged_classes.push(klass);for(var object_methods=RubyBasicObject._methods.concat(RubyObject._methods),i=0,len=object_methods.length;len>i;i++){var meth=object_methods[i];constructor.prototype[meth]=RubyObject._proto[meth]}return klass}function add_stub_for(prototype,stub){function method_missing_stub(){return this.$method_missing._p=method_missing_stub._p,method_missing_stub._p=null,this.$method_missing.apply(this,[stub.slice(1)].concat($slice.call(arguments)))}method_missing_stub.rb_stub=!0,prototype[stub]=method_missing_stub}function define_basic_object_method(jsid,body){RubyBasicObject._methods.push(jsid);for(var i=0,len=bridged_classes.length;len>i;i++)bridged_classes[i]._proto[jsid]=body}var RubyBasicObject,RubyObject,RubyModule,RubyClass,Opal=this.Opal={},bridged_classes=[],TopScope=function(){};TopScope.prototype=Opal,Opal.constructor=TopScope,Opal.constants=[],Opal.global=this;var $hasOwn=Opal.hasOwnProperty,$slice=Opal.slice=Array.prototype.slice,unique_id=0;Opal.uid=function(){return unique_id++},Opal.cvars={},Opal.gvars={},Opal.create_scope=create_scope,Opal.klass=function(base,superklass,id,constructor){base._isClass||(base=base._klass),null===superklass&&(superklass=RubyObject);var klass=base._scope[id];if($hasOwn.call(base._scope,id)&&klass._orig_scope===base._scope){if(!klass._isClass)throw Opal.TypeError.$new(id+" is not a class");if(superklass!==klass._super&&superklass!==RubyObject)throw Opal.TypeError.$new("superclass mismatch for class "+id)}else{if("function"==typeof superklass)return bridge_class(id,superklass);klass=boot_class(superklass,constructor),klass._name=id,create_scope(base._scope,klass,id),base[id]=base._scope[id]=klass,superklass!==RubyObject&&superklass!==RubyBasicObject&&Opal.donate_constants(superklass,klass),superklass.$inherited&&superklass.$inherited(klass)}return klass};var boot_class=Opal.boot=function(superklass,constructor){var ctor=function(){};return ctor.prototype=superklass._proto,constructor.prototype=new ctor,constructor.prototype.constructor=constructor,boot_class_meta(superklass,constructor)};Opal.module=function(base,id){var module;if(base._isClass||(base=base._klass),$hasOwn.call(base._scope,id)){if(module=base._scope[id],!module.__mod__&&module!==RubyObject)throw Opal.TypeError.$new(id+" is not a module")}else module=boot_module(),module._name=id,create_scope(base._scope,module,id),base[id]=base._scope[id]=module;return module};var boot_defclass=function(id,constructor,superklass){if(superklass){var ctor=function(){};ctor.prototype=superklass.prototype,constructor.prototype=new ctor}return constructor.prototype.constructor=constructor,constructor},boot_makemeta=function(id,constructor,superklass){function OpalClass(){}var mtor=function(){};mtor.prototype=superklass.prototype,OpalClass.prototype=new mtor;var klass=new OpalClass;return klass._id=unique_id++,klass._alloc=constructor,klass._isClass=!0,klass._name=id,klass._super=superklass,klass.constructor=OpalClass,klass._methods=[],klass.__inc__=[],klass.__parent=superklass,klass._proto=constructor.prototype,constructor.prototype._klass=klass,Opal[id]=klass,Opal.constants.push(id),klass};Opal.casgn=function(base_module,name,value){var scope=base_module._scope;return value._isClass&&value._name===nil&&(value._name=name),value._isClass&&(value._base_module=base_module),scope.constants.push(name),scope[name]=value},Opal.cdecl=function(base_scope,name,value){return base_scope.constants.push(name),base_scope[name]=value},Opal.cget=function(base_scope,path){null==path&&(path=base_scope,base_scope=Opal.Object);var result=base_scope;for(path=path.split("::");0!=path.length;)result=result.$const_get(path.shift());return result},Opal.donate_constants=function(source_mod,target_mod){for(var source_constants=source_mod._scope.constants,target_scope=target_mod._scope,target_constants=target_scope.constants,i=0,length=source_constants.length;length>i;i++)target_constants.push(source_constants[i]),target_scope[source_constants[i]]=source_mod._scope[source_constants[i]]},Opal.add_stubs=function(stubs){for(var i=0,length=stubs.length;length>i;i++){var stub=stubs[i];BasicObject.prototype[stub]||(BasicObject.prototype[stub]=!0,add_stub_for(BasicObject.prototype,stub))}},Opal.add_stub_for=add_stub_for,Opal.cm=function(name){return this.base.$const_missing(name)},Opal.ac=function(actual,expected,object,meth){var inspect=(object._isClass?object._name+".":object._klass._name+"#")+meth,msg="["+inspect+"] wrong number of arguments("+actual+" for "+expected+")";throw Opal.ArgumentError.$new(msg)},Opal.find_super_dispatcher=function(obj,jsid,current_func,iter,defs){var dispatcher;return dispatcher=defs?obj._isClass?defs._super:obj._klass._proto:obj._isClass?obj._super:find_obj_super_dispatcher(obj,jsid,current_func),dispatcher=dispatcher["$"+jsid],dispatcher._p=iter,dispatcher},Opal.find_iter_super_dispatcher=function(obj,jsid,current_func,iter,defs){return current_func._def?Opal.find_super_dispatcher(obj,current_func._jsid,current_func,iter,defs):Opal.find_super_dispatcher(obj,jsid,current_func,iter,defs)};var find_obj_super_dispatcher=function(obj,jsid,current_func){for(var klass=obj.__meta__||obj._klass;klass&&klass._proto["$"+jsid]!==current_func;)klass=klass.__parent;if(!klass)throw new Error("could not find current class for super()");for(klass=klass.__parent;klass;){var working=klass._proto["$"+jsid];if(working&&working!==current_func)break;klass=klass.__parent}return klass._proto};Opal.$return=function(val){throw Opal.returner.$v=val,Opal.returner},Opal.$yield1=function(block,arg){if("function"!=typeof block)throw Opal.LocalJumpError.$new("no block given");return block.length>1&&arg._isArray?block.apply(null,arg):block(arg)},Opal.$yieldX=function(block,args){if("function"!=typeof block)throw Opal.LocalJumpError.$new("no block given");return block.length>1&&1==args.length&&args[0]._isArray?block.apply(null,args[0]):(args._isArray||(args=$slice.call(args)),block.apply(null,args))},Opal.is_a=function(object,klass){if(object.__meta__===klass)return!0;for(var search=object._klass;search;){if(search===klass)return!0;search=search._super}return!1},Opal.to_ary=function(value){return value._isArray?value:value.$to_ary&&!value.$to_ary.rb_stub?value.$to_ary():[value]},Opal.send=function(recv,mid){var args=$slice.call(arguments,2),func=recv["$"+mid];return func?func.apply(recv,args):recv.$method_missing.apply(recv,[mid].concat(args))},Opal.block_send=function(recv,mid,block){var args=$slice.call(arguments,3),func=recv["$"+mid];return func?(func._p=block,func.apply(recv,args)):recv.$method_missing.apply(recv,[mid].concat(args))},Opal.donate=function(klass,defined){var methods=klass._methods,included_in=klass.__dep__;if(klass._methods=methods.concat(defined),included_in)for(var i=0,length=included_in.length;length>i;i++){for(var includee=included_in[i],dest=includee._proto,j=0,jj=defined.length;jj>j;j++){var method=defined[j];dest[method]=klass._proto[method],dest[method]._donated=!0}includee.__dep__&&Opal.donate(includee,defined,!0)}},Opal.defn=function(obj,jsid,body){return obj.__mod__?(obj._proto[jsid]=body,Opal.donate(obj,[jsid])):obj._isClass?(obj._proto[jsid]=body,obj===RubyBasicObject?define_basic_object_method(jsid,body):obj===RubyObject&&Opal.donate(obj,[jsid])):obj[jsid]=body,nil},Opal.defs=function(obj,jsid,body){obj._isClass||obj.__mod__?obj.constructor.prototype[jsid]=body:obj[jsid]=body},Opal.hash=function(){if(1==arguments.length&&arguments[0]._klass==Opal.Hash)return arguments[0];var hash=new Opal.Hash._alloc,keys=[],assocs={};if(hash.map=assocs,hash.keys=keys,1==arguments.length&&arguments[0]._isArray)for(var args=arguments[0],i=0,length=args.length;length>i;i++){var key=args[i][0],obj=args[i][1];null==assocs[key]&&keys.push(key),assocs[key]=obj}else for(var i=0,length=arguments.length;length>i;i++){var key=arguments[i],obj=arguments[++i];null==assocs[key]&&keys.push(key),assocs[key]=obj}return hash},Opal.hash2=function(keys,map){var hash=new Opal.Hash._alloc;return hash.keys=keys,hash.map=map,hash},Opal.range=function(first,last,exc){var range=new Opal.Range._alloc;return range.begin=first,range.end=last,range.exclude=exc,range},boot_defclass("BasicObject",BasicObject),boot_defclass("Object",Object,BasicObject),boot_defclass("Module",Module,Object),boot_defclass("Class",Class,Module),RubyBasicObject=boot_makemeta("BasicObject",BasicObject,Class),RubyObject=boot_makemeta("Object",Object,RubyBasicObject.constructor),RubyModule=boot_makemeta("Module",Module,RubyObject.constructor),RubyClass=boot_makemeta("Class",Class,RubyModule.constructor),RubyBasicObject._klass=RubyClass,RubyObject._klass=RubyClass,RubyModule._klass=RubyClass,RubyClass._klass=RubyClass,RubyBasicObject._super=null,RubyObject._super=RubyBasicObject,RubyModule._super=RubyObject,RubyClass._super=RubyModule,RubyObject.__dep__=bridged_classes,Opal.base=RubyObject,RubyBasicObject._scope=RubyObject._scope=Opal,RubyBasicObject._orig_scope=RubyObject._orig_scope=Opal,Opal.Kernel=RubyObject,RubyModule._scope=RubyObject._scope,RubyClass._scope=RubyObject._scope,RubyModule._orig_scope=RubyObject._orig_scope,RubyClass._orig_scope=RubyObject._orig_scope,RubyObject._proto.toString=function(){return this.$to_s()},Opal.top=new RubyObject._alloc,Opal.klass(RubyObject,RubyObject,"NilClass",NilClass);var nil=Opal.nil=new NilClass;nil.call=nil.apply=function(){throw Opal.LocalJumpError.$new("no block given")},Opal.breaker=new Error("unexpected break"),Opal.returner=new Error("unexpected return"),bridge_class("Array",Array),bridge_class("Boolean",Boolean),bridge_class("Numeric",Number),bridge_class("String",String),bridge_class("Proc",Function),bridge_class("Exception",Error),bridge_class("Regexp",RegExp),bridge_class("Time",Date),TypeError._super=Error}.call(this),function($opal){var self=$opal.top,nil=$opal.nil,$slice=($opal.breaker,$opal.slice),$module=$opal.module;return $opal.add_stubs(["$===","$respond_to?","$raise","$class","$__send__","$coerce_to","$<=>","$name"]),function($base){var self=$module($base,"Opal"),$scope=(self._proto,self._scope);$opal.defs(self,"$coerce_to",function(object,type,method){var $a,self=this;return($a=type["$==="](object))!==!1&&$a!==nil?object:((($a=object["$respond_to?"](method))===!1||$a===nil)&&self.$raise($scope.TypeError,"no implicit conversion of "+object.$class()+" into "+type),object.$__send__(method))}),$opal.defs(self,"$coerce_to!",function(object,type,method){var $a,self=this,coerced=nil;return coerced=self.$coerce_to(object,type,method),(($a=type["$==="](coerced))===!1||$a===nil)&&self.$raise($scope.TypeError,"can't convert "+object.$class()+" into "+type+" ("+object.$class()+"#"+method+" gives "+coerced.$class()),coerced}),$opal.defs(self,"$try_convert",function(object,type,method){var $a;return($a=type["$==="](object))!==!1&&$a!==nil?object:($a=object["$respond_to?"](method))!==!1&&$a!==nil?object.$__send__(method):nil}),$opal.defs(self,"$compare",function(a,b){var $a,self=this,compare=nil;return compare=a["$<=>"](b),($a=compare===nil)!=!1&&$a!==nil&&self.$raise($scope.ArgumentError,"comparison of "+a.$class().$name()+" with "+b.$class().$name()+" failed"),compare}),$opal.defs(self,"$fits_fixnum!",function(value){var $a,self=this;return($a=value>2147483648)!=!1&&$a!==nil?self.$raise($scope.RangeError,"bignum too big to convert into `long'"):nil}),$opal.defs(self,"$fits_array!",function(value){var $a,self=this;return($a=value>=536870910)!=!1&&$a!==nil?self.$raise($scope.ArgumentError,"argument too big"):nil}),$opal.defs(self,"$destructure",function(args){return 1==args.length?args[0]:args._isArray?args:$slice.call(args)})}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$slice=($opal.breaker,$opal.slice),$klass=$opal.klass;return $opal.add_stubs(["$attr_reader","$attr_writer","$=~","$raise","$const_missing","$to_str","$to_proc","$append_features","$included","$name","$new","$to_s"]),function($base,$super){function $Module(){}var TMP_1,TMP_2,TMP_3,TMP_4,self=$Module=$klass($base,$super,"Module",$Module),def=$Module._proto,$scope=$Module._scope;return $opal.defs(self,"$new",TMP_1=function(){function AnonModule(){}var $iter=TMP_1._p,block=$iter||nil;TMP_1._p=null;var klass=Opal.boot(Opal.Module,AnonModule);if(klass._name=nil,klass._klass=Opal.Module,klass.__dep__=[],klass.__mod__=!0,klass._proto={},$opal.create_scope(Opal.Module._scope,klass),block!==nil){var block_self=block._s;block._s=null,block.call(klass),block._s=block_self}return klass}),def["$==="]=function(object){var $a,self=this;return($a=null==object)!=!1&&$a!==nil?!1:$opal.is_a(object,self)},def["$<"]=function(other){for(var self=this,working=self;working;){if(working===other)return!0;working=working.__parent}return!1},def.$alias_method=function(newname,oldname){var self=this;return self._proto["$"+newname]=self._proto["$"+oldname],self._methods&&$opal.donate(self,["$"+newname]),self},def.$alias_native=function(mid,jsid){var self=this;return null==jsid&&(jsid=mid),self._proto["$"+mid]=self._proto[jsid]},def.$ancestors=function(){for(var self=this,parent=self,result=[];parent;)result.push(parent),result=result.concat(parent.__inc__),parent=parent._super;return result},def.$append_features=function(klass){for(var self=this,module=self,included=klass.__inc__,i=0,length=included.length;length>i;i++)if(included[i]===module)return;included.push(module),module.__dep__.push(klass);var iclass={name:module._name,_proto:module._proto,__parent:klass.__parent,__iclass:!0};klass.__parent=iclass;for(var donator=module._proto,prototype=klass._proto,methods=module._methods,i=0,length=methods.length;length>i;i++){var method=methods[i];prototype.hasOwnProperty(method)&&!prototype[method]._donated||(prototype[method]=donator[method],prototype[method]._donated=!0)}return klass.__dep__&&$opal.donate(klass,methods.slice(),!0),$opal.donate_constants(module,klass),self},def.$attr_accessor=function(names){var $a,$b,self=this;return names=$slice.call(arguments,0),($a=self).$attr_reader.apply($a,[].concat(names)),($b=self).$attr_writer.apply($b,[].concat(names))},def.$attr_reader=function(names){var self=this;names=$slice.call(arguments,0);for(var proto=self._proto,cls=self,i=0,length=names.length;length>i;i++)!function(name){proto[name]=nil;var func=function(){return this[name]};cls._isSingleton?proto.constructor.prototype["$"+name]=func:(proto["$"+name]=func,$opal.donate(self,["$"+name]))}(names[i]);return nil},def.$attr_writer=function(names){var self=this;names=$slice.call(arguments,0);for(var proto=self._proto,cls=self,i=0,length=names.length;length>i;i++)!function(name){proto[name]=nil;var func=function(value){return this[name]=value};cls._isSingleton?proto.constructor.prototype["$"+name+"="]=func:(proto["$"+name+"="]=func,$opal.donate(self,["$"+name+"="]))}(names[i]);return nil},$opal.defn(self,"$attr",def.$attr_accessor),def.$constants=function(){var self=this;return self._scope.constants},def["$const_defined?"]=function(name,inherit){var $a,self=this;if(null==inherit&&(inherit=!0),(($a=name["$=~"](/^[A-Z]\w*$/))===!1||$a===nil)&&self.$raise($scope.NameError,"wrong constant name "+name),scopes=[self._scope],inherit||self===Opal.Object)for(var parent=self._super;parent!==Opal.BasicObject;)scopes.push(parent._scope),parent=parent._super;for(var i=0,len=scopes.length;len>i;i++)if(scopes[i].hasOwnProperty(name))return!0;return!1},def.$const_get=function(name,inherit){var $a,self=this;null==inherit&&(inherit=!0),(($a=name["$=~"](/^[A-Z]\w*$/))===!1||$a===nil)&&self.$raise($scope.NameError,"wrong constant name "+name);var scopes=[self._scope];if(inherit||self==Opal.Object)for(var parent=self._super;parent!==Opal.BasicObject;)scopes.push(parent._scope),parent=parent._super;for(var i=0,len=scopes.length;len>i;i++)if(scopes[i].hasOwnProperty(name))return scopes[i][name];return self.$const_missing(name)},def.$const_missing=function(const$){var self=this,name=nil;return name=self._name,self.$raise($scope.NameError,"uninitialized constant "+name+"::"+const$)},def.$const_set=function(name,value){var $a,self=this;(($a=name["$=~"](/^[A-Z]\w*$/))===!1||$a===nil)&&self.$raise($scope.NameError,"wrong constant name "+name);try{name=name.$to_str()}catch($err){self.$raise($scope.TypeError,"conversion with #to_str failed")}return $opal.casgn(self,name,value),value},def.$define_method=TMP_2=function(name,method){var self=this,$iter=TMP_2._p,block=$iter||nil;if(TMP_2._p=null,method&&(block=method.$to_proc()),block===nil)throw new Error("no block given");var jsid="$"+name;return block._jsid=name,block._s=null,block._def=block,self._proto[jsid]=block,$opal.donate(self,[jsid]),null},def.$remove_method=function(name){{var self=this,jsid="$"+name;self._proto[jsid]}return delete self._proto[jsid],self},def.$include=function(mods){var self=this;mods=$slice.call(arguments,0);for(var mod,i=mods.length-1;i>=0;)mod=mods[i],i--,mod!==self&&(mod.$append_features(self),mod.$included(self));return self},def.$instance_method=function(name){var self=this,meth=self._proto["$"+name];return(!meth||meth.rb_stub)&&self.$raise($scope.NameError,"undefined method `"+name+"' for class `"+self.$name()+"'"),$scope.UnboundMethod.$new(self,meth,name)},def.$instance_methods=function(include_super){var self=this;null==include_super&&(include_super=!1);var methods=[],proto=self._proto;for(var prop in self._proto)(include_super||proto.hasOwnProperty(prop))&&(include_super||!proto[prop]._donated)&&"$"===prop.charAt(0)&&methods.push(prop.substr(1));return methods},def.$included=function(){return nil},def.$module_eval=TMP_3=function(){var self=this,$iter=TMP_3._p,block=$iter||nil;if(TMP_3._p=null,block===nil)throw new Error("no block given");var result,block_self=block._s;return block._s=null,result=block.call(self),block._s=block_self,result},$opal.defn(self,"$class_eval",def.$module_eval),def.$module_exec=TMP_4=function(){var self=this,$iter=TMP_4._p,block=$iter||nil;if(TMP_4._p=null,block===nil)throw new Error("no block given");var result,block_self=block._s;return block._s=null,result=block.apply(self,$slice.call(arguments)),block._s=block_self,result},$opal.defn(self,"$class_exec",def.$module_exec),def["$method_defined?"]=function(method){var self=this,body=self._proto["$"+method];return!!body&&!body.rb_stub},def.$module_function=function(methods){var self=this;methods=$slice.call(arguments,0);for(var i=0,length=methods.length;length>i;i++){var meth=methods[i],func=self._proto["$"+meth];self.constructor.prototype["$"+meth]=func}return self},def.$name=function(){var self=this;if(self._full_name)return self._full_name;for(var result=[],base=self;base;){if(base._name===nil)return 0===result.length?nil:result.join("::");if(result.unshift(base._name),base=base._base_module,base===$opal.Object)break}return 0===result.length?nil:self._full_name=result.join("::")},def.$public=function(){return nil},def.$private_class_method=function(name){var self=this;return self["$"+name]||nil},$opal.defn(self,"$private",def.$public),$opal.defn(self,"$protected",def.$public),def["$private_method_defined?"]=function(){return!1},$opal.defn(self,"$protected_method_defined?",def["$private_method_defined?"]),$opal.defn(self,"$public_instance_methods",def.$instance_methods),$opal.defn(self,"$public_method_defined?",def["$method_defined?"]),def.$remove_class_variable=function(){return nil},def.$remove_const=function(name){var self=this,old=self._scope[name];return delete self._scope[name],old},def.$to_s=function(){var self=this;return self.$name().$to_s()},def.$undef_method=function(symbol){var self=this;return $opal.add_stub_for(self._proto,"$"+symbol),self},nil}(self,null)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$slice=($opal.breaker,$opal.slice),$klass=$opal.klass;return $opal.add_stubs(["$raise","$allocate"]),function($base,$super){function $Class(){}var TMP_1,TMP_2,self=$Class=$klass($base,$super,"Class",$Class),def=$Class._proto,$scope=$Class._scope;return $opal.defs(self,"$new",TMP_1=function(sup){function AnonClass(){}var self=this,$iter=TMP_1._p,block=$iter||nil;null==sup&&(sup=$scope.Object),TMP_1._p=null,(!sup._isClass||sup.__mod__)&&self.$raise($scope.TypeError,"superclass must be a Class");var klass=Opal.boot(sup,AnonClass);if(klass._name=nil,klass.__parent=sup,$opal.create_scope(sup._scope,klass),sup.$inherited(klass),block!==nil){var block_self=block._s;block._s=null,block.call(klass),block._s=block_self}return klass}),def.$allocate=function(){var self=this,obj=new self._alloc;return obj._id=Opal.uid(),obj},def.$inherited=function(){return nil},def.$new=TMP_2=function(args){var self=this,$iter=TMP_2._p,block=$iter||nil;args=$slice.call(arguments,0),TMP_2._p=null;var obj=self.$allocate();return obj.$initialize._p=block,obj.$initialize.apply(obj,args),obj},def.$superclass=function(){var self=this;return self._super||nil},nil}(self,null)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$slice=($opal.breaker,$opal.slice),$klass=$opal.klass;return $opal.add_stubs(["$raise"]),function($base,$super){function $BasicObject(){}var TMP_1,TMP_2,TMP_3,TMP_4,self=$BasicObject=$klass($base,$super,"BasicObject",$BasicObject),def=$BasicObject._proto,$scope=$BasicObject._scope;return $opal.defn(self,"$initialize",function(){return nil}),$opal.defn(self,"$==",function(other){var self=this;return self===other}),$opal.defn(self,"$__id__",function(){var self=this;return self._id||(self._id=Opal.uid())}),$opal.defn(self,"$__send__",TMP_1=function(symbol,args){var self=this,$iter=TMP_1._p,block=$iter||nil;args=$slice.call(arguments,1),TMP_1._p=null;var func=self["$"+symbol];return func?(block!==nil&&(func._p=block),func.apply(self,args)):(block!==nil&&(self.$method_missing._p=block),self.$method_missing.apply(self,[symbol].concat(args)))}),$opal.defn(self,"$eql?",def["$=="]),$opal.defn(self,"$equal?",def["$=="]),$opal.defn(self,"$instance_eval",TMP_2=function(){var $a,self=this,$iter=TMP_2._p,block=$iter||nil;TMP_2._p=null,(($a=block)===!1||$a===nil)&&$scope.Kernel.$raise($scope.ArgumentError,"no block given");var result,block_self=block._s;return block._s=null,result=block.call(self,self),block._s=block_self,result}),$opal.defn(self,"$instance_exec",TMP_3=function(args){var $a,self=this,$iter=TMP_3._p,block=$iter||nil;args=$slice.call(arguments,0),TMP_3._p=null,(($a=block)===!1||$a===nil)&&$scope.Kernel.$raise($scope.ArgumentError,"no block given");var result,block_self=block._s;return block._s=null,result=block.apply(self,args),block._s=block_self,result}),$opal.defn(self,"$method_missing",TMP_4=function(symbol,args){TMP_4._p;return args=$slice.call(arguments,1),TMP_4._p=null,$scope.Kernel.$raise($scope.NoMethodError,"undefined method `"+symbol+"' for BasicObject instance")}),nil}(self,null)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$breaker=$opal.breaker,$slice=$opal.slice,$module=$opal.module,$gvars=$opal.gvars;return $opal.add_stubs(["$raise","$inspect","$==","$name","$class","$new","$respond_to?","$to_ary","$to_a","$allocate","$copy_instance_variables","$initialize_clone","$initialize_copy","$private","$singleton_class","$initialize_dup","$for","$to_proc","$include","$to_i","$to_s","$to_f","$*","$===","$empty?","$ArgumentError","$nan?","$infinite?","$to_int","$>","$length","$print","$format","$puts","$each","$<=","$[]","$nil?","$is_a?","$rand","$coerce_to"]),function($base){var TMP_1,TMP_2,TMP_3,TMP_4,TMP_5,TMP_6,TMP_7,TMP_9,self=$module($base,"Kernel"),def=self._proto,$scope=self._scope;def.$method_missing=TMP_1=function(symbol,args){{var self=this;TMP_1._p}return args=$slice.call(arguments,1),TMP_1._p=null,self.$raise($scope.NoMethodError,"undefined method `"+symbol+"' for "+self.$inspect())},def["$=~"]=function(){return!1},def["$==="]=function(other){var self=this;return self["$=="](other)},def["$<=>"]=function(other){var self=this;return self["$=="](other)?0:nil},def.$method=function(name){var self=this,meth=self["$"+name];return(!meth||meth.rb_stub)&&self.$raise($scope.NameError,"undefined method `"+name+"' for class `"+self.$class().$name()+"'"),$scope.Method.$new(self,meth,name)},def.$methods=function(all){var self=this;null==all&&(all=!0);var methods=[];for(var key in self)if("$"==key[0]&&"function"==typeof self[key]){if((0==all||all===nil)&&!$opal.hasOwnProperty.call(self,key))continue;methods.push(key.substr(1))}return methods},def.$Array=TMP_2=function(object,args){TMP_2._p;return args=$slice.call(arguments,1),TMP_2._p=null,null==object||object===nil?[]:object["$respond_to?"]("to_ary")?object.$to_ary():object["$respond_to?"]("to_a")?object.$to_a():[object]},def.$caller=function(){return[]},def.$class=function(){var self=this;return self._klass},def.$copy_instance_variables=function(other){var self=this;for(var name in other)"$"!==name.charAt(0)&&"_id"!==name&&"_klass"!==name&&(self[name]=other[name])},def.$clone=function(){var self=this,copy=nil;return copy=self.$class().$allocate(),copy.$copy_instance_variables(self),copy.$initialize_clone(self),copy},def.$initialize_clone=function(other){var self=this;return self.$initialize_copy(other)},self.$private("initialize_clone"),def.$define_singleton_method=TMP_3=function(name){var $a,self=this,$iter=TMP_3._p,body=$iter||nil;TMP_3._p=null,(($a=body)===!1||$a===nil)&&self.$raise($scope.ArgumentError,"tried to create Proc object without a block");var jsid="$"+name;return body._jsid=name,body._s=null,body._def=body,self.$singleton_class()._proto[jsid]=body,self},def.$dup=function(){var self=this,copy=nil;return copy=self.$class().$allocate(),copy.$copy_instance_variables(self),copy.$initialize_dup(self),copy},def.$initialize_dup=function(other){var self=this;return self.$initialize_copy(other)},self.$private("initialize_dup"),def.$enum_for=TMP_4=function(method,args){var $a,$b,self=this,$iter=TMP_4._p,block=$iter||nil;return args=$slice.call(arguments,1),null==method&&(method="each"),TMP_4._p=null,($a=($b=$scope.Enumerator).$for,$a._p=block.$to_proc(),$a).apply($b,[self,method].concat(args))},def["$equal?"]=function(other){var self=this;return self===other},def.$extend=function(mods){var self=this;mods=$slice.call(arguments,0);for(var i=0,length=mods.length;length>i;i++)self.$singleton_class().$include(mods[i]);return self},def.$format=function(format,args){args=$slice.call(arguments,1);var idx=0;return format.replace(/%(\d+\$)?([-+ 0]*)(\d*|\*(\d+\$)?)(?:\.(\d*|\*(\d+\$)?))?([cspdiubBoxXfgeEG])|(%%)/g,function(str,idx_str,flags,width_str,w_idx_str,prec_str,p_idx_str,spec,escaped){if(escaped)return"%";var width,prec,obj,is_integer_spec=-1!="diubBoxX".indexOf(spec),is_float_spec=-1!="eEfgG".indexOf(spec),prefix="";if(void 0===width_str)width=void 0;else if("*"==width_str.charAt(0)){var w_idx=idx++;w_idx_str&&(w_idx=parseInt(w_idx_str,10)-1),width=args[w_idx].$to_i()}else width=parseInt(width_str,10);if(prec_str)if("*"==prec_str.charAt(0)){var p_idx=idx++;p_idx_str&&(p_idx=parseInt(p_idx_str,10)-1),prec=args[p_idx].$to_i()}else prec=parseInt(prec_str,10);else prec=is_float_spec?6:void 0;switch(idx_str&&(idx=parseInt(idx_str,10)-1),spec){case"c":obj=args[idx],str=obj._isString?obj.charAt(0):String.fromCharCode(obj.$to_i());break;case"s":str=args[idx].$to_s(),void 0!==prec&&(str=str.substr(0,prec));break;case"p":str=args[idx].$inspect(),void 0!==prec&&(str=str.substr(0,prec));break;case"d":case"i":case"u":str=args[idx].$to_i().toString();break;case"b":case"B":str=args[idx].$to_i().toString(2);break;case"o":str=args[idx].$to_i().toString(8);break;case"x":case"X":str=args[idx].$to_i().toString(16);break;case"e":case"E":str=args[idx].$to_f().toExponential(prec);break;case"f":str=args[idx].$to_f().toFixed(prec);break;case"g":case"G":str=args[idx].$to_f().toPrecision(prec)}idx++,(is_integer_spec||is_float_spec)&&("-"==str.charAt(0)?(prefix="-",str=str.substr(1)):-1!=flags.indexOf("+")?prefix="+":-1!=flags.indexOf(" ")&&(prefix=" ")),is_integer_spec&&void 0!==prec&&str.length<prec&&(str="0"["$*"](prec-str.length)+str);var total_len=prefix.length+str.length;if(void 0!==width&&width>total_len)if(-1!=flags.indexOf("-"))str+=" "["$*"](width-total_len);else{-1!=flags.indexOf("0")?str="0"["$*"](width-total_len)+str:prefix=" "["$*"](width-total_len)+prefix}var result=prefix+str;return-1!="XEG".indexOf(spec)&&(result=result.toUpperCase()),result})},def.$hash=function(){var self=this;return self._id},def.$initialize_copy=function(){return nil},def.$inspect=function(){var self=this;return self.$to_s()},def["$instance_of?"]=function(klass){var self=this;return self._klass===klass},def["$instance_variable_defined?"]=function(name){var self=this;return self.hasOwnProperty(name.substr(1))},def.$instance_variable_get=function(name){var self=this,ivar=self[name.substr(1)];return null==ivar?nil:ivar},def.$instance_variable_set=function(name,value){var self=this;return self[name.substr(1)]=value},def.$instance_variables=function(){var self=this,result=[];for(var name in self)"$"!==name.charAt(0)&&"_klass"!==name&&"_id"!==name&&result.push("@"+name);return result},def.$Integer=function(value,base){var $a,$b,self=this,$case=nil;return null==base&&(base=nil),($a=$scope.String["$==="](value))!==!1&&$a!==nil?(($a=value["$empty?"]())!==!1&&$a!==nil&&self.$raise($scope.ArgumentError,"invalid value for Integer: (empty string)"),parseInt(value,($a=base)!==!1&&$a!==nil?$a:void 0)):(base!==!1&&base!==nil&&self.$raise(self.$ArgumentError("base is only valid for String values")),function(){return $case=value,$scope.Integer["$==="]($case)?value:$scope.Float["$==="]($case)?(($a=($b=value["$nan?"]())!==!1&&$b!==nil?$b:value["$infinite?"]())!==!1&&$a!==nil&&self.$raise($scope.FloatDomainError,"unable to coerce "+value+" to Integer"),value.$to_int()):$scope.NilClass["$==="]($case)?self.$raise($scope.TypeError,"can't convert nil into Integer"):($a=value["$respond_to?"]("to_int"))!==!1&&$a!==nil?value.$to_int():($a=value["$respond_to?"]("to_i"))!==!1&&$a!==nil?value.$to_i():self.$raise($scope.TypeError,"can't convert "+value.$class()+" into Integer")}())},def.$Float=function(value){var $a,self=this;return($a=$scope.String["$==="](value))!==!1&&$a!==nil?parseFloat(value):($a=value["$respond_to?"]("to_f"))!==!1&&$a!==nil?value.$to_f():self.$raise($scope.TypeError,"can't convert "+value.$class()+" into Float")},def["$is_a?"]=function(klass){var self=this;return $opal.is_a(self,klass)},$opal.defn(self,"$kind_of?",def["$is_a?"]),def.$lambda=TMP_5=function(){var $iter=TMP_5._p,block=$iter||nil;return TMP_5._p=null,block.is_lambda=!0,block},def.$loop=TMP_6=function(){var self=this,$iter=TMP_6._p,block=$iter||nil;for(TMP_6._p=null;;)if(block()===$breaker)return $breaker.$v;
return self},def["$nil?"]=function(){return!1},$opal.defn(self,"$object_id",def.$__id__),def.$printf=function(args){var $a,self=this;return args=$slice.call(arguments,0),args.$length()["$>"](0)&&self.$print(($a=self).$format.apply($a,[].concat(args))),nil},def.$private_methods=function(){return[]},def.$proc=TMP_7=function(){var $a,self=this,$iter=TMP_7._p,block=$iter||nil;return TMP_7._p=null,(($a=block)===!1||$a===nil)&&self.$raise($scope.ArgumentError,"tried to create Proc object without a block"),block.is_lambda=!1,block},def.$puts=function(strs){var $a;return strs=$slice.call(arguments,0),($a=$gvars.stdout).$puts.apply($a,[].concat(strs))},def.$p=function(args){var $a,$b,TMP_8,self=this;return args=$slice.call(arguments,0),($a=($b=args).$each,$a._p=(TMP_8=function(obj){TMP_8._s||this;return null==obj&&(obj=nil),$gvars.stdout.$puts(obj.$inspect())},TMP_8._s=self,TMP_8),$a).call($b),args.$length()["$<="](1)?args["$[]"](0):args},$opal.defn(self,"$print",def.$puts),def.$warn=function(strs){var $a,$b;return strs=$slice.call(arguments,0),(($a=($b=$gvars.VERBOSE["$nil?"]())!==!1&&$b!==nil?$b:strs["$empty?"]())===!1||$a===nil)&&($a=$gvars.stderr).$puts.apply($a,[].concat(strs)),nil},def.$raise=function(exception,string){throw null==exception&&$gvars["!"]?exception=$gvars["!"]:exception._isString?exception=$scope.RuntimeError.$new(exception):exception["$is_a?"]($scope.Exception)||(exception=exception.$new(string)),exception},$opal.defn(self,"$fail",def.$raise),def.$rand=function(max){var self=this;if(void 0===max)return Math.random();if(max._isRange){var arr=max.$to_a();return arr[self.$rand(arr.length)]}return Math.floor(Math.random()*Math.abs($scope.Opal.$coerce_to(max,$scope.Integer,"to_int")))},$opal.defn(self,"$srand",def.$rand),def["$respond_to?"]=function(name,include_all){var self=this;null==include_all&&(include_all=!1);var body=self["$"+name];return!!body&&!body.rb_stub},$opal.defn(self,"$send",def.$__send__),$opal.defn(self,"$public_send",def.$__send__),def.$singleton_class=function(){var self=this;if(self._isClass){if(self.__meta__)return self.__meta__;var meta=new $opal.Class._alloc;return meta._klass=$opal.Class,self.__meta__=meta,meta._proto=self.constructor.prototype,meta._isSingleton=!0,meta.__inc__=[],meta._methods=[],meta._scope=self._scope,meta}if(self._isClass)return self._klass;if(self.__meta__)return self.__meta__;var orig_class=self._klass,class_id="#<Class:#<"+orig_class._name+":"+orig_class._id+">>",Singleton=function(){},meta=Opal.boot(orig_class,Singleton);return meta._name=class_id,meta._proto=self,self.__meta__=meta,meta._klass=orig_class._klass,meta._scope=orig_class._scope,meta.__parent=orig_class,meta},$opal.defn(self,"$sprintf",def.$format),def.$String=function(str){return String(str)},def.$tap=TMP_9=function(){var self=this,$iter=TMP_9._p,block=$iter||nil;return TMP_9._p=null,$opal.$yield1(block,self)===$breaker?$breaker.$v:self},def.$to_proc=function(){var self=this;return self},def.$to_s=function(){var self=this;return"#<"+self.$class().$name()+":"+self._id+">"},def.$freeze=function(){var self=this;return self.___frozen___=!0,self},def["$frozen?"]=function(){var $a,self=this;return null==self.___frozen___&&(self.___frozen___=nil),($a=self.___frozen___)!==!1&&$a!==nil?$a:!1},def["$respond_to_missing?"]=function(){return!1},$opal.donate(self,["$method_missing","$=~","$===","$<=>","$method","$methods","$Array","$caller","$class","$copy_instance_variables","$clone","$initialize_clone","$define_singleton_method","$dup","$initialize_dup","$enum_for","$equal?","$extend","$format","$hash","$initialize_copy","$inspect","$instance_of?","$instance_variable_defined?","$instance_variable_get","$instance_variable_set","$instance_variables","$Integer","$Float","$is_a?","$kind_of?","$lambda","$loop","$nil?","$object_id","$printf","$private_methods","$proc","$puts","$p","$print","$warn","$raise","$fail","$rand","$srand","$respond_to?","$send","$public_send","$singleton_class","$sprintf","$String","$tap","$to_proc","$to_s","$freeze","$frozen?","$respond_to_missing?"])}(self)}(Opal),function($opal){var self=$opal.top,$scope=$opal,nil=$opal.nil,$klass=($opal.breaker,$opal.slice,$opal.klass);return $opal.add_stubs(["$raise"]),function($base,$super){function $NilClass(){}var self=$NilClass=$klass($base,$super,"NilClass",$NilClass),def=$NilClass._proto,$scope=$NilClass._scope;return def["$&"]=function(){return!1},def["$|"]=function(other){return other!==!1&&other!==nil},def["$^"]=function(other){return other!==!1&&other!==nil},def["$=="]=function(other){return other===nil},def.$dup=function(){var self=this;return self.$raise($scope.TypeError)},def.$inspect=function(){return"nil"},def["$nil?"]=function(){return!0},def.$singleton_class=function(){return $scope.NilClass},def.$to_a=function(){return[]},def.$to_h=function(){return $opal.hash()},def.$to_i=function(){return 0},$opal.defn(self,"$to_f",def.$to_i),def.$to_s=function(){return""},def.$object_id=function(){return $scope.NilClass._id||($scope.NilClass._id=$opal.uid())},$opal.defn(self,"$hash",def.$object_id)}(self,null),$opal.cdecl($scope,"NIL",nil)}(Opal),function($opal){var self=$opal.top,$scope=$opal,nil=$opal.nil,$klass=($opal.breaker,$opal.slice,$opal.klass);return $opal.add_stubs(["$undef_method"]),function($base,$super){function $Boolean(){}{var self=$Boolean=$klass($base,$super,"Boolean",$Boolean),def=$Boolean._proto;$Boolean._scope}return def._isBoolean=!0,function(self){self._scope,self._proto;return self.$undef_method("new")}(self.$singleton_class()),def["$&"]=function(other){var self=this;return 1==self?other!==!1&&other!==nil:!1},def["$|"]=function(other){var self=this;return 1==self?!0:other!==!1&&other!==nil},def["$^"]=function(other){var self=this;return 1==self?other===!1||other===nil:other!==!1&&other!==nil},def["$=="]=function(other){var self=this;return 1==self===other.valueOf()},$opal.defn(self,"$equal?",def["$=="]),$opal.defn(self,"$singleton_class",def.$class),def.$to_s=function(){var self=this;return 1==self?"true":"false"},nil}(self,null),$opal.cdecl($scope,"TrueClass",$scope.Boolean),$opal.cdecl($scope,"FalseClass",$scope.Boolean),$opal.cdecl($scope,"TRUE",!0),$opal.cdecl($scope,"FALSE",!1)}(Opal),function($opal){var self=$opal.top,$scope=$opal,nil=$opal.nil,$klass=($opal.breaker,$opal.slice,$opal.klass),$module=$opal.module;return $opal.add_stubs(["$attr_reader","$name","$class"]),function($base,$super){function $Exception(){}{var self=$Exception=$klass($base,$super,"Exception",$Exception),def=$Exception._proto;$Exception._scope}return def.message=nil,self.$attr_reader("message"),$opal.defs(self,"$new",function(message){var self=this;null==message&&(message="");var err=new Error(message);return err._klass=self,err.name=self._name,err}),def.$backtrace=function(){var self=this,backtrace=self.stack;return"string"==typeof backtrace?backtrace.split("\n").slice(0,15):backtrace?backtrace.slice(0,15):[]},def.$inspect=function(){var self=this;return"#<"+self.$class().$name()+": '"+self.message+"'>"},$opal.defn(self,"$to_s",def.$message)}(self,null),function($base,$super){function $StandardError(){}$StandardError=$klass($base,$super,"StandardError",$StandardError),$StandardError._proto,$StandardError._scope;return nil}(self,$scope.Exception),function($base,$super){function $SystemCallError(){}$SystemCallError=$klass($base,$super,"SystemCallError",$SystemCallError),$SystemCallError._proto,$SystemCallError._scope;return nil}(self,$scope.StandardError),function($base,$super){function $NameError(){}$NameError=$klass($base,$super,"NameError",$NameError),$NameError._proto,$NameError._scope;return nil}(self,$scope.StandardError),function($base,$super){function $NoMethodError(){}$NoMethodError=$klass($base,$super,"NoMethodError",$NoMethodError),$NoMethodError._proto,$NoMethodError._scope;return nil}(self,$scope.NameError),function($base,$super){function $RuntimeError(){}$RuntimeError=$klass($base,$super,"RuntimeError",$RuntimeError),$RuntimeError._proto,$RuntimeError._scope;return nil}(self,$scope.StandardError),function($base,$super){function $LocalJumpError(){}$LocalJumpError=$klass($base,$super,"LocalJumpError",$LocalJumpError),$LocalJumpError._proto,$LocalJumpError._scope;return nil}(self,$scope.StandardError),function($base,$super){function $TypeError(){}$TypeError=$klass($base,$super,"TypeError",$TypeError),$TypeError._proto,$TypeError._scope;return nil}(self,$scope.StandardError),function($base,$super){function $ArgumentError(){}$ArgumentError=$klass($base,$super,"ArgumentError",$ArgumentError),$ArgumentError._proto,$ArgumentError._scope;return nil}(self,$scope.StandardError),function($base,$super){function $IndexError(){}$IndexError=$klass($base,$super,"IndexError",$IndexError),$IndexError._proto,$IndexError._scope;return nil}(self,$scope.StandardError),function($base,$super){function $StopIteration(){}$StopIteration=$klass($base,$super,"StopIteration",$StopIteration),$StopIteration._proto,$StopIteration._scope;return nil}(self,$scope.IndexError),function($base,$super){function $KeyError(){}$KeyError=$klass($base,$super,"KeyError",$KeyError),$KeyError._proto,$KeyError._scope;return nil}(self,$scope.IndexError),function($base,$super){function $RangeError(){}$RangeError=$klass($base,$super,"RangeError",$RangeError),$RangeError._proto,$RangeError._scope;return nil}(self,$scope.StandardError),function($base,$super){function $FloatDomainError(){}$FloatDomainError=$klass($base,$super,"FloatDomainError",$FloatDomainError),$FloatDomainError._proto,$FloatDomainError._scope;return nil}(self,$scope.RangeError),function($base,$super){function $IOError(){}$IOError=$klass($base,$super,"IOError",$IOError),$IOError._proto,$IOError._scope;return nil}(self,$scope.StandardError),function($base,$super){function $ScriptError(){}$ScriptError=$klass($base,$super,"ScriptError",$ScriptError),$ScriptError._proto,$ScriptError._scope;return nil}(self,$scope.Exception),function($base,$super){function $SyntaxError(){}$SyntaxError=$klass($base,$super,"SyntaxError",$SyntaxError),$SyntaxError._proto,$SyntaxError._scope;return nil}(self,$scope.ScriptError),function($base,$super){function $NotImplementedError(){}$NotImplementedError=$klass($base,$super,"NotImplementedError",$NotImplementedError),$NotImplementedError._proto,$NotImplementedError._scope;return nil}(self,$scope.ScriptError),function($base,$super){function $SystemExit(){}$SystemExit=$klass($base,$super,"SystemExit",$SystemExit),$SystemExit._proto,$SystemExit._scope;return nil}(self,$scope.Exception),function($base){var self=$module($base,"Errno"),$scope=(self._proto,self._scope);!function($base,$super){function $EINVAL(){}{var TMP_1,self=$EINVAL=$klass($base,$super,"EINVAL",$EINVAL);$EINVAL._proto,$EINVAL._scope}return $opal.defs(self,"$new",TMP_1=function(){{var self=this;TMP_1._p}return TMP_1._p=null,$opal.find_super_dispatcher(self,"new",TMP_1,null,$EINVAL).apply(self,["Invalid argument"])}),nil}(self,$scope.SystemCallError)}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$slice=($opal.breaker,$opal.slice),$klass=$opal.klass,$gvars=$opal.gvars;return $opal.add_stubs(["$respond_to?","$to_str","$to_s","$coerce_to","$new","$raise","$class"]),function($base,$super){function $Regexp(){}var self=$Regexp=$klass($base,$super,"Regexp",$Regexp),def=$Regexp._proto,$scope=$Regexp._scope;return def._isRegexp=!0,$opal.defs(self,"$escape",function(string){return string.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\^\$\| ]/g,"\\$&")}),$opal.defs(self,"$union",function(parts){return parts=$slice.call(arguments,0),new RegExp(parts.join(""))}),$opal.defs(self,"$new",function(regexp,options){return new RegExp(regexp,options)}),def["$=="]=function(other){var self=this;return other.constructor==RegExp&&self.toString()===other.toString()},def["$==="]=function(str){var $a,$b,self=this;return $b=null==str._isString,($a=$b!==!1&&$b!==nil?str["$respond_to?"]("to_str"):$b)!==!1&&$a!==nil&&(str=str.$to_str()),($a=null==str._isString)!=!1&&$a!==nil?!1:self.test(str)},def["$=~"]=function(string){var $a,self=this;if(($a=string===nil)!=!1&&$a!==nil)return $gvars["~"]=$gvars["`"]=$gvars["'"]=nil,nil;string=$scope.Opal.$coerce_to(string,$scope.String,"to_str").$to_s();var re=self;re.global?re.lastIndex=0:re=new RegExp(re.source,"g"+(re.multiline?"m":"")+(re.ignoreCase?"i":""));var result=re.exec(string);return $gvars["~"]=result?$scope.MatchData.$new(re,result):$gvars["`"]=$gvars["'"]=nil,result?result.index:nil},$opal.defn(self,"$eql?",def["$=="]),def.$inspect=function(){var self=this;return self.toString()},def.$match=function(string){var $a,self=this;if(($a=string===nil)!=!1&&$a!==nil)return $gvars["~"]=$gvars["`"]=$gvars["'"]=nil,nil;($a=null==string._isString)!=!1&&$a!==nil&&((($a=string["$respond_to?"]("to_str"))===!1||$a===nil)&&self.$raise($scope.TypeError,"no implicit conversion of "+string.$class()+" into String"),string=string.$to_str());var re=self;re.global?re.lastIndex=0:re=new RegExp(re.source,"g"+(re.multiline?"m":"")+(re.ignoreCase?"i":""));var result=re.exec(string);return $gvars["~"]=result?$scope.MatchData.$new(re,result):$gvars["`"]=$gvars["'"]=nil},def.$source=function(){var self=this;return self.source},$opal.defn(self,"$to_s",def.$source)}(self,null)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$module=($opal.breaker,$opal.slice,$opal.module);return $opal.add_stubs(["$===","$>","$<","$equal?","$<=>","$==","$normalize","$raise","$class","$>=","$<="]),function($base){var self=$module($base,"Comparable"),def=self._proto,$scope=self._scope;$opal.defs(self,"$normalize",function(what){var $a;return($a=$scope.Integer["$==="](what))!==!1&&$a!==nil?what:what["$>"](0)?1:what["$<"](0)?-1:0}),def["$=="]=function(other){var $a,self=this,cmp=nil;try{return($a=self["$equal?"](other))!==!1&&$a!==nil?!0:($a=cmp=self["$<=>"](other))===!1||$a===nil?!1:$scope.Comparable.$normalize(cmp)["$=="](0)}catch($err){if($scope.StandardError["$==="]($err))return!1;throw $err}},def["$>"]=function(other){var $a,self=this,cmp=nil;return(($a=cmp=self["$<=>"](other))===!1||$a===nil)&&self.$raise($scope.ArgumentError,"comparison of "+self.$class()+" with "+other.$class()+" failed"),$scope.Comparable.$normalize(cmp)["$>"](0)},def["$>="]=function(other){var $a,self=this,cmp=nil;return(($a=cmp=self["$<=>"](other))===!1||$a===nil)&&self.$raise($scope.ArgumentError,"comparison of "+self.$class()+" with "+other.$class()+" failed"),$scope.Comparable.$normalize(cmp)["$>="](0)},def["$<"]=function(other){var $a,self=this,cmp=nil;return(($a=cmp=self["$<=>"](other))===!1||$a===nil)&&self.$raise($scope.ArgumentError,"comparison of "+self.$class()+" with "+other.$class()+" failed"),$scope.Comparable.$normalize(cmp)["$<"](0)},def["$<="]=function(other){var $a,self=this,cmp=nil;return(($a=cmp=self["$<=>"](other))===!1||$a===nil)&&self.$raise($scope.ArgumentError,"comparison of "+self.$class()+" with "+other.$class()+" failed"),$scope.Comparable.$normalize(cmp)["$<="](0)},def["$between?"]=function(min,max){var self=this;return self["$<"](min)?!1:self["$>"](max)?!1:!0},$opal.donate(self,["$==","$>","$>=","$<","$<=","$between?"])}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$breaker=$opal.breaker,$slice=$opal.slice,$module=$opal.module;return $opal.add_stubs(["$raise","$enum_for","$==","$destructure","$nil?","$coerce_to!","$coerce_to","$===","$new","$<<","$[]","$[]=","$inspect","$__send__","$yield","$enumerator_size","$respond_to?","$size","$private","$compare","$<=>","$dup","$map","$sort","$call","$first"]),function($base){var TMP_1,TMP_2,TMP_3,TMP_4,TMP_5,TMP_6,TMP_7,TMP_8,TMP_9,TMP_10,TMP_11,TMP_12,TMP_13,TMP_14,TMP_15,TMP_16,TMP_17,TMP_18,TMP_19,TMP_21,TMP_22,TMP_23,TMP_24,TMP_25,TMP_26,TMP_27,TMP_28,TMP_29,TMP_30,TMP_31,TMP_33,TMP_34,TMP_38,TMP_39,self=$module($base,"Enumerable"),def=self._proto,$scope=self._scope;def["$all?"]=TMP_1=function(){var $a,self=this,$iter=TMP_1._p,block=$iter||nil;TMP_1._p=null;var result=!0;return self.$each._p=block!==nil?function(){var value=$opal.$yieldX(block,arguments);return value===$breaker?(result=$breaker.$v,$breaker):($a=value)===!1||$a===nil?(result=!1,$breaker):void 0}:function(obj){return 1==arguments.length&&($a=obj)===!1||$a===nil?(result=!1,$breaker):void 0},self.$each(),result},def["$any?"]=TMP_2=function(){var $a,self=this,$iter=TMP_2._p,block=$iter||nil;TMP_2._p=null;var result=!1;return self.$each._p=block!==nil?function(){var value=$opal.$yieldX(block,arguments);return value===$breaker?(result=$breaker.$v,$breaker):($a=value)!==!1&&$a!==nil?(result=!0,$breaker):void 0}:function(obj){return 1!=arguments.length||($a=obj)!==!1&&$a!==nil?(result=!0,$breaker):void 0},self.$each(),result},def.$chunk=TMP_3=function(){{var self=this;TMP_3._p}return TMP_3._p=null,self.$raise($scope.NotImplementedError)},def.$collect=TMP_4=function(){var self=this,$iter=TMP_4._p,block=$iter||nil;if(TMP_4._p=null,block===nil)return self.$enum_for("collect");var result=[];return self.$each._p=function(){var value=$opal.$yieldX(block,arguments);return value===$breaker?(result=$breaker.$v,$breaker):void result.push(value)},self.$each(),result},def.$collect_concat=TMP_5=function(){{var self=this;TMP_5._p}return TMP_5._p=null,self.$raise($scope.NotImplementedError)},def.$count=TMP_6=function(object){var $a,self=this,$iter=TMP_6._p,block=$iter||nil;TMP_6._p=null;var result=0;return null!=object?block=function(){return $scope.Opal.$destructure(arguments)["$=="](object)}:block===nil&&(block=function(){return!0}),self.$each._p=function(){var value=$opal.$yieldX(block,arguments);return value===$breaker?(result=$breaker.$v,$breaker):void(($a=value)!==!1&&$a!==nil&&result++)},self.$each(),result},def.$cycle=TMP_7=function(n){var $a,self=this,$iter=TMP_7._p,block=$iter||nil;if(null==n&&(n=nil),TMP_7._p=null,($a=block)===!1||$a===nil)return self.$enum_for("cycle",n);if((($a=n["$nil?"]())===!1||$a===nil)&&(n=$scope.Opal["$coerce_to!"](n,$scope.Integer,"to_int"),($a=0>=n)!=!1&&$a!==nil))return nil;var result,all=[];if(self.$each._p=function(){var param=$scope.Opal.$destructure(arguments),value=$opal.$yield1(block,param);return value===$breaker?(result=$breaker.$v,$breaker):void all.push(param)},self.$each(),void 0!==result)return result;if(0===all.length)return nil;if(($a=n["$nil?"]())!==!1&&$a!==nil)for(;;)for(var i=0,length=all.length;length>i;i++){var value=$opal.$yield1(block,all[i]);if(value===$breaker)return $breaker.$v}else for(;n>1;){for(var i=0,length=all.length;length>i;i++){var value=$opal.$yield1(block,all[i]);if(value===$breaker)return $breaker.$v}n--}},def.$detect=TMP_8=function(ifnone){var $a,self=this,$iter=TMP_8._p,block=$iter||nil;if(TMP_8._p=null,block===nil)return self.$enum_for("detect",ifnone);var result=void 0;return self.$each._p=function(){var params=$scope.Opal.$destructure(arguments),value=$opal.$yield1(block,params);return value===$breaker?(result=$breaker.$v,$breaker):($a=value)!==!1&&$a!==nil?(result=params,$breaker):void 0},self.$each(),void 0===result&&void 0!==ifnone&&(result="function"==typeof ifnone?ifnone():ifnone),void 0===result?nil:result},def.$drop=function(number){var $a,self=this;number=$scope.Opal.$coerce_to(number,$scope.Integer,"to_int"),($a=0>number)!=!1&&$a!==nil&&self.$raise($scope.ArgumentError,"attempt to drop negative size");var result=[],current=0;return self.$each._p=function(){current>=number&&result.push($scope.Opal.$destructure(arguments)),current++},self.$each(),result},def.$drop_while=TMP_9=function(){var $a,self=this,$iter=TMP_9._p,block=$iter||nil;if(TMP_9._p=null,block===nil)return self.$enum_for("drop_while");var result=[],dropping=!0;return self.$each._p=function(){var param=$scope.Opal.$destructure(arguments);if(dropping){var value=$opal.$yield1(block,param);if(value===$breaker)return result=$breaker.$v,$breaker;(($a=value)===!1||$a===nil)&&(dropping=!1,result.push(param))}else result.push(param)},self.$each(),result},def.$each_cons=TMP_10=function(){{var self=this;TMP_10._p}return TMP_10._p=null,self.$raise($scope.NotImplementedError)},def.$each_entry=TMP_11=function(){{var self=this;TMP_11._p}return TMP_11._p=null,self.$raise($scope.NotImplementedError)},def.$each_slice=TMP_12=function(n){var $a,self=this,$iter=TMP_12._p,block=$iter||nil;if(TMP_12._p=null,n=$scope.Opal.$coerce_to(n,$scope.Integer,"to_int"),($a=0>=n)!=!1&&$a!==nil&&self.$raise($scope.ArgumentError,"invalid slice size"),block===nil)return self.$enum_for("each_slice",n);var result,slice=[];return self.$each._p=function(){var param=$scope.Opal.$destructure(arguments);if(slice.push(param),slice.length===n){if(block(slice)===$breaker)return result=$breaker.$v,$breaker;slice=[]}},self.$each(),void 0!==result?result:slice.length>0&&block(slice)===$breaker?$breaker.$v:nil},def.$each_with_index=TMP_13=function(args){var $a,self=this,$iter=TMP_13._p,block=$iter||nil;if(args=$slice.call(arguments,0),TMP_13._p=null,block===nil)return($a=self).$enum_for.apply($a,["each_with_index"].concat(args));var result,index=0;return self.$each._p=function(){var param=$scope.Opal.$destructure(arguments),value=block(param,index);return value===$breaker?(result=$breaker.$v,$breaker):void index++},self.$each.apply(self,args),void 0!==result?result:self},def.$each_with_object=TMP_14=function(object){var self=this,$iter=TMP_14._p,block=$iter||nil;if(TMP_14._p=null,block===nil)return self.$enum_for("each_with_object",object);var result;return self.$each._p=function(){var param=$scope.Opal.$destructure(arguments),value=block(param,object);return value===$breaker?(result=$breaker.$v,$breaker):void 0},self.$each(),void 0!==result?result:object},def.$entries=function(args){var self=this;args=$slice.call(arguments,0);var result=[];return self.$each._p=function(){result.push($scope.Opal.$destructure(arguments))},self.$each.apply(self,args),result},$opal.defn(self,"$find",def.$detect),def.$find_all=TMP_15=function(){var $a,self=this,$iter=TMP_15._p,block=$iter||nil;if(TMP_15._p=null,block===nil)return self.$enum_for("find_all");var result=[];return self.$each._p=function(){var param=$scope.Opal.$destructure(arguments),value=$opal.$yield1(block,param);return value===$breaker?(result=$breaker.$v,$breaker):void(($a=value)!==!1&&$a!==nil&&result.push(param))},self.$each(),result},def.$find_index=TMP_16=function(object){var $a,self=this,$iter=TMP_16._p,block=$iter||nil;if(TMP_16._p=null,($a=void 0===object&&block===nil)!=!1&&$a!==nil)return self.$enum_for("find_index");var result=nil,index=0;return null!=object?self.$each._p=function(){var param=$scope.Opal.$destructure(arguments);return param["$=="](object)?(result=index,$breaker):void(index+=1)}:block!==nil&&(self.$each._p=function(){var value=$opal.$yieldX(block,arguments);return value===$breaker?(result=$breaker.$v,$breaker):($a=value)!==!1&&$a!==nil?(result=index,$breaker):void(index+=1)}),self.$each(),result},def.$first=function(number){var $a,self=this,result=nil;if(($a=void 0===number)!=!1&&$a!==nil)result=nil,self.$each._p=function(){return result=$scope.Opal.$destructure(arguments),$breaker},self.$each();else{if(result=[],number=$scope.Opal.$coerce_to(number,$scope.Integer,"to_int"),($a=0>number)!=!1&&$a!==nil&&self.$raise($scope.ArgumentError,"attempt to take negative size"),($a=0==number)!=!1&&$a!==nil)return[];var current=0,number=$scope.Opal.$coerce_to(number,$scope.Integer,"to_int");self.$each._p=function(){return result.push($scope.Opal.$destructure(arguments)),number<=++current?$breaker:void 0},self.$each()}return result},$opal.defn(self,"$flat_map",def.$collect_concat),def.$grep=TMP_17=function(pattern){var $a,self=this,$iter=TMP_17._p,block=$iter||nil;TMP_17._p=null;var result=[];return self.$each._p=block!==nil?function(){var param=$scope.Opal.$destructure(arguments),value=pattern["$==="](param);if(($a=value)!==!1&&$a!==nil){if(value=$opal.$yield1(block,param),value===$breaker)return result=$breaker.$v,$breaker;result.push(value)}}:function(){var param=$scope.Opal.$destructure(arguments),value=pattern["$==="](param);($a=value)!==!1&&$a!==nil&&result.push(param)},self.$each(),result},def.$group_by=TMP_18=function(){var $a,$b,$c,self=this,$iter=TMP_18._p,block=$iter||nil,hash=nil;if(TMP_18._p=null,block===nil)return self.$enum_for("group_by");hash=$scope.Hash.$new();var result;return self.$each._p=function(){var param=$scope.Opal.$destructure(arguments),value=$opal.$yield1(block,param);return value===$breaker?(result=$breaker.$v,$breaker):($a=value,$b=hash,($c=$b["$[]"]($a))!==!1&&$c!==nil?$c:$b["$[]="]($a,[])["$<<"](param),void 0)},self.$each(),void 0!==result?result:hash},def["$include?"]=function(obj){var self=this,result=!1;return self.$each._p=function(){var param=$scope.Opal.$destructure(arguments);return param["$=="](obj)?(result=!0,$breaker):void 0},self.$each(),result},def.$inject=TMP_19=function(object,sym){var self=this,$iter=TMP_19._p,block=$iter||nil;TMP_19._p=null;var result=object;return block!==nil&&void 0===sym?self.$each._p=function(){var value=$scope.Opal.$destructure(arguments);return void 0===result?void(result=value):(value=$opal.$yieldX(block,[result,value]),value===$breaker?(result=$breaker.$v,$breaker):void(result=value))}:(void 0===sym&&($scope.Symbol["$==="](object)||self.$raise($scope.TypeError,""+object.$inspect()+" is not a Symbol"),sym=object,result=void 0),self.$each._p=function(){var value=$scope.Opal.$destructure(arguments);return void 0===result?void(result=value):void(result=result.$__send__(sym,value))}),self.$each(),result},def.$lazy=function(){var $a,$b,TMP_20,self=this;return($a=($b=$scope.Enumerator._scope.Lazy).$new,$a._p=(TMP_20=function(enum$,args){{var $a;TMP_20._s||this}return null==enum$&&(enum$=nil),args=$slice.call(arguments,1),($a=enum$).$yield.apply($a,[].concat(args))},TMP_20._s=self,TMP_20),$a).call($b,self,self.$enumerator_size())},def.$enumerator_size=function(){var $a,self=this;return($a=self["$respond_to?"]("size"))!==!1&&$a!==nil?self.$size():nil},self.$private("enumerator_size"),$opal.defn(self,"$map",def.$collect),def.$max=TMP_21=function(){var self=this,$iter=TMP_21._p,block=$iter||nil;TMP_21._p=null;var result;return self.$each._p=block!==nil?function(){var param=$scope.Opal.$destructure(arguments);if(void 0===result)return void(result=param);var value=block(param,result);return value===$breaker?(result=$breaker.$v,$breaker):(value===nil&&self.$raise($scope.ArgumentError,"comparison failed"),void(value>0&&(result=param)))}:function(){var param=$scope.Opal.$destructure(arguments);return void 0===result?void(result=param):void($scope.Opal.$compare(param,result)>0&&(result=param))},self.$each(),void 0===result?nil:result},def.$max_by=TMP_22=function(){var $a,self=this,$iter=TMP_22._p,block=$iter||nil;if(TMP_22._p=null,($a=block)===!1||$a===nil)return self.$enum_for("max_by");var result,by;return self.$each._p=function(){var param=$scope.Opal.$destructure(arguments),value=$opal.$yield1(block,param);return void 0===result?(result=param,void(by=value)):value===$breaker?(result=$breaker.$v,$breaker):void(value["$<=>"](by)>0&&(result=param,by=value))},self.$each(),void 0===result?nil:result},$opal.defn(self,"$member?",def["$include?"]),def.$min=TMP_23=function(){var self=this,$iter=TMP_23._p,block=$iter||nil;TMP_23._p=null;var result;return self.$each._p=block!==nil?function(){var param=$scope.Opal.$destructure(arguments);if(void 0===result)return void(result=param);var value=block(param,result);return value===$breaker?(result=$breaker.$v,$breaker):(value===nil&&self.$raise($scope.ArgumentError,"comparison failed"),void(0>value&&(result=param)))}:function(){var param=$scope.Opal.$destructure(arguments);return void 0===result?void(result=param):void($scope.Opal.$compare(param,result)<0&&(result=param))},self.$each(),void 0===result?nil:result},def.$min_by=TMP_24=function(){var $a,self=this,$iter=TMP_24._p,block=$iter||nil;if(TMP_24._p=null,($a=block)===!1||$a===nil)return self.$enum_for("min_by");var result,by;return self.$each._p=function(){var param=$scope.Opal.$destructure(arguments),value=$opal.$yield1(block,param);return void 0===result?(result=param,void(by=value)):value===$breaker?(result=$breaker.$v,$breaker):void(value["$<=>"](by)<0&&(result=param,by=value))},self.$each(),void 0===result?nil:result},def.$minmax=TMP_25=function(){{var self=this;TMP_25._p}return TMP_25._p=null,self.$raise($scope.NotImplementedError)},def.$minmax_by=TMP_26=function(){{var self=this;TMP_26._p}return TMP_26._p=null,self.$raise($scope.NotImplementedError)},def["$none?"]=TMP_27=function(){var $a,self=this,$iter=TMP_27._p,block=$iter||nil;TMP_27._p=null;var result=!0;return self.$each._p=block!==nil?function(){var value=$opal.$yieldX(block,arguments);return value===$breaker?(result=$breaker.$v,$breaker):($a=value)!==!1&&$a!==nil?(result=!1,$breaker):void 0}:function(){var value=$scope.Opal.$destructure(arguments);return($a=value)!==!1&&$a!==nil?(result=!1,$breaker):void 0},self.$each(),result},def["$one?"]=TMP_28=function(){var $a,self=this,$iter=TMP_28._p,block=$iter||nil;TMP_28._p=null;var result=!1;return self.$each._p=block!==nil?function(){var value=$opal.$yieldX(block,arguments);if(value===$breaker)return result=$breaker.$v,$breaker;if(($a=value)!==!1&&$a!==nil){if(result===!0)return result=!1,$breaker;result=!0}}:function(){var value=$scope.Opal.$destructure(arguments);if(($a=value)!==!1&&$a!==nil){if(result===!0)return result=!1,$breaker;result=!0}},self.$each(),result},def.$partition=TMP_29=function(){{var self=this;TMP_29._p}return TMP_29._p=null,self.$raise($scope.NotImplementedError)},$opal.defn(self,"$reduce",def.$inject),def.$reverse_each=TMP_30=function(){{var self=this;TMP_30._p}return TMP_30._p=null,self.$raise($scope.NotImplementedError)},$opal.defn(self,"$select",def.$find_all),def.$slice_before=TMP_31=function(pattern){var $a,$b,TMP_32,self=this,$iter=TMP_31._p,block=$iter||nil;return TMP_31._p=null,($a=void 0===pattern&&block===nil||arguments.length>1)!=!1&&$a!==nil&&self.$raise($scope.ArgumentError,"wrong number of arguments ("+arguments.length+" for 1)"),($a=($b=$scope.Enumerator).$new,$a._p=(TMP_32=function(e){var $a,self=TMP_32._s||this;null==e&&(e=nil);var slice=[];self.$each._p=block!==nil?void 0===pattern?function(){var param=$scope.Opal.$destructure(arguments),value=$opal.$yield1(block,param);($a=value)!==!1&&$a!==nil&&slice.length>0&&(e["$<<"](slice),slice=[]),slice.push(param)}:function(){var param=$scope.Opal.$destructure(arguments),value=block(param,pattern.$dup());($a=value)!==!1&&$a!==nil&&slice.length>0&&(e["$<<"](slice),slice=[]),slice.push(param)}:function(){var param=$scope.Opal.$destructure(arguments),value=pattern["$==="](param);($a=value)!==!1&&$a!==nil&&slice.length>0&&(e["$<<"](slice),slice=[]),slice.push(param)},self.$each(),slice.length>0&&e["$<<"](slice)},TMP_32._s=self,TMP_32),$a).call($b)},def.$sort=TMP_33=function(){{var self=this;TMP_33._p}return TMP_33._p=null,self.$raise($scope.NotImplementedError)},def.$sort_by=TMP_34=function(){var $a,$b,TMP_35,$c,$d,TMP_36,$e,$f,TMP_37,self=this,$iter=TMP_34._p,block=$iter||nil;return TMP_34._p=null,block===nil?self.$enum_for("sort_by"):($a=($b=($c=($d=($e=($f=self).$map,$e._p=(TMP_37=function(){TMP_37._s||this;return arg=$scope.Opal.$destructure(arguments),[block.$call(arg),arg]},TMP_37._s=self,TMP_37),$e).call($f)).$sort,$c._p=(TMP_36=function(a,b){TMP_36._s||this;return null==a&&(a=nil),null==b&&(b=nil),a["$[]"](0)["$<=>"](b["$[]"](0))},TMP_36._s=self,TMP_36),$c).call($d)).$map,$a._p=(TMP_35=function(arg){TMP_35._s||this;return null==arg&&(arg=nil),arg[1]},TMP_35._s=self,TMP_35),$a).call($b)},def.$take=function(num){var self=this;return self.$first(num)},def.$take_while=TMP_38=function(){var $a,self=this,$iter=TMP_38._p,block=$iter||nil;if(TMP_38._p=null,($a=block)===!1||$a===nil)return self.$enum_for("take_while");var result=[];return self.$each._p=function(){var param=$scope.Opal.$destructure(arguments),value=$opal.$yield1(block,param);return value===$breaker?(result=$breaker.$v,$breaker):($a=value)===!1||$a===nil?$breaker:void result.push(param)},self.$each(),result},$opal.defn(self,"$to_a",def.$entries),def.$zip=TMP_39=function(lists){{var self=this;
TMP_39._p}return lists=$slice.call(arguments,0),TMP_39._p=null,self.$raise($scope.NotImplementedError)},$opal.donate(self,["$all?","$any?","$chunk","$collect","$collect_concat","$count","$cycle","$detect","$drop","$drop_while","$each_cons","$each_entry","$each_slice","$each_with_index","$each_with_object","$entries","$find","$find_all","$find_index","$first","$flat_map","$grep","$group_by","$include?","$inject","$lazy","$enumerator_size","$map","$max","$max_by","$member?","$min","$min_by","$minmax","$minmax_by","$none?","$one?","$partition","$reduce","$reverse_each","$select","$slice_before","$sort","$sort_by","$take","$take_while","$to_a","$zip"])}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$breaker=$opal.breaker,$slice=$opal.slice,$klass=$opal.klass;return $opal.add_stubs(["$include","$allocate","$new","$to_proc","$coerce_to","$__send__","$===","$call","$enum_for","$destructure","$name","$class","$inspect","$empty?","$+","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),function($base,$super){function $Enumerator(){}var TMP_1,TMP_2,TMP_3,TMP_4,self=$Enumerator=$klass($base,$super,"Enumerator",$Enumerator),def=$Enumerator._proto,$scope=$Enumerator._scope;return def.size=def.object=def.method=def.args=nil,self.$include($scope.Enumerable),$opal.defs(self,"$for",TMP_1=function(object,method,args){var self=this,$iter=TMP_1._p,block=$iter||nil;args=$slice.call(arguments,2),null==method&&(method="each"),TMP_1._p=null;var obj=self.$allocate();return obj.object=object,obj.size=block,obj.method=method,obj.args=args,obj}),def.$initialize=TMP_2=function(){var $a,$b,self=this,$iter=TMP_2._p,block=$iter||nil;return TMP_2._p=null,block!==!1&&block!==nil?(self.object=($a=($b=$scope.Generator).$new,$a._p=block.$to_proc(),$a).call($b),self.method="each",self.args=[],self.size=arguments[0]||nil,($a=self.size)!==!1&&$a!==nil?self.size=$scope.Opal.$coerce_to(self.size,$scope.Integer,"to_int"):nil):(self.object=arguments[0],self.method=arguments[1]||"each",self.args=$slice.call(arguments,2),self.size=nil)},def.$each=TMP_3=function(){var $a,$b,self=this,$iter=TMP_3._p,block=$iter||nil;return TMP_3._p=null,($a=block)===!1||$a===nil?self:($a=($b=self.object).$__send__,$a._p=block.$to_proc(),$a).apply($b,[self.method].concat(self.args))},def.$size=function(){var $a,self=this;return($a=$scope.Proc["$==="](self.size))!==!1&&$a!==nil?($a=self.size).$call.apply($a,[].concat(self.args)):self.size},def.$with_index=TMP_4=function(offset){var $a,self=this,$iter=TMP_4._p,block=$iter||nil;if(null==offset&&(offset=0),TMP_4._p=null,offset=offset!==!1&&offset!==nil?$scope.Opal.$coerce_to(offset,$scope.Integer,"to_int"):0,($a=block)===!1||$a===nil)return self.$enum_for("with_index",offset);var result;return self.$each._p=function(){var param=$scope.Opal.$destructure(arguments),value=block(param,index);return value===$breaker?(result=$breaker.$v,$breaker):void index++},self.$each(),void 0!==result?result:void 0},$opal.defn(self,"$with_object",def.$each_with_object),def.$inspect=function(){var $a,self=this,result=nil;return result="#<"+self.$class().$name()+": "+self.object.$inspect()+":"+self.method,(($a=self.args["$empty?"]())===!1||$a===nil)&&(result=result["$+"]("("+self.args.$inspect()["$[]"]($scope.Range.$new(1,-2))+")")),result["$+"](">")},function($base,$super){function $Generator(){}var TMP_5,TMP_6,self=$Generator=$klass($base,$super,"Generator",$Generator),def=$Generator._proto,$scope=$Generator._scope;return def.block=nil,self.$include($scope.Enumerable),def.$initialize=TMP_5=function(){var $a,self=this,$iter=TMP_5._p,block=$iter||nil;return TMP_5._p=null,(($a=block)===!1||$a===nil)&&self.$raise($scope.LocalJumpError,"no block given"),self.block=block},def.$each=TMP_6=function(args){var $a,$b,self=this,$iter=TMP_6._p,block=$iter||nil,yielder=nil;args=$slice.call(arguments,0),TMP_6._p=null,yielder=($a=($b=$scope.Yielder).$new,$a._p=block.$to_proc(),$a).call($b);try{if(args.unshift(yielder),$opal.$yieldX(self.block,args)===$breaker)return $breaker.$v}catch(e){if(e===$breaker)return $breaker.$v;throw e}return self},nil}(self,null),function($base,$super){function $Yielder(){}{var TMP_7,def=($Yielder=$klass($base,$super,"Yielder",$Yielder),$Yielder._proto);$Yielder._scope}return def.block=nil,def.$initialize=TMP_7=function(){var self=this,$iter=TMP_7._p,block=$iter||nil;return TMP_7._p=null,self.block=block},def.$yield=function(values){var self=this;values=$slice.call(arguments,0);var value=$opal.$yieldX(self.block,values);if(value===$breaker)throw $breaker;return value},def["$<<"]=function(values){var $a,self=this;return values=$slice.call(arguments,0),($a=self).$yield.apply($a,[].concat(values)),self},nil}(self,null),function($base,$super){function $Lazy(){}var TMP_8,TMP_11,TMP_13,TMP_18,TMP_20,TMP_21,TMP_23,TMP_26,TMP_29,self=$Lazy=$klass($base,$super,"Lazy",$Lazy),def=$Lazy._proto,$scope=$Lazy._scope;return def.enumerator=nil,function($base,$super){function $StopLazyError(){}$StopLazyError=$klass($base,$super,"StopLazyError",$StopLazyError),$StopLazyError._proto,$StopLazyError._scope;return nil}(self,$scope.Exception),def.$initialize=TMP_8=function(object,size){var TMP_9,self=this,$iter=TMP_8._p,block=$iter||nil;return null==size&&(size=nil),TMP_8._p=null,block===nil&&self.$raise($scope.ArgumentError,"tried to call lazy new without a block"),self.enumerator=object,$opal.find_super_dispatcher(self,"initialize",TMP_8,(TMP_9=function(yielder,each_args){var $a,$b,TMP_10,self=TMP_9._s||this;null==yielder&&(yielder=nil),each_args=$slice.call(arguments,1);try{return($a=($b=object).$each,$a._p=(TMP_10=function(args){TMP_10._s||this;return args=$slice.call(arguments,0),args.unshift(yielder),$opal.$yieldX(block,args)===$breaker?$breaker:void 0},TMP_10._s=self,TMP_10),$a).apply($b,[].concat(each_args))}catch($err){if($scope.Exception["$==="]($err))return nil;throw $err}},TMP_9._s=self,TMP_9)).apply(self,[size])},$opal.defn(self,"$force",def.$to_a),def.$lazy=function(){var self=this;return self},def.$collect=TMP_11=function(){var $a,$b,TMP_12,self=this,$iter=TMP_11._p,block=$iter||nil;return TMP_11._p=null,(($a=block)===!1||$a===nil)&&self.$raise($scope.ArgumentError,"tried to call lazy map without a block"),($a=($b=$scope.Lazy).$new,$a._p=(TMP_12=function(enum$,args){TMP_12._s||this;null==enum$&&(enum$=nil),args=$slice.call(arguments,1);var value=$opal.$yieldX(block,args);return value===$breaker?$breaker:void enum$.$yield(value)},TMP_12._s=self,TMP_12),$a).call($b,self,self.$enumerator_size())},def.$collect_concat=TMP_13=function(){var $a,$b,TMP_14,self=this,$iter=TMP_13._p,block=$iter||nil;return TMP_13._p=null,(($a=block)===!1||$a===nil)&&self.$raise($scope.ArgumentError,"tried to call lazy map without a block"),($a=($b=$scope.Lazy).$new,$a._p=(TMP_14=function(enum$,args){var $a,$b,TMP_15,$c,TMP_16,self=TMP_14._s||this;null==enum$&&(enum$=nil),args=$slice.call(arguments,1);var value=$opal.$yieldX(block,args);if(value===$breaker)return $breaker;if(value["$respond_to?"]("force")&&value["$respond_to?"]("each"))($a=($b=value).$each,$a._p=(TMP_15=function(v){TMP_15._s||this;return null==v&&(v=nil),enum$.$yield(v)},TMP_15._s=self,TMP_15),$a).call($b);else{var array=$scope.Opal.$try_convert(value,$scope.Array,"to_ary");array===nil?enum$.$yield(value):($a=($c=value).$each,$a._p=(TMP_16=function(v){TMP_16._s||this;return null==v&&(v=nil),enum$.$yield(v)},TMP_16._s=self,TMP_16),$a).call($c)}},TMP_14._s=self,TMP_14),$a).call($b,self,nil)},def.$drop=function(n){var $a,$b,TMP_17,self=this,current_size=nil,set_size=nil,dropped=nil;return n=$scope.Opal.$coerce_to(n,$scope.Integer,"to_int"),n["$<"](0)&&self.$raise($scope.ArgumentError,"attempt to drop negative size"),current_size=self.$enumerator_size(),set_size=function(){return($a=$scope.Integer["$==="](current_size))!==!1&&$a!==nil&&n["$<"](current_size)?n:current_size}(),dropped=0,($a=($b=$scope.Lazy).$new,$a._p=(TMP_17=function(enum$,args){{var $a;TMP_17._s||this}return null==enum$&&(enum$=nil),args=$slice.call(arguments,1),dropped["$<"](n)?dropped=dropped["$+"](1):($a=enum$).$yield.apply($a,[].concat(args))},TMP_17._s=self,TMP_17),$a).call($b,self,set_size)},def.$drop_while=TMP_18=function(){var $a,$b,TMP_19,self=this,$iter=TMP_18._p,block=$iter||nil,succeeding=nil;return TMP_18._p=null,(($a=block)===!1||$a===nil)&&self.$raise($scope.ArgumentError,"tried to call lazy drop_while without a block"),succeeding=!0,($a=($b=$scope.Lazy).$new,$a._p=(TMP_19=function(enum$,args){{var $a,$b;TMP_19._s||this}if(null==enum$&&(enum$=nil),args=$slice.call(arguments,1),succeeding===!1||succeeding===nil)return($b=enum$).$yield.apply($b,[].concat(args));var value=$opal.$yieldX(block,args);return value===$breaker?$breaker:void((($a=value)===!1||$a===nil)&&(succeeding=!1,($a=enum$).$yield.apply($a,[].concat(args))))},TMP_19._s=self,TMP_19),$a).call($b,self,nil)},def.$enum_for=TMP_20=function(method,args){var $a,$b,self=this,$iter=TMP_20._p,block=$iter||nil;return args=$slice.call(arguments,1),null==method&&(method="each"),TMP_20._p=null,($a=($b=self.$class()).$for,$a._p=block.$to_proc(),$a).apply($b,[self,method].concat(args))},def.$find_all=TMP_21=function(){var $a,$b,TMP_22,self=this,$iter=TMP_21._p,block=$iter||nil;return TMP_21._p=null,(($a=block)===!1||$a===nil)&&self.$raise($scope.ArgumentError,"tried to call lazy select without a block"),($a=($b=$scope.Lazy).$new,$a._p=(TMP_22=function(enum$,args){{var $a;TMP_22._s||this}null==enum$&&(enum$=nil),args=$slice.call(arguments,1);var value=$opal.$yieldX(block,args);return value===$breaker?$breaker:void(($a=value)!==!1&&$a!==nil&&($a=enum$).$yield.apply($a,[].concat(args)))},TMP_22._s=self,TMP_22),$a).call($b,self,nil)},$opal.defn(self,"$flat_map",def.$collect_concat),def.$grep=TMP_23=function(pattern){var $a,$b,TMP_24,$c,TMP_25,self=this,$iter=TMP_23._p,block=$iter||nil;return TMP_23._p=null,block!==!1&&block!==nil?($a=($b=$scope.Lazy).$new,$a._p=(TMP_24=function(enum$,args){{var $a;TMP_24._s||this}null==enum$&&(enum$=nil),args=$slice.call(arguments,1);var param=$scope.Opal.$destructure(args),value=pattern["$==="](param);if(($a=value)!==!1&&$a!==nil){if(value=$opal.$yield1(block,param),value===$breaker)return $breaker;enum$.$yield($opal.$yield1(block,param))}},TMP_24._s=self,TMP_24),$a).call($b,self,nil):($a=($c=$scope.Lazy).$new,$a._p=(TMP_25=function(enum$,args){{var $a;TMP_25._s||this}null==enum$&&(enum$=nil),args=$slice.call(arguments,1);var param=$scope.Opal.$destructure(args),value=pattern["$==="](param);($a=value)!==!1&&$a!==nil&&enum$.$yield(param)},TMP_25._s=self,TMP_25),$a).call($c,self,nil)},$opal.defn(self,"$map",def.$collect),$opal.defn(self,"$select",def.$find_all),def.$reject=TMP_26=function(){var $a,$b,TMP_27,self=this,$iter=TMP_26._p,block=$iter||nil;return TMP_26._p=null,(($a=block)===!1||$a===nil)&&self.$raise($scope.ArgumentError,"tried to call lazy reject without a block"),($a=($b=$scope.Lazy).$new,$a._p=(TMP_27=function(enum$,args){{var $a;TMP_27._s||this}null==enum$&&(enum$=nil),args=$slice.call(arguments,1);var value=$opal.$yieldX(block,args);return value===$breaker?$breaker:void((($a=value)===!1||$a===nil)&&($a=enum$).$yield.apply($a,[].concat(args)))},TMP_27._s=self,TMP_27),$a).call($b,self,nil)},def.$take=function(n){var $a,$b,TMP_28,self=this,current_size=nil,set_size=nil,taken=nil;return n=$scope.Opal.$coerce_to(n,$scope.Integer,"to_int"),n["$<"](0)&&self.$raise($scope.ArgumentError,"attempt to take negative size"),current_size=self.$enumerator_size(),set_size=function(){return($a=$scope.Integer["$==="](current_size))!==!1&&$a!==nil&&n["$<"](current_size)?n:current_size}(),taken=0,($a=($b=$scope.Lazy).$new,$a._p=(TMP_28=function(enum$,args){var $a,self=TMP_28._s||this;return null==enum$&&(enum$=nil),args=$slice.call(arguments,1),taken["$<"](n)?(($a=enum$).$yield.apply($a,[].concat(args)),taken=taken["$+"](1)):self.$raise($scope.StopLazyError)},TMP_28._s=self,TMP_28),$a).call($b,self,set_size)},def.$take_while=TMP_29=function(){var $a,$b,TMP_30,self=this,$iter=TMP_29._p,block=$iter||nil;return TMP_29._p=null,(($a=block)===!1||$a===nil)&&self.$raise($scope.ArgumentError,"tried to call lazy take_while without a block"),($a=($b=$scope.Lazy).$new,$a._p=(TMP_30=function(enum$,args){var $a,self=TMP_30._s||this;null==enum$&&(enum$=nil),args=$slice.call(arguments,1);var value=$opal.$yieldX(block,args);return value===$breaker?$breaker:void(($a=value)!==!1&&$a!==nil?($a=enum$).$yield.apply($a,[].concat(args)):self.$raise($scope.StopLazyError))},TMP_30._s=self,TMP_30),$a).call($b,self,nil)},$opal.defn(self,"$to_enum",def.$enum_for),def.$inspect=function(){var self=this;return"#<"+self.$class().$name()+": "+self.enumerator.$inspect()+">"},nil}(self,self)}(self,null)}(Opal),function($opal){var self=$opal.top,$scope=$opal,nil=$opal.nil,$breaker=$opal.breaker,$slice=$opal.slice,$klass=$opal.klass,$range=$opal.range;return $opal.add_stubs(["$include","$new","$class","$raise","$===","$to_a","$respond_to?","$to_ary","$coerce_to","$==","$to_str","$clone","$hash","$<=>","$fits_fixnum!","$inspect","$empty?","$enum_for","$nil?","$coerce_to!","$initialize_clone","$initialize_dup","$replace","$eql?","$length","$begin","$end","$exclude_end?","$fits_array!","$flatten","$object_id","$[]","$to_s","$delete_if","$to_proc","$each","$reverse","$map","$rand","$keep_if","$shuffle!","$>","$<","$sort","$times","$[]=","$<<","$at","$allocate","$initialize","$__send__","$*","$slice","$uniq"]),function($base,$super){function $Array(){}var TMP_1,TMP_2,TMP_3,TMP_4,TMP_5,TMP_6,TMP_7,TMP_8,TMP_9,TMP_10,TMP_11,TMP_12,TMP_13,TMP_14,TMP_15,TMP_17,TMP_18,TMP_19,TMP_20,TMP_21,TMP_24,self=$Array=$klass($base,$super,"Array",$Array),def=$Array._proto,$scope=$Array._scope;return def.length=nil,self.$include($scope.Enumerable),def._isArray=!0,$opal.defs(self,"$inherited",function(klass){var replace=nil;replace=$scope.Class.$new($scope.Array._scope.Wrapper),klass._proto=replace._proto,klass._proto._klass=klass,klass._alloc=replace._alloc,klass.__parent=$scope.Array._scope.Wrapper,klass.$allocate=replace.$allocate,klass.$new=replace.$new,klass["$[]"]=replace["$[]"]}),$opal.defs(self,"$[]",function(objects){return objects=$slice.call(arguments,0)}),def.$initialize=function(args){var $a,self=this;return args=$slice.call(arguments,0),($a=self.$class()).$new.apply($a,[].concat(args))},$opal.defs(self,"$new",TMP_1=function(size,obj){var $a,self=this,$iter=TMP_1._p,block=$iter||nil;if(null==size&&(size=nil),null==obj&&(obj=nil),TMP_1._p=null,($a=arguments.length>2)!=!1&&$a!==nil&&self.$raise($scope.ArgumentError,"wrong number of arguments ("+arguments.length+" for 0..2)"),($a=0===arguments.length)!=!1&&$a!==nil)return[];if(($a=1===arguments.length)!=!1&&$a!==nil){if(($a=$scope.Array["$==="](size))!==!1&&$a!==nil)return size.$to_a();if(($a=size["$respond_to?"]("to_ary"))!==!1&&$a!==nil)return size.$to_ary()}size=$scope.Opal.$coerce_to(size,$scope.Integer,"to_int"),($a=0>size)!=!1&&$a!==nil&&self.$raise($scope.ArgumentError,"negative array size");var result=[];if(block===nil)for(var i=0;size>i;i++)result.push(obj);else for(var value,i=0;size>i;i++){if(value=block(i),value===$breaker)return $breaker.$v;result[i]=value}return result}),$opal.defs(self,"$try_convert",function(obj){var $a;return($a=$scope.Array["$==="](obj))!==!1&&$a!==nil?obj:($a=obj["$respond_to?"]("to_ary"))!==!1&&$a!==nil?obj.$to_ary():nil}),def["$&"]=function(other){var $a,self=this;other=($a=$scope.Array["$==="](other))!==!1&&$a!==nil?other.$to_a():$scope.Opal.$coerce_to(other,$scope.Array,"to_ary").$to_a();for(var result=[],seen={},i=0,length=self.length;length>i;i++){var item=self[i];if(!seen[item])for(var j=0,length2=other.length;length2>j;j++){var item2=other[j];!seen[item2]&&item["$=="](item2)&&(seen[item]=!0,result.push(item))}}return result},def["$*"]=function(other){var $a,self=this;if(($a=other["$respond_to?"]("to_str"))!==!1&&$a!==nil)return self.join(other.$to_str());(($a=other["$respond_to?"]("to_int"))===!1||$a===nil)&&self.$raise($scope.TypeError,"no implicit conversion of "+other.$class()+" into Integer"),other=$scope.Opal.$coerce_to(other,$scope.Integer,"to_int"),($a=0>other)!=!1&&$a!==nil&&self.$raise($scope.ArgumentError,"negative argument");for(var result=[],i=0;other>i;i++)result=result.concat(self);return result},def["$+"]=function(other){var $a,self=this;return other=($a=$scope.Array["$==="](other))!==!1&&$a!==nil?other.$to_a():$scope.Opal.$coerce_to(other,$scope.Array,"to_ary").$to_a(),self.concat(other)},def["$-"]=function(other){var $a,self=this;if(other=($a=$scope.Array["$==="](other))!==!1&&$a!==nil?other.$to_a():$scope.Opal.$coerce_to(other,$scope.Array,"to_ary").$to_a(),($a=0===self.length)!=!1&&$a!==nil)return[];if(($a=0===other.length)!=!1&&$a!==nil)return self.$clone();for(var seen={},result=[],i=0,length=other.length;length>i;i++)seen[other[i]]=!0;for(var i=0,length=self.length;length>i;i++){var item=self[i];seen[item]||result.push(item)}return result},def["$<<"]=function(object){var self=this;return self.push(object),self},def["$<=>"]=function(other){var $a,self=this;if(($a=$scope.Array["$==="](other))!==!1&&$a!==nil)other=other.$to_a();else{if(($a=other["$respond_to?"]("to_ary"))===!1||$a===nil)return nil;other=other.$to_ary().$to_a()}if(self.$hash()===other.$hash())return 0;if(self.length!=other.length)return self.length>other.length?1:-1;for(var i=0,length=self.length;length>i;i++){var tmp=self[i]["$<=>"](other[i]);if(0!==tmp)return tmp}return 0},def["$=="]=function(other){var $a,self=this;if(($a=self===other)!=!1&&$a!==nil)return!0;if(($a=$scope.Array["$==="](other))===!1||$a===nil)return($a=other["$respond_to?"]("to_ary"))===!1||$a===nil?!1:other["$=="](self);if(other=other.$to_a(),($a=self.length===other.length)==!1||$a===nil)return!1;for(var i=0,length=self.length;length>i;i++){var a=self[i],b=other[i];if(!(a._isArray&&b._isArray&&a===self||a["$=="](b)))return!1}return!0},def["$[]"]=function(index,length){var $a,self=this;if(($a=$scope.Range["$==="](index))!==!1&&$a!==nil){var size=self.length,exclude=index.exclude,from=$scope.Opal.$coerce_to(index.begin,$scope.Integer,"to_int"),to=$scope.Opal.$coerce_to(index.end,$scope.Integer,"to_int");return 0>from&&(from+=size,0>from)?nil:($scope.Opal["$fits_fixnum!"](from),from>size?nil:0>to&&(to+=size,0>to)?[]:($scope.Opal["$fits_fixnum!"](to),exclude||(to+=1),self.slice(from,to)))}index=$scope.Opal.$coerce_to(index,$scope.Integer,"to_int");var size=self.length;return 0>index&&(index+=size,0>index)?nil:($scope.Opal["$fits_fixnum!"](index),void 0===length?index>=size||0>index?nil:self[index]:(length=$scope.Opal.$coerce_to(length,$scope.Integer,"to_int"),$scope.Opal["$fits_fixnum!"](length),0>length||index>size||0>index?nil:self.slice(index,index+length)))},def["$[]="]=function(index,value,extra){var $a,self=this,data=nil,length=nil;if(($a=$scope.Range["$==="](index))!==!1&&$a!==nil){data=($a=$scope.Array["$==="](value))!==!1&&$a!==nil?value.$to_a():($a=value["$respond_to?"]("to_ary"))!==!1&&$a!==nil?value.$to_ary().$to_a():[value];var size=self.length,exclude=index.exclude,from=$scope.Opal.$coerce_to(index.begin,$scope.Integer,"to_int"),to=$scope.Opal.$coerce_to(index.end,$scope.Integer,"to_int");if(0>from&&(from+=size,0>from&&self.$raise($scope.RangeError,""+index.$inspect()+" out of range")),$scope.Opal["$fits_fixnum!"](from),0>to&&(to+=size),$scope.Opal["$fits_fixnum!"](to),exclude||(to+=1),from>size)for(var i=size;index>i;i++)self[i]=nil;return 0>to?self.splice.apply(self,[from,0].concat(data)):self.splice.apply(self,[from,to-from].concat(data)),value}($a=void 0===extra)!=!1&&$a!==nil?length=1:(length=value,value=extra,data=($a=$scope.Array["$==="](value))!==!1&&$a!==nil?value.$to_a():($a=value["$respond_to?"]("to_ary"))!==!1&&$a!==nil?value.$to_ary().$to_a():[value]);var old,size=self.length,index=$scope.Opal.$coerce_to(index,$scope.Integer,"to_int"),length=$scope.Opal.$coerce_to(length,$scope.Integer,"to_int");if(0>index&&(old=index,index+=size,0>index&&self.$raise($scope.IndexError,"index "+old+" too small for array; minimum "+-self.length)),$scope.Opal["$fits_fixnum!"](index),0>length&&self.$raise($scope.IndexError,"negative length ("+length+")"),$scope.Opal["$fits_fixnum!"](length),index>size)for(var i=size;index>i;i++)self[i]=nil;return void 0===extra?self[index]=value:self.splice.apply(self,[index,length].concat(data)),value},def.$assoc=function(object){for(var item,self=this,i=0,length=self.length;length>i;i++)if(item=self[i],item.length&&item[0]["$=="](object))return item;return nil},def.$at=function(index){var self=this;return index=$scope.Opal.$coerce_to(index,$scope.Integer,"to_int"),0>index&&(index+=self.length),0>index||index>=self.length?nil:self[index]},def.$cycle=TMP_2=function(n){var $a,$b,self=this,$iter=TMP_2._p,block=$iter||nil;if(null==n&&(n=nil),TMP_2._p=null,($a=($b=self["$empty?"]())!==!1&&$b!==nil?$b:n["$=="](0))!==!1&&$a!==nil)return nil;if(($a=block)===!1||$a===nil)return self.$enum_for("cycle",n);if(($a=n["$nil?"]())!==!1&&$a!==nil)for(;;)for(var i=0,length=self.length;length>i;i++){var value=$opal.$yield1(block,self[i]);if(value===$breaker)return $breaker.$v}else{if(n=$scope.Opal["$coerce_to!"](n,$scope.Integer,"to_int"),0>=n)return self;for(;n>0;){for(var i=0,length=self.length;length>i;i++){var value=$opal.$yield1(block,self[i]);if(value===$breaker)return $breaker.$v}n--}}return self},def.$clear=function(){var self=this;return self.splice(0,self.length),self},def.$clone=function(){var self=this,copy=nil;return copy=[],copy.$initialize_clone(self),copy},def.$dup=function(){var self=this,copy=nil;return copy=[],copy.$initialize_dup(self),copy},def.$initialize_copy=function(other){var self=this;return self.$replace(other)},def.$collect=TMP_3=function(){var self=this,$iter=TMP_3._p,block=$iter||nil;if(TMP_3._p=null,block===nil)return self.$enum_for("collect");for(var result=[],i=0,length=self.length;length>i;i++){var value=Opal.$yield1(block,self[i]);if(value===$breaker)return $breaker.$v;result.push(value)}return result},def["$collect!"]=TMP_4=function(){var self=this,$iter=TMP_4._p,block=$iter||nil;if(TMP_4._p=null,block===nil)return self.$enum_for("collect!");for(var i=0,length=self.length;length>i;i++){var value=Opal.$yield1(block,self[i]);if(value===$breaker)return $breaker.$v;self[i]=value}return self},def.$compact=function(){for(var item,self=this,result=[],i=0,length=self.length;length>i;i++)(item=self[i])!==nil&&result.push(item);return result},def["$compact!"]=function(){for(var self=this,original=self.length,i=0,length=self.length;length>i;i++)self[i]===nil&&(self.splice(i,1),length--,i--);return self.length===original?nil:self},def.$concat=function(other){var $a,self=this;other=($a=$scope.Array["$==="](other))!==!1&&$a!==nil?other.$to_a():$scope.Opal.$coerce_to(other,$scope.Array,"to_ary").$to_a();for(var i=0,length=other.length;length>i;i++)self.push(other[i]);return self},def.$delete=function(object){for(var self=this,original=self.length,i=0,length=original;length>i;i++)self[i]["$=="](object)&&(self.splice(i,1),length--,i--);return self.length===original?nil:object},def.$delete_at=function(index){var self=this;if(0>index&&(index+=self.length),0>index||index>=self.length)return nil;var result=self[index];return self.splice(index,1),result},def.$delete_if=TMP_5=function(){var self=this,$iter=TMP_5._p,block=$iter||nil;if(TMP_5._p=null,block===nil)return self.$enum_for("delete_if");for(var value,i=0,length=self.length;length>i;i++){if((value=block(self[i]))===$breaker)return $breaker.$v;value!==!1&&value!==nil&&(self.splice(i,1),length--,i--)}return self},def.$drop=function(number){var self=this;return 0>number&&self.$raise($scope.ArgumentError),self.slice(number)},$opal.defn(self,"$dup",def.$clone),def.$each=TMP_6=function(){var self=this,$iter=TMP_6._p,block=$iter||nil;if(TMP_6._p=null,block===nil)return self.$enum_for("each");for(var i=0,length=self.length;length>i;i++){var value=$opal.$yield1(block,self[i]);if(value==$breaker)return $breaker.$v}return self},def.$each_index=TMP_7=function(){var self=this,$iter=TMP_7._p,block=$iter||nil;if(TMP_7._p=null,block===nil)return self.$enum_for("each_index");for(var i=0,length=self.length;length>i;i++){var value=$opal.$yield1(block,i);if(value===$breaker)return $breaker.$v}return self},def["$empty?"]=function(){var self=this;return 0===self.length},def["$eql?"]=function(other){var $a,self=this;if(($a=self===other)!=!1&&$a!==nil)return!0;if(($a=$scope.Array["$==="](other))===!1||$a===nil)return!1;if(other=other.$to_a(),($a=self.length===other.length)==!1||$a===nil)return!1;for(var i=0,length=self.length;length>i;i++){var a=self[i],b=other[i];if(!(a._isArray&&b._isArray&&a===self||a["$eql?"](b)))return!1}return!0},def.$fetch=TMP_8=function(index,defaults){var self=this,$iter=TMP_8._p,block=$iter||nil;TMP_8._p=null;var original=index;return 0>index&&(index+=self.length),index>=0&&index<self.length?self[index]:block!==nil?block(original):null!=defaults?defaults:void(0===self.length?self.$raise($scope.IndexError,"index "+original+" outside of array bounds: 0...0"):self.$raise($scope.IndexError,"index "+original+" outside of array bounds: -"+self.length+"..."+self.length))},def.$fill=TMP_9=function(args){var $a,self=this,$iter=TMP_9._p,block=$iter||nil,one=nil,two=nil,obj=nil,left=nil,right=nil;if(args=$slice.call(arguments,0),TMP_9._p=null,block!==!1&&block!==nil?(($a=args.length>2)!=!1&&$a!==nil&&self.$raise($scope.ArgumentError,"wrong number of arguments ("+args.$length()+" for 0..2)"),$a=$opal.to_ary(args),one=null==$a[0]?nil:$a[0],two=null==$a[1]?nil:$a[1]):(($a=0==args.length)!=!1&&$a!==nil?self.$raise($scope.ArgumentError,"wrong number of arguments (0 for 1..3)"):($a=args.length>3)!=!1&&$a!==nil&&self.$raise($scope.ArgumentError,"wrong number of arguments ("+args.$length()+" for 1..3)"),$a=$opal.to_ary(args),obj=null==$a[0]?nil:$a[0],one=null==$a[1]?nil:$a[1],two=null==$a[2]?nil:$a[2]),($a=$scope.Range["$==="](one))!==!1&&$a!==nil){if(two!==!1&&two!==nil&&self.$raise($scope.TypeError,"length invalid with range"),left=$scope.Opal.$coerce_to(one.$begin(),$scope.Integer,"to_int"),($a=0>left)!=!1&&$a!==nil&&(left+=self.length),($a=0>left)!=!1&&$a!==nil&&self.$raise($scope.RangeError,""+one.$inspect()+" out of range"),right=$scope.Opal.$coerce_to(one.$end(),$scope.Integer,"to_int"),($a=0>right)!=!1&&$a!==nil&&(right+=self.length),(($a=one["$exclude_end?"]())===!1||$a===nil)&&(right+=1),($a=left>=right)!=!1&&$a!==nil)return self}else if(one!==!1&&one!==nil)if(left=$scope.Opal.$coerce_to(one,$scope.Integer,"to_int"),($a=0>left)!=!1&&$a!==nil&&(left+=self.length),($a=0>left)!=!1&&$a!==nil&&(left=0),two!==!1&&two!==nil){if(right=$scope.Opal.$coerce_to(two,$scope.Integer,"to_int"),($a=0==right)!=!1&&$a!==nil)return self;right+=left}else right=self.length;else left=0,right=self.length;if($scope.Opal["$fits_fixnum!"](right),$scope.Opal["$fits_array!"](right),($a=left>self.length)!=!1&&$a!==nil)for(var i=self.length;right>i;i++)self[i]=nil;if(($a=right>self.length)!=!1&&$a!==nil&&(self.length=right),block!==!1&&block!==nil){for(self.length;right>left;left++){var value=block(left);if(value===$breaker)return $breaker.$v;self[left]=value}}else{for(self.length;right>left;left++)self[left]=obj}return self},def.$first=function(count){var self=this;return null!=count?(0>count&&self.$raise($scope.ArgumentError),self.slice(0,count)):0===self.length?nil:self[0]},def.$flatten=function(level){for(var self=this,result=[],i=0,length=self.length;length>i;i++){var item=self[i];item["$respond_to?"]("to_ary")?(item=item.$to_ary(),null==level?result.push.apply(result,item.$flatten().$to_a()):0==level?result.push(item):result.push.apply(result,item.$flatten(level-1).$to_a())):result.push(item)}return result},def["$flatten!"]=function(level){var self=this,flattened=self.$flatten(level);if(self.length==flattened.length){for(var i=0,length=self.length;length>i&&self[i]===flattened[i];i++);if(i==length)return nil}return self.$replace(flattened),self},def.$hash=function(){var self=this;return self._id||(self._id=Opal.uid())},def["$include?"]=function(member){for(var self=this,i=0,length=self.length;length>i;i++)if(self[i]["$=="](member))return!0;return!1},def.$index=TMP_10=function(object){var self=this,$iter=TMP_10._p,block=$iter||nil;if(TMP_10._p=null,null!=object){for(var i=0,length=self.length;length>i;i++)if(self[i]["$=="](object))return i}else{if(block===nil)return self.$enum_for("index");for(var value,i=0,length=self.length;length>i;i++){if((value=block(self[i]))===$breaker)return $breaker.$v;if(value!==!1&&value!==nil)return i}}return nil},def.$insert=function(index,objects){var self=this;if(objects=$slice.call(arguments,1),objects.length>0){if(0>index&&(index+=self.length+1,0>index&&self.$raise($scope.IndexError,""+index+" is out of bounds")),index>self.length)for(var i=self.length;index>i;i++)self.push(nil);self.splice.apply(self,[index,0].concat(objects))}return self},def.$inspect=function(){var i,inspect,el,el_insp,length,object_id,self=this;for(inspect=[],object_id=self.$object_id(),length=self.length,i=0;length>i;i++)el=self["$[]"](i),el_insp=el.$object_id()===object_id?"[...]":el.$inspect(),inspect.push(el_insp);return"["+inspect.join(", ")+"]"},def.$join=function(sep){var self=this;null==sep&&(sep="");for(var result=[],i=0,length=self.length;length>i;i++)result.push(self[i].$to_s());return result.join(sep)},def.$keep_if=TMP_11=function(){var self=this,$iter=TMP_11._p,block=$iter||nil;if(TMP_11._p=null,block===nil)return self.$enum_for("keep_if");for(var value,i=0,length=self.length;length>i;i++){if((value=block(self[i]))===$breaker)return $breaker.$v;(value===!1||value===nil)&&(self.splice(i,1),length--,i--)}return self},def.$last=function(count){var self=this,length=self.length;return(count===nil||"string"==typeof count)&&self.$raise($scope.TypeError,"no implicit conversion to integer"),"object"==typeof count&&(count["$respond_to?"]("to_int")?count=count.$to_int():self.$raise($scope.TypeError,"no implicit conversion to integer")),null==count?0===length?nil:self[length-1]:(0>count&&self.$raise($scope.ArgumentError,"negative count given"),count>length&&(count=length),self.slice(length-count,length))},def.$length=function(){var self=this;return self.length},$opal.defn(self,"$map",def.$collect),$opal.defn(self,"$map!",def["$collect!"]),def.$pop=function(count){var self=this,length=self.length;return null==count?0===length?nil:self.pop():(0>count&&self.$raise($scope.ArgumentError,"negative count given"),count>length?self.splice(0,self.length):self.splice(length-count,length))},def.$push=function(objects){var self=this;objects=$slice.call(arguments,0);for(var i=0,length=objects.length;length>i;i++)self.push(objects[i]);return self},def.$rassoc=function(object){for(var item,self=this,i=0,length=self.length;length>i;i++)if(item=self[i],item.length&&void 0!==item[1]&&item[1]["$=="](object))return item;return nil},def.$reject=TMP_12=function(){var self=this,$iter=TMP_12._p,block=$iter||nil;if(TMP_12._p=null,block===nil)return self.$enum_for("reject");for(var value,result=[],i=0,length=self.length;length>i;i++){if((value=block(self[i]))===$breaker)return $breaker.$v;(value===!1||value===nil)&&result.push(self[i])}return result},def["$reject!"]=TMP_13=function(){var $a,$b,self=this,$iter=TMP_13._p,block=$iter||nil;if(TMP_13._p=null,block===nil)return self.$enum_for("reject!");var original=self.length;return($a=($b=self).$delete_if,$a._p=block.$to_proc(),$a).call($b),self.length===original?nil:self},def.$replace=function(other){var $a,self=this;return other=($a=$scope.Array["$==="](other))!==!1&&$a!==nil?other.$to_a():$scope.Opal.$coerce_to(other,$scope.Array,"to_ary").$to_a(),self.splice(0,self.length),self.push.apply(self,other),self},def.$reverse=function(){var self=this;return self.slice(0).reverse()},def["$reverse!"]=function(){var self=this;return self.reverse()},def.$reverse_each=TMP_14=function(){var $a,$b,self=this,$iter=TMP_14._p,block=$iter||nil;return TMP_14._p=null,block===nil?self.$enum_for("reverse_each"):(($a=($b=self.$reverse()).$each,$a._p=block.$to_proc(),$a).call($b),self)
},def.$rindex=TMP_15=function(object){var self=this,$iter=TMP_15._p,block=$iter||nil;if(TMP_15._p=null,null!=object){for(var i=self.length-1;i>=0;i--)if(self[i]["$=="](object))return i}else if(block!==nil)for(var value,i=self.length-1;i>=0;i--){if((value=block(self[i]))===$breaker)return $breaker.$v;if(value!==!1&&value!==nil)return i}else if(null==object)return self.$enum_for("rindex");return nil},def.$sample=function(n){var $a,$b,$c,TMP_16,self=this;return null==n&&(n=nil),$c=n,$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?self["$empty?"]():$b)!==!1&&$a!==nil?nil:($a=($b=n!==!1&&n!==nil)?self["$empty?"]():$b)!==!1&&$a!==nil?[]:n!==!1&&n!==nil?($a=($b=$range(1,n,!1)).$map,$a._p=(TMP_16=function(){var self=TMP_16._s||this;return self["$[]"](self.$rand(self.$length()))},TMP_16._s=self,TMP_16),$a).call($b):self["$[]"](self.$rand(self.$length()))},def.$select=TMP_17=function(){var self=this,$iter=TMP_17._p,block=$iter||nil;if(TMP_17._p=null,block===nil)return self.$enum_for("select");for(var item,value,result=[],i=0,length=self.length;length>i;i++){if(item=self[i],(value=$opal.$yield1(block,item))===$breaker)return $breaker.$v;value!==!1&&value!==nil&&result.push(item)}return result},def["$select!"]=TMP_18=function(){var $a,$b,self=this,$iter=TMP_18._p,block=$iter||nil;if(TMP_18._p=null,block===nil)return self.$enum_for("select!");var original=self.length;return($a=($b=self).$keep_if,$a._p=block.$to_proc(),$a).call($b),self.length===original?nil:self},def.$shift=function(count){var self=this;return 0===self.length?nil:null==count?self.shift():self.splice(0,count)},$opal.defn(self,"$size",def.$length),def.$shuffle=function(){var self=this;return self.$clone()["$shuffle!"]()},def["$shuffle!"]=function(){for(var self=this,i=self.length-1;i>0;i--){var tmp=self[i],j=Math.floor(Math.random()*(i+1));self[i]=self[j],self[j]=tmp}return self},$opal.defn(self,"$slice",def["$[]"]),def["$slice!"]=function(index,length){var self=this;return 0>index&&(index+=self.length),null!=length?self.splice(index,length):0>index||index>=self.length?nil:self.splice(index,1)[0]},def.$sort=TMP_19=function(){var $a,self=this,$iter=TMP_19._p,block=$iter||nil;if(TMP_19._p=null,($a=self.length>1)==!1||$a===nil)return self;block===nil&&(block=function(a,b){return a["$<=>"](b)});try{return self.slice().sort(function(x,y){var ret=block(x,y);if(ret===$breaker)throw $breaker;return ret===nil&&self.$raise($scope.ArgumentError,"comparison of "+x.$inspect()+" with "+y.$inspect()+" failed"),ret["$>"](0)?1:ret["$<"](0)?-1:0})}catch(e){if(e===$breaker)return $breaker.$v;throw e}},def["$sort!"]=TMP_20=function(){var $a,$b,self=this,$iter=TMP_20._p,block=$iter||nil;TMP_20._p=null;var result;result=block!==nil?($a=($b=self.slice()).$sort,$a._p=block.$to_proc(),$a).call($b):self.slice().$sort(),self.length=0;for(var i=0,length=result.length;length>i;i++)self.push(result[i]);return self},def.$take=function(count){var self=this;return 0>count&&self.$raise($scope.ArgumentError),self.slice(0,count)},def.$take_while=TMP_21=function(){var self=this,$iter=TMP_21._p,block=$iter||nil;TMP_21._p=null;for(var item,value,result=[],i=0,length=self.length;length>i;i++){if(item=self[i],(value=block(item))===$breaker)return $breaker.$v;if(value===!1||value===nil)return result;result.push(item)}return result},def.$to_a=function(){var self=this;return self},$opal.defn(self,"$to_ary",def.$to_a),$opal.defn(self,"$to_s",def.$inspect),def.$transpose=function(){var $a,$b,TMP_22,self=this,result=nil,max=nil;return($a=self["$empty?"]())!==!1&&$a!==nil?[]:(result=[],max=nil,($a=($b=self).$each,$a._p=(TMP_22=function(row){var $a,$b,TMP_23,self=TMP_22._s||this;return null==row&&(row=nil),row=($a=$scope.Array["$==="](row))!==!1&&$a!==nil?row.$to_a():$scope.Opal.$coerce_to(row,$scope.Array,"to_ary").$to_a(),($a=max)!==!1&&$a!==nil?$a:max=row.length,$b=row.length["$=="](max),($a=$b===nil||$b===!1)!=!1&&$a!==nil&&self.$raise($scope.IndexError,"element size differs ("+row.length+" should be "+max),($a=($b=row.length).$times,$a._p=(TMP_23=function(i){var $a,$b,$c,entry=(TMP_23._s||this,nil);return null==i&&(i=nil),$a=i,$b=result,entry=($c=$b["$[]"]($a))!==!1&&$c!==nil?$c:$b["$[]="]($a,[]),entry["$<<"](row.$at(i))},TMP_23._s=self,TMP_23),$a).call($b)},TMP_22._s=self,TMP_22),$a).call($b),result)},def.$uniq=function(){for(var item,hash,self=this,result=[],seen={},i=0,length=self.length;length>i;i++)item=self[i],hash=item,seen[hash]||(seen[hash]=!0,result.push(item));return result},def["$uniq!"]=function(){for(var item,hash,self=this,original=self.length,seen={},i=0,length=original;length>i;i++)item=self[i],hash=item,seen[hash]?(self.splice(i,1),length--,i--):seen[hash]=!0;return self.length===original?nil:self},def.$unshift=function(objects){var self=this;objects=$slice.call(arguments,0);for(var i=objects.length-1;i>=0;i--)self.unshift(objects[i]);return self},def.$zip=TMP_24=function(others){var self=this,$iter=TMP_24._p,block=$iter||nil;others=$slice.call(arguments,0),TMP_24._p=null;for(var part,o,result=[],size=self.length,i=0;size>i;i++){part=[self[i]];for(var j=0,jj=others.length;jj>j;j++)o=others[j][i],null==o&&(o=nil),part[j+1]=o;result[i]=part}if(block!==nil){for(var i=0;size>i;i++)block(result[i]);return nil}return result},nil}(self,null),function($base,$super){function $Wrapper(){}var TMP_25,TMP_26,TMP_27,TMP_28,TMP_29,self=$Wrapper=$klass($base,$super,"Wrapper",$Wrapper),def=$Wrapper._proto,$scope=$Wrapper._scope;return def.literal=nil,$opal.defs(self,"$allocate",TMP_25=function(array){var self=this,obj=(TMP_25._p,nil);return null==array&&(array=[]),TMP_25._p=null,obj=$opal.find_super_dispatcher(self,"allocate",TMP_25,null,$Wrapper).apply(self,[]),obj.literal=array,obj}),$opal.defs(self,"$new",TMP_26=function(args){var $a,$b,self=this,$iter=TMP_26._p,block=$iter||nil,obj=nil;return args=$slice.call(arguments,0),TMP_26._p=null,obj=self.$allocate(),($a=($b=obj).$initialize,$a._p=block.$to_proc(),$a).apply($b,[].concat(args)),obj}),$opal.defs(self,"$[]",function(objects){var self=this;return objects=$slice.call(arguments,0),self.$allocate(objects)}),def.$initialize=TMP_27=function(args){var $a,$b,self=this,$iter=TMP_27._p,block=$iter||nil;return args=$slice.call(arguments,0),TMP_27._p=null,self.literal=($a=($b=$scope.Array).$new,$a._p=block.$to_proc(),$a).apply($b,[].concat(args))},def.$method_missing=TMP_28=function(args){var $a,$b,self=this,$iter=TMP_28._p,block=$iter||nil,result=nil;return args=$slice.call(arguments,0),TMP_28._p=null,result=($a=($b=self.literal).$__send__,$a._p=block.$to_proc(),$a).apply($b,[].concat(args)),($a=result===self.literal)!=!1&&$a!==nil?self:result},def.$initialize_copy=function(other){var self=this;return self.literal=other.literal.$clone()},def["$respond_to?"]=TMP_29=function(name){var $a,$zuper=$slice.call(arguments,0),self=this,$iter=TMP_29._p;return TMP_29._p=null,($a=$opal.find_super_dispatcher(self,"respond_to?",TMP_29,$iter).apply(self,$zuper))!==!1&&$a!==nil?$a:self.literal["$respond_to?"](name)},def["$=="]=function(other){var self=this;return self.literal["$=="](other)},def["$eql?"]=function(other){var self=this;return self.literal["$eql?"](other)},def.$to_a=function(){var self=this;return self.literal},def.$to_ary=function(){var self=this;return self},def.$inspect=function(){var self=this;return self.literal.$inspect()},def["$*"]=function(other){var self=this,result=self.literal["$*"](other);return result._isArray?self.$class().$allocate(result):result},def["$[]"]=function(index,length){var self=this,result=self.literal.$slice(index,length);return result._isArray&&(index._isRange||void 0!==length)?self.$class().$allocate(result):result},$opal.defn(self,"$slice",def["$[]"]),def.$uniq=function(){var self=this;return self.$class().$allocate(self.literal.$uniq())},def.$flatten=function(level){var self=this;return self.$class().$allocate(self.literal.$flatten(level))},nil}($scope.Array,null)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$breaker=$opal.breaker,$slice=$opal.slice,$klass=$opal.klass;return $opal.add_stubs(["$include","$==","$call","$enum_for","$raise","$flatten","$inspect","$alias_method","$clone"]),function($base,$super){function $Hash(){}var TMP_1,TMP_2,TMP_3,TMP_4,TMP_5,TMP_6,TMP_7,TMP_8,TMP_9,TMP_10,TMP_11,TMP_12,self=$Hash=$klass($base,$super,"Hash",$Hash),def=$Hash._proto,$scope=$Hash._scope;def.proc=def.none=nil,self.$include($scope.Enumerable);var $hasOwn={}.hasOwnProperty;return $opal.defs(self,"$[]",function(objs){return objs=$slice.call(arguments,0),$opal.hash.apply(null,objs)}),$opal.defs(self,"$allocate",function(){var self=this,hash=new self._alloc;return hash.map={},hash.keys=[],hash}),def.$initialize=TMP_1=function(defaults){var self=this,$iter=TMP_1._p,block=$iter||nil;return TMP_1._p=null,null!=defaults?self.none=defaults:block!==nil&&(self.proc=block),self},def["$=="]=function(other){var $a,self=this;if(self===other)return!0;if(!other.map||!other.keys)return!1;if(self.keys.length!==other.keys.length)return!1;for(var map=self.map,map2=other.map,i=0,length=self.keys.length;length>i;i++){var key=self.keys[i],obj=map[key],obj2=map2[key];if($a=obj["$=="](obj2),$a===nil||$a===!1)return!1}return!0},def["$[]"]=function(key){var self=this,map=self.map;if($hasOwn.call(map,key))return map[key];var proc=self.proc;return proc!==nil?proc.$call(self,key):self.none},def["$[]="]=function(key,value){var self=this,map=self.map;return $hasOwn.call(map,key)||self.keys.push(key),map[key]=value,value},def.$assoc=function(object){for(var key,self=this,keys=self.keys,i=0,length=keys.length;length>i;i++)if(key=keys[i],key["$=="](object))return[key,self.map[key]];return nil},def.$clear=function(){var self=this;return self.map={},self.keys=[],self},def.$clone=function(){for(var self=this,map={},keys=[],i=0,length=self.keys.length;length>i;i++){var key=self.keys[i],value=self.map[key];keys.push(key),map[key]=value}var hash=new self._klass._alloc;return hash.map=map,hash.keys=keys,hash.none=self.none,hash.proc=self.proc,hash},def.$default=function(){var self=this;return self.none},def["$default="]=function(object){var self=this;return self.none=object},def.$default_proc=function(){var self=this;return self.proc},def["$default_proc="]=function(proc){var self=this;return self.proc=proc},def.$delete=function(key){var self=this,map=self.map,result=map[key];return null!=result?(delete map[key],self.keys.$delete(key),result):nil},def.$delete_if=TMP_2=function(){var $a,self=this,$iter=TMP_2._p,block=$iter||nil;if(TMP_2._p=null,($a=block)===!1||$a===nil)return self.$enum_for("delete_if");for(var value,map=self.map,keys=self.keys,i=0,length=keys.length;length>i;i++){var key=keys[i],obj=map[key];if((value=block(key,obj))===$breaker)return $breaker.$v;value!==!1&&value!==nil&&(keys.splice(i,1),delete map[key],length--,i--)}return self},$opal.defn(self,"$dup",def.$clone),def.$each=TMP_3=function(){var $a,self=this,$iter=TMP_3._p,block=$iter||nil;if(TMP_3._p=null,($a=block)===!1||$a===nil)return self.$enum_for("each");for(var map=self.map,keys=self.keys,i=0,length=keys.length;length>i;i++){var key=keys[i],value=$opal.$yield1(block,[key,map[key]]);if(value===$breaker)return $breaker.$v}return self},def.$each_key=TMP_4=function(){var $a,self=this,$iter=TMP_4._p,block=$iter||nil;if(TMP_4._p=null,($a=block)===!1||$a===nil)return self.$enum_for("each_key");for(var keys=self.keys,i=0,length=keys.length;length>i;i++){var key=keys[i];if(block(key)===$breaker)return $breaker.$v}return self},$opal.defn(self,"$each_pair",def.$each),def.$each_value=TMP_5=function(){var $a,self=this,$iter=TMP_5._p,block=$iter||nil;if(TMP_5._p=null,($a=block)===!1||$a===nil)return self.$enum_for("each_value");for(var map=self.map,keys=self.keys,i=0,length=keys.length;length>i;i++)if(block(map[keys[i]])===$breaker)return $breaker.$v;return self},def["$empty?"]=function(){var self=this;return 0===self.keys.length},$opal.defn(self,"$eql?",def["$=="]),def.$fetch=TMP_6=function(key,defaults){var self=this,$iter=TMP_6._p,block=$iter||nil;TMP_6._p=null;var value=self.map[key];if(null!=value)return value;if(block!==nil){var value;return(value=block(key))===$breaker?$breaker.$v:value}return null!=defaults?defaults:void self.$raise($scope.KeyError,"key not found")},def.$flatten=function(level){for(var self=this,map=self.map,keys=self.keys,result=[],i=0,length=keys.length;length>i;i++){var key=keys[i],value=map[key];result.push(key),value._isArray?null==level||1===level?result.push(value):result=result.concat(value.$flatten(level-1)):result.push(value)}return result},def["$has_key?"]=function(key){var self=this;return $hasOwn.call(self.map,key)},def["$has_value?"]=function(value){var self=this;for(var assoc in self.map)if(self.map[assoc]["$=="](value))return!0;return!1},def.$hash=function(){var self=this;return self._id},$opal.defn(self,"$include?",def["$has_key?"]),def.$index=function(object){for(var self=this,map=self.map,keys=self.keys,i=0,length=keys.length;length>i;i++){var key=keys[i];if(map[key]["$=="](object))return key}return nil},def.$indexes=function(keys){var self=this;keys=$slice.call(arguments,0);for(var val,result=[],map=self.map,i=0,length=keys.length;length>i;i++){var key=keys[i],val=map[key];result.push(null!=val?val:self.none)}return result},$opal.defn(self,"$indices",def.$indexes),def.$inspect=function(){for(var self=this,inspect=[],keys=self.keys,map=self.map,i=0,length=keys.length;length>i;i++){var key=keys[i],val=map[key];inspect.push(val===self?key.$inspect()+"=>{...}":key.$inspect()+"=>"+map[key].$inspect())}return"{"+inspect.join(", ")+"}"},def.$invert=function(){for(var self=this,result=$opal.hash(),keys=self.keys,map=self.map,keys2=result.keys,map2=result.map,i=0,length=keys.length;length>i;i++){var key=keys[i],obj=map[key];keys2.push(obj),map2[obj]=key}return result},def.$keep_if=TMP_7=function(){var $a,self=this,$iter=TMP_7._p,block=$iter||nil;if(TMP_7._p=null,($a=block)===!1||$a===nil)return self.$enum_for("keep_if");for(var value,map=self.map,keys=self.keys,i=0,length=keys.length;length>i;i++){var key=keys[i],obj=map[key];if((value=block(key,obj))===$breaker)return $breaker.$v;(value===!1||value===nil)&&(keys.splice(i,1),delete map[key],length--,i--)}return self},$opal.defn(self,"$key",def.$index),$opal.defn(self,"$key?",def["$has_key?"]),def.$keys=function(){var self=this;return self.keys.slice(0)},def.$length=function(){var self=this;return self.keys.length},$opal.defn(self,"$member?",def["$has_key?"]),def.$merge=TMP_8=function(other){var self=this,$iter=TMP_8._p,block=$iter||nil;TMP_8._p=null;for(var keys=self.keys,map=self.map,result=$opal.hash(),keys2=result.keys,map2=result.map,i=0,length=keys.length;length>i;i++){var key=keys[i];keys2.push(key),map2[key]=map[key]}var keys=other.keys,map=other.map;if(block===nil)for(var i=0,length=keys.length;length>i;i++){var key=keys[i];null==map2[key]&&keys2.push(key),map2[key]=map[key]}else for(var i=0,length=keys.length;length>i;i++){var key=keys[i];null==map2[key]?(keys2.push(key),map2[key]=map[key]):map2[key]=block(key,map2[key],map[key])}return result},def["$merge!"]=TMP_9=function(other){var self=this,$iter=TMP_9._p,block=$iter||nil;TMP_9._p=null;var keys=self.keys,map=self.map,keys2=other.keys,map2=other.map;if(block===nil)for(var i=0,length=keys2.length;length>i;i++){var key=keys2[i];null==map[key]&&keys.push(key),map[key]=map2[key]}else for(var i=0,length=keys2.length;length>i;i++){var key=keys2[i];null==map[key]?(keys.push(key),map[key]=map2[key]):map[key]=block(key,map[key],map2[key])}return self},def.$rassoc=function(object){for(var self=this,keys=self.keys,map=self.map,i=0,length=keys.length;length>i;i++){var key=keys[i],obj=map[key];if(obj["$=="](object))return[key,obj]}return nil},def.$reject=TMP_10=function(){var $a,self=this,$iter=TMP_10._p,block=$iter||nil;if(TMP_10._p=null,($a=block)===!1||$a===nil)return self.$enum_for("reject");for(var keys=self.keys,map=self.map,result=$opal.hash(),map2=result.map,keys2=result.keys,i=0,length=keys.length;length>i;i++){var value,key=keys[i],obj=map[key];if((value=block(key,obj))===$breaker)return $breaker.$v;(value===!1||value===nil)&&(keys2.push(key),map2[key]=obj)}return result},def.$replace=function(other){for(var self=this,map=self.map={},keys=self.keys=[],i=0,length=other.keys.length;length>i;i++){var key=other.keys[i];keys.push(key),map[key]=other.map[key]}return self},def.$select=TMP_11=function(){var $a,self=this,$iter=TMP_11._p,block=$iter||nil;if(TMP_11._p=null,($a=block)===!1||$a===nil)return self.$enum_for("select");for(var keys=self.keys,map=self.map,result=$opal.hash(),map2=result.map,keys2=result.keys,i=0,length=keys.length;length>i;i++){var value,key=keys[i],obj=map[key];if((value=block(key,obj))===$breaker)return $breaker.$v;value!==!1&&value!==nil&&(keys2.push(key),map2[key]=obj)}return result},def["$select!"]=TMP_12=function(){var $a,self=this,$iter=TMP_12._p,block=$iter||nil;if(TMP_12._p=null,($a=block)===!1||$a===nil)return self.$enum_for("select!");for(var value,map=self.map,keys=self.keys,result=nil,i=0,length=keys.length;length>i;i++){var key=keys[i],obj=map[key];if((value=block(key,obj))===$breaker)return $breaker.$v;(value===!1||value===nil)&&(keys.splice(i,1),delete map[key],length--,i--,result=self)}return result},def.$shift=function(){var self=this,keys=self.keys,map=self.map;if(keys.length){var key=keys[0],obj=map[key];return delete map[key],keys.splice(0,1),[key,obj]}return nil},$opal.defn(self,"$size",def.$length),self.$alias_method("store","[]="),def.$to_a=function(){for(var self=this,keys=self.keys,map=self.map,result=[],i=0,length=keys.length;length>i;i++){var key=keys[i];result.push([key,map[key]])}return result},def.$to_h=function(){var self=this,hash=new Opal.Hash._alloc,cloned=self.$clone();return hash.map=cloned.map,hash.keys=cloned.keys,hash.none=cloned.none,hash.proc=cloned.proc,hash},def.$to_hash=function(){var self=this;return self},$opal.defn(self,"$to_s",def.$inspect),$opal.defn(self,"$update",def["$merge!"]),$opal.defn(self,"$value?",def["$has_value?"]),$opal.defn(self,"$values_at",def.$indexes),def.$values=function(){var self=this,map=self.map,result=[];for(var key in map)result.push(map[key]);return result},nil}(self,null)}(Opal),function($opal){var self=$opal.top,$scope=$opal,nil=$opal.nil,$breaker=$opal.breaker,$slice=$opal.slice,$klass=$opal.klass,$gvars=$opal.gvars;return $opal.add_stubs(["$include","$to_str","$===","$format","$coerce_to","$to_s","$respond_to?","$<=>","$raise","$=~","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$coerce_to!","$enum_for","$split","$chomp","$escape","$class","$to_i","$name","$each_line","$match","$to_proc","$new","$is_a?","$[]","$str","$value","$try_convert"]),function($base,$super){function $String(){}var TMP_1,TMP_2,TMP_3,TMP_4,TMP_5,TMP_6,self=$String=$klass($base,$super,"String",$String),def=$String._proto,$scope=$String._scope;return def.length=nil,self.$include($scope.Comparable),def._isString=!0,$opal.defs(self,"$try_convert",function(what){try{return what.$to_str()}catch($err){return nil}}),$opal.defs(self,"$new",function(str){return null==str&&(str=""),new String(str)}),def["$%"]=function(data){var $a,self=this;return($a=$scope.Array["$==="](data))!==!1&&$a!==nil?($a=self).$format.apply($a,[self].concat(data)):self.$format(self,data)},def["$*"]=function(count){var self=this;if(1>count)return"";for(var result="",pattern=self;count>0;)1&count&&(result+=pattern),count>>=1,pattern+=pattern;return result},def["$+"]=function(other){var self=this;return other=$scope.Opal.$coerce_to(other,$scope.String,"to_str"),self+other.$to_s()},def["$<=>"]=function(other){var $a,self=this;if(($a=other["$respond_to?"]("to_str"))!==!1&&$a!==nil)return other=other.$to_str().$to_s(),self>other?1:other>self?-1:0;var cmp=other["$<=>"](self);return cmp===nil?nil:cmp>0?-1:0>cmp?1:0},def["$=="]=function(other){var self=this;return!(!other._isString||self.valueOf()!==other.valueOf())},$opal.defn(self,"$===",def["$=="]),def["$=~"]=function(other){var self=this;return other._isString&&self.$raise($scope.TypeError,"type mismatch: String given"),other["$=~"](self)},def["$[]"]=function(index,length){var self=this,size=self.length;if(index._isRange){var exclude=index.exclude,length=index.end,index=index.begin;return 0>index&&(index+=size),0>length&&(length+=size),exclude||(length+=1),index>size?nil:(length-=index,0>length&&(length=0),self.substr(index,length))}return 0>index&&(index+=self.length),null==length?index>=self.length||0>index?nil:self.substr(index,1):index>self.length||0>index?nil:self.substr(index,length)},def.$capitalize=function(){var self=this;return self.charAt(0).toUpperCase()+self.substr(1).toLowerCase()},def.$casecmp=function(other){var self=this;return other=$scope.Opal.$coerce_to(other,$scope.String,"to_str").$to_s(),self.toLowerCase()["$<=>"](other.toLowerCase())},def.$center=function(width,padstr){var $a,self=this;if(null==padstr&&(padstr=" "),width=$scope.Opal.$coerce_to(width,$scope.Integer,"to_int"),padstr=$scope.Opal.$coerce_to(padstr,$scope.String,"to_str").$to_s(),($a=padstr["$empty?"]())!==!1&&$a!==nil&&self.$raise($scope.ArgumentError,"zero width padding"),($a=width<=self.length)!=!1&&$a!==nil)return self;var ljustified=self.$ljust(width["$+"](self.length)["$/"](2).$ceil(),padstr),rjustified=self.$rjust(width["$+"](self.length)["$/"](2).$floor(),padstr);return rjustified+ljustified.slice(self.length)},def.$chars=function(){var self=this;return self.$each_char().$to_a()},def.$chomp=function(separator){var $a,self=this;if(null==separator&&(separator=$gvars["/"]),($a=separator===nil||0===self.length)!=!1&&$a!==nil)return self;if(separator=$scope.Opal["$coerce_to!"](separator,$scope.String,"to_str").$to_s(),"\n"===separator)return self.replace(/\r?\n?$/,"");if(""===separator)return self.replace(/(\r?\n)+$/,"");if(self.length>separator.length){var tail=self.substr(-1*separator.length);if(tail===separator)return self.substr(0,self.length-separator.length)}return self},def.$chop=function(){var self=this,length=self.length;return 1>=length?"":"\n"===self.charAt(length-1)&&"\r"===self.charAt(length-2)?self.substr(0,length-2):self.substr(0,length-1)},def.$chr=function(){var self=this;return self.charAt(0)},def.$clone=function(){var self=this;return self.slice()},def.$count=function(str){var self=this;return(self.length-self.replace(new RegExp(str,"g"),"").length)/str.length},$opal.defn(self,"$dup",def.$clone),def.$downcase=function(){var self=this;return self.toLowerCase()},def.$each_char=TMP_1=function(){var $a,self=this,$iter=TMP_1._p,block=$iter||nil;if(TMP_1._p=null,block===nil)return self.$enum_for("each_char");for(var i=0,length=self.length;length>i;i++)($a=$opal.$yield1(block,self.charAt(i)))===$breaker?$breaker.$v:$a;return self},def.$each_line=TMP_2=function(separator){var $a,self=this,$iter=TMP_2._p,$yield=$iter||nil;if(null==separator&&(separator=$gvars["/"]),TMP_2._p=null,$yield===nil)return self.$split(separator);for(var chomped=self.$chomp(),trailing=self.length!=chomped.length,splitted=chomped.split(separator),i=0,length=splitted.length;length>i;i++)length-1>i||trailing?($a=$opal.$yield1($yield,splitted[i]+separator))===$breaker?$breaker.$v:$a:($a=$opal.$yield1($yield,splitted[i]))===$breaker?$breaker.$v:$a;return self},def["$empty?"]=function(){var self=this;return 0===self.length},def["$end_with?"]=function(suffixes){var self=this;suffixes=$slice.call(arguments,0);for(var i=0,length=suffixes.length;length>i;i++){var suffix=$scope.Opal.$coerce_to(suffixes[i],$scope.String,"to_str");if(self.length>=suffix.length&&self.substr(0-suffix.length)===suffix)return!0}return!1},$opal.defn(self,"$eql?",def["$=="]),$opal.defn(self,"$equal?",def["$==="]),def.$gsub=TMP_3=function(pattern,replace){var $a,$b,self=this,$iter=TMP_3._p,block=$iter||nil;TMP_3._p=null,($a=($b=$scope.String["$==="](pattern))!==!1&&$b!==nil?$b:pattern["$respond_to?"]("to_str"))!==!1&&$a!==nil&&(pattern=new RegExp(""+$scope.Regexp.$escape(pattern.$to_str()))),(($a=$scope.Regexp["$==="](pattern))===!1||$a===nil)&&self.$raise($scope.TypeError,"wrong argument type "+pattern.$class()+" (expected Regexp)");var pattern=pattern.toString(),options=pattern.substr(pattern.lastIndexOf("/")+1)+"g",regexp=pattern.substr(1,pattern.lastIndexOf("/")-1);return self.$sub._p=block,self.$sub(new RegExp(regexp,options),replace)},def.$hash=function(){var self=this;return self.toString()},def.$hex=function(){var self=this;return self.$to_i(16)},def["$include?"]=function(other){var $a,self=this;return other._isString?-1!==self.indexOf(other):((($a=other["$respond_to?"]("to_str"))===!1||$a===nil)&&self.$raise($scope.TypeError,"no implicit conversion of "+other.$class().$name()+" into String"),-1!==self.indexOf(other.$to_str()))},def.$index=function(what,offset){var $a,$b,self=this,result=nil;if(null==offset&&(offset=nil),($a=$scope.String["$==="](what))!==!1&&$a!==nil?what=what.$to_s():($a=what["$respond_to?"]("to_str"))!==!1&&$a!==nil?what=what.$to_str().$to_s():($b=$scope.Regexp["$==="](what),($a=$b===nil||$b===!1)!=!1&&$a!==nil&&self.$raise($scope.TypeError,"type mismatch: "+what.$class()+" given")),result=-1,offset!==!1&&offset!==nil){offset=$scope.Opal.$coerce_to(offset,$scope.Integer,"to_int");var size=self.length;if(0>offset&&(offset+=size),offset>size)return nil;result=($a=$scope.Regexp["$==="](what))!==!1&&$a!==nil?($a=what["$=~"](self.substr(offset)))!==!1&&$a!==nil?$a:-1:self.substr(offset).indexOf(what),-1!==result&&(result+=offset)}else result=($a=$scope.Regexp["$==="](what))!==!1&&$a!==nil?($a=what["$=~"](self))!==!1&&$a!==nil?$a:-1:self.indexOf(what);return($a=-1===result)!=!1&&$a!==nil?nil:result},def.$inspect=function(){var self=this,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return escapable.lastIndex=0,escapable.test(self)?'"'+self.replace(escapable,function(a){var c=meta[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+self+'"'},def.$intern=function(){var self=this;return self},def.$lines=function(separator){var self=this;return null==separator&&(separator=$gvars["/"]),self.$each_line(separator).$to_a()},def.$length=function(){var self=this;return self.length},def.$ljust=function(width,padstr){var $a,self=this;if(null==padstr&&(padstr=" "),width=$scope.Opal.$coerce_to(width,$scope.Integer,"to_int"),padstr=$scope.Opal.$coerce_to(padstr,$scope.String,"to_str").$to_s(),($a=padstr["$empty?"]())!==!1&&$a!==nil&&self.$raise($scope.ArgumentError,"zero width padding"),($a=width<=self.length)!=!1&&$a!==nil)return self;var index=-1,result="";for(width-=self.length;++index<width;)result+=padstr;return self+result.slice(0,width)},def.$lstrip=function(){var self=this;return self.replace(/^\s*/,"")},def.$match=TMP_4=function(pattern,pos){var $a,$b,self=this,$iter=TMP_4._p,block=$iter||nil;return TMP_4._p=null,($a=($b=$scope.String["$==="](pattern))!==!1&&$b!==nil?$b:pattern["$respond_to?"]("to_str"))!==!1&&$a!==nil&&(pattern=new RegExp(""+$scope.Regexp.$escape(pattern.$to_str()))),(($a=$scope.Regexp["$==="](pattern))===!1||$a===nil)&&self.$raise($scope.TypeError,"wrong argument type "+pattern.$class()+" (expected Regexp)"),($a=($b=pattern).$match,$a._p=block.$to_proc(),$a).call($b,self,pos)},def.$next=function(){var self=this;if(0===self.length)return"";var initial=self.substr(0,self.length-1),last=String.fromCharCode(self.charCodeAt(self.length-1)+1);return initial+last},def.$ord=function(){var self=this;return self.charCodeAt(0)},def.$partition=function(str){var self=this,result=self.split(str),splitter=result[0].length===self.length?"":str;return[result[0],splitter,result.slice(1).join(str.toString())]},def.$reverse=function(){var self=this;return self.split("").reverse().join("")},def.$rindex=function(search,offset){var self=this,search_type=null==search?Opal.NilClass:search.constructor;if(search_type!=String&&search_type!=RegExp){var msg="type mismatch: "+search_type+" given";self.$raise($scope.TypeError.$new(msg))}if(0==self.length)return 0==search.length?0:nil;var result=-1;return null!=offset?(0>offset&&(offset=self.length+offset),search_type==String?result=self.lastIndexOf(search,offset):(result=self.substr(0,offset+1).$reverse().search(search),-1!==result&&(result=offset-result))):search_type==String?result=self.lastIndexOf(search):(result=self.$reverse().search(search),-1!==result&&(result=self.length-1-result)),-1===result?nil:result},def.$rjust=function(width,padstr){var $a,self=this;if(null==padstr&&(padstr=" "),width=$scope.Opal.$coerce_to(width,$scope.Integer,"to_int"),padstr=$scope.Opal.$coerce_to(padstr,$scope.String,"to_str").$to_s(),($a=padstr["$empty?"]())!==!1&&$a!==nil&&self.$raise($scope.ArgumentError,"zero width padding"),($a=width<=self.length)!=!1&&$a!==nil)return self;var chars=Math.floor(width-self.length),patterns=Math.floor(chars/padstr.length),result=Array(patterns+1).join(padstr),remaining=chars-result.length;return result+padstr.slice(0,remaining)+self},def.$rstrip=function(){var self=this;return self.replace(/\s*$/,"")},def.$scan=TMP_5=function(pattern){var self=this,$iter=TMP_5._p,block=$iter||nil;TMP_5._p=null,pattern.global?pattern.lastIndex=0:pattern=new RegExp(pattern.source,"g"+(pattern.multiline?"m":"")+(pattern.ignoreCase?"i":""));for(var match,result=[];null!=(match=pattern.exec(self));){{$scope.MatchData.$new(pattern,match)}block===nil?result.push(1==match.length?match[0]:match.slice(1)):1==match.length?block(match[0]):block.apply(self,match.slice(1))}return block!==nil?self:result},$opal.defn(self,"$size",def.$length),$opal.defn(self,"$slice",def["$[]"]),def.$split=function(pattern,limit){var $a,self=this;return null==pattern&&(pattern=($a=$gvars[";"])!==!1&&$a!==nil?$a:" "),self.split(pattern,limit)},def["$start_with?"]=function(prefixes){var self=this;prefixes=$slice.call(arguments,0);for(var i=0,length=prefixes.length;length>i;i++){var prefix=$scope.Opal.$coerce_to(prefixes[i],$scope.String,"to_str");if(0===self.indexOf(prefix))return!0}return!1},def.$strip=function(){var self=this;return self.replace(/^\s*/,"").replace(/\s*$/,"")},def.$sub=TMP_6=function(pattern,replace){var self=this,$iter=TMP_6._p,block=$iter||nil;return TMP_6._p=null,"string"==typeof replace?(replace=replace.replace(/\\([1-9])/g,"$$$1"),self.replace(pattern,replace)):block!==nil?self.replace(pattern,function(){for(var match_data=[],i=0,len=arguments.length;len>i;i++){var arg=arguments[i];match_data.push(void 0==arg?nil:arg)}match_data.pop(),match_data.pop(),match_data.length;return $gvars["&"]=match_data[0],$gvars["~"]=match_data,block(match_data[0])}):void 0!==replace?replace["$is_a?"]($scope.Hash)?self.replace(pattern,function(){var value=replace["$[]"](self.$str());return null==value?nil:self.$value().$to_s()}):(replace=$scope.String.$try_convert(replace),null==replace&&self.$raise($scope.TypeError,"can't convert "+replace.$class()+" into String"),self.replace(pattern,replace)):(replace=replace.toString().replace(/\\([1-9])/g,"$$$1"),self.replace(pattern,replace))},$opal.defn(self,"$succ",def.$next),def.$sum=function(n){var self=this;null==n&&(n=16);for(var result=0,i=0,length=self.length;length>i;i++)result+=self.charCodeAt(i)%((1<<n)-1);return result},def.$swapcase=function(){var self=this,str=self.replace(/([a-z]+)|([A-Z]+)/g,function($0,$1){return $1?$0.toUpperCase():$0.toLowerCase()});return self.constructor===String?str:self.$class().$new(str)},def.$to_a=function(){var self=this;return 0===self.length?[]:[self]},def.$to_f=function(){var self=this,result=parseFloat(self);return isNaN(result)?0:result},def.$to_i=function(base){var self=this;null==base&&(base=10);var result=parseInt(self,base);return isNaN(result)?0:result},def.$to_proc=function(){var self=this,name="$"+self;return function(arg){var meth=arg[name];return meth?meth.call(arg):arg.$method_missing(name)}},def.$to_s=function(){var self=this;return self.toString()},$opal.defn(self,"$to_str",def.$to_s),$opal.defn(self,"$to_sym",def.$intern),def.$tr=function(from,to){var self=this;
if(0==from.length||from===to)return self;var subs={},from_chars=from.split(""),from_length=from_chars.length,to_chars=to.split(""),to_length=to_chars.length,inverse=!1,global_sub=null;"^"===from_chars[0]&&(inverse=!0,from_chars.shift(),global_sub=to_chars[to_length-1],from_length-=1);for(var from_chars_expanded=[],last_from=null,in_range=!1,i=0;from_length>i;i++){var char=from_chars[i];if(null==last_from)last_from=char,from_chars_expanded.push(char);else if("-"===char)"-"===last_from?(from_chars_expanded.push("-"),from_chars_expanded.push("-")):i==from_length-1?from_chars_expanded.push("-"):in_range=!0;else if(in_range){for(var start=last_from.charCodeAt(0)+1,end=char.charCodeAt(0),c=start;end>c;c++)from_chars_expanded.push(String.fromCharCode(c));from_chars_expanded.push(char),in_range=null,last_from=null}else from_chars_expanded.push(char)}if(from_chars=from_chars_expanded,from_length=from_chars.length,inverse)for(var i=0;from_length>i;i++)subs[from_chars[i]]=!0;else{if(to_length>0){for(var to_chars_expanded=[],last_to=null,in_range=!1,i=0;to_length>i;i++){var char=to_chars[i];if(null==last_from)last_from=char,to_chars_expanded.push(char);else if("-"===char)"-"===last_to?(to_chars_expanded.push("-"),to_chars_expanded.push("-")):i==to_length-1?to_chars_expanded.push("-"):in_range=!0;else if(in_range){for(var start=last_from.charCodeAt(0)+1,end=char.charCodeAt(0),c=start;end>c;c++)to_chars_expanded.push(String.fromCharCode(c));to_chars_expanded.push(char),in_range=null,last_from=null}else to_chars_expanded.push(char)}to_chars=to_chars_expanded,to_length=to_chars.length}var length_diff=from_length-to_length;if(length_diff>0)for(var pad_char=to_length>0?to_chars[to_length-1]:"",i=0;length_diff>i;i++)to_chars.push(pad_char);for(var i=0;from_length>i;i++)subs[from_chars[i]]=to_chars[i]}for(var new_str="",i=0,length=self.length;length>i;i++){var char=self.charAt(i),sub=subs[char];new_str+=inverse?null==sub?global_sub:char:null!=sub?sub:char}return new_str},def.$tr_s=function(from,to){var self=this;if(0==from.length)return self;var subs={},from_chars=from.split(""),from_length=from_chars.length,to_chars=to.split(""),to_length=to_chars.length,inverse=!1,global_sub=null;"^"===from_chars[0]&&(inverse=!0,from_chars.shift(),global_sub=to_chars[to_length-1],from_length-=1);for(var from_chars_expanded=[],last_from=null,in_range=!1,i=0;from_length>i;i++){var char=from_chars[i];if(null==last_from)last_from=char,from_chars_expanded.push(char);else if("-"===char)"-"===last_from?(from_chars_expanded.push("-"),from_chars_expanded.push("-")):i==from_length-1?from_chars_expanded.push("-"):in_range=!0;else if(in_range){for(var start=last_from.charCodeAt(0)+1,end=char.charCodeAt(0),c=start;end>c;c++)from_chars_expanded.push(String.fromCharCode(c));from_chars_expanded.push(char),in_range=null,last_from=null}else from_chars_expanded.push(char)}if(from_chars=from_chars_expanded,from_length=from_chars.length,inverse)for(var i=0;from_length>i;i++)subs[from_chars[i]]=!0;else{if(to_length>0){for(var to_chars_expanded=[],last_to=null,in_range=!1,i=0;to_length>i;i++){var char=to_chars[i];if(null==last_from)last_from=char,to_chars_expanded.push(char);else if("-"===char)"-"===last_to?(to_chars_expanded.push("-"),to_chars_expanded.push("-")):i==to_length-1?to_chars_expanded.push("-"):in_range=!0;else if(in_range){for(var start=last_from.charCodeAt(0)+1,end=char.charCodeAt(0),c=start;end>c;c++)to_chars_expanded.push(String.fromCharCode(c));to_chars_expanded.push(char),in_range=null,last_from=null}else to_chars_expanded.push(char)}to_chars=to_chars_expanded,to_length=to_chars.length}var length_diff=from_length-to_length;if(length_diff>0)for(var pad_char=to_length>0?to_chars[to_length-1]:"",i=0;length_diff>i;i++)to_chars.push(pad_char);for(var i=0;from_length>i;i++)subs[from_chars[i]]=to_chars[i]}for(var new_str="",last_substitute=null,i=0,length=self.length;length>i;i++){var char=self.charAt(i),sub=subs[char];inverse?null==sub?null==last_substitute&&(new_str+=global_sub,last_substitute=!0):(new_str+=char,last_substitute=null):null!=sub?(null==last_substitute||last_substitute!==sub)&&(new_str+=sub,last_substitute=sub):(new_str+=char,last_substitute=null)}return new_str},def.$upcase=function(){var self=this;return self.toUpperCase()},def.$freeze=function(){var self=this;return self},def["$frozen?"]=function(){return!0},nil}(self,null),$opal.cdecl($scope,"Symbol",$scope.String)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$slice=($opal.breaker,$opal.slice),$klass=$opal.klass,$gvars=$opal.gvars;return $opal.add_stubs(["$attr_reader","$pre_match","$post_match","$[]","$===","$==","$raise","$inspect"]),function($base,$super){function $MatchData(){}var TMP_1,self=$MatchData=$klass($base,$super,"MatchData",$MatchData),def=$MatchData._proto,$scope=$MatchData._scope;return def.string=def.matches=def.begin=nil,self.$attr_reader("post_match","pre_match","regexp","string"),$opal.defs(self,"$new",TMP_1=function(regexp,match_groups){var self=this,data=(TMP_1._p,nil);return TMP_1._p=null,data=$opal.find_super_dispatcher(self,"new",TMP_1,null,$MatchData).apply(self,[regexp,match_groups]),$gvars["`"]=data.$pre_match(),$gvars["'"]=data.$post_match(),$gvars["~"]=data,data}),def.$initialize=function(regexp,match_groups){var self=this;self.regexp=regexp,self.begin=match_groups.index,self.string=match_groups.input,self.pre_match=self.string.substr(0,regexp.lastIndex-match_groups[0].length),self.post_match=self.string.substr(regexp.lastIndex),self.matches=[];for(var i=0,length=match_groups.length;length>i;i++){var group=match_groups[i];self.matches.push(null==group?nil:group)}},def["$[]"]=function(args){var $a,self=this;return args=$slice.call(arguments,0),($a=self.matches)["$[]"].apply($a,[].concat(args))},def["$=="]=function(other){var $a,$b,$c,$d,self=this;return($a=$scope.MatchData["$==="](other))===!1||$a===nil?!1:($d=self.string==other.string,$c=$d!==!1&&$d!==nil?self.regexp==other.regexp:$d,$b=$c!==!1&&$c!==nil?self.pre_match==other.pre_match:$c,$a=$b!==!1&&$b!==nil?self.post_match==other.post_match:$b,$a!==!1&&$a!==nil?self.begin==other.begin:$a)},def.$begin=function(pos){var $a,$b,$c,self=this;return $c=pos["$=="](0),$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?($c=pos["$=="](1),$c===nil||$c===!1):$b)!==!1&&$a!==nil&&self.$raise($scope.ArgumentError,"MatchData#begin only supports 0th element"),self.begin},def.$captures=function(){var self=this;return self.matches.slice(1)},def.$inspect=function(){for(var self=this,str="#<MatchData "+self.matches[0].$inspect(),i=1,length=self.matches.length;length>i;i++)str+=" "+i+":"+self.matches[i].$inspect();return str+">"},def.$length=function(){var self=this;return self.matches.length},$opal.defn(self,"$size",def.$length),def.$to_a=function(){var self=this;return self.matches},def.$to_s=function(){var self=this;return self.matches[0]},def.$values_at=function(indexes){var self=this;indexes=$slice.call(arguments,0);for(var values=[],match_length=self.matches.length,i=0,length=indexes.length;length>i;i++){var pos=indexes[i];pos>=0?values.push(self.matches[pos]):(pos+=match_length,values.push(pos>0?self.matches[pos]:nil))}return values},nil}(self,null)}(Opal),function($opal){var $a,$b,TMP_4,$c,TMP_6,$d,TMP_8,self=$opal.top,$scope=$opal,nil=$opal.nil,$breaker=$opal.breaker,$klass=($opal.slice,$opal.klass),$hash2=$opal.hash2;return $opal.add_stubs(["$+","$[]","$new","$to_proc","$each","$const_set","$sub","$===","$const_get","$==","$name","$include?","$names","$constants","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$find","$getbyte"]),function($base,$super){function $Encoding(){}var TMP_1,self=$Encoding=$klass($base,$super,"Encoding",$Encoding),def=$Encoding._proto,$scope=$Encoding._scope;return def.ascii=def.dummy=def.name=nil,$opal.defs(self,"$register",TMP_1=function(name,options){var $a,$b,$c,TMP_2,self=this,$iter=TMP_1._p,block=$iter||nil,names=nil,encoding=nil;return null==options&&(options=$hash2([],{})),TMP_1._p=null,names=[name]["$+"](($a=options["$[]"]("aliases"))!==!1&&$a!==nil?$a:[]),encoding=($a=($b=$scope.Class).$new,$a._p=block.$to_proc(),$a).call($b,self).$new(name,names,($a=options["$[]"]("ascii"))!==!1&&$a!==nil?$a:!1,($a=options["$[]"]("dummy"))!==!1&&$a!==nil?$a:!1),($a=($c=names).$each,$a._p=(TMP_2=function(name){var self=TMP_2._s||this;return null==name&&(name=nil),self.$const_set(name.$sub("-","_"),encoding)},TMP_2._s=self,TMP_2),$a).call($c)}),$opal.defs(self,"$find",function(name){try{var $a,$b,TMP_3,self=this;return($a=self["$==="](name))!==!1&&$a!==nil?name:(($a=($b=self.$constants()).$each,$a._p=(TMP_3=function(const$){var $a,$b,self=TMP_3._s||this,encoding=nil;return null==const$&&(const$=nil),encoding=self.$const_get(const$),($a=($b=encoding.$name()["$=="](name))!==!1&&$b!==nil?$b:encoding.$names()["$include?"](name))===!1||$a===nil?nil:void $opal.$return(encoding)},TMP_3._s=self,TMP_3),$a).call($b),self.$raise($scope.ArgumentError,"unknown encoding name - "+name))}catch($returner){if($returner===$opal.returner)return $returner.$v;throw $returner}}),function(self){self._scope,self._proto;return self.$attr_accessor("default_external")}(self.$singleton_class()),self.$attr_reader("name","names"),def.$initialize=function(name,names,ascii,dummy){var self=this;return self.name=name,self.names=names,self.ascii=ascii,self.dummy=dummy},def["$ascii_compatible?"]=function(){var self=this;return self.ascii},def["$dummy?"]=function(){var self=this;return self.dummy},def.$to_s=function(){var self=this;return self.name},def.$inspect=function(){var $a,self=this;return"#<Encoding:"+self.name+function(){return($a=self.dummy)!==!1&&$a!==nil?" (dummy)":nil}()+">"},def.$each_byte=function(){var self=this;return self.$raise($scope.NotImplementedError)},def.$getbyte=function(){var self=this;return self.$raise($scope.NotImplementedError)},def.$bytesize=function(){var self=this;return self.$raise($scope.NotImplementedError)},nil}(self,null),($a=($b=$scope.Encoding).$register,$a._p=(TMP_4=function(){var TMP_5,self=TMP_4._s||this;return $opal.defn(self,"$each_byte",TMP_5=function(string){var $a,$iter=TMP_5._p,block=$iter||nil;TMP_5._p=null;for(var i=0,length=string.length;length>i;i++){var code=string.charCodeAt(i);if(127>=code)($a=$opal.$yield1(block,code))===$breaker?$breaker.$v:$a;else for(var encoded=encodeURIComponent(string.charAt(i)).substr(1).split("%"),j=0,encoded_length=encoded.length;encoded_length>j;j++)($a=$opal.$yield1(block,parseInt(encoded[j],16)))===$breaker?$breaker.$v:$a}}),$opal.defn(self,"$bytesize",function(){var self=this;return self.$bytes().$length()}),nil},TMP_4._s=self,TMP_4),$a).call($b,"UTF-8",$hash2(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})),($a=($c=$scope.Encoding).$register,$a._p=(TMP_6=function(){var TMP_7,self=TMP_6._s||this;return $opal.defn(self,"$each_byte",TMP_7=function(string){var $a,$iter=TMP_7._p,block=$iter||nil;TMP_7._p=null;for(var i=0,length=string.length;length>i;i++){var code=string.charCodeAt(i);($a=$opal.$yield1(block,255&code))===$breaker?$breaker.$v:$a,($a=$opal.$yield1(block,code>>8))===$breaker?$breaker.$v:$a}}),$opal.defn(self,"$bytesize",function(){var self=this;return self.$bytes().$length()}),nil},TMP_6._s=self,TMP_6),$a).call($c,"UTF-16LE"),($a=($d=$scope.Encoding).$register,$a._p=(TMP_8=function(){var TMP_9,self=TMP_8._s||this;return $opal.defn(self,"$each_byte",TMP_9=function(string){var $a,$iter=TMP_9._p,block=$iter||nil;TMP_9._p=null;for(var i=0,length=string.length;length>i;i++)($a=$opal.$yield1(block,255&string.charCodeAt(i)))===$breaker?$breaker.$v:$a}),$opal.defn(self,"$bytesize",function(){var self=this;return self.$bytes().$length()}),nil},TMP_8._s=self,TMP_8),$a).call($d,"ASCII-8BIT",$hash2(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})),function($base,$super){function $String(){}var TMP_10,def=($String=$klass($base,$super,"String",$String),$String._proto),$scope=$String._scope;return def.encoding=nil,def.encoding=$scope.Encoding._scope.UTF_16LE,def.$bytes=function(){var self=this;return self.$each_byte().$to_a()},def.$bytesize=function(){var self=this;return self.encoding.$bytesize(self)},def.$each_byte=TMP_10=function(){var $a,$b,self=this,$iter=TMP_10._p,block=$iter||nil;return TMP_10._p=null,block===nil?self.$enum_for("each_byte"):(($a=($b=self.encoding).$each_byte,$a._p=block.$to_proc(),$a).call($b,self),self)},def.$encoding=function(){var self=this;return self.encoding},def.$force_encoding=function(encoding){var self=this;if(encoding=$scope.Encoding.$find(encoding),encoding["$=="](self.encoding))return self;var result=new native_string(self);return result.encoding=encoding,result},def.$getbyte=function(idx){var self=this;return self.encoding.$getbyte(self,idx)},nil}(self,null)}(Opal),function($opal){var self=$opal.top,$scope=$opal,nil=$opal.nil,$breaker=$opal.breaker,$slice=$opal.slice,$klass=$opal.klass;return $opal.add_stubs(["$include","$undef_method","$coerce","$===","$raise","$class","$__send__","$send_coerced","$to_int","$respond_to?","$==","$enum_for","$<","$>","$floor","$/","$%"]),function($base,$super){function $Numeric(){}var TMP_1,TMP_2,TMP_3,TMP_4,TMP_5,self=$Numeric=$klass($base,$super,"Numeric",$Numeric),def=$Numeric._proto,$scope=$Numeric._scope;return self.$include($scope.Comparable),def._isNumber=!0,function(self){self._scope,self._proto;return self.$undef_method("new")}(self.$singleton_class()),def.$coerce=function(other,type){var self=this,$case=nil;null==type&&(type="operation");try{return other._isNumber?[self,other]:other.$coerce(self)}catch($err){return function(){return $case=type,"operation"["$==="]($case)?self.$raise($scope.TypeError,""+other.$class()+" can't be coerce into Numeric"):"comparison"["$==="]($case)?self.$raise($scope.ArgumentError,"comparison of "+self.$class()+" with "+other.$class()+" failed"):nil}()}},def.$send_coerced=function(method,other){var $a,self=this,type=nil,$case=nil,a=nil,b=nil;return type=function(){return $case=method,"+"["$==="]($case)||"-"["$==="]($case)||"*"["$==="]($case)||"/"["$==="]($case)||"%"["$==="]($case)||"&"["$==="]($case)||"|"["$==="]($case)||"^"["$==="]($case)||"**"["$==="]($case)?"operation":">"["$==="]($case)||">="["$==="]($case)||"<"["$==="]($case)||"<="["$==="]($case)||"<=>"["$==="]($case)?"comparison":nil}(),$a=$opal.to_ary(self.$coerce(other,type)),a=null==$a[0]?nil:$a[0],b=null==$a[1]?nil:$a[1],a.$__send__(method,b)},def["$+"]=function(other){var self=this;return other._isNumber?self+other:self.$send_coerced("+",other)},def["$-"]=function(other){var self=this;return other._isNumber?self-other:self.$send_coerced("-",other)},def["$*"]=function(other){var self=this;return other._isNumber?self*other:self.$send_coerced("*",other)},def["$/"]=function(other){var self=this;return other._isNumber?self/other:self.$send_coerced("/",other)},def["$%"]=function(other){var self=this;return other._isNumber?0>other||0>self?(self%other+other)%other:self%other:self.$send_coerced("%",other)},def["$&"]=function(other){var self=this;return other._isNumber?self&other:self.$send_coerced("&",other)},def["$|"]=function(other){var self=this;return other._isNumber?self|other:self.$send_coerced("|",other)},def["$^"]=function(other){var self=this;return other._isNumber?self^other:self.$send_coerced("^",other)},def["$<"]=function(other){var self=this;return other._isNumber?other>self:self.$send_coerced("<",other)},def["$<="]=function(other){var self=this;return other._isNumber?other>=self:self.$send_coerced("<=",other)},def["$>"]=function(other){var self=this;return other._isNumber?self>other:self.$send_coerced(">",other)},def["$>="]=function(other){var self=this;return other._isNumber?self>=other:self.$send_coerced(">=",other)},def["$<=>"]=function(other){var self=this;try{return other._isNumber?self>other?1:other>self?-1:0:self.$send_coerced("<=>",other)}catch($err){if($scope.ArgumentError["$==="]($err))return nil;throw $err}},def["$<<"]=function(count){var self=this;return self<<count.$to_int()},def["$>>"]=function(count){var self=this;return self>>count.$to_int()},def["$+@"]=function(){var self=this;return+self},def["$-@"]=function(){var self=this;return-self},def["$~"]=function(){var self=this;return~self},def["$**"]=function(other){var self=this;return other._isNumber?Math.pow(self,other):self.$send_coerced("**",other)},def["$=="]=function(other){var self=this;return other._isNumber?self==Number(other):other["$respond_to?"]("==")?other["$=="](self):!1},def.$abs=function(){var self=this;return Math.abs(self)},def.$ceil=function(){var self=this;return Math.ceil(self)},def.$chr=function(){var self=this;return String.fromCharCode(self)},def.$conj=function(){var self=this;return self},$opal.defn(self,"$conjugate",def.$conj),def.$downto=TMP_1=function(finish){var $a,self=this,$iter=TMP_1._p,block=$iter||nil;if(TMP_1._p=null,($a=block)===!1||$a===nil)return self.$enum_for("downto",finish);for(var i=self;i>=finish;i--)if(block(i)===$breaker)return $breaker.$v;return self},$opal.defn(self,"$eql?",def["$=="]),$opal.defn(self,"$equal?",def["$=="]),def["$even?"]=function(){var self=this;return self%2===0},def.$floor=function(){var self=this;return Math.floor(self)},def.$hash=function(){var self=this;return self.toString()},def["$integer?"]=function(){var self=this;return self%1===0},def["$is_a?"]=TMP_2=function(klass){var $a,$b,$zuper=$slice.call(arguments,0),self=this,$iter=TMP_2._p;return TMP_2._p=null,($a=($b=klass["$=="]($scope.Float))?$scope.Float["$==="](self):$b)!==!1&&$a!==nil?!0:($a=($b=klass["$=="]($scope.Integer))?$scope.Integer["$==="](self):$b)!==!1&&$a!==nil?!0:$opal.find_super_dispatcher(self,"is_a?",TMP_2,$iter).apply(self,$zuper)},$opal.defn(self,"$magnitude",def.$abs),$opal.defn(self,"$modulo",def["$%"]),def.$next=function(){var self=this;return self+1},def["$nonzero?"]=function(){var self=this;return 0==self?nil:self},def["$odd?"]=function(){var self=this;return self%2!==0},def.$ord=function(){var self=this;return self},def.$pred=function(){var self=this;return self-1},def.$step=TMP_3=function(limit,step){var $a,self=this,$iter=TMP_3._p,block=$iter||nil;if(null==step&&(step=1),TMP_3._p=null,($a=block)===!1||$a===nil)return self.$enum_for("step",limit,step);($a=0==step)!=!1&&$a!==nil&&self.$raise($scope.ArgumentError,"step cannot be 0");var value=self;if(step>0)for(;limit>=value;)block(value),value+=step;else for(;value>=limit;)block(value),value+=step;return self},$opal.defn(self,"$succ",def.$next),def.$times=TMP_4=function(){var $a,self=this,$iter=TMP_4._p,block=$iter||nil;if(TMP_4._p=null,($a=block)===!1||$a===nil)return self.$enum_for("times");for(var i=0;self>i;i++)if(block(i)===$breaker)return $breaker.$v;return self},def.$to_f=function(){var self=this;return parseFloat(self)},def.$to_i=function(){var self=this;return parseInt(self)},$opal.defn(self,"$to_int",def.$to_i),def.$to_s=function(base){var $a,$b,self=this;return null==base&&(base=10),($a=($b=base["$<"](2))!==!1&&$b!==nil?$b:base["$>"](36))!==!1&&$a!==nil&&self.$raise($scope.ArgumentError,"base must be between 2 and 36"),self.toString(base)},$opal.defn(self,"$inspect",def.$to_s),def.$divmod=function(rhs){var self=this,q=nil,r=nil;return q=self["$/"](rhs).$floor(),r=self["$%"](rhs),[q,r]},def.$upto=TMP_5=function(finish){var $a,self=this,$iter=TMP_5._p,block=$iter||nil;if(TMP_5._p=null,($a=block)===!1||$a===nil)return self.$enum_for("upto",finish);for(var i=self;finish>=i;i++)if(block(i)===$breaker)return $breaker.$v;return self},def["$zero?"]=function(){var self=this;return 0==self},def.$size=function(){return 4},def["$nan?"]=function(){var self=this;return isNaN(self)},def["$finite?"]=function(){var self=this;return 1/0==self||self==-1/0},def["$infinite?"]=function(){var $a,self=this;return($a=1/0==self)!=!1&&$a!==nil?1:($a=self==-1/0)!=!1&&$a!==nil?-1:nil},nil}(self,null),$opal.cdecl($scope,"Fixnum",$scope.Numeric),function($base,$super){function $Integer(){}{var self=$Integer=$klass($base,$super,"Integer",$Integer);$Integer._proto,$Integer._scope}return $opal.defs(self,"$===",function(other){return!(!other._isNumber||other%1!=0)}),nil}(self,$scope.Numeric),function($base,$super){function $Float(){}var self=$Float=$klass($base,$super,"Float",$Float),$scope=($Float._proto,$Float._scope);return $opal.defs(self,"$===",function(other){return!(!other._isNumber||other%1==0)}),$opal.cdecl($scope,"INFINITY",1/0),$opal.cdecl($scope,"NAN",0/0)}(self,$scope.Numeric)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$breaker=$opal.breaker,$slice=$opal.slice,$klass=$opal.klass;return $opal.add_stubs(["$raise"]),function($base,$super){function $Proc(){}var TMP_1,TMP_2,self=$Proc=$klass($base,$super,"Proc",$Proc),def=$Proc._proto,$scope=$Proc._scope;return def._isProc=!0,def.is_lambda=!1,$opal.defs(self,"$new",TMP_1=function(){var $a,self=this,$iter=TMP_1._p,block=$iter||nil;return TMP_1._p=null,(($a=block)===!1||$a===nil)&&self.$raise($scope.ArgumentError,"tried to create a Proc object without a block"),block}),def.$call=TMP_2=function(args){var self=this,$iter=TMP_2._p,block=$iter||nil;args=$slice.call(arguments,0),TMP_2._p=null,block!==nil&&(self._p=block);var result;return result=self.is_lambda?self.apply(null,args):Opal.$yieldX(self,args),result===$breaker?$breaker.$v:result},$opal.defn(self,"$[]",def.$call),def.$to_proc=function(){var self=this;return self},def["$lambda?"]=function(){var self=this;return!!self.is_lambda},def.$arity=function(){var self=this;return self.length},nil}(self,null)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$slice=($opal.breaker,$opal.slice),$klass=$opal.klass;return $opal.add_stubs(["$attr_reader","$class","$arity","$new","$name"]),function($base,$super){function $Method(){}var TMP_1,self=$Method=$klass($base,$super,"Method",$Method),def=$Method._proto,$scope=$Method._scope;return def.method=def.receiver=def.owner=def.name=def.obj=nil,self.$attr_reader("owner","receiver","name"),def.$initialize=function(receiver,method,name){var self=this;return self.receiver=receiver,self.owner=receiver.$class(),self.name=name,self.method=method},def.$arity=function(){var self=this;return self.method.$arity()},def.$call=TMP_1=function(args){var self=this,$iter=TMP_1._p,block=$iter||nil;return args=$slice.call(arguments,0),TMP_1._p=null,self.method._p=block,self.method.apply(self.receiver,args)},$opal.defn(self,"$[]",def.$call),def.$unbind=function(){var self=this;return $scope.UnboundMethod.$new(self.owner,self.method,self.name)},def.$to_proc=function(){var self=this;return self.method},def.$inspect=function(){var self=this;return"#<Method: "+self.obj.$class().$name()+"#"+self.name+"}>"},nil}(self,null),function($base,$super){function $UnboundMethod(){}var self=$UnboundMethod=$klass($base,$super,"UnboundMethod",$UnboundMethod),def=$UnboundMethod._proto,$scope=$UnboundMethod._scope;return def.method=def.name=def.owner=nil,self.$attr_reader("owner","name"),def.$initialize=function(owner,method,name){var self=this;return self.owner=owner,self.method=method,self.name=name},def.$arity=function(){var self=this;return self.method.$arity()},def.$bind=function(object){var self=this;return $scope.Method.$new(object,self.method,self.name)},def.$inspect=function(){var self=this;return"#<UnboundMethod: "+self.owner.$name()+"#"+self.name+">"},nil}(self,null)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$breaker=$opal.breaker,$slice=$opal.slice,$klass=$opal.klass;return $opal.add_stubs(["$include","$attr_reader","$include?","$<=","$<","$enum_for","$succ","$==","$===","$exclude_end?","$eql?","$begin","$end","$cover?","$raise","$inspect"]),function($base,$super){function $Range(){}var TMP_1,TMP_2,TMP_3,self=$Range=$klass($base,$super,"Range",$Range),def=$Range._proto,$scope=$Range._scope;return def.begin=def.exclude=def.end=nil,self.$include($scope.Enumerable),def._isRange=!0,self.$attr_reader("begin","end"),def.$initialize=function(first,last,exclude){var self=this;return null==exclude&&(exclude=!1),self.begin=first,self.end=last,self.exclude=exclude},def["$=="]=function(other){var self=this;return other._isRange?self.exclude===other.exclude&&self.begin==other.begin&&self.end==other.end:!1},def["$==="]=function(obj){var self=this;return self["$include?"](obj)},def["$cover?"]=function(value){var $a,$b,self=this;return($a=self.begin["$<="](value))?function(){return($b=self.exclude)!==!1&&$b!==nil?value["$<"](self.end):value["$<="](self.end)}():$a},$opal.defn(self,"$last",def.$end),def.$each=TMP_1=function(){var $a,$b,$c,self=this,$iter=TMP_1._p,block=$iter||nil,current=nil,last=nil;if(TMP_1._p=null,block===nil)return self.$enum_for("each");for(current=self.begin,last=self.end;current["$<"](last);){if($opal.$yield1(block,current)===$breaker)return $breaker.$v;current=current.$succ()}return $c=self.exclude,$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?current["$=="](last):$b)!==!1&&$a!==nil&&$opal.$yield1(block,current)===$breaker?$breaker.$v:self},def["$eql?"]=function(other){var $a,$b,self=this;return($a=$scope.Range["$==="](other))===!1||$a===nil?!1:($b=self.exclude["$==="](other["$exclude_end?"]()),$a=$b!==!1&&$b!==nil?self.begin["$eql?"](other.$begin()):$b,$a!==!1&&$a!==nil?self.end["$eql?"](other.$end()):$a)},def["$exclude_end?"]=function(){var self=this;return self.exclude},$opal.defn(self,"$first",def.$begin),def["$include?"]=function(obj){var self=this;return self["$cover?"](obj)},def.$max=TMP_2=function(){var $zuper=$slice.call(arguments,0),self=this,$iter=TMP_2._p,$yield=$iter||nil;return TMP_2._p=null,$yield!==nil?$opal.find_super_dispatcher(self,"max",TMP_2,$iter).apply(self,$zuper):self.exclude?self.end-1:self.end},def.$min=TMP_3=function(){var $zuper=$slice.call(arguments,0),self=this,$iter=TMP_3._p,$yield=$iter||nil;return TMP_3._p=null,$yield!==nil?$opal.find_super_dispatcher(self,"min",TMP_3,$iter).apply(self,$zuper):self.begin},$opal.defn(self,"$member?",def["$include?"]),def.$step=function(n){var self=this;return null==n&&(n=1),self.$raise($scope.NotImplementedError)},def.$to_s=function(){var self=this;return self.begin.$inspect()+(self.exclude?"...":"..")+self.end.$inspect()},$opal.defn(self,"$inspect",def.$to_s)}(self,null)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$slice=($opal.breaker,$opal.slice),$klass=$opal.klass;return $opal.add_stubs(["$include","$raise","$kind_of?","$to_i","$coerce_to","$between?","$new","$compact","$nil?","$===","$<=>","$to_f","$is_a?","$zero?","$warn","$yday","$rjust","$ljust","$zone","$strftime","$sec","$min","$hour","$day","$month","$year","$wday","$isdst"]),function($base,$super){function $Time(){}var self=$Time=$klass($base,$super,"Time",$Time),def=$Time._proto,$scope=$Time._scope;self.$include($scope.Comparable);var days_of_week=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],short_days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],short_months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long_months=["January","Febuary","March","April","May","June","July","August","September","October","November","December"];return $opal.defs(self,"$at",function(seconds,frac){return null==frac&&(frac=0),new Date(1e3*seconds+frac)}),$opal.defs(self,"$new",function(year,month,day,hour,minute,second){var self=this;switch(arguments.length){case 1:return new Date(year,0);case 2:return new Date(year,month-1);case 3:return new Date(year,month-1,day);case 4:return new Date(year,month-1,day,hour);case 5:return new Date(year,month-1,day,hour,minute);case 6:return new Date(year,month-1,day,hour,minute,second);case 7:self.$raise($scope.NotImplementedError);default:return new Date}}),$opal.defs(self,"$local",function(year,month,day,hour,minute,second,millisecond){var $a,self=this;if(null==month&&(month=nil),null==day&&(day=nil),null==hour&&(hour=nil),null==minute&&(minute=nil),null==second&&(second=nil),null==millisecond&&(millisecond=nil),($a=10===arguments.length)!=!1&&$a!==nil){var args=$slice.call(arguments).reverse();second=args[9],minute=args[8],hour=args[7],day=args[6],month=args[5],year=args[4]}return year=function(){return($a=year["$kind_of?"]($scope.String))!==!1&&$a!==nil?year.$to_i():$scope.Opal.$coerce_to(year,$scope.Integer,"to_int")}(),month=function(){return($a=month["$kind_of?"]($scope.String))!==!1&&$a!==nil?month.$to_i():$scope.Opal.$coerce_to(($a=month)!==!1&&$a!==nil?$a:1,$scope.Integer,"to_int")}(),(($a=month["$between?"](1,12))===!1||$a===nil)&&self.$raise($scope.ArgumentError,"month out of range: "+month),day=function(){return($a=day["$kind_of?"]($scope.String))!==!1&&$a!==nil?day.$to_i():$scope.Opal.$coerce_to(($a=day)!==!1&&$a!==nil?$a:1,$scope.Integer,"to_int")}(),(($a=day["$between?"](1,31))===!1||$a===nil)&&self.$raise($scope.ArgumentError,"day out of range: "+day),hour=function(){return($a=hour["$kind_of?"]($scope.String))!==!1&&$a!==nil?hour.$to_i():$scope.Opal.$coerce_to(($a=hour)!==!1&&$a!==nil?$a:0,$scope.Integer,"to_int")}(),(($a=hour["$between?"](0,24))===!1||$a===nil)&&self.$raise($scope.ArgumentError,"hour out of range: "+hour),minute=function(){return($a=minute["$kind_of?"]($scope.String))!==!1&&$a!==nil?minute.$to_i():$scope.Opal.$coerce_to(($a=minute)!==!1&&$a!==nil?$a:0,$scope.Integer,"to_int")}(),(($a=minute["$between?"](0,59))===!1||$a===nil)&&self.$raise($scope.ArgumentError,"minute out of range: "+minute),second=function(){return($a=second["$kind_of?"]($scope.String))!==!1&&$a!==nil?second.$to_i():$scope.Opal.$coerce_to(($a=second)!==!1&&$a!==nil?$a:0,$scope.Integer,"to_int")}(),(($a=second["$between?"](0,59))===!1||$a===nil)&&self.$raise($scope.ArgumentError,"second out of range: "+second),($a=self).$new.apply($a,[].concat([year,month,day,hour,minute,second].$compact()))}),$opal.defs(self,"$gm",function(year,month,day,hour,minute,second){var $a,self=this;switch(($a=year["$nil?"]())!==!1&&$a!==nil&&self.$raise($scope.TypeError,"missing year (got nil)"),arguments.length){case 1:return new Date(Date.UTC(year,0));case 2:return new Date(Date.UTC(year,month-1));case 3:return new Date(Date.UTC(year,month-1,day));case 4:return new Date(Date.UTC(year,month-1,day,hour));case 5:return new Date(Date.UTC(year,month-1,day,hour,minute));case 6:return new Date(Date.UTC(year,month-1,day,hour,minute,second));case 7:self.$raise($scope.NotImplementedError)}}),function(self){self._scope,self._proto;return self._proto.$mktime=self._proto.$local,self._proto.$utc=self._proto.$gm}(self.$singleton_class()),$opal.defs(self,"$now",function(){return new Date}),def["$+"]=function(other){var $a,self=this;return($a=$scope.Time["$==="](other))!==!1&&$a!==nil&&self.$raise($scope.TypeError,"time + time?"),other=$scope.Opal.$coerce_to(other,$scope.Integer,"to_int"),new Date(self.getTime()+1e3*other)},def["$-"]=function(other){var $a,self=this;return($a=$scope.Time["$==="](other))!==!1&&$a!==nil?(self.getTime()-other.getTime())/1e3:(other=$scope.Opal.$coerce_to(other,$scope.Integer,"to_int"),new Date(self.getTime()-1e3*other))},def["$<=>"]=function(other){var self=this;return self.$to_f()["$<=>"](other.$to_f())},def["$=="]=function(other){var self=this;return self.$to_f()===other.$to_f()},def.$day=function(){var self=this;return self.getDate()},def.$yday=function(){var self=this,onejan=new Date(self.getFullYear(),0,1);return Math.ceil((self-onejan)/864e5)},def.$isdst=function(){var self=this;return self.$raise($scope.NotImplementedError)},def["$eql?"]=function(other){var $a,self=this;return $a=other["$is_a?"]($scope.Time),$a!==!1&&$a!==nil?self["$<=>"](other)["$zero?"]():$a},def["$friday?"]=function(){var self=this;return 5===self.getDay()},def.$hour=function(){var self=this;return self.getHours()},def.$inspect=function(){var self=this;return self.toString()},$opal.defn(self,"$mday",def.$day),def.$min=function(){var self=this;return self.getMinutes()},def.$mon=function(){var self=this;return self.getMonth()+1},def["$monday?"]=function(){var self=this;return 1===self.getDay()},$opal.defn(self,"$month",def.$mon),def["$saturday?"]=function(){var self=this;return 6===self.getDay()},def.$sec=function(){var self=this;
return self.getSeconds()},def.$usec=function(){var self=this;return self.$warn("Microseconds are not supported"),0},def.$zone=function(){var result,self=this,string=self.toString();return result=-1==string.indexOf("(")?string.match(/[A-Z]{3,4}/)[0]:string.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join(""),"GMT"==result&&/(GMT\W*\d{4})/.test(string)?RegExp.$1:result},def.$gmt_offset=function(){var self=this;return 60*-self.getTimezoneOffset()},def.$strftime=function(format){var self=this;return format.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(full,flags,width,_,conv){var result="",width=parseInt(width),zero=-1!==flags.indexOf("0"),pad=-1===flags.indexOf("-"),blank=-1!==flags.indexOf("_"),upcase=-1!==flags.indexOf("^"),invert=-1!==flags.indexOf("#"),colons=(flags.match(":")||[]).length;switch(zero&&blank&&(flags.indexOf("0")<flags.indexOf("_")?zero=!1:blank=!1),conv){case"Y":result+=self.getFullYear();break;case"C":zero=!blank,result+=Match.round(self.getFullYear()/100);break;case"y":zero=!blank,result+=self.getFullYear()%100;break;case"m":zero=!blank,result+=self.getMonth()+1;break;case"B":result+=long_months[self.getMonth()];break;case"b":case"h":blank=!zero,result+=short_months[self.getMonth()];break;case"d":zero=!blank,result+=self.getDate();break;case"e":blank=!zero,result+=self.getDate();break;case"j":result+=self.$yday();break;case"H":zero=!blank,result+=self.getHours();break;case"k":blank=!zero,result+=self.getHours();break;case"I":zero=!blank,result+=self.getHours()%12||12;break;case"l":blank=!zero,result+=self.getHours()%12||12;break;case"P":result+=self.getHours()>=12?"pm":"am";break;case"p":result+=self.getHours()>=12?"PM":"AM";break;case"M":zero=!blank,result+=self.getMinutes();break;case"S":zero=!blank,result+=self.getSeconds();break;case"L":zero=!blank,width=isNaN(width)?3:width,result+=self.getMilliseconds();break;case"N":width=isNaN(width)?9:width,result+=self.getMilliseconds().toString().$rjust(3,"0"),result=result.$ljust(width,"0");break;case"z":var offset=self.getTimezoneOffset(),hours=Math.floor(Math.abs(offset)/60),minutes=Math.abs(offset)%60;result+=0>offset?"+":"-",result+=10>hours?"0":"",result+=hours,colons>0&&(result+=":"),result+=10>minutes?"0":"",result+=minutes,colons>1&&(result+=":00");break;case"Z":result+=self.$zone();break;case"A":result+=days_of_week[self.getDay()];break;case"a":result+=short_days[self.getDay()];break;case"u":result+=self.getDay()+1;break;case"w":result+=self.getDay();break;case"s":result+=parseInt(self.getTime()/1e3);break;case"n":result+="\n";break;case"t":result+="	";break;case"%":result+="%";break;case"c":result+=self.$strftime("%a %b %e %T %Y");break;case"D":case"x":result+=self.$strftime("%m/%d/%y");break;case"F":result+=self.$strftime("%Y-%m-%d");break;case"v":result+=self.$strftime("%e-%^b-%4Y");break;case"r":result+=self.$strftime("%I:%M:%S %p");break;case"R":result+=self.$strftime("%H:%M");break;case"T":case"X":result+=self.$strftime("%H:%M:%S");break;default:return full}return upcase&&(result=result.toUpperCase()),invert&&(result=result.replace(/[A-Z]/,function(c){c.toLowerCase()}).replace(/[a-z]/,function(c){c.toUpperCase()})),pad&&(zero||blank)&&(result=result.$rjust(isNaN(width)?2:width,blank?" ":"0")),result})},def["$sunday?"]=function(){var self=this;return 0===self.getDay()},def["$thursday?"]=function(){var self=this;return 4===self.getDay()},def.$to_a=function(){var self=this;return[self.$sec(),self.$min(),self.$hour(),self.$day(),self.$month(),self.$year(),self.$wday(),self.$yday(),self.$isdst(),self.$zone()]},def.$to_f=function(){var self=this;return self.getTime()/1e3},def.$to_i=function(){var self=this;return parseInt(self.getTime()/1e3)},$opal.defn(self,"$to_s",def.$inspect),def["$tuesday?"]=function(){var self=this;return 2===self.getDay()},def.$wday=function(){var self=this;return self.getDay()},def["$wednesday?"]=function(){var self=this;return 3===self.getDay()},def.$year=function(){var self=this;return self.getFullYear()},nil}(self,null),function($base,$super){function $Time(){}{var self=$Time=$klass($base,$super,"Time",$Time),def=$Time._proto;$Time._scope}return $opal.defs(self,"$parse",function(str){return new Date(Date.parse(str))}),def.$iso8601=function(){var self=this;return self.$strftime("%FT%T%z")},nil}(self,null)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$breaker=$opal.breaker,$slice=$opal.slice,$klass=$opal.klass;return $opal.add_stubs(["$==","$[]","$upcase","$const_set","$new","$unshift","$each","$define_struct_attribute","$instance_eval","$to_proc","$raise","$<<","$members","$define_method","$instance_variable_get","$instance_variable_set","$include","$each_with_index","$class","$===","$>=","$size","$include?","$to_sym","$enum_for","$hash","$all?","$length","$map","$+","$name","$join","$inspect","$each_pair"]),function($base,$super){function $Struct(){}var TMP_1,TMP_8,TMP_10,self=$Struct=$klass($base,$super,"Struct",$Struct),def=$Struct._proto,$scope=$Struct._scope;return $opal.defs(self,"$new",TMP_1=function(name,args){var $a,$b,$c,TMP_2,$zuper=$slice.call(arguments,0),self=this,$iter=TMP_1._p,block=$iter||nil;return args=$slice.call(arguments,1),TMP_1._p=null,($a=self["$=="]($scope.Struct))===!1||$a===nil?$opal.find_super_dispatcher(self,"new",TMP_1,$iter,$Struct).apply(self,$zuper):name["$[]"](0)["$=="](name["$[]"](0).$upcase())?$scope.Struct.$const_set(name,($a=self).$new.apply($a,[].concat(args))):(args.$unshift(name),($b=($c=$scope.Class).$new,$b._p=(TMP_2=function(){var $a,$b,TMP_3,$c,self=TMP_2._s||this;return($a=($b=args).$each,$a._p=(TMP_3=function(arg){var self=TMP_3._s||this;return null==arg&&(arg=nil),self.$define_struct_attribute(arg)},TMP_3._s=self,TMP_3),$a).call($b),block!==!1&&block!==nil?($a=($c=self).$instance_eval,$a._p=block.$to_proc(),$a).call($c):nil},TMP_2._s=self,TMP_2),$b).call($c,self))}),$opal.defs(self,"$define_struct_attribute",function(name){var $a,$b,TMP_4,$c,TMP_5,self=this;return self["$=="]($scope.Struct)&&self.$raise($scope.ArgumentError,"you cannot define attributes to the Struct class"),self.$members()["$<<"](name),($a=($b=self).$define_method,$a._p=(TMP_4=function(){var self=TMP_4._s||this;return self.$instance_variable_get("@"+name)},TMP_4._s=self,TMP_4),$a).call($b,name),($a=($c=self).$define_method,$a._p=(TMP_5=function(value){var self=TMP_5._s||this;return null==value&&(value=nil),self.$instance_variable_set("@"+name,value)},TMP_5._s=self,TMP_5),$a).call($c,""+name+"=")}),$opal.defs(self,"$members",function(){var $a,self=this;return null==self.members&&(self.members=nil),self["$=="]($scope.Struct)&&self.$raise($scope.ArgumentError,"the Struct class has no members"),($a=self.members)!==!1&&$a!==nil?$a:self.members=[]}),$opal.defs(self,"$inherited",function(klass){var $a,$b,TMP_6,self=this,members=nil;return null==self.members&&(self.members=nil),self["$=="]($scope.Struct)?nil:(members=self.members,($a=($b=klass).$instance_eval,$a._p=(TMP_6=function(){var self=TMP_6._s||this;return self.members=members},TMP_6._s=self,TMP_6),$a).call($b))}),self.$include($scope.Enumerable),def.$initialize=function(args){var $a,$b,TMP_7,self=this;return args=$slice.call(arguments,0),($a=($b=self.$members()).$each_with_index,$a._p=(TMP_7=function(name,index){var self=TMP_7._s||this;return null==name&&(name=nil),null==index&&(index=nil),self.$instance_variable_set("@"+name,args["$[]"](index))},TMP_7._s=self,TMP_7),$a).call($b)},def.$members=function(){var self=this;return self.$class().$members()},def["$[]"]=function(name){var $a,self=this;return($a=$scope.Integer["$==="](name))!==!1&&$a!==nil?(name["$>="](self.$members().$size())&&self.$raise($scope.IndexError,"offset "+name+" too large for struct(size:"+self.$members().$size()+")"),name=self.$members()["$[]"](name)):(($a=self.$members()["$include?"](name.$to_sym()))===!1||$a===nil)&&self.$raise($scope.NameError,"no member '"+name+"' in struct"),self.$instance_variable_get("@"+name)},def["$[]="]=function(name,value){var $a,self=this;return($a=$scope.Integer["$==="](name))!==!1&&$a!==nil?(name["$>="](self.$members().$size())&&self.$raise($scope.IndexError,"offset "+name+" too large for struct(size:"+self.$members().$size()+")"),name=self.$members()["$[]"](name)):(($a=self.$members()["$include?"](name.$to_sym()))===!1||$a===nil)&&self.$raise($scope.NameError,"no member '"+name+"' in struct"),self.$instance_variable_set("@"+name,value)},def.$each=TMP_8=function(){var $a,$b,TMP_9,self=this,$iter=TMP_8._p,$yield=$iter||nil;return TMP_8._p=null,$yield===nil?self.$enum_for("each"):($a=($b=self.$members()).$each,$a._p=(TMP_9=function(name){var $a,self=TMP_9._s||this;return null==name&&(name=nil),$a=$opal.$yield1($yield,self["$[]"](name)),$a===$breaker?$a:$a},TMP_9._s=self,TMP_9),$a).call($b)},def.$each_pair=TMP_10=function(){var $a,$b,TMP_11,self=this,$iter=TMP_10._p,$yield=$iter||nil;return TMP_10._p=null,$yield===nil?self.$enum_for("each_pair"):($a=($b=self.$members()).$each,$a._p=(TMP_11=function(name){var $a,self=TMP_11._s||this;return null==name&&(name=nil),$a=$opal.$yieldX($yield,[name,self["$[]"](name)]),$a===$breaker?$a:$a},TMP_11._s=self,TMP_11),$a).call($b)},def["$eql?"]=function(other){var $a,$b,$c,TMP_12,self=this;return($a=self.$hash()["$=="](other.$hash()))!==!1&&$a!==nil?$a:($b=($c=other.$each_with_index())["$all?"],$b._p=(TMP_12=function(object,index){var self=TMP_12._s||this;return null==object&&(object=nil),null==index&&(index=nil),self["$[]"](self.$members()["$[]"](index))["$=="](object)},TMP_12._s=self,TMP_12),$b).call($c)},def.$length=function(){var self=this;return self.$members().$length()},$opal.defn(self,"$size",def.$length),def.$to_a=function(){var $a,$b,TMP_13,self=this;return($a=($b=self.$members()).$map,$a._p=(TMP_13=function(name){var self=TMP_13._s||this;return null==name&&(name=nil),self["$[]"](name)},TMP_13._s=self,TMP_13),$a).call($b)},$opal.defn(self,"$values",def.$to_a),def.$inspect=function(){var $a,$b,TMP_14,self=this,result=nil;return result="#<struct ",self.$class()["$=="]($scope.Struct)&&(result=result["$+"](""+self.$class().$name()+" ")),result=result["$+"](($a=($b=self.$each_pair()).$map,$a._p=(TMP_14=function(name,value){TMP_14._s||this;return null==name&&(name=nil),null==value&&(value=nil),""+name+"="+value.$inspect()},TMP_14._s=self,TMP_14),$a).call($b).$join(", ")),result=result["$+"](">")},nil}(self,null)}(Opal),function($opal){var self=$opal.top,$scope=$opal,nil=$opal.nil,$slice=($opal.breaker,$opal.slice),$klass=$opal.klass,$module=$opal.module,$gvars=$opal.gvars;return $opal.add_stubs(["$write","$join","$map","$String","$getbyte","$getc","$raise","$new","$puts","$to_s"]),function($base,$super){function $IO(){}var self=$IO=$klass($base,$super,"IO",$IO),$scope=($IO._proto,$IO._scope);return $opal.cdecl($scope,"SEEK_SET",0),$opal.cdecl($scope,"SEEK_CUR",1),$opal.cdecl($scope,"SEEK_END",2),function($base){{var self=$module($base,"Writable"),def=self._proto;self._scope}def["$<<"]=function(string){var self=this;return self.$write(string),self},def.$print=function(args){var $a,$b,TMP_1,self=this;return args=$slice.call(arguments,0),self.$write(($a=($b=args).$map,$a._p=(TMP_1=function(arg){var self=TMP_1._s||this;return null==arg&&(arg=nil),self.$String(arg)},TMP_1._s=self,TMP_1),$a).call($b).$join($gvars[","]))},def.$puts=function(args){var $a,$b,TMP_2,self=this;return args=$slice.call(arguments,0),self.$write(($a=($b=args).$map,$a._p=(TMP_2=function(arg){var self=TMP_2._s||this;return null==arg&&(arg=nil),self.$String(arg)},TMP_2._s=self,TMP_2),$a).call($b).$join($gvars["/"]))},$opal.donate(self,["$<<","$print","$puts"])}(self),function($base){var self=$module($base,"Readable"),def=self._proto,$scope=self._scope;def.$readbyte=function(){var self=this;return self.$getbyte()},def.$readchar=function(){var self=this;return self.$getc()},def.$readline=function(sep){var self=this;return null==sep&&(sep=$gvars["/"]),self.$raise($scope.NotImplementedError)},def.$readpartial=function(integer,outbuf){var self=this;return null==outbuf&&(outbuf=nil),self.$raise($scope.NotImplementedError)},$opal.donate(self,["$readbyte","$readchar","$readline","$readpartial"])}(self)}(self,null),$opal.cdecl($scope,"STDERR",$gvars.stderr=$scope.IO.$new()),$opal.cdecl($scope,"STDIN",$gvars.stdin=$scope.IO.$new()),$opal.cdecl($scope,"STDOUT",$gvars.stdout=$scope.IO.$new()),$opal.defs($gvars.stdout,"$puts",function(strs){var $a,self=this;strs=$slice.call(arguments,0);for(var i=0;i<strs.length;i++)strs[i]instanceof Array?($a=self).$puts.apply($a,[].concat(strs[i])):console.log(strs[i].$to_s());return nil}),$opal.defs($gvars.stderr,"$puts",function(strs){var $a,self=this;strs=$slice.call(arguments,0);for(var i=0;i<strs.length;i++)strs[i]instanceof Array?($a=self).$puts.apply($a,[].concat(strs[i])):console.warn(strs[i].$to_s());return nil}),nil}(Opal),function($opal){{var self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$include"]),$opal.defs(self,"$to_s",function(){return"main"}),$opal.defs(self,"$include",function(mod){return $scope.Object.$include(mod)}),nil}(Opal),function($opal){var self=$opal.top,$scope=$opal,nil=$opal.nil,$breaker=$opal.breaker,$slice=$opal.slice,$module=$opal.module,$range=$opal.range,$hash2=$opal.hash2,$klass=$opal.klass,$gvars=$opal.gvars;return $opal.add_stubs(["$try_convert","$native?","$respond_to?","$to_n","$raise","$map","$===","$Native","$end_with?","$define_method","$[]","$convert","$call","$to_proc","$new","$extend","$to_a","$to_ary","$include","$method_missing","$[]=","$slice","$-","$length","$==","$enum_for","$>=","$<<","$inspect","$each","$instance_variable_set","$members","$each_with_index","$each_pair","$name"]),function($base){var TMP_1,self=$module($base,"Native"),def=self._proto,$scope=self._scope;$opal.defs(self,"$is_a?",function(object,klass){try{return object instanceof $scope.Native.$try_convert(klass)}catch(e){return!1}}),$opal.defs(self,"$try_convert",function(value){var self=this;return self["$native?"](value)?value:value["$respond_to?"]("to_n")?value.$to_n():nil}),$opal.defs(self,"$convert",function(value){var self=this;return self["$native?"](value)?value:value["$respond_to?"]("to_n")?value.$to_n():void self.$raise($scope.ArgumentError,"the passed value isn't a native")}),$opal.defs(self,"$call",TMP_1=function(obj,key,args){var $a,$b,TMP_2,self=this,$iter=TMP_1._p,block=$iter||nil;args=$slice.call(arguments,2),TMP_1._p=null;var prop=obj[key];return null==prop?nil:prop instanceof Function?(block!==nil&&args.push(block),args=($a=($b=args).$map,$a._p=(TMP_2=function(value){var $a,self=TMP_2._s||this,native$=nil;return null==value&&(value=nil),native$=self.$try_convert(value),($a=nil["$==="](native$))!==!1&&$a!==nil?value:native$},TMP_2._s=self,TMP_2),$a).call($b),self.$Native(prop.apply(obj,args))):self["$native?"](prop)?self.$Native(prop):prop}),function($base){var self=$module($base,"Helpers"),def=self._proto,$scope=self._scope;def.$alias_native=function(new$,old,options){var $a,$b,TMP_3,$c,TMP_4,$d,TMP_5,self=this,as=nil;return null==old&&(old=new$),null==options&&(options=$hash2([],{})),($a=old["$end_with?"]("="))!==!1&&$a!==nil?($a=($b=self).$define_method,$a._p=(TMP_3=function(value){var self=TMP_3._s||this;return null==self["native"]&&(self["native"]=nil),null==value&&(value=nil),self["native"][old["$[]"]($range(0,-2,!1))]=$scope.Native.$convert(value),value},TMP_3._s=self,TMP_3),$a).call($b,new$):($a=as=options["$[]"]("as"))!==!1&&$a!==nil?($a=($c=self).$define_method,$a._p=(TMP_4=function(args){var block,$a,$b,$c,self=TMP_4._s||this;return null==self["native"]&&(self["native"]=nil),args=$slice.call(arguments,0),block=TMP_4._p||nil,TMP_4._p=null,($a=value=($b=($c=$scope.Native).$call,$b._p=block.$to_proc(),$b).apply($c,[self["native"],old].concat(args)))!==!1&&$a!==nil?as.$new(value.$to_n()):nil},TMP_4._s=self,TMP_4),$a).call($c,new$):($a=($d=self).$define_method,$a._p=(TMP_5=function(args){var block,$a,$b,self=TMP_5._s||this;return null==self["native"]&&(self["native"]=nil),args=$slice.call(arguments,0),block=TMP_5._p||nil,TMP_5._p=null,($a=($b=$scope.Native).$call,$a._p=block.$to_proc(),$a).apply($b,[self["native"],old].concat(args))},TMP_5._s=self,TMP_5),$a).call($d,new$)},$opal.donate(self,["$alias_native"])}(self),$opal.defs(self,"$included",function(klass){return klass.$extend($scope.Helpers)}),def.$initialize=function(native$){var $a,self=this;return(($a=$scope.Kernel["$native?"](native$))===!1||$a===nil)&&$scope.Kernel.$raise($scope.ArgumentError,"the passed value isn't native"),self["native"]=native$},def.$to_n=function(){var self=this;return null==self["native"]&&(self["native"]=nil),self["native"]},$opal.donate(self,["$initialize","$to_n"])}(self),function($base){var TMP_6,self=$module($base,"Kernel"),def=self._proto,$scope=self._scope;def["$native?"]=function(value){return null==value||!value._klass},def.$Native=function(obj){var $a,self=this;return($a=null==obj)!=!1&&$a!==nil?nil:($a=self["$native?"](obj))!==!1&&$a!==nil?$scope.Native._scope.Object.$new(obj):obj},def.$Array=TMP_6=function(object,args){var $a,$b,self=this,$iter=TMP_6._p,block=$iter||nil;return args=$slice.call(arguments,1),TMP_6._p=null,null==object||object===nil?[]:self["$native?"](object)?($a=($b=$scope.Native._scope.Array).$new,$a._p=block.$to_proc(),$a).apply($b,[object].concat(args)).$to_a():object["$respond_to?"]("to_ary")?object.$to_ary():object["$respond_to?"]("to_a")?object.$to_a():[object]},$opal.donate(self,["$native?","$Native","$Array"])}(self),function($base,$super){function $Object(){}var TMP_7,TMP_8,TMP_9,TMP_10,self=$Object=$klass($base,$super,"Object",$Object),def=$Object._proto,$scope=$Object._scope;return def["native"]=nil,self.$include($scope.Native),$opal.defn(self,"$==",function(other){var self=this;return self["native"]===$scope.Native.$try_convert(other)}),$opal.defn(self,"$has_key?",function(name){var self=this;return self["native"].hasOwnProperty(name)}),$opal.defn(self,"$key?",def["$has_key?"]),$opal.defn(self,"$include?",def["$has_key?"]),$opal.defn(self,"$member?",def["$has_key?"]),$opal.defn(self,"$each",TMP_7=function(args){var $a,self=this,$iter=TMP_7._p,$yield=$iter||nil;if(args=$slice.call(arguments,0),TMP_7._p=null,$yield!==nil){for(var key in self["native"])($a=$opal.$yieldX($yield,[key,self["native"][key]]))===$breaker?$breaker.$v:$a;return self}return($a=self).$method_missing.apply($a,["each"].concat(args))}),$opal.defn(self,"$[]",function(key){var $a,self=this,prop=self["native"][key];return prop instanceof Function?prop:(null==($a=$opal.Object._scope.Native)?$opal.cm("Native"):$a).$call(self["native"],key)}),$opal.defn(self,"$[]=",function(key,value){var $a,self=this,native$=nil;return native$=$scope.Native.$try_convert(value),self["native"][key]=($a=native$===nil)!=!1&&$a!==nil?value:native$}),$opal.defn(self,"$method_missing",TMP_8=function(mid,args){var $a,$b,$c,self=this,$iter=TMP_8._p,block=$iter||nil;return args=$slice.call(arguments,1),TMP_8._p=null,"="===mid.charAt(mid.length-1)?self["$[]="](mid.$slice(0,mid.$length()["$-"](1)),args["$[]"](0)):($a=($b=null==($c=$opal.Object._scope.Native)?$opal.cm("Native"):$c).$call,$a._p=block.$to_proc(),$a).apply($b,[self["native"],mid].concat(args))}),$opal.defn(self,"$nil?",function(){return!1}),$opal.defn(self,"$is_a?",function(klass){return klass["$=="]($scope.Native)}),$opal.defn(self,"$kind_of?",def["$is_a?"]),$opal.defn(self,"$instance_of?",function(klass){return klass["$=="]($scope.Native)}),$opal.defn(self,"$class",function(){var self=this;return self._klass}),$opal.defn(self,"$to_a",TMP_9=function(options){var $a,$b,self=this,$iter=TMP_9._p,block=$iter||nil;return null==options&&(options=$hash2([],{})),TMP_9._p=null,($a=($b=$scope.Native._scope.Array).$new,$a._p=block.$to_proc(),$a).call($b,self["native"],options).$to_a()}),$opal.defn(self,"$to_ary",TMP_10=function(options){var $a,$b,self=this,$iter=TMP_10._p,block=$iter||nil;return null==options&&(options=$hash2([],{})),TMP_10._p=null,($a=($b=$scope.Native._scope.Array).$new,$a._p=block.$to_proc(),$a).call($b,self["native"],options)}),$opal.defn(self,"$inspect",function(){var self=this;return"#<Native:"+String(self["native"])+">"}),nil}($scope.Native,$scope.BasicObject),function($base,$super){function $Array(){}var TMP_11,TMP_12,self=$Array=$klass($base,$super,"Array",$Array),def=$Array._proto,$scope=$Array._scope;return def.named=def["native"]=def.get=def.block=def.set=def.length=nil,self.$include($scope.Native),self.$include($scope.Enumerable),def.$initialize=TMP_11=function(native$,options){var $a,self=this,$iter=TMP_11._p,block=$iter||nil;return null==options&&(options=$hash2([],{})),TMP_11._p=null,$opal.find_super_dispatcher(self,"initialize",TMP_11,null).apply(self,[native$]),self.get=($a=options["$[]"]("get"))!==!1&&$a!==nil?$a:options["$[]"]("access"),self.named=options["$[]"]("named"),self.set=($a=options["$[]"]("set"))!==!1&&$a!==nil?$a:options["$[]"]("access"),self.length=($a=options["$[]"]("length"))!==!1&&$a!==nil?$a:"length",self.block=block,($a=null==self.$length())!=!1&&$a!==nil?self.$raise($scope.ArgumentError,"no length found on the array-like object"):nil},def.$each=TMP_12=function(){var $a,self=this,$iter=TMP_12._p,block=$iter||nil;if(TMP_12._p=null,($a=block)===!1||$a===nil)return self.$enum_for("each");for(var i=0,length=self.$length();length>i;i++){var value=$opal.$yield1(block,self["$[]"](i));if(value===$breaker)return $breaker.$v}return self},def["$[]"]=function(index){var $a,self=this,result=nil,$case=nil;return result=function(){return $case=index,$scope.String["$==="]($case)||$scope.Symbol["$==="]($case)?($a=self.named)!==!1&&$a!==nil?self["native"][self.named](index):self["native"][index]:$scope.Integer["$==="]($case)?($a=self.get)!==!1&&$a!==nil?self["native"][self.get](index):self["native"][index]:nil}(),result!==!1&&result!==nil?($a=self.block)!==!1&&$a!==nil?self.block.$call(result):self.$Native(result):nil},def["$[]="]=function(index,value){var $a,self=this;return($a=self.set)!==!1&&$a!==nil?self["native"][self.set](index,$scope.Native.$convert(value)):self["native"][index]=$scope.Native.$convert(value)},def.$last=function(count){var self=this,index=nil,result=nil;if(null==count&&(count=nil),count!==!1&&count!==nil){for(index=self.$length()["$-"](1),result=[];index["$>="](0);)result["$<<"](self["$[]"](index)),index=index["$-"](1);return result}return self["$[]"](self.$length()["$-"](1))},def.$length=function(){var self=this;return self["native"][self.length]},def.$to_ary=function(){var self=this;return self},def.$inspect=function(){var self=this;return self.$to_a().$inspect()},nil}($scope.Native,null),function($base,$super){function $Numeric(){}{var def=($Numeric=$klass($base,$super,"Numeric",$Numeric),$Numeric._proto);$Numeric._scope}return def.$to_n=function(){var self=this;return self.valueOf()},nil}(self,null),function($base,$super){function $Proc(){}{var def=($Proc=$klass($base,$super,"Proc",$Proc),$Proc._proto);$Proc._scope}return def.$to_n=function(){var self=this;return self},nil}(self,null),function($base,$super){function $String(){}{var def=($String=$klass($base,$super,"String",$String),$String._proto);$String._scope}return def.$to_n=function(){var self=this;return self.valueOf()},nil}(self,null),function($base,$super){function $Regexp(){}{var def=($Regexp=$klass($base,$super,"Regexp",$Regexp),$Regexp._proto);$Regexp._scope}return def.$to_n=function(){var self=this;return self.valueOf()},nil}(self,null),function($base,$super){function $MatchData(){}{var def=($MatchData=$klass($base,$super,"MatchData",$MatchData),$MatchData._proto);$MatchData._scope}return def.matches=nil,def.$to_n=function(){var self=this;return self.matches},nil}(self,null),function($base,$super){function $Struct(){}{var def=($Struct=$klass($base,$super,"Struct",$Struct),$Struct._proto);$Struct._scope}return def.$initialize=function(args){var $a,$b,TMP_13,$c,TMP_14,self=this,object=nil;return args=$slice.call(arguments,0),($a=($b=args.$length()["$=="](1))?self["$native?"](args["$[]"](0)):$b)!==!1&&$a!==nil?(object=args["$[]"](0),($a=($b=self.$members()).$each,$a._p=(TMP_13=function(name){var self=TMP_13._s||this;return null==name&&(name=nil),self.$instance_variable_set("@"+name,self.$Native(object[name]))},TMP_13._s=self,TMP_13),$a).call($b)):($a=($c=self.$members()).$each_with_index,$a._p=(TMP_14=function(name,index){var self=TMP_14._s||this;return null==name&&(name=nil),null==index&&(index=nil),self.$instance_variable_set("@"+name,args["$[]"](index))},TMP_14._s=self,TMP_14),$a).call($c)},def.$to_n=function(){var $a,$b,TMP_15,self=this,result=nil;return result={},($a=($b=self).$each_pair,$a._p=(TMP_15=function(name,value){TMP_15._s||this;return null==name&&(name=nil),null==value&&(value=nil),result[name]=value.$to_n()},TMP_15._s=self,TMP_15),$a).call($b),result},nil}(self,null),function($base,$super){function $Array(){}{var def=($Array=$klass($base,$super,"Array",$Array),$Array._proto);$Array._scope}return def.$to_n=function(){for(var self=this,result=[],i=0,length=self.length;length>i;i++){var obj=self[i];result.push(obj["$respond_to?"]("to_n")?obj.$to_n():obj)}return result},nil}(self,null),function($base,$super){function $Boolean(){}{var def=($Boolean=$klass($base,$super,"Boolean",$Boolean),$Boolean._proto);$Boolean._scope}return def.$to_n=function(){var self=this;return self.valueOf()},nil}(self,null),function($base,$super){function $Time(){}{var def=($Time=$klass($base,$super,"Time",$Time),$Time._proto);$Time._scope}return def.$to_n=function(){var self=this;return self},nil}(self,null),function($base,$super){function $NilClass(){}{var def=($NilClass=$klass($base,$super,"NilClass",$NilClass),$NilClass._proto);$NilClass._scope}return def.$to_n=function(){return null},nil}(self,null),function($base,$super){function $Hash(){}var TMP_16,def=($Hash=$klass($base,$super,"Hash",$Hash),$Hash._proto),$scope=$Hash._scope;return def.$initialize=TMP_16=function(defaults){var self=this,$iter=TMP_16._p,block=$iter||nil;if(TMP_16._p=null,null!=defaults)if(defaults.constructor===Object){var map=self.map,keys=self.keys;for(var key in defaults){var value=defaults[key];map[key]=value&&value.constructor===Object?$scope.Hash.$new(value):self.$Native(defaults[key]),keys.push(key)}}else self.none=defaults;else block!==nil&&(self.proc=block);return self},def.$to_n=function(){for(var self=this,result={},keys=self.keys,map=self.map,i=0,length=keys.length;length>i;i++){var key=keys[i],obj=map[key];result[key]=obj["$respond_to?"]("to_n")?obj.$to_n():obj}return result},nil}(self,null),function($base,$super){function $Module(){}{var def=($Module=$klass($base,$super,"Module",$Module),$Module._proto);$Module._scope}return def.$native_module=function(){var self=this;return Opal.global[self.$name()]=self},nil}(self,null),function($base,$super){function $Class(){}{var self=$Class=$klass($base,$super,"Class",$Class),def=$Class._proto;$Class._scope}return def.$native_alias=function(jsid,mid){var self=this;return self._proto[jsid]=self._proto["$"+mid]},$opal.defn(self,"$native_class",def.$native_module)}(self,null),$gvars.$=$gvars.global=self.$Native(Opal.global)}(Opal),function($opal){var $scope=($opal.top,$opal),nil=$opal.nil,$gvars=($opal.breaker,$opal.slice,$opal.gvars),$hash2=$opal.hash2;return $opal.add_stubs(["$new"]),$gvars["&"]=$gvars["~"]=$gvars["`"]=$gvars["'"]=nil,$gvars[":"]=[],$gvars['"']=[],$gvars["/"]="\n",$gvars[","]=" ",$opal.cdecl($scope,"ARGV",[]),$opal.cdecl($scope,"ARGF",$scope.Object.$new()),$opal.cdecl($scope,"ENV",$hash2([],{})),$gvars.VERBOSE=!1,$gvars.DEBUG=!1,$gvars.SAFE=0,$opal.cdecl($scope,"RUBY_PLATFORM","opal"),$opal.cdecl($scope,"RUBY_ENGINE","opal"),$opal.cdecl($scope,"RUBY_VERSION","1.9.3"),$opal.cdecl($scope,"RUBY_ENGINE_VERSION","0.5.5"),$opal.cdecl($scope,"RUBY_RELEASE_DATE","2013-11-25")}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$slice=($opal.breaker,$opal.slice),$klass=$opal.klass,$module=$opal.module;return function($base,$super){function $Set(){}var TMP_1,TMP_4,TMP_6,self=$Set=$klass($base,$super,"Set",$Set),def=$Set._proto,$scope=$Set._scope;return def.hash=nil,self.$include($scope.Enumerable),$opal.defs(self,"$[]",function(ary){var self=this;return ary=$slice.call(arguments,0),self.$new(ary)}),def.$initialize=TMP_1=function(enum$){var $a,$b,TMP_2,self=this,$iter=TMP_1._p,block=$iter||nil;return null==enum$&&(enum$=nil),TMP_1._p=null,self.hash=$scope.Hash.$new(),($a=enum$["$nil?"]())!==!1&&$a!==nil?nil:block!==!1&&block!==nil?($a=($b=self).$do_with_enum,$a._p=(TMP_2=function(o){var self=TMP_2._s||this;return null==o&&(o=nil),self.$add(block["$[]"](o))},TMP_2._s=self,TMP_2),$a).call($b,enum$):self.$merge(enum$)},def["$=="]=function(other){var $a,$b,TMP_3,self=this;return($a=self["$equal?"](other))!==!1&&$a!==nil?!0:($a=other["$instance_of?"](self.$class()))!==!1&&$a!==nil?self.hash["$=="](other.$instance_variable_get("@hash")):($b=other["$is_a?"]($scope.Set),($a=$b!==!1&&$b!==nil?self.$size()["$=="](other.$size()):$b)!==!1&&$a!==nil?($a=($b=other)["$all?"],$a._p=(TMP_3=function(o){var self=TMP_3._s||this;return null==self.hash&&(self.hash=nil),null==o&&(o=nil),self.hash["$include?"](o)},TMP_3._s=self,TMP_3),$a).call($b):!1)},def.$add=function(o){var self=this;return self.hash["$[]="](o,!0),self},$opal.defn(self,"$<<",def.$add),def["$add?"]=function(o){var $a,self=this;return($a=self["$include?"](o))!==!1&&$a!==nil?nil:self.$add(o)},def.$each=TMP_4=function(){var $a,$b,self=this,$iter=TMP_4._p,block=$iter||nil;return TMP_4._p=null,block===nil?self.$enum_for("each"):(($a=($b=self.hash).$each_key,$a._p=block.$to_proc(),$a).call($b),self)},def["$empty?"]=function(){var self=this;return self.hash["$empty?"]()},def.$clear=function(){var self=this;return self.hash.$clear(),self},def["$include?"]=function(o){var self=this;return self.hash["$include?"](o)},$opal.defn(self,"$member?",def["$include?"]),def.$merge=function(enum$){var $a,$b,TMP_5,self=this;return($a=($b=self).$do_with_enum,$a._p=(TMP_5=function(o){var self=TMP_5._s||this;return null==o&&(o=nil),self.$add(o)},TMP_5._s=self,TMP_5),$a).call($b,enum$),self},def.$do_with_enum=TMP_6=function(enum$){var $a,$b,$iter=TMP_6._p,block=$iter||nil;return TMP_6._p=null,($a=($b=enum$).$each,$a._p=block.$to_proc(),$a).call($b)},def.$size=function(){var self=this;return self.hash.$size()},$opal.defn(self,"$length",def.$size),def.$to_a=function(){var self=this;return self.hash.$keys()},nil}(self,null),function($base){var TMP_7,self=$module($base,"Enumerable"),def=self._proto,$scope=self._scope;def.$to_set=TMP_7=function(klass,args){var $a,$b,self=this,$iter=TMP_7._p,block=$iter||nil;return args=$slice.call(arguments,1),null==klass&&(klass=$scope.Set),TMP_7._p=null,($a=($b=klass).$new,$a._p=block.$to_proc(),$a).apply($b,[self].concat(args))},$opal.donate(self,["$to_set"])}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$klass=($opal.breaker,$opal.slice,$opal.klass);return function($base,$super){function $StringScanner(){}{var self=$StringScanner=$klass($base,$super,"StringScanner",$StringScanner),def=$StringScanner._proto;$StringScanner._scope}return def.pos=def.string=def.working=def.prev_pos=def.matched=def.match=nil,self.$attr_reader("pos"),self.$attr_reader("matched"),def.$initialize=function(string){var self=this;return self.string=string,self.pos=0,self.matched=nil,self.working=string,self.match=[]},def["$bol?"]=function(){var self=this;return 0===self.pos||"\n"===self.string.charAt(self.pos-1)},def.$scan=function(regex){var self=this,regex=new RegExp("^"+regex.toString().substring(1,regex.toString().length-1)),result=regex.exec(self.working);return null==result?self.matched=nil:"object"==typeof result?(self.prev_pos=self.pos,self.pos+=result[0].length,self.working=self.working.substring(result[0].length),self.matched=result[0],self.match=result,result[0]):"string"==typeof result?(self.pos+=result.length,self.working=self.working.substring(result.length),result):nil},def["$[]"]=function(idx){var self=this,match=self.match;return 0>idx&&(idx+=match.length),0>idx||idx>=match.length?nil:match[idx]
},def.$check=function(regex){var self=this,regexp=new RegExp("^"+regex.toString().substring(1,regex.toString().length-1)),result=regexp.exec(self.working);return self.matched=null==result?nil:result[0]},def.$peek=function(length){var self=this;return self.working.substring(0,length)},def["$eos?"]=function(){var self=this;return 0===self.working.length},def.$skip=function(re){var self=this;re=new RegExp("^"+re.source);var result=re.exec(self.working);if(null==result)return self.matched=nil;var match_str=result[0],match_len=match_str.length;return self.matched=match_str,self.prev_pos=self.pos,self.pos+=match_len,self.working=self.working.substring(match_len),match_len},def.$get_byte=function(){var self=this,result=nil;return self.pos<self.string.length?(self.prev_pos=self.pos,self.pos+=1,result=self.matched=self.working.substring(0,1),self.working=self.working.substring(1)):self.matched=nil,result},$opal.defn(self,"$getch",def.$get_byte),def["$pos="]=function(pos){var self=this;return 0>pos&&(pos+=self.string.$length()),self.pos=pos,self.working=self.string.slice(pos)},def.$rest=function(){var self=this;return self.working},def.$terminate=function(){var self=this;return self.match=nil,self["$pos="](self.string.$length())},def.$unscan=function(){var self=this;return self.pos=self.prev_pos,self.prev_pos=nil,self.match=nil,self},nil}(self,null)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$klass=($opal.breaker,$opal.slice,$opal.klass);return function($base,$super){function $Dir(){}var self=$Dir=$klass($base,$super,"Dir",$Dir),$scope=($Dir._proto,$Dir._scope);return $opal.defs(self,"$pwd",function(){return"."}),$opal.defs(self,"$home",function(){return $scope.ENV["$[]"]("HOME")}),nil}(self,null)}(Opal),function($opal){var self=$opal.top,$scope=$opal,nil=$opal.nil,$klass=($opal.breaker,$opal.slice,$opal.klass);return function($base,$super){function $SecurityError(){}$SecurityError=$klass($base,$super,"SecurityError",$SecurityError),$SecurityError._proto,$SecurityError._scope;return nil}(self,$scope.Exception)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$slice=($opal.breaker,$opal.slice),$klass=$opal.klass,$range=$opal.range;return function($base,$super){function $File(){}var self=$File=$klass($base,$super,"File",$File),$scope=($File._proto,$File._scope);return $opal.cdecl($scope,"SEPARATOR","/"),$opal.cdecl($scope,"ALT_SEPARATOR",nil),$opal.defs(self,"$expand_path",function(path){return path}),$opal.defs(self,"$join",function(paths){return paths=$slice.call(arguments,0),paths["$*"]($scope.SEPARATOR)}),$opal.defs(self,"$basename",function(path){var $a;return path["$[]"]($range((($a=path.$rindex($scope.File._scope.SEPARATOR))!==!1&&$a!==nil?$a:-1)["$+"](1),-1,!1))}),$opal.defs(self,"$dirname",function(path){var $a;return path["$[]"]($range(0,(($a=path.$rindex($scope.SEPARATOR))!==!1&&$a!==nil?$a:0)["$-"](1),!1))}),$opal.defs(self,"$extname",function(path){var $a,last_dot_idx=nil;return($a=path.$to_s()["$empty?"]())!==!1&&$a!==nil?"":(last_dot_idx=path["$[]"]($range(1,-1,!1)).$rindex("."),($a=last_dot_idx["$nil?"]())!==!1&&$a!==nil?"":path["$[]"]($range(last_dot_idx["$+"](1),-1,!1)))}),nil}(self,null)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$breaker=$opal.breaker,$slice=$opal.slice,$module=$opal.module;return function($base){{var self=$module($base,"Asciidoctor");self._proto,self._scope}!function($base){var TMP_1,self=$module($base,"Debug"),$scope=(self._proto,self._scope);self.show_debug=nil,$opal.defs(self,"$debug",TMP_1=function(){var $a,self=this,$iter=TMP_1._p,$yield=$iter||nil;return TMP_1._p=null,($a=self["$show_debug_output?"]())!==!1&&$a!==nil?self.$warn(($a=$opal.$yieldX($yield,[]))===$breaker?$breaker.$v:$a):nil}),$opal.defs(self,"$set_debug",function(value){var self=this;return self.show_debug=value}),$opal.defs(self,"$show_debug_output?",function(){var $a,$b,$c,self=this;return null==self.show_debug&&(self.show_debug=nil),($a=self.show_debug)!==!1&&$a!==nil?$a:($b=$scope.ENV["$[]"]("DEBUG")["$=="]("true"))?($c=$scope.ENV["$[]"]("SUPPRESS_DEBUG")["$=="]("true"),$c===nil||$c===!1):$b}),$opal.defs(self,"$puts_indented",function(level,args){var $a,$b,TMP_2,self=this,indentation=nil;return args=$slice.call(arguments,1),indentation=" "["$*"](level)["$*"](2),($a=($b=args).$each,$a._p=(TMP_2=function(arg){var $a,$b,TMP_3,self=TMP_2._s||this;return null==arg&&(arg=nil),($a=($b=self).$debug,$a._p=(TMP_3=function(){TMP_3._s||this;return""+indentation+arg},TMP_3._s=self,TMP_3),$a).call($b)},TMP_2._s=self,TMP_2),$a).call($b)})}(self)}(self)}(Opal),function($opal){var self=$opal.top,$module=($opal.nil,$opal.breaker,$opal.slice,$opal.module);return function($base){var self=$module($base,"Asciidoctor"),$scope=(self._proto,self._scope);$opal.cdecl($scope,"VERSION","1.5.0.preview.1")}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$module=($opal.breaker,$opal.slice,$opal.module),$range=$opal.range,$gvars=$opal.gvars;return function($base){{var self=$module($base,"Asciidoctor");self._proto,self._scope}!function($base){var self=$module($base,"Helpers"),$scope=(self._proto,self._scope);$opal.defs(self,"$require_library",function(name,gem){var $a,self=this,e=nil;null==gem&&(gem=!0);try{return!0}catch($err){if($scope.LoadError["$==="]($err))return e=$err,self.$fail(gem!==!1&&gem!==nil?"asciidoctor: FAILED: required gem '"+function(){return($a=gem["$==="](!0))!==!1&&$a!==nil?name:gem}()+"' is not installed. Processing aborted.":"asciidoctor: FAILED: "+e.$message().$chomp(".")+". Processing aborted.");throw $err}}),$opal.defs(self,"$normalize_lines",function(data){var $a,self=this;return data.$class()["$=="](null==($a=$opal.Object._scope.String)?$opal.cm("String"):$a)?self.$normalize_lines_from_string(data):self.$normalize_lines_array(data)}),$opal.defs(self,"$normalize_lines_array",function(data){var $a,$b,TMP_1,$c,TMP_2,$d,TMP_3,$e,TMP_4,self=this,utf8=nil,leading_bytes=nil,first_line=nil,leading_2_bytes=nil;return($a=data.$size()["$>"](0))===!1||$a===nil?[]:($a=$scope.COERCE_ENCODING)!==!1&&$a!==nil?(utf8=(null==($a=$opal.Object._scope.Encoding)?$opal.cm("Encoding"):$a)._scope.UTF_8,leading_bytes=function(){return($a=first_line=data.$first())!==!1&&$a!==nil?first_line["$[]"]($range(0,2,!1)).$bytes().$to_a():nil}(),(leading_2_bytes=leading_bytes["$[]"]($range(0,1,!1)))["$=="]($scope.BOM_BYTES_UTF_16LE)?($a=($b=data.$join().$force_encoding((null==($c=$opal.Object._scope.Encoding)?$opal.cm("Encoding"):$c)._scope.UTF_16LE)["$[]"]($range(1,-1,!1)).$encode(utf8).$lines()).$map,$a._p=(TMP_1=function(line){TMP_1._s||this;return null==line&&(line=nil),line.$rstrip()},TMP_1._s=self,TMP_1),$a).call($b):leading_2_bytes["$=="]($scope.BOM_BYTES_UTF_16BE)?(data["$[]="](0,first_line.$force_encoding((null==($a=$opal.Object._scope.Encoding)?$opal.cm("Encoding"):$a)._scope.UTF_16BE)["$[]"]($range(1,-1,!1))),($a=($c=data).$map,$a._p=(TMP_2=function(line){{var $a;TMP_2._s||this}return null==line&&(line=nil),""+line.$force_encoding((null==($a=$opal.Object._scope.Encoding)?$opal.cm("Encoding"):$a)._scope.UTF_16BE).$encode(utf8).$rstrip()},TMP_2._s=self,TMP_2),$a).call($c)):(leading_bytes["$[]"]($range(0,2,!1))["$=="]($scope.BOM_BYTES_UTF_8)&&data["$[]="](0,first_line.$force_encoding(utf8)["$[]"]($range(1,-1,!1))),($a=($d=data).$map,$a._p=(TMP_3=function(line){TMP_3._s||this;return null==line&&(line=nil),line.$encoding()["$=="](utf8)?line.$rstrip():line.$force_encoding(utf8).$rstrip()},TMP_3._s=self,TMP_3),$a).call($d))):($e=first_line=data.$first(),($a=$e!==!1&&$e!==nil?first_line["$[]"]($range(0,2,!1)).$bytes().$to_a()["$=="]($scope.BOM_BYTES_UTF_8):$e)!==!1&&$a!==nil&&data["$[]="](0,first_line["$[]"]($range(3,-1,!1))),($a=($e=data).$map,$a._p=(TMP_4=function(line){TMP_4._s||this;return null==line&&(line=nil),line.$rstrip()},TMP_4._s=self,TMP_4),$a).call($e))}),$opal.defs(self,"$normalize_lines_from_string",function(data){var $a,$b,TMP_5,self=this,utf8=nil,leading_bytes=nil,leading_2_bytes=nil;return($a=($b=data["$nil?"]())!==!1&&$b!==nil?$b:data["$=="](""))!==!1&&$a!==nil?[]:(($a=$scope.COERCE_ENCODING)!==!1&&$a!==nil?(utf8=(null==($a=$opal.Object._scope.Encoding)?$opal.cm("Encoding"):$a)._scope.UTF_8,leading_bytes=data["$[]"]($range(0,2,!1)).$bytes().$to_a(),(leading_2_bytes=leading_bytes["$[]"]($range(0,1,!1)))["$=="]($scope.BOM_BYTES_UTF_16LE)?data=data.$force_encoding((null==($a=$opal.Object._scope.Encoding)?$opal.cm("Encoding"):$a)._scope.UTF_16LE)["$[]"]($range(1,-1,!1)).$encode(utf8):leading_2_bytes["$=="]($scope.BOM_BYTES_UTF_16BE)?data=data.$force_encoding((null==($a=$opal.Object._scope.Encoding)?$opal.cm("Encoding"):$a)._scope.UTF_16BE)["$[]"]($range(1,-1,!1)).$encode(utf8):leading_bytes["$[]"]($range(0,2,!1))["$=="]($scope.BOM_BYTES_UTF_8)?data=function(){return data.$encoding()["$=="](utf8)?data["$[]"]($range(1,-1,!1)):data.$force_encoding(utf8)["$[]"]($range(1,-1,!1))}():(($a=data.$encoding()["$=="](utf8))===!1||$a===nil)&&(data=data.$force_encoding(utf8))):data["$[]"]($range(0,2,!1)).$bytes().$to_a()["$=="]($scope.BOM_BYTES_UTF_8)&&(data=data["$[]"]($range(3,-1,!1))),($a=($b=data.$each_line()).$map,$a._p=(TMP_5=function(line){TMP_5._s||this;return null==line&&(line=nil),line.$rstrip()},TMP_5._s=self,TMP_5),$a).call($b))}),$opal.defs(self,"$encode_uri",function(str){var $a,$b,TMP_6,self=this;return($a=($b=str).$gsub,$a._p=(TMP_6=function(){var $a,$b,TMP_7,self=TMP_6._s||this;return($a=($b=$gvars["&"].$each_byte()).$map,$a._p=(TMP_7=function(c){var self=TMP_7._s||this;return null==c&&(c=nil),self.$sprintf("%%%02X",c)},TMP_7._s=self,TMP_7),$a).call($b).$join()},TMP_6._s=self,TMP_6),$a).call($b,$scope.REGEXP["$[]"]("uri_encode_chars"))}),$opal.defs(self,"$rootname",function(file_name){var $a,ext=nil;return ext=$scope.File.$extname(file_name),($a=ext["$empty?"]())!==!1&&$a!==nil?file_name:file_name["$[]"]($range(0,ext.$length()["$-@"](),!0))}),$opal.defs(self,"$mkdir_p",function(dir){var $a,$b,$c,self=this,parent_dir=nil;return($a=$scope.File["$directory?"](dir))!==!1&&$a!==nil?nil:(parent_dir=$scope.File.$dirname(dir),$c=$scope.File["$directory?"](parent_dir=$scope.File.$dirname(dir)),$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?($c=parent_dir["$=="]("."),$c===nil||$c===!1):$b)!==!1&&$a!==nil&&self.$mkdir_p(parent_dir),$scope.Dir.$mkdir(dir))}),$opal.defs(self,"$clone_options",function(opts){var $a,clone=nil;return clone=opts.$dup(),($a=opts["$has_key?"]("attributes"))!==!1&&$a!==nil&&clone["$[]="]("attributes",opts["$[]"]("attributes").$dup()),clone})}(self)}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$breaker=$opal.breaker,$slice=$opal.slice,$module=$opal.module,$hash2=$opal.hash2,$gvars=$opal.gvars,$range=$opal.range;return function($base){{var self=$module($base,"Asciidoctor");self._proto,self._scope}!function($base){var self=$module($base,"Substitutors"),def=self._proto,$scope=self._scope;$opal.cdecl($scope,"SUBS",$hash2(["basic","normal","verbatim","title","header","pass"],{basic:["specialcharacters"],normal:["specialcharacters","quotes","attributes","replacements","macros","post_replacements"],verbatim:["specialcharacters","callouts"],title:["specialcharacters","quotes","replacements","macros","attributes","post_replacements"],header:["specialcharacters","attributes"],pass:[]})),$opal.cdecl($scope,"COMPOSITE_SUBS",$hash2(["none","normal","verbatim","specialchars"],{none:[],normal:$scope.SUBS["$[]"]("normal"),verbatim:$scope.SUBS["$[]"]("verbatim"),specialchars:["specialcharacters"]})),$opal.cdecl($scope,"SUB_SYMBOLS",$hash2(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),$opal.cdecl($scope,"SUB_OPTIONS",$hash2(["block","inline"],{block:$scope.COMPOSITE_SUBS.$keys()["$+"]($scope.SUBS["$[]"]("normal"))["$+"](["callouts"]),inline:$scope.COMPOSITE_SUBS.$keys()["$+"]($scope.SUBS["$[]"]("normal"))})),self.$attr_reader("passthroughs"),def.$apply_subs=function(source,subs,expand){var $a,$b,TMP_1,$c,TMP_2,self=this,effective_subs=nil,multiline=nil,text=nil,has_passthroughs=nil;if(null==subs&&(subs="normal"),null==expand&&(expand=!1),subs["$=="]("normal"))subs=$scope.SUBS["$[]"]("normal");else{if(($a=subs["$nil?"]())!==!1&&$a!==nil)return source;expand!==!1&&expand!==nil&&(($a=subs["$is_a?"]($scope.Symbol))!==!1&&$a!==nil?subs=($a=$scope.COMPOSITE_SUBS["$[]"](subs))!==!1&&$a!==nil?$a:[subs]:(effective_subs=[],($a=($b=subs).$each,$a._p=(TMP_1=function(key){{var $a;TMP_1._s||this}return null==key&&(key=nil),($a=$scope.COMPOSITE_SUBS["$has_key?"](key))!==!1&&$a!==nil?effective_subs=effective_subs["$+"]($scope.COMPOSITE_SUBS["$[]"](key)):effective_subs["$<<"](key)},TMP_1._s=self,TMP_1),$a).call($b),subs=effective_subs))}return($a=subs["$empty?"]())!==!1&&$a!==nil?source:(multiline=source["$is_a?"](null==($a=$opal.Object._scope.Array)?$opal.cm("Array"):$a),text=function(){return multiline!==!1&&multiline!==nil?source["$*"]($scope.EOL):source}(),($a=has_passthroughs=subs["$include?"]("macros"))!==!1&&$a!==nil&&(text=self.$extract_passthroughs(text)),($a=($c=subs).$each,$a._p=(TMP_2=function(type){var $a,self=TMP_2._s||this,$case=nil;return null==type&&(type=nil),function(){return $case=type,"specialcharacters"["$==="]($case)?text=self.$sub_specialcharacters(text):"quotes"["$==="]($case)?text=self.$sub_quotes(text):"attributes"["$==="]($case)?text=self.$sub_attributes(text.$split($scope.LINE_SPLIT))["$*"]($scope.EOL):"replacements"["$==="]($case)?text=self.$sub_replacements(text):"macros"["$==="]($case)?text=self.$sub_macros(text):"highlight"["$==="]($case)?text=self.$highlight_source(text,subs["$include?"]("callouts")):"callouts"["$==="]($case)?($a=subs["$include?"]("highlight"))!==!1&&$a!==nil?nil:text=self.$sub_callouts(text):"post_replacements"["$==="]($case)?text=self.$sub_post_replacements(text):self.$warn("asciidoctor: WARNING: unknown substitution type "+type)}()},TMP_2._s=self,TMP_2),$a).call($c),has_passthroughs!==!1&&has_passthroughs!==nil&&(text=self.$restore_passthroughs(text)),multiline!==!1&&multiline!==nil?text.$split($scope.LINE_SPLIT):text)},def.$apply_normal_subs=function(lines){var $a,$b,self=this;return self.$apply_subs(function(){return($a=lines["$is_a?"](null==($b=$opal.Object._scope.Array)?$opal.cm("Array"):$b))!==!1&&$a!==nil?lines["$*"]($scope.EOL):lines}())},def.$apply_title_subs=function(title){var self=this;return self.$apply_subs(title,$scope.SUBS["$[]"]("title"))},def.$apply_header_subs=function(text){var self=this;return self.$apply_subs(text,$scope.SUBS["$[]"]("header"))},def.$extract_passthroughs=function(text){var $a,$b,$c,TMP_3,TMP_4,$d,TMP_5,self=this;return($a=($b=($c=text["$include?"]("+++"))!==!1&&$c!==nil?$c:text["$include?"]("$$"))!==!1&&$b!==nil?$b:text["$include?"]("pass:"))!==!1&&$a!==nil&&(text=($a=($b=text).$gsub,$a._p=(TMP_3=function(){var $a,$b,self=TMP_3._s||this,m=nil,subslist=nil,subs=nil,index=nil;return null==self.passthroughs&&(self.passthroughs=nil),m=$gvars["~"],($a=m["$[]"](0)["$start_with?"]("\\"))!==!1&&$a!==nil?m["$[]"](0)["$[]"]($range(1,-1,!1)):($b=(text=m["$[]"](4))["$nil?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil?(text=self.$unescape_brackets(text),$b=(subslist=m["$[]"](3).$to_s())["$empty?"](),subs=($a=$b===nil||$b===!1)!=!1&&$a!==nil?self.$resolve_pass_subs(subslist):[]):(text=m["$[]"](2),subs=function(){return m["$[]"](1)["$=="]("$$")?["specialcharacters"]:[]}()),self.passthroughs["$<<"]($hash2(["text","subs"],{text:text,subs:subs})),index=self.passthroughs.$size()["$-"](1),""+$scope.PASS_PLACEHOLDER["$[]"]("start")+index+$scope.PASS_PLACEHOLDER["$[]"]("end"))},TMP_3._s=self,TMP_3),$a).call($b,$scope.REGEXP["$[]"]("pass_macro"))),($a=text["$include?"]("`"))!==!1&&$a!==nil&&(text=($a=($c=text).$gsub,$a._p=(TMP_4=function(){var $a,$b,$c,self=TMP_4._s||this,m=nil,unescaped_attrs=nil,attributes=nil,index=nil;return null==self.passthroughs&&(self.passthroughs=nil),m=$gvars["~"],unescaped_attrs=nil,($a=m["$[]"](3)["$start_with?"]("\\"))!==!1&&$a!==nil?function(){return($a=m["$[]"](2)["$nil?"]())!==!1&&$a!==nil?""+m["$[]"](1)+m["$[]"](3)["$[]"]($range(1,-1,!1)):""+m["$[]"](1)+"["+m["$[]"](2)+"]"+m["$[]"](3)["$[]"]($range(1,-1,!1))}():(($a=($b=m["$[]"](1)["$=="]("\\"))?($c=m["$[]"](2)["$nil?"](),$c===nil||$c===!1):$b)!==!1&&$a!==nil&&(unescaped_attrs="["+m["$[]"](2)+"]"),$b=unescaped_attrs["$nil?"](),attributes=($a=$b!==!1&&$b!==nil?($c=m["$[]"](2)["$nil?"](),$c===nil||$c===!1):$b)!==!1&&$a!==nil?self.$parse_attributes(m["$[]"](2)):$hash2([],{}),self.passthroughs["$<<"]($hash2(["text","subs","attributes","type"],{text:m["$[]"](4),subs:["specialcharacters"],attributes:attributes,type:"monospaced"})),index=self.passthroughs.$size()["$-"](1),""+(($a=unescaped_attrs)!==!1&&$a!==nil?$a:m["$[]"](1))+$scope.PASS_PLACEHOLDER["$[]"]("start")+index+$scope.PASS_PLACEHOLDER["$[]"]("end"))},TMP_4._s=self,TMP_4),$a).call($c,$scope.REGEXP["$[]"]("pass_lit"))),($a=text["$include?"]("math:"))!==!1&&$a!==nil&&(text=($a=($d=text).$gsub,$a._p=(TMP_5=function(){var $a,$b,self=TMP_5._s||this,m=nil,type=nil,default_type=nil,subslist=nil,subs=nil,index=nil;return null==self.document&&(self.document=nil),null==self.passthroughs&&(self.passthroughs=nil),m=$gvars["~"],($a=m["$[]"](0)["$start_with?"]("\\"))!==!1&&$a!==nil?m["$[]"](0)["$[]"]($range(1,-1,!1)):(type=m["$[]"](1).$to_sym(),type["$=="]("math")&&(type=function(){return(default_type=self.$document().$attributes()["$[]"]("math").$to_s())["$=="]("")?"asciimath":default_type}().$to_sym()),text=self.$unescape_brackets(m["$[]"](3)),$b=(subslist=m["$[]"](2).$to_s())["$empty?"](),subs=($a=$b===nil||$b===!1)!=!1&&$a!==nil?self.$resolve_pass_subs(subslist):function(){return($a=self.document["$basebackend?"]("html"))!==!1&&$a!==nil?["specialcharacters"]:[]}(),self.passthroughs["$<<"]($hash2(["text","subs","type"],{text:text,subs:subs,type:type})),index=self.passthroughs.$size()["$-"](1),""+$scope.PASS_PLACEHOLDER["$[]"]("start")+index+$scope.PASS_PLACEHOLDER["$[]"]("end"))},TMP_5._s=self,TMP_5),$a).call($d,$scope.REGEXP["$[]"]("inline_math_macro"))),text},def.$restore_passthroughs=function(text){var $a,$b,$c,TMP_6,self=this;return null==self.passthroughs&&(self.passthroughs=nil),($a=($b=($c=self.passthroughs["$nil?"]())!==!1&&$c!==nil?$c:self.passthroughs["$empty?"]())!==!1&&$b!==nil?$b:($c=text["$include?"]($scope.PASS_PLACEHOLDER["$[]"]("start")),$c===nil||$c===!1))!==!1&&$a!==nil?text:($a=($b=text).$gsub,$a._p=(TMP_6=function(){var $a,self=TMP_6._s||this,pass=nil,subbed_text=nil;return null==self.passthroughs&&(self.passthroughs=nil),pass=self.passthroughs["$[]"]($gvars["~"]["$[]"](1).$to_i()),subbed_text=self.$apply_subs(pass["$[]"]("text"),pass.$fetch("subs",[])),($a=pass["$[]"]("type"))!==!1&&$a!==nil?$scope.Inline.$new(self,"quoted",subbed_text,$hash2(["type","attributes"],{type:pass["$[]"]("type"),attributes:pass.$fetch("attributes",$hash2([],{}))})).$render():subbed_text},TMP_6._s=self,TMP_6),$a).call($b,$scope.PASS_PLACEHOLDER["$[]"]("match"))},def.$sub_specialcharacters=function(text){var $a,$b,TMP_7,self=this;return($a=($b=text).$gsub,$a._p=(TMP_7=function(){TMP_7._s||this;return $scope.SPECIAL_CHARS["$[]"]($gvars["&"])},TMP_7._s=self,TMP_7),$a).call($b,$scope.SPECIAL_CHARS_PATTERN)},$opal.defn(self,"$sub_specialchars",def.$sub_specialcharacters),def.$sub_quotes=function(text){var $a,$b,TMP_8,$c,TMP_10,self=this,result=nil;return($a=null==($b=$opal.Object._scope.RUBY_ENGINE_OPAL)?$opal.cm("RUBY_ENGINE_OPAL"):$b)!==!1&&$a!==nil?(result=text,($a=($b=$scope.QUOTE_SUBS).$each,$a._p=(TMP_8=function(type,scope,pattern){var $a,$b,TMP_9,self=TMP_8._s||this;return null==type&&(type=nil),null==scope&&(scope=nil),null==pattern&&(pattern=nil),result=($a=($b=result).$gsub,$a._p=(TMP_9=function(){var self=TMP_9._s||this;return self.$transform_quoted_text($gvars["~"],type,scope)},TMP_9._s=self,TMP_9),$a).call($b,pattern)},TMP_8._s=self,TMP_8),$a).call($b)):(result=text.$dup(),($a=($c=$scope.QUOTE_SUBS).$each,$a._p=(TMP_10=function(type,scope,pattern){var $a,$b,TMP_11,self=TMP_10._s||this;return null==type&&(type=nil),null==scope&&(scope=nil),null==pattern&&(pattern=nil),($a=($b=result)["$gsub!"],$a._p=(TMP_11=function(){var self=TMP_11._s||this;return self.$transform_quoted_text($gvars["~"],type,scope)},TMP_11._s=self,TMP_11),$a).call($b,pattern)},TMP_10._s=self,TMP_10),$a).call($c)),result},def.$sub_replacements=function(text){var $a,$b,TMP_12,$c,TMP_14,self=this,result=nil;return($a=null==($b=$opal.Object._scope.RUBY_ENGINE_OPAL)?$opal.cm("RUBY_ENGINE_OPAL"):$b)!==!1&&$a!==nil?(result=text,($a=($b=$scope.REPLACEMENTS).$each,$a._p=(TMP_12=function(pattern,replacement,restore){var $a,$b,TMP_13,self=TMP_12._s||this;return null==pattern&&(pattern=nil),null==replacement&&(replacement=nil),null==restore&&(restore=nil),result=($a=($b=result).$gsub,$a._p=(TMP_13=function(){var self=TMP_13._s||this;return self.$do_replacement($gvars["~"],replacement,restore)},TMP_13._s=self,TMP_13),$a).call($b,pattern)},TMP_12._s=self,TMP_12),$a).call($b)):(result=text.$dup(),($a=($c=$scope.REPLACEMENTS).$each,$a._p=(TMP_14=function(pattern,replacement,restore){var $a,$b,TMP_15,self=TMP_14._s||this;return null==pattern&&(pattern=nil),null==replacement&&(replacement=nil),null==restore&&(restore=nil),($a=($b=result)["$gsub!"],$a._p=(TMP_15=function(){var self=TMP_15._s||this;return self.$do_replacement($gvars["~"],replacement,restore)},TMP_15._s=self,TMP_15),$a).call($b,pattern)},TMP_14._s=self,TMP_14),$a).call($c)),result},def.$do_replacement=function(m,replacement,restore){var $a,matched=nil,$case=nil;return($a=(matched=m["$[]"](0))["$include?"]("\\"))!==!1&&$a!==nil?matched.$tr("\\",""):function(){return $case=restore,"none"["$==="]($case)?replacement:"leading"["$==="]($case)?""+m["$[]"](1)+replacement:"bounding"["$==="]($case)?""+m["$[]"](1)+replacement+m["$[]"](2):nil}()},def.$sub_attributes=function(data,opts){var $a,$b,TMP_16,self=this,string_data=nil,lines=nil,result=nil;return null==opts&&(opts=$hash2([],{})),($a=($b=data["$nil?"]())!==!1&&$b!==nil?$b:data["$empty?"]())!==!1&&$a!==nil?data:(string_data=data["$is_a?"]($scope.String),lines=function(){return string_data!==!1&&string_data!==nil?[data]:data}(),result=[],($a=($b=lines).$each,$a._p=(TMP_16=function(line){var $a,$b,TMP_17,$c,$d,self=TMP_16._s||this,reject=nil,reject_if_empty=nil;return null==line&&(line=nil),reject=!1,reject_if_empty=!1,($a=line["$include?"]("{"))!==!1&&$a!==nil&&(line=($a=($b=line).$gsub,$a._p=(TMP_17=function(){var $a,$b,TMP_18,$c,TMP_19,self=TMP_17._s||this,m=nil,directive=nil,offset=nil,expr=nil,$case=nil,args=nil,_=nil,value=nil,val=nil,key=nil;return null==self.document&&(self.document=nil),m=$gvars["~"],($a=($b=m["$[]"](1)["$=="]("\\"))!==!1&&$b!==nil?$b:m["$[]"](4)["$=="]("\\"))!==!1&&$a!==nil?"{"+m["$[]"](2)+"}":($b=(directive=m["$[]"](3)).$to_s()["$empty?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil?(offset=directive.$length()["$+"](1),expr=m["$[]"](2)["$[]"]($range(offset,-1,!1)),function(){return $case=directive,"set"["$==="]($case)?(args=expr.$split(":"),$a=$opal.to_ary($scope.Lexer.$store_attribute(args["$[]"](0),($b=args["$[]"](1))!==!1&&$b!==nil?$b:"",self.document)),_=null==$a[0]?nil:$a[0],value=null==$a[1]?nil:$a[1],($a=value["$nil?"]())!==!1&&$a!==nil&&self.document.$attributes().$fetch("attribute-undefined",$scope.Compliance.$attribute_undefined())["$=="]("drop-line")?(($a=($b=$scope.Debug).$debug,$a._p=(TMP_18=function(){var self=TMP_18._s||this;return"Undefining attribute: "+self.$key()+", line marked for removal"},TMP_18._s=self,TMP_18),$a).call($b),reject=!0,$breaker.$v="",$breaker):(reject_if_empty=!0,"")):"counter"["$==="]($case)||"counter2"["$==="]($case)?(args=expr.$split(":"),val=self.document.$counter(args["$[]"](0),args["$[]"](1)),directive["$=="]("counter2")?(reject_if_empty=!0,""):val):(self.$warn("asciidoctor: WARNING: illegal attribute directive: "+m["$[]"](2)),m["$[]"](0))}()):($c=key=m["$[]"](2).$downcase(),($a=$c!==!1&&$c!==nil?self.document.$attributes()["$has_key?"](key):$c)!==!1&&$a!==nil?self.document.$attributes()["$[]"](key):($a=$scope.INTRINSICS["$has_key?"](key))!==!1&&$a!==nil?$scope.INTRINSICS["$[]"](key):function(){return $case=($a=opts["$[]"]("attribute_missing"))!==!1&&$a!==nil?$a:self.document.$attributes().$fetch("attribute-missing",$scope.Compliance.$attribute_missing()),"skip"["$==="]($case)?m["$[]"](0):"drop-line"["$==="]($case)?(($a=($c=$scope.Debug).$debug,$a._p=(TMP_19=function(){TMP_19._s||this;return"Missing attribute: "+key+", line marked for removal"},TMP_19._s=self,TMP_19),$a).call($c),reject=!0,$breaker.$v="",$breaker):(reject_if_empty=!0,"")}()))},TMP_17._s=self,TMP_17),$a).call($b,$scope.REGEXP["$[]"]("attr_ref"))),($a=($c=reject)!==!1&&$c!==nil?$c:($d=reject_if_empty!==!1&&reject_if_empty!==nil)?line["$empty?"]():$d)!==!1&&$a!==nil?nil:result["$<<"](line)},TMP_16._s=self,TMP_16),$a).call($b),string_data!==!1&&string_data!==nil?result["$*"]($scope.EOL):result)},def.$sub_macros=function(source){var $a,$b,$c,TMP_20,TMP_22,$d,TMP_23,$e,$f,TMP_24,$g,TMP_26,TMP_27,$h,TMP_28,$i,$j,TMP_29,TMP_30,$k,TMP_31,self=this,found=nil,use_link_attrs=nil,experimental=nil,result=nil,extensions=nil;return null==self.document&&(self.document=nil),($a=($b=source["$nil?"]())!==!1&&$b!==nil?$b:source["$empty?"]())!==!1&&$a!==nil?source:(found=$hash2([],{}),found["$[]="]("square_bracket",source["$include?"]("[")),found["$[]="]("round_bracket",source["$include?"]("(")),found["$[]="]("colon",source["$include?"](":")),found["$[]="]("macroish",($a=found["$[]"]("square_bracket"),$a!==!1&&$a!==nil?found["$[]"]("colon"):$a)),found["$[]="]("macroish_short_form",($b=found["$[]"]("square_bracket"),$a=$b!==!1&&$b!==nil?found["$[]"]("colon"):$b,$a!==!1&&$a!==nil?source["$include?"](":["):$a)),use_link_attrs=self.document.$attributes()["$has_key?"]("linkattrs"),experimental=self.document.$attributes()["$has_key?"]("experimental"),result=source.$dup(),experimental!==!1&&experimental!==nil&&($b=found["$[]"]("macroish_short_form"),($a=$b!==!1&&$b!==nil?($c=result["$include?"]("kbd:"))!==!1&&$c!==nil?$c:result["$include?"]("btn:"):$b)!==!1&&$a!==nil&&(result=($a=($b=result).$gsub,$a._p=(TMP_20=function(){var $a,$b,TMP_21,self=TMP_20._s||this,m=nil,captured=nil,keys=nil,label=nil;return m=$gvars["~"],($a=(captured=m["$[]"](0))["$start_with?"]("\\"))!==!1&&$a!==nil?captured["$[]"]($range(1,-1,!1)):($a=captured["$start_with?"]("kbd"))!==!1&&$a!==nil?(keys=self.$unescape_bracketed_text(m["$[]"](1)),keys=keys["$=="]("+")?["+"]:($a=($b=keys.$split($scope.REGEXP["$[]"]("kbd_delim"))).$inject,$a._p=(TMP_21=function(c,key){{var $a;TMP_21._s||this}return null==c&&(c=nil),null==key&&(key=nil),($a=key["$end_with?"]("++"))!==!1&&$a!==nil?(c["$<<"](key["$[]"]($range(0,-3,!1)).$strip()),c["$<<"]("+")):c["$<<"](key.$strip()),c},TMP_21._s=self,TMP_21),$a).call($b,[]),$scope.Inline.$new(self,"kbd",nil,$hash2(["attributes"],{attributes:$hash2(["keys"],{keys:keys})})).$render()):($a=captured["$start_with?"]("btn"))!==!1&&$a!==nil?(label=self.$unescape_bracketed_text(m["$[]"](1)),$scope.Inline.$new(self,"button",label).$render()):nil},TMP_20._s=self,TMP_20),$a).call($b,$scope.REGEXP["$[]"]("kbd_btn_macro"))),$c=found["$[]"]("macroish"),($a=$c!==!1&&$c!==nil?result["$include?"]("menu:"):$c)!==!1&&$a!==nil&&(result=($a=($c=result).$gsub,$a._p=(TMP_22=function(){var $a,$b,self=TMP_22._s||this,m=nil,captured=nil,menu=nil,items=nil,submenus=nil,menuitem=nil,delim=nil;return m=$gvars["~"],($a=(captured=m["$[]"](0))["$start_with?"]("\\"))!==!1&&$a!==nil?captured["$[]"]($range(1,-1,!1)):(menu=m["$[]"](1),items=m["$[]"](2),($a=items["$nil?"]())!==!1&&$a!==nil?(submenus=[],menuitem=nil):($a=delim=function(){return($b=items["$include?"]("&gt;"))!==!1&&$b!==nil?"&gt;":function(){return($b=items["$include?"](","))!==!1&&$b!==nil?",":nil}()}())!==!1&&$a!==nil?(submenus=($a=($b=items.$split(delim)).$map,$a._p="strip".$to_proc(),$a).call($b),menuitem=submenus.$pop()):(submenus=[],menuitem=items.$rstrip()),$scope.Inline.$new(self,"menu",nil,$hash2(["attributes"],{attributes:$hash2(["menu","submenus","menuitem"],{menu:menu,submenus:submenus,menuitem:menuitem})})).$render())},TMP_22._s=self,TMP_22),$a).call($c,$scope.REGEXP["$[]"]("menu_macro"))),$d=result["$include?"]('"'),($a=$d!==!1&&$d!==nil?result["$include?"]("&gt;"):$d)!==!1&&$a!==nil&&(result=($a=($d=result).$gsub,$a._p=(TMP_23=function(){var $a,$b,$c,self=TMP_23._s||this,m=nil,captured=nil,input=nil,menu=nil,submenus=nil,menuitem=nil;return m=$gvars["~"],($a=(captured=m["$[]"](0))["$start_with?"]("\\"))!==!1&&$a!==nil?captured["$[]"]($range(1,-1,!1)):(input=m["$[]"](1),$a=$opal.to_ary(($b=($c=input.$split("&gt;")).$map,$b._p="strip".$to_proc(),$b).call($c)),menu=null==$a[0]?nil:$a[0],submenus=$slice.call($a,1),menuitem=submenus.$pop(),$scope.Inline.$new(self,"menu",nil,$hash2(["attributes"],{attributes:$hash2(["menu","submenus","menuitem"],{menu:menu,submenus:submenus,menuitem:menuitem})})).$render())},TMP_23._s=self,TMP_23),$a).call($d,$scope.REGEXP["$[]"]("menu_inline_macro")))),$f=extensions=self.document.$extensions(),$e=$f!==!1&&$f!==nil?extensions["$inline_macros?"]():$f,($a=$e!==!1&&$e!==nil?found["$[]"]("macroish"):$e)!==!1&&$a!==nil&&($a=($e=extensions.$load_inline_macro_processors(self.document)).$each,$a._p=(TMP_24=function(processor){var $a,$b,TMP_25,self=TMP_24._s||this;return null==processor&&(processor=nil),result=($a=($b=result).$gsub,$a._p=(TMP_25=function(){var $a,self=TMP_25._s||this,m=nil,target=nil,attributes=nil,posattrs=nil;return m=$gvars["~"],($a=m["$[]"](0)["$start_with?"]("\\"))!==!1&&$a!==nil?m["$[]"](0)["$[]"]($range(1,-1,!1)):(target=m["$[]"](1),($a=processor.$options()["$[]"]("short_form"))!==!1&&$a!==nil?attributes=$hash2([],{}):(posattrs=processor.$options().$fetch("pos_attrs",[]),attributes=self.$parse_attributes(m["$[]"](2),posattrs,$hash2(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0}))),processor.$process(self,target,attributes))},TMP_25._s=self,TMP_25),$a).call($b,processor.$regexp())},TMP_24._s=self,TMP_24),$a).call($e),$f=found["$[]"]("macroish"),($a=$f!==!1&&$f!==nil?($g=result["$include?"]("image:"))!==!1&&$g!==nil?$g:result["$include?"]("icon:"):$f)!==!1&&$a!==nil&&(result=($a=($f=result).$gsub,$a._p=(TMP_26=function(){var $a,$b,self=TMP_26._s||this,m=nil,raw_attrs=nil,type=nil,posattrs=nil,target=nil,attrs=nil;return null==self.document&&(self.document=nil),m=$gvars["~"],($a=m["$[]"](0)["$start_with?"]("\\"))!==!1&&$a!==nil?m["$[]"](0)["$[]"]($range(1,-1,!1)):(raw_attrs=self.$unescape_bracketed_text(m["$[]"](2)),($a=m["$[]"](0)["$start_with?"]("icon:"))!==!1&&$a!==nil?(type="icon",posattrs=["size"]):(type="image",posattrs=["alt","width","height"]),target=self.$sub_attributes(m["$[]"](1)),(($a=type["$=="]("icon"))===!1||$a===nil)&&self.document.$register("images",target),attrs=self.$parse_attributes(raw_attrs,posattrs),$b=attrs["$[]"]("alt"),($a=$b===nil||$b===!1)!=!1&&$a!==nil&&attrs["$[]="]("alt",$scope.File.$basename(target,$scope.File.$extname(target))),$scope.Inline.$new(self,"image",nil,$hash2(["type","target","attributes"],{type:type,target:target,attributes:attrs})).$render())},TMP_26._s=self,TMP_26),$a).call($f,$scope.REGEXP["$[]"]("image_macro"))),($a=($g=found["$[]"]("macroish_short_form"))!==!1&&$g!==nil?$g:found["$[]"]("round_bracket"))!==!1&&$a!==nil&&(result=($a=($g=result).$gsub,$a._p=(TMP_27=function(){var $a,$b,self=TMP_27._s||this,m=nil,num_brackets=nil,text_in_brackets=nil,macro_name=nil,terms=nil,text=nil;return null==self.document&&(self.document=nil),m=$gvars["~"],($a=m["$[]"](0)["$start_with?"]("\\"))!==!1&&$a!==nil?m["$[]"](0)["$[]"]($range(1,-1,!1)):(num_brackets=0,text_in_brackets=nil,($a=(macro_name=m["$[]"](1))["$nil?"]())!==!1&&$a!==nil&&(text_in_brackets=m["$[]"](3),$b=text_in_brackets["$start_with?"]("("),($a=$b!==!1&&$b!==nil?text_in_brackets["$end_with?"](")"):$b)!==!1&&$a!==nil?(text_in_brackets=text_in_brackets["$[]"]($range(1,-1,!0)),num_brackets=3):num_brackets=2),($a=($b=macro_name["$=="]("indexterm"))!==!1&&$b!==nil?$b:num_brackets["$=="](3))!==!1&&$a!==nil?(terms=self.$split_simple_csv(($a=macro_name["$nil?"]())!==!1&&$a!==nil?self.$normalize_string(text_in_brackets):self.$normalize_string(m["$[]"](2),!0)),self.document.$register("indexterms",[].concat(terms)),$scope.Inline.$new(self,"indexterm",nil,$hash2(["attributes"],{attributes:$hash2(["terms"],{terms:terms})})).$render()):(text=($a=macro_name["$nil?"]())!==!1&&$a!==nil?self.$normalize_string(text_in_brackets):self.$normalize_string(m["$[]"](2),!0),self.document.$register("indexterms",[text]),$scope.Inline.$new(self,"indexterm",text,$hash2(["type"],{type:"visible"})).$render()))
},TMP_27._s=self,TMP_27),$a).call($g,$scope.REGEXP["$[]"]("indexterm_macro"))),($a=result["$include?"]("://"))!==!1&&$a!==nil&&(result=($a=($h=result).$gsub,$a._p=(TMP_28=function(){var $a,$b,$c,self=TMP_28._s||this,m=nil,prefix=nil,target=nil,suffix=nil,attrs=nil,text=nil;return null==self.document&&(self.document=nil),m=$gvars["~"],($a=m["$[]"](2)["$start_with?"]("\\"))!==!1&&$a!==nil?""+m["$[]"](1)+m["$[]"](2)["$[]"]($range(1,-1,!1))+m["$[]"](3):($a=($b=m["$[]"](1)["$=="]("link:"))?m["$[]"](3)["$nil?"]():$b)!==!1&&$a!==nil?m["$[]"](0):(prefix=function(){return $b=m["$[]"](1)["$=="]("link:"),($a=$b===nil||$b===!1)!=!1&&$a!==nil?m["$[]"](1):""}(),target=m["$[]"](2),suffix="",$b=prefix["$start_with?"]("&lt;"),($a=$b!==!1&&$b!==nil?target["$end_with?"]("&gt;"):$b)!==!1&&$a!==nil?(prefix=prefix["$[]"]($range(4,-1,!1)),target=target["$[]"]($range(0,-5,!1))):($b=prefix["$start_with?"]("("),($a=$b!==!1&&$b!==nil?target["$end_with?"](")"):$b)!==!1&&$a!==nil?(target=target["$[]"]($range(0,-2,!1)),suffix=")"):($a=target["$end_with?"]("):"))!==!1&&$a!==nil&&(target=target["$[]"]($range(0,-3,!1)),suffix="):")),self.document.$register("links",target),attrs=nil,$b=m["$[]"](3).$to_s()["$empty?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil?(($a=($b=use_link_attrs!==!1&&use_link_attrs!==nil)?($c=m["$[]"](3)["$start_with?"]('"'))!==!1&&$c!==nil?$c:m["$[]"](3)["$include?"](","):$b)!==!1&&$a!==nil?(attrs=self.$parse_attributes(self.$sub_attributes(m["$[]"](3).$gsub("]","]")),[]),text=attrs["$[]"](1)):text=self.$sub_attributes(m["$[]"](3).$gsub("]","]")),($a=text["$end_with?"]("^"))!==!1&&$a!==nil&&(text=text.$chop(),($a=attrs)!==!1&&$a!==nil?$a:attrs=$hash2([],{}),(($a=attrs["$has_key?"]("window"))===!1||$a===nil)&&attrs["$[]="]("window","_blank"))):text="",($a=text["$empty?"]())!==!1&&$a!==nil&&(text=($a=self.document["$attr?"]("hide-uri-scheme"))!==!1&&$a!==nil?target.$sub($scope.REGEXP["$[]"]("uri_sniff"),""):target),""+prefix+$scope.Inline.$new(self,"anchor",text,$hash2(["type","target","attributes"],{type:"link",target:target,attributes:attrs})).$render()+suffix)},TMP_28._s=self,TMP_28),$a).call($h,$scope.REGEXP["$[]"]("link_inline"))),$j=found["$[]"]("macroish"),($a=($i=$j!==!1&&$j!==nil?result["$include?"]("link:"):$j)!==!1&&$i!==nil?$i:result["$include?"]("mailto:"))!==!1&&$a!==nil&&(result=($a=($i=result).$gsub,$a._p=(TMP_29=function(){var $a,$b,$c,self=TMP_29._s||this,m=nil,raw_target=nil,mailto=nil,target=nil,attrs=nil,text=nil;return null==self.document&&(self.document=nil),m=$gvars["~"],($a=m["$[]"](0)["$start_with?"]("\\"))!==!1&&$a!==nil?m["$[]"](0)["$[]"]($range(1,-1,!1)):(raw_target=m["$[]"](1),mailto=m["$[]"](0)["$start_with?"]("mailto:"),target=function(){return mailto!==!1&&mailto!==nil?"mailto:"+raw_target:raw_target}(),attrs=nil,($a=($b=use_link_attrs!==!1&&use_link_attrs!==nil)?($c=m["$[]"](2)["$start_with?"]('"'))!==!1&&$c!==nil?$c:m["$[]"](2)["$include?"](","):$b)!==!1&&$a!==nil?(attrs=self.$parse_attributes(self.$sub_attributes(m["$[]"](2).$gsub("]","]")),[]),text=attrs["$[]"](1),mailto!==!1&&mailto!==nil&&($a=attrs["$has_key?"](2))!==!1&&$a!==nil&&(target=""+target+"?subject="+$scope.Helpers.$encode_uri(attrs["$[]"](2)),($a=attrs["$has_key?"](3))!==!1&&$a!==nil&&(target=""+target+"&amp;body="+$scope.Helpers.$encode_uri(attrs["$[]"](3))))):text=self.$sub_attributes(m["$[]"](2).$gsub("]","]")),($a=text["$end_with?"]("^"))!==!1&&$a!==nil&&(text=text.$chop(),($a=attrs)!==!1&&$a!==nil?$a:attrs=$hash2([],{}),(($a=attrs["$has_key?"]("window"))===!1||$a===nil)&&attrs["$[]="]("window","_blank")),self.document.$register("links",target),($a=text["$empty?"]())!==!1&&$a!==nil&&(text=($a=self.document["$attr?"]("hide-uri-scheme"))!==!1&&$a!==nil?raw_target.$sub($scope.REGEXP["$[]"]("uri_sniff"),""):raw_target),$scope.Inline.$new(self,"anchor",text,$hash2(["type","target","attributes"],{type:"link",target:target,attributes:attrs})).$render())},TMP_29._s=self,TMP_29),$a).call($i,$scope.REGEXP["$[]"]("link_macro"))),($a=result["$include?"]("@"))!==!1&&$a!==nil&&(result=($a=($j=result).$gsub,$a._p=(TMP_30=function(){var self=TMP_30._s||this,m=nil,address=nil,$case=nil,target=nil;return null==self.document&&(self.document=nil),m=$gvars["~"],address=m["$[]"](0),$case=address["$[]"]($range(0,0,!1)),"\\"["$==="]($case)?address["$[]"]($range(1,-1,!1)):">"["$==="]($case)||":"["$==="]($case)?address:(target="mailto:"+address,self.document.$register("links",target),$scope.Inline.$new(self,"anchor",address,$hash2(["type","target"],{type:"link",target:target})).$render())},TMP_30._s=self,TMP_30),$a).call($j,$scope.REGEXP["$[]"]("email_inline"))),$k=found["$[]"]("macroish_short_form"),($a=$k!==!1&&$k!==nil?result["$include?"]("footnote"):$k)!==!1&&$a!==nil&&(result=($a=($k=result).$gsub,$a._p=(TMP_31=function(){var $a,$b,TMP_32,self=TMP_31._s||this,m=nil,id=nil,text=nil,index=nil,type=nil,target=nil,footnote=nil;return null==self.document&&(self.document=nil),m=$gvars["~"],($a=m["$[]"](0)["$start_with?"]("\\"))!==!1&&$a!==nil?m["$[]"](0)["$[]"]($range(1,-1,!1)):(m["$[]"](1)["$=="]("footnote")?(id=nil,text=self.$restore_passthroughs(self.$sub_inline_xrefs(self.$sub_inline_anchors(self.$normalize_string(m["$[]"](2),!0)))),index=self.document.$counter("footnote-number"),self.document.$register("footnotes",$scope.Document._scope.Footnote.$new(index,id,text)),type=nil,target=nil):($a=$opal.to_ary(m["$[]"](2).$split(",",2)),id=null==$a[0]?nil:$a[0],text=null==$a[1]?nil:$a[1],id=id.$strip(),$b=text["$nil?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil?(text=self.$restore_passthroughs(self.$sub_inline_xrefs(self.$sub_inline_anchors(self.$normalize_string(text,!0)))),index=self.document.$counter("footnote-number"),self.document.$register("footnotes",$scope.Document._scope.Footnote.$new(index,id,text)),type="ref",target=nil):(footnote=($a=($b=self.document.$references()["$[]"]("footnotes")).$find,$a._p=(TMP_32=function(fn){TMP_32._s||this;return null==fn&&(fn=nil),fn.$id()["$=="](id)},TMP_32._s=self,TMP_32),$a).call($b),target=id,id=nil,index=footnote.$index(),text=footnote.$text(),type="xref")),$scope.Inline.$new(self,"footnote",text,$hash2(["attributes","id","target","type"],{attributes:$hash2(["index"],{index:index}),id:id,target:target,type:type})).$render())},TMP_31._s=self,TMP_31),$a).call($k,$scope.REGEXP["$[]"]("footnote_macro"))),self.$sub_inline_xrefs(self.$sub_inline_anchors(result,found),found))},def.$sub_inline_anchors=function(text,found){var $a,$b,$c,TMP_33,$d,$e,TMP_34,self=this;return null==found&&(found=nil),$b=($c=found["$nil?"]())!==!1&&$c!==nil?$c:found["$[]"]("square_bracket"),($a=$b!==!1&&$b!==nil?text["$include?"]("[[["):$b)!==!1&&$a!==nil&&(text=($a=($b=text).$gsub,$a._p=(TMP_33=function(){var $a,self=TMP_33._s||this,m=nil,id=nil,reftext=nil;return m=$gvars["~"],($a=m["$[]"](0)["$start_with?"]("\\"))!==!1&&$a!==nil?m["$[]"](0)["$[]"]($range(1,-1,!1)):(id=reftext=m["$[]"](1),$scope.Inline.$new(self,"anchor",reftext,$hash2(["type","target"],{type:"bibref",target:id})).$render())},TMP_33._s=self,TMP_33),$a).call($b,$scope.REGEXP["$[]"]("biblio_macro"))),$d=($e=found["$nil?"]())!==!1&&$e!==nil?$e:found["$[]"]("square_bracket"),($a=($c=$d!==!1&&$d!==nil?text["$include?"]("[["):$d)!==!1&&$c!==nil?$c:($d=($e=found["$nil?"]())!==!1&&$e!==nil?$e:found["$[]"]("macroish"),$d!==!1&&$d!==nil?text["$include?"]("anchor:"):$d))!==!1&&$a!==nil&&(text=($a=($c=text).$gsub,$a._p=(TMP_34=function(){var $a,$b,TMP_35,self=TMP_34._s||this,m=nil,id=nil,reftext=nil;return null==self.document&&(self.document=nil),m=$gvars["~"],($a=m["$[]"](0)["$start_with?"]("\\"))!==!1&&$a!==nil?m["$[]"](0)["$[]"]($range(1,-1,!1)):(id=($a=m["$[]"](1))!==!1&&$a!==nil?$a:m["$[]"](3),reftext=($a=m["$[]"](2))!==!1&&$a!==nil?$a:m["$[]"](4),($a=reftext["$nil?"]())!==!1&&$a!==nil&&(reftext="["+id+"]"),(($a=self.document.$references()["$[]"]("ids")["$has_key?"](id))===!1||$a===nil)&&($a=($b=$scope.Debug).$debug,$a._p=(TMP_35=function(){TMP_35._s||this;return"Missing reference for anchor "+id},TMP_35._s=self,TMP_35),$a).call($b),$scope.Inline.$new(self,"anchor",reftext,$hash2(["type","target"],{type:"ref",target:id})).$render())},TMP_34._s=self,TMP_34),$a).call($c,$scope.REGEXP["$[]"]("anchor_macro"))),text},def.$sub_inline_xrefs=function(text,found){var $a,$b,$c,TMP_36,self=this;return null==found&&(found=nil),($a=($b=($c=found["$nil?"]())!==!1&&$c!==nil?$c:found["$[]"]("macroish"))!==!1&&$b!==nil?$b:text["$include?"]("&lt;&lt;"))!==!1&&$a!==nil&&(text=($a=($b=text).$gsub,$a._p=(TMP_36=function(){var $a,$b,$c,$d,self=TMP_36._s||this,m=nil,id=nil,reftext=nil,path=nil,fragment=nil,refid=nil,target=nil;return null==self.document&&(self.document=nil),m=$gvars["~"],($a=m["$[]"](0)["$start_with?"]("\\"))!==!1&&$a!==nil?m["$[]"](0)["$[]"]($range(1,-1,!1)):(($a=($b=m["$[]"](1)["$nil?"]())!==!1&&$b!==nil?$b:($c=null==($d=$opal.Object._scope.RUBY_ENGINE_OPAL)?$opal.cm("RUBY_ENGINE_OPAL"):$d,$c!==!1&&$c!==nil?m["$[]"](1).$to_s()["$=="](""):$c))!==!1&&$a!==nil?(id=m["$[]"](2),reftext=function(){return $b=m["$[]"](3)["$empty?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil?m["$[]"](3):nil}()):($a=$opal.to_ary(($b=($c=m["$[]"](1).$split(",",2)).$map,$b._p="strip".$to_proc(),$b).call($c)),id=null==$a[0]?nil:$a[0],reftext=null==$a[1]?nil:$a[1],id=id.$sub($scope.REGEXP["$[]"]("dbl_quoted"),function(){return($a=null==($b=$opal.Object._scope.RUBY_ENGINE_OPAL)?$opal.cm("RUBY_ENGINE_OPAL"):$b)!==!1&&$a!==nil?"$2":"2"}()),(($a=reftext["$nil?"]())===!1||$a===nil)&&(reftext=reftext.$sub($scope.REGEXP["$[]"]("m_dbl_quoted"),function(){return($a=null==($b=$opal.Object._scope.RUBY_ENGINE_OPAL)?$opal.cm("RUBY_ENGINE_OPAL"):$b)!==!1&&$a!==nil?"$2":"2"}()))),($a=id["$include?"]("#"))!==!1&&$a!==nil?($a=$opal.to_ary(id.$split("#")),path=null==$a[0]?nil:$a[0],fragment=null==$a[1]?nil:$a[1]):(path=nil,fragment=id),($a=path["$nil?"]())!==!1&&$a!==nil?(refid=fragment,target="#"+fragment):(path=$scope.Helpers.$rootname(path),($a=($b=self.document.$attributes()["$[]"]("docname")["$=="](path))!==!1&&$b!==nil?$b:self.document.$references()["$[]"]("includes")["$include?"](path))!==!1&&$a!==nil?(refid=fragment,path=nil,target="#"+fragment):(refid=function(){return($a=fragment["$nil?"]())!==!1&&$a!==nil?path:""+path+"#"+fragment}(),path=""+path+self.document.$attributes().$fetch("outfilesuffix",".html"),target=function(){return($a=fragment["$nil?"]())!==!1&&$a!==nil?path:""+path+"#"+fragment}())),$scope.Inline.$new(self,"anchor",reftext,$hash2(["type","target","attributes"],{type:"xref",target:target,attributes:$hash2(["path","fragment","refid"],{path:path,fragment:fragment,refid:refid})})).$render())},TMP_36._s=self,TMP_36),$a).call($b,$scope.REGEXP["$[]"]("xref_macro"))),text},def.$sub_callouts=function(text){var $a,$b,TMP_37,self=this;return($a=($b=text).$gsub,$a._p=(TMP_37=function(){var self=TMP_37._s||this,m=nil;return null==self.document&&(self.document=nil),m=$gvars["~"],m["$[]"](1)["$=="]("\\")?m["$[]"](0).$sub("\\",""):$scope.Inline.$new(self,"callout",m["$[]"](3),$hash2(["id"],{id:self.document.$callouts().$read_next_id()})).$render()},TMP_37._s=self,TMP_37),$a).call($b,$scope.REGEXP["$[]"]("callout_render"))},def.$sub_post_replacements=function(text){var $a,$b,TMP_38,$c,TMP_39,self=this,lines=nil,last=nil;return null==self.document&&(self.document=nil),null==self.attributes&&(self.attributes=nil),($a=($b=self.document.$attributes()["$has_key?"]("hardbreaks"))!==!1&&$b!==nil?$b:self.attributes["$has_key?"]("hardbreaks-option"))!==!1&&$a!==nil?(lines=text.$split($scope.LINE_SPLIT),lines.$size()["$=="](1)?text:(last=lines.$pop(),($a=($b=lines).$map,$a._p=(TMP_38=function(line){var self=TMP_38._s||this;return null==line&&(line=nil),$scope.Inline.$new(self,"break",line.$rstrip().$chomp($scope.LINE_BREAK),$hash2(["type"],{type:"line"})).$render()},TMP_38._s=self,TMP_38),$a).call($b).$push(last)["$*"]($scope.EOL))):($a=($c=text).$gsub,$a._p=(TMP_39=function(){var self=TMP_39._s||this;return $scope.Inline.$new(self,"break",$gvars["~"]["$[]"](1),$hash2(["type"],{type:"line"})).$render()},TMP_39._s=self,TMP_39),$a).call($c,$scope.REGEXP["$[]"]("line_break"))},def.$transform_quoted_text=function(match,type,scope){var $a,$b,$c,self=this,unescaped_attrs=nil,attributes=nil,id=nil;if(unescaped_attrs=nil,($a=match["$[]"](0)["$start_with?"]("\\"))!==!1&&$a!==nil){if(($a=($b=scope["$=="]("constrained"))?($c=match["$[]"](2)["$nil?"](),$c===nil||$c===!1):$b)===!1||$a===nil)return match["$[]"](0)["$[]"]($range(1,-1,!1));unescaped_attrs="["+match["$[]"](2)+"]"}return scope["$=="]("constrained")?($a=unescaped_attrs["$nil?"]())!==!1&&$a!==nil?(attributes=self.$parse_quoted_text_attributes(match["$[]"](2)),id=function(){return($a=attributes["$nil?"]())!==!1&&$a!==nil?nil:attributes.$delete("id")}(),""+match["$[]"](1)+$scope.Inline.$new(self,"quoted",match["$[]"](3),$hash2(["type","id","attributes"],{type:type,id:id,attributes:attributes})).$render()):""+unescaped_attrs+$scope.Inline.$new(self,"quoted",match["$[]"](3),$hash2(["type","attributes"],{type:type,attributes:$hash2([],{})})).$render():(attributes=self.$parse_quoted_text_attributes(match["$[]"](1)),id=function(){return($a=attributes["$nil?"]())!==!1&&$a!==nil?nil:attributes.$delete("id")}(),$scope.Inline.$new(self,"quoted",match["$[]"](2),$hash2(["type","id","attributes"],{type:type,id:id,attributes:attributes})).$render())},def.$parse_quoted_text_attributes=function(str){var $a,$b,self=this,_=nil,segments=nil,id=nil,more_roles=nil,roles=nil,attrs=nil;return($a=str["$nil?"]())!==!1&&$a!==nil?nil:($a=str["$empty?"]())!==!1&&$a!==nil?$hash2([],{}):(($a=str["$include?"]("{"))!==!1&&$a!==nil&&(str=self.$sub_attributes(str)),str=str.$strip(),($a=str["$include?"](","))!==!1&&$a!==nil&&($a=$opal.to_ary(str.$split(",",2)),str=null==$a[0]?nil:$a[0],_=null==$a[1]?nil:$a[1]),($a=str["$empty?"]())!==!1&&$a!==nil?$hash2([],{}):($a=($b=str["$start_with?"]("."))!==!1&&$b!==nil?$b:str["$start_with?"]("#"))!==!1&&$a!==nil?(segments=str.$split("#",2),segments.$length()["$>"](1)?($a=$opal.to_ary(segments["$[]"](1).$split(".")),id=null==$a[0]?nil:$a[0],more_roles=$slice.call($a,1)):(id=nil,more_roles=[]),roles=function(){return($a=segments["$[]"](0)["$empty?"]())!==!1&&$a!==nil?[]:segments["$[]"](0).$split(".")}(),roles.$length()["$>"](1)&&roles.$shift(),more_roles.$length()["$>"](0)&&roles.$concat(more_roles),attrs=$hash2([],{}),(($a=id["$nil?"]())===!1||$a===nil)&&attrs["$[]="]("id",id),(($a=roles["$empty?"]())===!1||$a===nil)&&attrs["$[]="]("role",roles["$*"](" ")),attrs):$hash2(["role"],{role:str}))},def.$parse_attributes=function(attrline,posattrs,opts){var $a,self=this,block=nil;return null==self.document&&(self.document=nil),null==posattrs&&(posattrs=["role"]),null==opts&&(opts=$hash2([],{})),($a=attrline["$nil?"]())!==!1&&$a!==nil?nil:($a=attrline["$empty?"]())!==!1&&$a!==nil?$hash2([],{}):(($a=opts["$[]"]("sub_input"))!==!1&&$a!==nil&&(attrline=self.document.$sub_attributes(attrline)),($a=opts["$[]"]("unescape_input"))!==!1&&$a!==nil&&(attrline=self.$unescape_bracketed_text(attrline)),block=nil,($a=opts.$fetch("sub_result",!0))!==!1&&$a!==nil&&(block=self),($a=opts["$has_key?"]("into"))!==!1&&$a!==nil?$scope.AttributeList.$new(attrline,block).$parse_into(opts["$[]"]("into"),posattrs):$scope.AttributeList.$new(attrline,block).$parse(posattrs))},def.$unescape_bracketed_text=function(text){var $a;return($a=text["$empty?"]())!==!1&&$a!==nil?"":text.$strip().$tr($scope.EOL," ").$gsub("]","]")},def.$normalize_string=function(str,unescape_brackets){var $a,self=this;return null==unescape_brackets&&(unescape_brackets=!1),($a=str["$empty?"]())!==!1&&$a!==nil?"":unescape_brackets!==!1&&unescape_brackets!==nil?self.$unescape_brackets(str.$strip().$tr($scope.EOL," ")):str.$strip().$tr($scope.EOL," ")},def.$unescape_brackets=function(str){var $a;return($a=str["$empty?"]())!==!1&&$a!==nil?"":str.$gsub("]","]")},def.$split_simple_csv=function(str){var $a,$b,TMP_40,$c,self=this,values=nil,current=nil,quote_open=nil;return($a=str["$empty?"]())!==!1&&$a!==nil?values=[]:($a=str["$include?"]('"'))!==!1&&$a!==nil?(values=[],current=[],quote_open=!1,($a=($b=str).$each_char,$a._p=(TMP_40=function(c){var $a,$case=(TMP_40._s||this,nil);return null==c&&(c=nil),function(){return $case=c,","["$==="]($case)?quote_open!==!1&&quote_open!==nil?current.$push(c):(values["$<<"](current.$join().$strip()),current=[]):'"'["$==="]($case)?($a=quote_open,quote_open=$a===nil||$a===!1):current.$push(c)}()},TMP_40._s=self,TMP_40),$a).call($b),values["$<<"](current.$join().$strip())):values=($a=($c=str.$split(",")).$map,$a._p="strip".$to_proc(),$a).call($c),values},def.$resolve_subs=function(subs,type,defaults,subject){var $a,$b,TMP_41,self=this,candidates=nil,modification_group=nil,resolved=nil,invalid=nil;return null==type&&(type="block"),null==defaults&&(defaults=nil),null==subject&&(subject=nil),($a=($b=subs["$nil?"]())!==!1&&$b!==nil?$b:subs["$empty?"]())!==!1&&$a!==nil?[]:(candidates=[],modification_group=function(){return($a=defaults["$nil?"]())!==!1&&$a!==nil?!1:nil}(),($a=($b=subs.$split(",")).$each,$a._p=(TMP_41=function(val){var $a,$b,$c,self=TMP_41._s||this,key=nil,first=nil,operation=nil,resolved_keys=nil,resolved_key=nil,$case=nil;if(null==val&&(val=nil),key=val.$strip(),$b=modification_group["$=="](!1),($a=$b===nil||$b===!1)!=!1&&$a!==nil){if((first=key["$[]"]($range(0,0,!1)))["$=="]("+"))operation="append",key=key["$[]"]($range(1,-1,!1));else if(first["$=="]("-"))operation="remove",key=key["$[]"]($range(1,-1,!1));else if(($a=key["$end_with?"]("+"))!==!1&&$a!==nil)operation="prepend",key=key["$[]"]($range(0,-1,!0));else{if(modification_group!==!1&&modification_group!==nil)return self.$warn("asciidoctor: WARNING: invalid entry in substitution modification group"+function(){return subject!==!1&&subject!==nil?" for ":nil}()+subject+": "+key),nil;operation=nil}($a=modification_group["$nil?"]())!==!1&&$a!==nil&&(operation!==!1&&operation!==nil?(candidates=defaults.$dup(),modification_group=!0):modification_group=!1)}return key=key.$to_sym(),($a=($b=type["$=="]("inline"))?($c=key["$=="]("verbatim"))!==!1&&$c!==nil?$c:key["$=="]("v"):$b)!==!1&&$a!==nil?resolved_keys=["specialcharacters"]:($a=$scope.COMPOSITE_SUBS["$has_key?"](key))!==!1&&$a!==nil?resolved_keys=$scope.COMPOSITE_SUBS["$[]"](key):($b=($c=type["$=="]("inline"))?key.$to_s().$length()["$=="](1):$c,($a=$b!==!1&&$b!==nil?$scope.SUB_SYMBOLS["$has_key?"](key):$b)!==!1&&$a!==nil?(resolved_key=$scope.SUB_SYMBOLS["$[]"](key),resolved_keys=($a=$scope.COMPOSITE_SUBS["$has_key?"](resolved_key))!==!1&&$a!==nil?$scope.COMPOSITE_SUBS["$[]"](resolved_key):[resolved_key]):resolved_keys=[key]),modification_group!==!1&&modification_group!==nil?function(){return $case=operation,"append"["$==="]($case)?candidates=candidates["$+"](resolved_keys):"prepend"["$==="]($case)?candidates=resolved_keys["$+"](candidates):"remove"["$==="]($case)?candidates=candidates["$-"](resolved_keys):nil}():candidates=candidates["$+"](resolved_keys)},TMP_41._s=self,TMP_41),$a).call($b),resolved=candidates["$&"]($scope.SUB_OPTIONS["$[]"](type)),(invalid=candidates["$-"](resolved)).$size()["$>"](0)&&self.$warn("asciidoctor: WARNING: invalid substitution type"+function(){return invalid.$size()["$>"](1)?"s":""}()+function(){return subject!==!1&&subject!==nil?" for ":nil}()+subject+": "+invalid["$*"](", ")),resolved)},def.$resolve_block_subs=function(subs,defaults,subject){var self=this;return self.$resolve_subs(subs,"block",defaults,subject)},def.$resolve_pass_subs=function(subs){var self=this;return self.$resolve_subs(subs,"inline",nil,"passthrough macro")},def.$highlight_source=function(source,sub_callouts,highlighter){var $a,$b,TMP_42,$c,$d,TMP_44,self=this,callout_marks=nil,lineno=nil,callout_on_last=nil,last=nil,linenums_mode=nil,$case=nil,result=nil,lexer=nil,opts=nil,reached_code=nil;return null==self.document&&(self.document=nil),null==self.passthroughs&&(self.passthroughs=nil),null==highlighter&&(highlighter=nil),($a=highlighter)!==!1&&$a!==nil?$a:highlighter=self.document.$attributes()["$[]"]("source-highlighter"),$scope.Helpers.$require_library(highlighter,function(){return highlighter["$=="]("pygments")?"pygments.rb":highlighter}()),callout_marks=$hash2([],{}),lineno=0,callout_on_last=!1,sub_callouts!==!1&&sub_callouts!==nil&&(last=-1,source=($a=($b=source.$split($scope.LINE_SPLIT)).$map,$a._p=(TMP_42=function(line){var $a,$b,TMP_43,self=TMP_42._s||this;return null==line&&(line=nil),lineno=lineno["$+"](1),($a=($b=line).$gsub,$a._p=(TMP_43=function(){var $a,$b,$c,m=(TMP_43._s||this,nil);return m=$gvars["~"],m["$[]"](1)["$=="]("\\")?m["$[]"](0).$sub("\\",""):(($a=lineno,$b=callout_marks,($c=$b["$[]"]($a))!==!1&&$c!==nil?$c:$b["$[]="]($a,[]))["$<<"](m["$[]"](3)),last=lineno,nil)},TMP_43._s=self,TMP_43),$a).call($b,$scope.REGEXP["$[]"]("callout_scan"))},TMP_42._s=self,TMP_42),$a).call($b)["$*"]($scope.EOL),callout_on_last=last["$=="](lineno)),linenums_mode=nil,$case=highlighter,"coderay"["$==="]($case)?result=(null==($a=$opal.Object._scope.CodeRay)?$opal.cm("CodeRay"):$a)._scope.Duo["$[]"](self.$attr("language","text").$to_sym(),"html",$hash2(["css","line_numbers","line_number_anchors"],{css:self.document.$attributes().$fetch("coderay-css","class").$to_sym(),line_numbers:linenums_mode=function(){return($a=self["$attr?"]("linenums"))!==!1&&$a!==nil?self.document.$attributes().$fetch("coderay-linenums-mode","table").$to_sym():nil}(),line_number_anchors:!1})).$highlight(source):"pygments"["$==="]($case)&&(lexer=(null==($a=$opal.Object._scope.Pygments)?$opal.cm("Pygments"):$a)._scope.Lexer["$[]"](self.$attr("language")),lexer!==!1&&lexer!==nil?(opts=$hash2(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0}),(($a=self.document.$attributes().$fetch("pygments-css","class")["$=="]("class"))===!1||$a===nil)&&opts["$[]="]("noclasses",!0),($a=self["$attr?"]("linenums"))!==!1&&$a!==nil&&opts["$[]="]("linenos",(linenums_mode=self.document.$attributes().$fetch("pygments-linenums-mode","table").$to_sym()).$to_s()),result=linenums_mode["$=="]("table")?lexer.$highlight(source,$hash2(["options"],{options:opts})).$sub(/<div class="pyhl">(.*)<\/div>/i,"1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/i,"1"):lexer.$highlight(source,$hash2(["options"],{options:opts})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/i,"1")):result=source),(($a=self.passthroughs["$empty?"]())===!1||$a===nil)&&(result=result.$gsub($scope.PASS_PLACEHOLDER["$[]"]("match_syn"),""+$scope.PASS_PLACEHOLDER["$[]"]("start")+"\\1"+$scope.PASS_PLACEHOLDER["$[]"]("end"))),$d=sub_callouts,($a=($c=$d===nil||$d===!1)!=!1&&$c!==nil?$c:callout_marks["$empty?"]())!==!1&&$a!==nil?result:(lineno=0,$a=linenums_mode["$=="]("table"),reached_code=$a===nil||$a===!1,($a=($c=result.$split($scope.LINE_SPLIT)).$map,$a._p=(TMP_44=function(line){var $a,$b,$c,TMP_45,self=TMP_44._s||this,conums=nil,tail=nil,pos=nil,conums_markup=nil;if(null==self.document&&(self.document=nil),null==line&&(line=nil),($a=reached_code)===!1||$a===nil){if(($a=line["$include?"]('<td class="code">'))===!1||$a===nil)return line;reached_code=!0}return lineno=lineno["$+"](1),($a=conums=callout_marks.$delete(lineno))!==!1&&$a!==nil?(tail=nil,$b=($c=callout_on_last!==!1&&callout_on_last!==nil)?callout_marks["$empty?"]():$c,($a=$b!==!1&&$b!==nil?pos=line.$index("</pre>"):$b)!==!1&&$a!==nil&&(tail=line["$[]"]($range(pos,-1,!1)),line=line["$[]"]($range(0,pos,!0))),conums.$size()["$=="](1)?""+line+$scope.Inline.$new(self,"callout",conums.$first(),$hash2(["id"],{id:self.document.$callouts().$read_next_id()})).$render()+tail:(conums_markup=($a=($b=conums).$map,$a._p=(TMP_45=function(conum){var self=TMP_45._s||this;return null==self.document&&(self.document=nil),null==conum&&(conum=nil),$scope.Inline.$new(self,"callout",conum,$hash2(["id"],{id:self.document.$callouts().$read_next_id()})).$render()},TMP_45._s=self,TMP_45),$a).call($b)["$*"](" "),""+line+conums_markup+tail)):line},TMP_44._s=self,TMP_44),$a).call($c)["$*"]($scope.EOL))},def.$lock_in_subs=function(){var $a,$b,$c,$d,$e,TMP_46,self=this,default_subs=nil,$case=nil,custom_subs=nil,highlighter=nil;if(null==self.content_model&&(self.content_model=nil),null==self.context&&(self.context=nil),null==self.attributes&&(self.attributes=nil),null==self.style&&(self.style=nil),null==self.document&&(self.document=nil),null==self.subs&&(self.subs=nil),default_subs=[],$case=self.content_model,"simple"["$==="]($case))default_subs=$scope.SUBS["$[]"]("normal");else if("verbatim"["$==="]($case))default_subs=$scope.SUBS["$[]"](($a=($b=self.context["$=="]("listing"))!==!1&&$b!==nil?$b:($c=self.context["$=="]("literal"))?($d=self["$option?"]("listparagraph"),$d===nil||$d===!1):$c)!==!1&&$a!==nil?"verbatim":self.context["$=="]("verse")?"normal":"basic");else{if(!"raw"["$==="]($case))return nil;default_subs=$scope.SUBS["$[]"]("pass")}return self.subs=($a=custom_subs=self.attributes["$[]"]("subs"))!==!1&&$a!==nil?self.$resolve_block_subs(custom_subs,default_subs,self.context):default_subs.$dup(),$d=($e=self.context["$=="]("listing"))?self.style["$=="]("source"):$e,$c=$d!==!1&&$d!==nil?self.document["$basebackend?"]("html"):$d,$b=$c!==!1&&$c!==nil?($d=(highlighter=self.document.$attributes()["$[]"]("source-highlighter"))["$=="]("coderay"))!==!1&&$d!==nil?$d:highlighter["$=="]("pygments"):$c,($a=$b!==!1&&$b!==nil?self["$attr?"]("language"):$b)!==!1&&$a!==nil?self.subs=($a=($b=self.subs).$map,$a._p=(TMP_46=function(sub){TMP_46._s||this;return null==sub&&(sub=nil),sub["$=="]("specialcharacters")?"highlight":sub},TMP_46._s=self,TMP_46),$a).call($b):nil},$opal.donate(self,["$apply_subs","$apply_normal_subs","$apply_title_subs","$apply_header_subs","$extract_passthroughs","$restore_passthroughs","$sub_specialcharacters","$sub_specialchars","$sub_quotes","$sub_replacements","$do_replacement","$sub_attributes","$sub_macros","$sub_inline_anchors","$sub_inline_xrefs","$sub_callouts","$sub_post_replacements","$transform_quoted_text","$parse_quoted_text_attributes","$parse_attributes","$unescape_bracketed_text","$normalize_string","$unescape_brackets","$split_simple_csv","$resolve_subs","$resolve_block_subs","$resolve_pass_subs","$highlight_source","$lock_in_subs"])}(self)}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$module=($opal.breaker,$opal.slice,$opal.module),$klass=$opal.klass,$hash2=$opal.hash2,$range=$opal.range;return function($base){{var self=$module($base,"Asciidoctor");self._proto,self._scope}!function($base,$super){function $AbstractNode(){}var self=$AbstractNode=$klass($base,$super,"AbstractNode",$AbstractNode),def=$AbstractNode._proto,$scope=$AbstractNode._scope;return def.document=def.attributes=def.style=nil,self.$include($scope.Substitutors),self.$attr_reader("parent"),self.$attr_reader("document"),self.$attr_reader("context"),self.$attr_accessor("id"),self.$attr_reader("attributes"),def.$initialize=function(parent,context){var $a,self=this;return context["$=="]("document")?(self.parent=nil,self.document=parent):(self.parent=parent,self.document=function(){return($a=parent["$nil?"]())!==!1&&$a!==nil?nil:parent.$document()}()),self.context=context,self.attributes=$hash2([],{}),self.passthroughs=[]},def["$parent="]=function(parent){var self=this;return self.parent=parent,self.document=parent.$document(),nil},def.$attr=function(name,default_value,inherit){var $a,$b,self=this;return null==default_value&&(default_value=nil),null==inherit&&(inherit=!0),($a=name["$is_a?"]($scope.Symbol))!==!1&&$a!==nil&&(name=name.$to_s()),self["$=="](self.document)&&(inherit=!1),inherit!==!1&&inherit!==nil?($a=($b=self.attributes["$[]"](name))!==!1&&$b!==nil?$b:self.document.$attributes()["$[]"](name))!==!1&&$a!==nil?$a:default_value:($a=self.attributes["$[]"](name))!==!1&&$a!==nil?$a:default_value},def["$attr?"]=function(name,expect,inherit){var $a,$b,self=this;return null==expect&&(expect=nil),null==inherit&&(inherit=!0),($a=name["$is_a?"]($scope.Symbol))!==!1&&$a!==nil&&(name=name.$to_s()),self["$=="](self.document)&&(inherit=!1),($a=expect["$nil?"]())!==!1&&$a!==nil?($a=self.attributes["$has_key?"](name))!==!1&&$a!==nil?$a:($b=inherit!==!1&&inherit!==nil)?self.document.$attributes()["$has_key?"](name):$b:expect["$=="](inherit!==!1&&inherit!==nil?($a=self.attributes["$[]"](name))!==!1&&$a!==nil?$a:self.document.$attributes()["$[]"](name):self.attributes["$[]"](name))},def.$set_attr=function(key,val,overwrite){var $a,$b,self=this;return null==overwrite&&(overwrite=nil),($a=overwrite["$nil?"]())!==!1&&$a!==nil?(self.attributes["$[]="](key,val),!0):($a=($b=overwrite)!==!1&&$b!==nil?$b:self.attributes["$has_key?"](key))!==!1&&$a!==nil?(self.attributes["$[]="](key,val),!0):!1},def.$set_option=function(name){var $a,self=this;return($a=self.attributes["$has_key?"]("options"))!==!1&&$a!==nil?self.attributes["$[]="]("options",""+self.attributes["$[]"]("options")+","+name):self.attributes["$[]="]("options",name),self.attributes["$[]="](""+name+"-option","")},def["$option?"]=function(name){var self=this;return self.attributes["$has_key?"](""+name+"-option")},def.$get_binding=function(){var self=this;return self.$binding()},def.$update_attributes=function(attributes){var self=this;return self.attributes.$update(attributes),nil},def.$renderer=function(){var self=this;return self.document.$renderer()},def["$role?"]=function(expect){var $a,self=this;return null==expect&&(expect=nil),($a=expect["$nil?"]())!==!1&&$a!==nil?($a=self.attributes["$has_key?"]("role"))!==!1&&$a!==nil?$a:self.document.$attributes()["$has_key?"]("role"):expect["$=="](($a=self.attributes["$[]"]("role"))!==!1&&$a!==nil?$a:self.document.$attributes()["$[]"]("role"))},def.$role=function(){var $a,self=this;return($a=self.attributes["$[]"]("role"))!==!1&&$a!==nil?$a:self.document.$attributes()["$[]"]("role")},def["$has_role?"]=function(name){var $a,$b,self=this,val=nil;return($a=val=($b=self.attributes["$[]"]("role"))!==!1&&$b!==nil?$b:self.document.$attributes()["$[]"]("role"))!==!1&&$a!==nil?val.$split(" ")["$include?"](name):!1},def.$roles=function(){var $a,$b,self=this,val=nil;return($a=val=($b=self.attributes["$[]"]("role"))!==!1&&$b!==nil?$b:self.document.$attributes()["$[]"]("role"))!==!1&&$a!==nil?val.$split(" "):[]},def["$reftext?"]=function(){var $a,self=this;return($a=self.attributes["$has_key?"]("reftext"))!==!1&&$a!==nil?$a:self.document.$attributes()["$has_key?"]("reftext")},def.$reftext=function(){var $a,self=this;return($a=self.attributes["$[]"]("reftext"))!==!1&&$a!==nil?$a:self.document.$attributes()["$[]"]("reftext")},def.$short_tag_slash=function(){var self=this;return self.document.$attributes()["$[]"]("htmlsyntax")["$=="]("xml")?"/":nil},def.$icon_uri=function(name){var $a,self=this;return($a=self["$attr?"]("icon"))!==!1&&$a!==nil?self.$image_uri(self.$attr("icon"),nil):self.$image_uri(""+name+"."+self.document.$attr("icontype","png"),"iconsdir")},def.$media_uri=function(target,asset_dir_key){var $a,$b,self=this;return null==asset_dir_key&&(asset_dir_key="imagesdir"),$b=target["$include?"](":"),($a=$b!==!1&&$b!==nil?target.$match($scope.Asciidoctor._scope.REGEXP["$[]"]("uri_sniff")):$b)!==!1&&$a!==nil?target:($a=($b=asset_dir_key!==!1&&asset_dir_key!==nil)?self["$attr?"](asset_dir_key):$b)!==!1&&$a!==nil?self.$normalize_web_path(target,self.document.$attr(asset_dir_key)):self.$normalize_web_path(target)},def.$image_uri=function(target_image,asset_dir_key){var $a,$b,self=this;return null==asset_dir_key&&(asset_dir_key="imagesdir"),$b=target_image["$include?"](":"),($a=$b!==!1&&$b!==nil?target_image.$match($scope.Asciidoctor._scope.REGEXP["$[]"]("uri_sniff")):$b)!==!1&&$a!==nil?target_image:($a=($b=self.document.$safe()["$<"]($scope.Asciidoctor._scope.SafeMode._scope.SECURE))?self.document["$attr?"]("data-uri"):$b)!==!1&&$a!==nil?self.$generate_data_uri(target_image,asset_dir_key):($a=($b=asset_dir_key!==!1&&asset_dir_key!==nil)?self["$attr?"](asset_dir_key):$b)!==!1&&$a!==nil?self.$normalize_web_path(target_image,self.document.$attr(asset_dir_key)):self.$normalize_web_path(target_image)},def.$generate_data_uri=function(target_image,asset_dir_key){var $a,$b,TMP_1,self=this,ext=nil,mimetype=nil,image_path=nil,bindata=nil;
return null==asset_dir_key&&(asset_dir_key=nil),ext=$scope.File.$extname(target_image)["$[]"]($range(1,-1,!1)),mimetype="image/"["$+"](ext),ext["$=="]("svg")&&(mimetype=""+mimetype+"+xml"),image_path=asset_dir_key!==!1&&asset_dir_key!==nil?self.$normalize_system_path(target_image,self.document.$attr(asset_dir_key),nil,$hash2(["target_name"],{target_name:"image"})):self.$normalize_system_path(target_image),$b=$scope.File["$readable?"](image_path),($a=$b===nil||$b===!1)!=!1&&$a!==nil?(self.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+image_path),"data:"+mimetype+":base64,"):(bindata=nil,bindata=($a=$scope.IO["$respond_to?"]("binread"))!==!1&&$a!==nil?$scope.IO.$binread(image_path):($a=($b=$scope.File).$open,$a._p=(TMP_1=function(file){TMP_1._s||this;return null==file&&(file=nil),file.$read()},TMP_1._s=self,TMP_1),$a).call($b,image_path,"rb"),"data:"+mimetype+";base64,"+$scope.Base64.$encode64(bindata).$delete("\n"))},def.$read_asset=function(path,warn_on_failure){var $a,self=this;return null==warn_on_failure&&(warn_on_failure=!1),($a=$scope.File["$readable?"](path))!==!1&&$a!==nil?$scope.File.$read(path).$chomp():(warn_on_failure!==!1&&warn_on_failure!==nil&&self.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+path),nil)},def.$normalize_web_path=function(target,start){return null==start&&(start=nil),$scope.PathResolver.$new().$web_path(target,start)},def.$normalize_system_path=function(target,start,jail,opts){var $a,$b,self=this;return null==start&&(start=nil),null==jail&&(jail=nil),null==opts&&(opts=$hash2([],{})),($a=start["$nil?"]())!==!1&&$a!==nil&&(start=self.document.$base_dir()),$b=jail["$nil?"](),($a=$b!==!1&&$b!==nil?self.document.$safe()["$>="]($scope.SafeMode._scope.SAFE):$b)!==!1&&$a!==nil&&(jail=self.document.$base_dir()),$scope.PathResolver.$new().$system_path(target,start,jail,opts)},def.$normalize_asset_path=function(asset_ref,asset_name,autocorrect){var self=this;return null==asset_name&&(asset_name="path"),null==autocorrect&&(autocorrect=!0),self.$normalize_system_path(asset_ref,self.document.$base_dir(),nil,$hash2(["target_name","recover"],{target_name:asset_name,recover:autocorrect}))},def.$relative_path=function(filename){var self=this;return $scope.PathResolver.$new().$relative_path(filename,self.document.$base_dir())},def.$list_marker_keyword=function(list_type){var $a,self=this;return null==list_type&&(list_type=nil),$scope.ORDERED_LIST_KEYWORDS["$[]"](($a=list_type)!==!1&&$a!==nil?$a:self.style)},nil}(self,null)}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$module=($opal.breaker,$opal.slice,$opal.module),$klass=$opal.klass;return function($base){var self=$module($base,"Asciidoctor"),$scope=(self._proto,self._scope);!function($base,$super){function $AbstractBlock(){}var TMP_1,self=$AbstractBlock=$klass($base,$super,"AbstractBlock",$AbstractBlock),def=$AbstractBlock._proto,$scope=$AbstractBlock._scope;return def.context=def.document=def.attributes=def.template_name=def.blocks=def.subs=def.title=def.subbed_title=def.caption=def.next_section_index=def.next_section_number=nil,self.$attr_accessor("content_model"),self.$attr_reader("subs"),self.$attr_accessor("template_name"),self.$attr_reader("blocks"),self.$attr_accessor("level"),self.$attr_writer("title"),self.$attr_accessor("style"),self.$attr_accessor("caption"),def.$initialize=TMP_1=function(parent,context){{var $a,$b,$c,self=this;TMP_1._p}return TMP_1._p=null,$opal.find_super_dispatcher(self,"initialize",TMP_1,null).apply(self,[parent,context]),self.content_model="compound",self.subs=[],self.template_name="block_"+context,self.blocks=[],self.id=nil,self.title=nil,self.caption=nil,self.style=nil,context["$=="]("document")?self.level=0:($c=parent["$nil?"](),$b=$c===nil||$c===!1,self.level=($a=$b!==!1&&$b!==nil?($c=self.context["$=="]("section"),$c===nil||$c===!1):$b)!==!1&&$a!==nil?parent.$level():nil),self.next_section_index=0,self.next_section_number=1},def["$context="]=function(context){var self=this;return self.context=context,self.template_name="block_"+context},def.$render=function(){var self=this;return self.document.$playback_attributes(self.attributes),self.$renderer().$render(self.template_name,self)},def.$content=function(){var $a,$b,TMP_2,self=this;return($a=($b=self.blocks).$map,$a._p=(TMP_2=function(b){TMP_2._s||this;return null==b&&(b=nil),b.$render()},TMP_2._s=self,TMP_2),$a).call($b)["$*"]($scope.EOL)},def["$sub?"]=function(name){var self=this;return self.subs["$include?"](name)},def["$title?"]=function(){var $a,self=this;return $a=self.title.$to_s()["$empty?"](),$a===nil||$a===!1},def.$title=function(){var $a,$b,self=this;return $b=self.subbed_title,($a=null!=$b&&$b!==nil?"instance-variable":nil)!==!1&&$a!==nil?self.subbed_title:($a=self.title)!==!1&&$a!==nil?self.subbed_title=self.$apply_title_subs(self.title):self.title},def.$captioned_title=function(){var self=this;return""+self.caption+self.$title()},def["$blocks?"]=function(){var $a,self=this;return $a=self.blocks["$empty?"](),$a===nil||$a===!1},def["$<<"]=function(block){var self=this;return self.blocks["$<<"](block)},def.$sections=function(){var $a,$b,TMP_3,self=this;return($a=($b=self.blocks).$inject,$a._p=(TMP_3=function(collector,block){TMP_3._s||this;return null==collector&&(collector=nil),null==block&&(block=nil),block.$context()["$=="]("section")&&collector["$<<"](block),collector},TMP_3._s=self,TMP_3),$a).call($b,[])},def.$remove_sub=function(sub){var self=this;return self.subs.$delete(sub),nil},def.$assign_caption=function(caption,key){var $a,$b,self=this,caption_key=nil,caption_title=nil,caption_num=nil;return null==caption&&(caption=nil),null==key&&(key=nil),($a=($b=self["$title?"]())!==!1&&$b!==nil?$b:self.caption["$nil?"]())===!1||$a===nil?nil:(($a=caption["$nil?"]())!==!1&&$a!==nil?($a=self.document.$attributes()["$has_key?"]("caption"))!==!1&&$a!==nil?self.caption=self.document.$attributes()["$[]"]("caption"):($a=self["$title?"]())!==!1&&$a!==nil?(($a=key)!==!1&&$a!==nil?$a:key=self.context.$to_s(),caption_key=""+key+"-caption",($a=self.document.$attributes()["$has_key?"](caption_key))!==!1&&$a!==nil&&(caption_title=self.document.$attributes()["$[]"](""+key+"-caption"),caption_num=self.document.$counter_increment(""+key+"-number",self),self.caption=""+caption_title+" "+caption_num+". ")):self.caption=caption:self.caption=caption,nil)},def.$assign_index=function(section){var $a,$b,$c,$d,self=this,appendix_number=nil,caption=nil;return section["$index="](self.next_section_index),self.next_section_index=self.next_section_index["$+"](1),section.$sectname()["$=="]("appendix")?(appendix_number=self.document.$counter("appendix-number","A"),($a=section.$numbered())!==!1&&$a!==nil&&section["$number="](appendix_number),$b=(caption=self.document.$attr("appendix-caption",""))["$=="](""),section["$caption="](($a=$b===nil||$b===!1)!=!1&&$a!==nil?""+caption+" "+appendix_number+": ":""+appendix_number+". ")):($a=section.$numbered())!==!1&&$a!==nil?($b=($c=section.$level()["$=="](1))!==!1&&$c!==nil?$c:($d=section.$level()["$=="](0))?section.$special():$d,($a=$b!==!1&&$b!==nil?self.document.$doctype()["$=="]("book"):$b)!==!1&&$a!==nil?section["$number="](self.document.$counter("chapter-number",1)):(section["$number="](self.next_section_number),self.next_section_number=self.next_section_number["$+"](1))):nil},def.$reindex_sections=function(){var $a,$b,TMP_4,self=this;return self.next_section_index=0,self.next_section_number=0,($a=($b=self.blocks).$each,$a._p=(TMP_4=function(block){var self=TMP_4._s||this;return null==block&&(block=nil),block.$context()["$=="]("section")?(self.$assign_index(block),block.$reindex_sections()):nil},TMP_4._s=self,TMP_4),$a).call($b)},nil}(self,$scope.AbstractNode)}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$module=($opal.breaker,$opal.slice,$opal.module),$klass=$opal.klass,$hash2=$opal.hash2;return function($base){{var self=$module($base,"Asciidoctor");self._proto,self._scope}!function($base,$super){function $AttributeList(){}var self=$AttributeList=$klass($base,$super,"AttributeList",$AttributeList),def=$AttributeList._proto,$scope=$AttributeList._scope;return def.attributes=def.scanner=def.quotes=def.delimiter=def.block=def.escape_char=nil,$opal.cdecl($scope,"BOUNDARY_PATTERNS",$hash2(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":/.*?(?=[ \t]*(,|$))/})),$opal.cdecl($scope,"UNESCAPE_PATTERNS",$hash2(['\\"',"\\'"],{'\\"':/\\"/,"\\'":/\\'/})),$opal.cdecl($scope,"SKIP_PATTERNS",$hash2(["blank",","],{blank:/[ \t]+/,",":/[ \t]*(,|$)/})),$opal.cdecl($scope,"NAME_PATTERN",/[A-Za-z:_][A-Za-z:_\-\.]*/),def.$initialize=function(source,block,quotes,delimiter,escape_char){var $a,self=this;return null==block&&(block=nil),null==quotes&&(quotes=["'",'"']),null==delimiter&&(delimiter=","),null==escape_char&&(escape_char="\\"),self.scanner=(null==($a=$opal.Object._scope.StringScanner)?$opal.cm("StringScanner"):$a).$new(source),self.block=block,self.quotes=quotes,self.escape_char=escape_char,self.delimiter=delimiter,self.attributes=nil},def.$parse_into=function(attributes,posattrs){var self=this;return null==posattrs&&(posattrs=[]),attributes.$update(self.$parse(posattrs))},def.$parse=function(posattrs){var $a,$b,self=this,index=nil;if(null==posattrs&&(posattrs=[]),($a=self.attributes["$nil?"]())===!1||$a===nil)return self.attributes;for(self.attributes=$hash2([],{}),index=0;($b=self.$parse_attribute(index,posattrs))!==!1&&$b!==nil&&(($b=self.scanner["$eos?"]())===!1||$b===nil);)self.$skip_delimiter(),index=index["$+"](1);return self.attributes},def.$rekey=function(posattrs){var self=this;return $scope.AttributeList.$rekey(self.attributes,posattrs)},$opal.defs(self,"$rekey",function(attributes,pos_attrs){var $a,$b,TMP_1,self=this;return($a=($b=pos_attrs).$each_with_index,$a._p=(TMP_1=function(key,index){var $a,pos=(TMP_1._s||this,nil),val=nil;return null==key&&(key=nil),null==index&&(index=nil),($a=key["$nil?"]())!==!1&&$a!==nil?nil:(pos=index["$+"](1),($a=(val=attributes["$[]"](pos))["$nil?"]())!==!1&&$a!==nil?nil:attributes["$[]="](key,val))},TMP_1._s=self,TMP_1),$a).call($b),attributes}),def.$parse_attribute=function(index,pos_attrs){var $a,$b,$c,TMP_2,$d,self=this,single_quoted_value=nil,first=nil,value=nil,name=nil,skipped=nil,c=nil,remainder=nil,resolved_name=nil,pos_name=nil,resolved_value=nil;if(null==index&&(index=0),null==pos_attrs&&(pos_attrs=[]),single_quoted_value=!1,self.$skip_blank(),first=self.scanner.$peek(1),($a=self.quotes["$include?"](first))!==!1&&$a!==nil)value=nil,name=self.$parse_attribute_value(self.scanner.$get_byte()),first["$=="]("'")&&(single_quoted_value=!0);else{if(name=self.$scan_name(),skipped=0,c=nil,($a=self.scanner["$eos?"]())!==!1&&$a!==nil){if(($a=name["$nil?"]())!==!1&&$a!==nil)return!1}else skipped=($a=self.$skip_blank())!==!1&&$a!==nil?$a:0,c=self.scanner.$get_byte();($a=($b=c["$nil?"]())!==!1&&$b!==nil?$b:c["$=="](self.delimiter))!==!1&&$a!==nil?value=nil:($c=c["$=="]("="),($a=($b=$c===nil||$c===!1)!=!1&&$b!==nil?$b:name["$nil?"]())!==!1&&$a!==nil?(remainder=self.$scan_to_delimiter(),($a=name["$nil?"]())!==!1&&$a!==nil&&(name=""),name=name["$+"](" "["$*"](skipped)["$+"](c)),(($a=remainder["$nil?"]())===!1||$a===nil)&&(name=name["$+"](remainder)),value=nil):(self.$skip_blank(),self.scanner.$peek(1)["$=="](self.delimiter)?value=nil:(c=self.scanner.$get_byte(),($a=self.quotes["$include?"](c))!==!1&&$a!==nil?(value=self.$parse_attribute_value(c),c["$=="]("'")&&(single_quoted_value=!0)):($b=c["$nil?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil&&(value=c["$+"](self.$scan_to_delimiter()))))))}return($a=value["$nil?"]())!==!1&&$a!==nil?(resolved_name=function(){return($a=($b=single_quoted_value!==!1&&single_quoted_value!==nil)?($c=self.block["$nil?"](),$c===nil||$c===!1):$b)!==!1&&$a!==nil?self.block.$apply_normal_subs(name):name}(),$b=(pos_name=pos_attrs["$[]"](index))["$nil?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil&&self.attributes["$[]="](pos_name,resolved_name),self.attributes["$[]="](index["$+"](1),resolved_name)):(resolved_value=value,($a=($b=name["$=="]("options"))!==!1&&$b!==nil?$b:name["$=="]("opts"))!==!1&&$a!==nil?(name="options",($a=($b=resolved_value.$split(",")).$each,$a._p=(TMP_2=function(o){var self=TMP_2._s||this;return null==self.attributes&&(self.attributes=nil),null==o&&(o=nil),self.attributes["$[]="](""+o.$strip()+"-option","")},TMP_2._s=self,TMP_2),$a).call($b)):($a=($c=single_quoted_value!==!1&&single_quoted_value!==nil)?($d=self.block["$nil?"](),$d===nil||$d===!1):$c)!==!1&&$a!==nil&&(resolved_value=self.block.$apply_normal_subs(value)),self.attributes["$[]="](name,resolved_value)),!0},def.$parse_attribute_value=function(quote){var $a,self=this,value=nil;return self.scanner.$peek(1)["$=="](quote)?(self.scanner.$get_byte(),""):(value=self.$scan_to_quote(quote),($a=value["$nil?"]())!==!1&&$a!==nil?quote["$+"](self.$scan_to_delimiter()):(self.scanner.$get_byte(),value.$gsub($scope.UNESCAPE_PATTERNS["$[]"](self.escape_char["$+"](quote)),quote)))},def.$skip_blank=function(){var self=this;return self.scanner.$skip($scope.SKIP_PATTERNS["$[]"]("blank"))},def.$skip_delimiter=function(){var self=this;return self.scanner.$skip($scope.SKIP_PATTERNS["$[]"](self.delimiter))},def.$scan_name=function(){var self=this;return self.scanner.$scan($scope.NAME_PATTERN)},def.$scan_to_delimiter=function(){var self=this;return self.scanner.$scan($scope.BOUNDARY_PATTERNS["$[]"](self.delimiter))},def.$scan_to_quote=function(quote){var self=this;return self.scanner.$scan($scope.BOUNDARY_PATTERNS["$[]"](quote))},nil}(self,null)}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$slice=($opal.breaker,$opal.slice),$module=$opal.module,$klass=$opal.klass,$hash2=$opal.hash2;return function($base){var self=$module($base,"Asciidoctor"),$scope=(self._proto,self._scope);!function($base,$super){function $Block(){}var TMP_1,TMP_2,self=$Block=$klass($base,$super,"Block",$Block),def=$Block._proto,$scope=$Block._scope;return def.content_model=def.lines=def.subs=def.blocks=def.context=def.style=nil,$opal.defn(self,"$blockname",def.$context),self.$attr_accessor("lines"),def.$initialize=TMP_1=function(parent,context,opts){var $a,self=this,raw_source=(TMP_1._p,nil);return null==opts&&(opts=$hash2([],{})),TMP_1._p=null,$opal.find_super_dispatcher(self,"initialize",TMP_1,null).apply(self,[parent,context]),self.content_model=($a=opts.$fetch("content_model",nil))!==!1&&$a!==nil?$a:"simple",self.attributes=($a=opts.$fetch("attributes",nil))!==!1&&$a!==nil?$a:$hash2([],{}),($a=opts["$has_key?"]("subs"))!==!1&&$a!==nil&&(self.subs=opts["$[]"]("subs")),raw_source=($a=opts.$fetch("source",nil))!==!1&&$a!==nil?$a:nil,self.lines=($a=raw_source["$nil?"]())!==!1&&$a!==nil?[]:raw_source.$class()["$=="](null==($a=$opal.Object._scope.String)?$opal.cm("String"):$a)?$scope.Helpers.$normalize_lines_from_string(raw_source):raw_source.$dup()},def.$content=TMP_2=function(){var $a,$b,$c,$d,$zuper=$slice.call(arguments,0),self=this,$iter=TMP_2._p,$case=nil,result=nil,first=nil,last=nil;return TMP_2._p=null,function(){if($case=self.content_model,"compound"["$==="]($case))return $opal.find_super_dispatcher(self,"content",TMP_2,$iter).apply(self,$zuper);if("simple"["$==="]($case))return self.$apply_subs(self.lines.$join($scope.EOL),self.subs);if("verbatim"["$==="]($case)||"raw"["$==="]($case)){if(result=self.$apply_subs(self.lines,self.subs),result.$size()["$<"](2))return($a=result.$first())!==!1&&$a!==nil?$a:"";for(;$d=(first=result.$first())["$nil?"](),$c=$d===nil||$d===!1,($b=$c!==!1&&$c!==nil?first.$rstrip()["$empty?"]():$c)!==!1&&$b!==nil;)result.$shift();for(;$d=(last=result.$last())["$nil?"](),$c=$d===nil||$d===!1,($b=$c!==!1&&$c!==nil?last.$rstrip()["$empty?"]():$c)!==!1&&$b!==nil;)result.$pop();return result.$join($scope.EOL)}return(($a=self.content_model["$=="]("empty"))===!1||$a===nil)&&self.$warn("Unknown content model '"+self.content_model+"' for block: "+self.$to_s()),nil}()},def.$source=function(){var self=this;return self.lines["$*"]($scope.EOL)},def.$to_s=function(){var $a,self=this,content_summary=nil;return content_summary=function(){return self.content_model["$=="]("compound")?"# of blocks = "+self.blocks.$size():"# of lines = "+self.lines.$size()}(),"Block[@context: :"+self.context+", @content_model: :"+self.content_model+", @style: "+(($a=self.style)!==!1&&$a!==nil?$a:"nil")+", "+content_summary+"]"},nil}(self,$scope.AbstractBlock)}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$module=($opal.breaker,$opal.slice,$opal.module),$klass=$opal.klass,$hash2=$opal.hash2;return function($base){{var self=$module($base,"Asciidoctor");self._proto,self._scope}!function($base,$super){function $Callouts(){}{var def=($Callouts=$klass($base,$super,"Callouts",$Callouts),$Callouts._proto);$Callouts._scope}return def.co_index=def.lists=def.list_index=nil,def.$initialize=function(){var self=this;return self.lists=[],self.list_index=0,self.$next_list()},def.$register=function(li_ordinal){var self=this,id=nil;return self.$current_list()["$<<"]($hash2(["ordinal","id"],{ordinal:li_ordinal.$to_i(),id:id=self.$generate_next_callout_id()})),self.co_index=self.co_index["$+"](1),id},def.$read_next_id=function(){var self=this,id=nil,list=nil;return id=nil,list=self.$current_list(),self.co_index["$<="](list.$size())&&(id=list["$[]"](self.co_index["$-"](1))["$[]"]("id")),self.co_index=self.co_index["$+"](1),id},def.$callout_ids=function(li_ordinal){var $a,$b,TMP_1,self=this;return($a=($b=self.$current_list()).$inject,$a._p=(TMP_1=function(collector,element){TMP_1._s||this;return null==collector&&(collector=nil),null==element&&(element=nil),element["$[]"]("ordinal")["$=="](li_ordinal)&&collector["$<<"](element["$[]"]("id")),collector},TMP_1._s=self,TMP_1),$a).call($b,[])["$*"](" ")},def.$current_list=function(){var self=this;return self.lists["$[]"](self.list_index["$-"](1))},def.$next_list=function(){var self=this;return self.list_index=self.list_index["$+"](1),self.lists.$size()["$<"](self.list_index)&&self.lists["$<<"]([]),self.co_index=1,nil},def.$rewind=function(){var self=this;return self.list_index=1,self.co_index=1,nil},def.$generate_next_callout_id=function(){var self=this;return self.$generate_callout_id(self.list_index,self.co_index)},def.$generate_callout_id=function(list_index,co_index){return"CO"+list_index+"-"+co_index},nil}(self,null)}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$slice=($opal.breaker,$opal.slice),$module=$opal.module,$klass=$opal.klass,$hash2=$opal.hash2,$range=$opal.range,$gvars=$opal.gvars;return function($base){var self=$module($base,"Asciidoctor"),$scope=(self._proto,self._scope);!function($base,$super){function $Document(){}var TMP_1,TMP_9,TMP_14,TMP_15,self=$Document=$klass($base,$super,"Document",$Document),def=$Document._proto,$scope=$Document._scope;return def.parent_document=def.safe=def.options=def.attributes=def.attribute_overrides=def.base_dir=def.extensions=def.reader=def.callouts=def.counters=def.references=def.header=def.blocks=def.attributes_modified=def.id=def.original_attributes=def.renderer=nil,$opal.cdecl($scope,"Footnote",$scope.Struct.$new("index","id","text")),function($base,$super){function $AttributeEntry(){}{var self=$AttributeEntry=$klass($base,$super,"AttributeEntry",$AttributeEntry),def=$AttributeEntry._proto;$AttributeEntry._scope}return self.$attr_reader("name","value","negate"),def.$initialize=function(name,value,negate){var $a,self=this;return null==negate&&(negate=nil),self.name=name,self.value=value,self.negate=function(){return($a=negate["$nil?"]())!==!1&&$a!==nil?value["$nil?"]():negate}()},def.$save_to=function(block_attributes){var $a,$b,$c,self=this;return($a="attribute_entries",$b=block_attributes,($c=$b["$[]"]($a))!==!1&&$c!==nil?$c:$b["$[]="]($a,[]))["$<<"](self)},nil}(self,null),self.$attr_reader("safe"),self.$attr_reader("references"),self.$attr_reader("counters"),self.$attr_reader("callouts"),self.$attr_reader("header"),self.$attr_reader("base_dir"),self.$attr_reader("parent_document"),self.$attr_reader("extensions"),def.$initialize=TMP_1=function(data,options){var $a,$b,$c,TMP_2,TMP_3,$f,$g,TMP_4,$h,TMP_5,$i,TMP_6,$j,$k,TMP_7,self=this,initialize_extensions=(TMP_1._p,nil),safe_mode=nil,safe_mode_name=nil,now=nil;if(null==data&&(data=[]),null==options&&(options=$hash2([],{})),TMP_1._p=null,$opal.find_super_dispatcher(self,"initialize",TMP_1,null).apply(self,[self,"document"]),($a=options["$[]"]("parent"))!==!1&&$a!==nil?(self.parent_document=options.$delete("parent"),$a="base_dir",$b=options,($c=$b["$[]"]($a))!==!1&&$c!==nil?$c:$b["$[]="]($a,self.parent_document.$base_dir()),self.references=($a=($b=self.parent_document.$references()).$inject,$a._p=(TMP_2=function(collector,$d){TMP_2._s||this;return null==collector&&(collector=nil),key=$d[0],ref=$d[1],key["$=="]("footnotes")?collector["$[]="]("footnotes",[]):collector["$[]="](key,ref),collector},TMP_2._s=self,TMP_2),$a).call($b,$hash2([],{})),self.attribute_overrides=self.parent_document.$attributes().$dup(),self.safe=self.parent_document.$safe(),self.renderer=self.parent_document.$renderer(),initialize_extensions=!1,self.extensions=self.parent_document.$extensions()):(self.parent_document=nil,self.references=$hash2(["ids","footnotes","links","images","indexterms","includes"],{ids:$hash2([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:$scope.Set.$new()}),self.attribute_overrides=($a=($c=($f=options["$[]"]("attributes"))!==!1&&$f!==nil?$f:$hash2([],{})).$inject,$a._p=(TMP_3=function(collector,$e){var $a,key=(TMP_3._s||this,nil),value=nil;return null==collector&&(collector=nil),key=$e[0],value=$e[1],($a=key["$start_with?"]("!"))!==!1&&$a!==nil?(key=key["$[]"]($range(1,-1,!1)),value=nil):($a=key["$end_with?"]("!"))!==!1&&$a!==nil&&(key=key["$[]"]($range(0,-2,!1)),value=nil),collector["$[]="](key.$downcase(),value),collector},TMP_3._s=self,TMP_3),$a).call($c,$hash2([],{})),self.safe=nil,self.renderer=nil,$a=$scope.Asciidoctor["$const_defined?"]("Extensions"),initialize_extensions=$a!==!1&&$a!==nil?$scope.Asciidoctor.$const_get("Extensions")["$=="]((null==($f=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$f)._scope.Extensions):$a,self.extensions=nil),self.header=nil,self.counters=$hash2([],{}),self.callouts=$scope.Callouts.$new(),self.attributes_modified=$scope.Set.$new(),self.options=options,($a=self.parent_document)===!1||$a===nil)if($f=self.safe["$nil?"](),($a=$f!==!1&&$f!==nil?($g=safe_mode=self.options["$[]"]("safe"),$g===nil||$g===!1):$f)!==!1&&$a!==nil)self.safe=$scope.SafeMode._scope.SECURE;else if(($a=safe_mode["$is_a?"]($scope.Fixnum))!==!1&&$a!==nil)self.safe=safe_mode;else try{self.safe=$scope.SafeMode.$const_get(safe_mode.$to_s().$upcase()).$to_i()}catch($err){self.safe=$scope.SafeMode._scope.SECURE.$to_i()}return self.options["$[]="]("header_footer",self.options.$fetch("header_footer",!1)),self.attributes["$[]="]("encoding","UTF-8"),self.attributes["$[]="]("sectids",""),(($a=self.options["$[]"]("header_footer"))===!1||$a===nil)&&self.attributes["$[]="]("notitle",""),self.attributes["$[]="]("toc-placement","auto"),self.attributes["$[]="]("stylesheet",""),($a=self.options["$[]"]("header_footer"))!==!1&&$a!==nil&&self.attributes["$[]="]("copycss",""),self.attributes["$[]="]("prewrap",""),self.attributes["$[]="]("attribute-undefined",$scope.Compliance.$attribute_undefined()),self.attributes["$[]="]("attribute-missing",$scope.Compliance.$attribute_missing()),self.attributes["$[]="]("caution-caption","Caution"),self.attributes["$[]="]("important-caption","Important"),self.attributes["$[]="]("note-caption","Note"),self.attributes["$[]="]("tip-caption","Tip"),self.attributes["$[]="]("warning-caption","Warning"),self.attributes["$[]="]("appendix-caption","Appendix"),self.attributes["$[]="]("example-caption","Example"),self.attributes["$[]="]("figure-caption","Figure"),self.attributes["$[]="]("table-caption","Table"),self.attributes["$[]="]("toc-title","Table of Contents"),self.attributes["$[]="]("manname-title","NAME"),self.attributes["$[]="]("untitled-label","Untitled"),self.attributes["$[]="]("version-label","Version"),self.attributes["$[]="]("last-update-label","Last updated"),self.attribute_overrides["$[]="]("asciidoctor",""),self.attribute_overrides["$[]="]("asciidoctor-version",$scope.VERSION),safe_mode_name=($a=($f=$scope.SafeMode.$constants()).$detect,$a._p=(TMP_4=function(l){var self=TMP_4._s||this;return null==self.safe&&(self.safe=nil),null==l&&(l=nil),$scope.SafeMode.$const_get(l)["$=="](self.safe)},TMP_4._s=self,TMP_4),$a).call($f).$to_s().$downcase(),self.attribute_overrides["$[]="]("safe-mode-name",safe_mode_name),self.attribute_overrides["$[]="]("safe-mode-"+safe_mode_name,""),self.attribute_overrides["$[]="]("safe-mode-level",self.safe),self.attribute_overrides["$[]="]("embedded",function(){return($a=self.options["$[]"]("header_footer"))!==!1&&$a!==nil?nil:""}()),$a="max-include-depth",$g=self.attribute_overrides,($h=$g["$[]"]($a))!==!1&&$h!==nil?$h:$g["$[]="]($a,64),$g=self.attribute_overrides["$[]"]("allow-uri-read")["$nil?"](),(($a=$g===nil||$g===!1)==!1||$a===nil)&&self.attribute_overrides["$[]="]("allow-uri-read",nil),self.attribute_overrides["$[]="]("user-home",$scope.USER_HOME),self.base_dir=($a=self.options["$[]"]("base_dir")["$nil?"]())!==!1&&$a!==nil?($a=self.attribute_overrides["$[]"]("docdir"))!==!1&&$a!==nil?self.attribute_overrides["$[]="]("docdir",$scope.File.$expand_path(self.attribute_overrides["$[]"]("docdir"))):self.attribute_overrides["$[]="]("docdir",$scope.File.$expand_path($scope.Dir.$pwd())):self.attribute_overrides["$[]="]("docdir",$scope.File.$expand_path(self.options["$[]"]("base_dir"))),(($a=self.options["$[]"]("backend")["$nil?"]())===!1||$a===nil)&&self.attribute_overrides["$[]="]("backend",self.options["$[]"]("backend").$to_s()),(($a=self.options["$[]"]("doctype")["$nil?"]())===!1||$a===nil)&&self.attribute_overrides["$[]="]("doctype",self.options["$[]"]("doctype").$to_s()),self.safe["$>="]($scope.SafeMode._scope.SERVER)&&($a="copycss",$g=self.attribute_overrides,($h=$g["$[]"]($a))!==!1&&$h!==nil?$h:$g["$[]="]($a,nil),$a="source-highlighter",$g=self.attribute_overrides,($h=$g["$[]"]($a))!==!1&&$h!==nil?$h:$g["$[]="]($a,nil),$a="backend",$g=self.attribute_overrides,($h=$g["$[]"]($a))!==!1&&$h!==nil?$h:$g["$[]="]($a,$scope.DEFAULT_BACKEND),$h=self.parent_document,$g=$h===nil||$h===!1,($a=$g!==!1&&$g!==nil?self.attribute_overrides["$has_key?"]("docfile"):$g)!==!1&&$a!==nil&&self.attribute_overrides["$[]="]("docfile",self.attribute_overrides["$[]"]("docfile")["$[]"]($range(self.attribute_overrides["$[]"]("docdir").$length()["$+"](1),-1,!1))),self.attribute_overrides["$[]="]("docdir",""),self.attribute_overrides["$[]="]("user-home","."),self.safe["$>="]($scope.SafeMode._scope.SECURE)&&((($a=self.attribute_overrides.$fetch("linkcss","")["$nil?"]())===!1||$a===nil)&&self.attribute_overrides["$[]="]("linkcss",""),$a="icons",$g=self.attribute_overrides,($h=$g["$[]"]($a))!==!1&&$h!==nil?$h:$g["$[]="]($a,nil))),($a=($g=self.attribute_overrides).$delete_if,$a._p=(TMP_5=function(key,val){var $a,$b,self=TMP_5._s||this,verdict=nil;return null==self.attributes&&(self.attributes=nil),null==key&&(key=nil),null==val&&(val=nil),verdict=!1,($a=val["$nil?"]())!==!1&&$a!==nil?self.attributes.$delete(key):($b=val["$is_a?"]($scope.String),($a=$b!==!1&&$b!==nil?val["$end_with?"]("@"):$b)!==!1&&$a!==nil&&(val=val.$chop(),verdict=!0),self.attributes["$[]="](key,val)),verdict},TMP_5._s=self,TMP_5),$a).call($g),$h=self.parent_document,($a=$h===nil||$h===!1)!=!1&&$a!==nil?($a="backend",$h=self.attributes,($i=$h["$[]"]($a))!==!1&&$i!==nil?$i:$h["$[]="]($a,$scope.DEFAULT_BACKEND),$a="doctype",$h=self.attributes,($i=$h["$[]"]($a))!==!1&&$i!==nil?$i:$h["$[]="]($a,$scope.DEFAULT_DOCTYPE),self.$update_backend_attributes(),now=$scope.Time.$new(),$a="localdate",$h=self.attributes,($i=$h["$[]"]($a))!==!1&&$i!==nil?$i:$h["$[]="]($a,now.$strftime("%Y-%m-%d")),$a="localtime",$h=self.attributes,($i=$h["$[]"]($a))!==!1&&$i!==nil?$i:$h["$[]="]($a,now.$strftime("%H:%M:%S %Z")),$a="localdatetime",$h=self.attributes,($i=$h["$[]"]($a))!==!1&&$i!==nil?$i:$h["$[]="]($a,""+self.attributes["$[]"]("localdate")+" "+self.attributes["$[]"]("localtime")),$a="docdate",$h=self.attributes,($i=$h["$[]"]($a))!==!1&&$i!==nil?$i:$h["$[]="]($a,self.attributes["$[]"]("localdate")),$a="doctime",$h=self.attributes,($i=$h["$[]"]($a))!==!1&&$i!==nil?$i:$h["$[]="]($a,self.attributes["$[]"]("localtime")),$a="docdatetime",$h=self.attributes,($i=$h["$[]"]($a))!==!1&&$i!==nil?$i:$h["$[]="]($a,self.attributes["$[]"]("localdatetime")),$a="stylesdir",$h=self.attributes,($i=$h["$[]"]($a))!==!1&&$i!==nil?$i:$h["$[]="]($a,"."),$a="iconsdir",$h=self.attributes,($i=$h["$[]"]($a))!==!1&&$i!==nil?$i:$h["$[]="]($a,$scope.File.$join(self.attributes.$fetch("imagesdir","./images"),"icons")),self.extensions=function(){return initialize_extensions!==!1&&initialize_extensions!==nil?$scope.Extensions._scope.Registry.$new(self):nil}(),self.reader=$scope.PreprocessorReader.$new(self,data,$scope.Asciidoctor._scope.Reader._scope.Cursor.$new(self.attributes["$[]"]("docfile"),self.base_dir)),$h=self.extensions,($a=$h!==!1&&$h!==nil?self.extensions["$preprocessors?"]():$h)!==!1&&$a!==nil&&($a=($h=self.extensions.$load_preprocessors(self)).$each,$a._p=(TMP_6=function(processor){var $a,self=TMP_6._s||this;return null==self.reader&&(self.reader=nil),null==processor&&(processor=nil),self.reader=($a=processor.$process(self.reader,self.reader.$lines()))!==!1&&$a!==nil?$a:self.reader},TMP_6._s=self,TMP_6),$a).call($h)):self.reader=$scope.Reader.$new(data,options["$[]"]("cursor")),$scope.Lexer.$parse(self.reader,self,$hash2(["header_only"],{header_only:self.options.$fetch("parse_header_only",!1)})),self.callouts.$rewind(),$k=self.parent_document,$j=$k===nil||$k===!1,$i=$j!==!1&&$j!==nil?self.extensions:$j,($a=$i!==!1&&$i!==nil?self.extensions["$treeprocessors?"]():$i)!==!1&&$a!==nil?($a=($i=self.extensions.$load_treeprocessors(self)).$each,$a._p=(TMP_7=function(processor){TMP_7._s||this;return null==processor&&(processor=nil),processor.$process()},TMP_7._s=self,TMP_7),$a).call($i):nil},def.$counter=function(name,seed){var $a,$b,self=this;return null==seed&&(seed=nil),$b=self.counters["$has_key?"](name),($a=$b===nil||$b===!1)!=!1&&$a!==nil?(($a=seed["$nil?"]())!==!1&&$a!==nil?seed=self.$nextval(function(){return($a=self.attributes["$has_key?"](name))!==!1&&$a!==nil?self.attributes["$[]"](name):0}()):seed.$to_i().$to_s()["$=="](seed)&&(seed=seed.$to_i()),self.counters["$[]="](name,seed)):self.counters["$[]="](name,self.$nextval(self.counters["$[]"](name))),self.attributes["$[]="](name,self.counters["$[]"](name))},def.$counter_increment=function(counter_name,block){var self=this,val=nil;return val=self.$counter(counter_name),$scope.AttributeEntry.$new(counter_name,val).$save_to(block.$attributes()),val},def.$nextval=function(current){var $a,$b,intval=nil;return($a=current["$is_a?"]($scope.Integer))!==!1&&$a!==nil?current["$+"](1):(intval=current.$to_i(),$b=intval.$to_s()["$=="](current.$to_s()),($a=$b===nil||$b===!1)!=!1&&$a!==nil?current["$[]"](0).$ord()["$+"](1).$chr():intval["$+"](1))},def.$register=function(type,value){var $a,self=this,$case=nil;return function(){return $case=type,"ids"["$==="]($case)?($a=value["$is_a?"]($scope.Array))!==!1&&$a!==nil?self.references["$[]"]("ids")["$[]="](value["$[]"](0),($a=value["$[]"](1))!==!1&&$a!==nil?$a:"["["$+"](value["$[]"](0))["$+"]("]")):self.references["$[]"]("ids")["$[]="](value,"["["$+"](value)["$+"]("]")):"footnotes"["$==="]($case)||"indexterms"["$==="]($case)?self.references["$[]"](type)["$<<"](value):($a=self.options["$[]"]("catalog_assets"))!==!1&&$a!==nil?self.references["$[]"](type)["$<<"](value):nil}()},def["$footnotes?"]=function(){var $a,self=this;return $a=self.references["$[]"]("footnotes")["$empty?"](),$a===nil||$a===!1},def.$footnotes=function(){var self=this;return self.references["$[]"]("footnotes")},def["$nested?"]=function(){var $a,self=this;return($a=self.parent_document)!==!1&&$a!==nil?!0:!1
},def["$embedded?"]=function(){var self=this;return self.attributes["$has_key?"]("embedded")},def["$extensions?"]=function(){var $a,self=this;return($a=self.extensions)!==!1&&$a!==nil?!0:!1},def.$source=function(){var $a,self=this;return($a=self.reader)!==!1&&$a!==nil?self.reader.$source():nil},def.$source_lines=function(){var $a,self=this;return($a=self.reader)!==!1&&$a!==nil?self.reader.$source_lines():nil},def.$doctype=function(){var self=this;return self.attributes["$[]"]("doctype")},def.$backend=function(){var self=this;return self.attributes["$[]"]("backend")},def["$basebackend?"]=function(base){var self=this;return self.attributes["$[]"]("basebackend")["$=="](base)},def.$title=function(){var self=this;return self.attributes["$[]"]("title")},def["$title="]=function(title){var $a,self=this;return($a=self.header)!==!1&&$a!==nil?$a:self.header=$scope.Section.$new(self,0),self.header["$title="](title)},def.$doctitle=function(opts){var $a,$b,$c,self=this,val=nil,sect=nil;if(null==opts&&(opts=$hash2([],{})),$b=(val=self.attributes.$fetch("title",""))["$empty?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil)val=self.$title();else{if($c=(sect=self.$first_section())["$nil?"](),$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?sect["$title?"]():$b)===!1||$a===nil)return nil;val=sect.$title()}return $b=opts["$[]"]("sanitize"),($a=$b!==!1&&$b!==nil?val["$include?"]("<"):$b)!==!1&&$a!==nil?val.$gsub(/<[^>]+>/,"").$tr_s(" "," ").$strip():val},$opal.defn(self,"$name",def.$doctitle),def.$author=function(){var self=this;return self.attributes["$[]"]("author")},def.$revdate=function(){var self=this;return self.attributes["$[]"]("revdate")},def.$notitle=function(){var $a,$b,self=this;return $b=self.attributes["$has_key?"]("showtitle"),$a=$b===nil||$b===!1,$a!==!1&&$a!==nil?self.attributes["$has_key?"]("notitle"):$a},def.$noheader=function(){var self=this;return self.attributes["$has_key?"]("noheader")},def.$nofooter=function(){var self=this;return self.attributes["$has_key?"]("nofooter")},def.$first_section=function(){var $a,$b,TMP_8,$c,self=this;return($a=self["$has_header?"]())!==!1&&$a!==nil?self.header:($a=($b=($c=self.blocks)!==!1&&$c!==nil?$c:[]).$detect,$a._p=(TMP_8=function(e){TMP_8._s||this;return null==e&&(e=nil),e.$context()["$=="]("section")},TMP_8._s=self,TMP_8),$a).call($b)},def["$has_header?"]=function(){var $a,self=this;return($a=self.header)!==!1&&$a!==nil?!0:!1},def["$<<"]=TMP_9=function(block){var $zuper=$slice.call(arguments,0),self=this,$iter=TMP_9._p;return TMP_9._p=null,$opal.find_super_dispatcher(self,"<<",TMP_9,$iter).apply(self,$zuper),block.$context()["$=="]("section")?self.$assign_index(block):nil},def.$finalize_header=function(unrooted_attributes,header_valid){var $a,self=this;return null==header_valid&&(header_valid=!0),self.$clear_playback_attributes(unrooted_attributes),self.$save_attributes(),(($a=header_valid)===!1||$a===nil)&&unrooted_attributes["$[]="]("invalid-header",!0),unrooted_attributes},def.$save_attributes=function(){var $a,$b,$c,$d,$e,TMP_10,TMP_11,self=this,val=nil,toc_val=nil,toc2_val=nil,toc_position_val=nil,default_toc_position=nil,default_toc_class=nil,position=nil,$case=nil;return self.attributes["$[]"]("basebackend")["$=="]("docbook")&&((($a=($b=self["$attribute_locked?"]("toc"))!==!1&&$b!==nil?$b:self.attributes_modified["$include?"]("toc"))===!1||$a===nil)&&self.attributes["$[]="]("toc",""),(($a=($b=self["$attribute_locked?"]("numbered"))!==!1&&$b!==nil?$b:self.attributes_modified["$include?"]("numbered"))===!1||$a===nil)&&self.attributes["$[]="]("numbered","")),(($a=($b=self.attributes["$has_key?"]("doctitle"))!==!1&&$b!==nil?$b:(val=self.$doctitle())["$nil?"]())===!1||$a===nil)&&self.attributes["$[]="]("doctitle",val),$c=self.id,$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?self.attributes["$has_key?"]("css-signature"):$b)!==!1&&$a!==nil&&(self.id=self.attributes["$[]"]("css-signature")),toc_val=self.attributes["$[]"]("toc"),toc2_val=self.attributes["$[]"]("toc2"),toc_position_val=self.attributes["$[]"]("toc-position"),$d=toc_val["$nil?"](),$c=$d===nil||$d===!1,($a=($b=$c!==!1&&$c!==nil?($e=toc_val["$=="](""),($d=$e===nil||$e===!1)!=!1&&$d!==nil?$d:($e=toc_position_val.$to_s()["$=="](""),$e===nil||$e===!1)):$c)!==!1&&$b!==nil?$b:($c=toc2_val["$nil?"](),$c===nil||$c===!1))!==!1&&$a!==nil&&(default_toc_position="left",default_toc_class="toc2",position=($a=($b=[toc_position_val,toc2_val,toc_val]).$find,$a._p=(TMP_10=function(pos){{var $a;TMP_10._s||this}return null==pos&&(pos=nil),$a=pos.$to_s()["$=="](""),$a===nil||$a===!1},TMP_10._s=self,TMP_10),$a).call($b),$d=position,$c=$d===nil||$d===!1,($a=$c!==!1&&$c!==nil?($d=toc2_val["$nil?"](),$d===nil||$d===!1):$c)!==!1&&$a!==nil&&(position=default_toc_position),self.attributes["$[]="]("toc",""),$case=position,"left"["$==="]($case)||"<"["$==="]($case)||"&lt;"["$==="]($case)?self.attributes["$[]="]("toc-position","left"):"right"["$==="]($case)||">"["$==="]($case)||"&gt;"["$==="]($case)?self.attributes["$[]="]("toc-position","right"):"top"["$==="]($case)||"^"["$==="]($case)?self.attributes["$[]="]("toc-position","top"):"bottom"["$==="]($case)||"v"["$==="]($case)?self.attributes["$[]="]("toc-position","bottom"):"center"["$==="]($case)&&(self.attributes.$delete("toc2"),default_toc_class=nil,default_toc_position="center"),default_toc_class!==!1&&default_toc_class!==nil&&($a="toc-class",$c=self.attributes,($d=$c["$[]"]($a))!==!1&&$d!==nil?$d:$c["$[]="]($a,default_toc_class)),default_toc_position!==!1&&default_toc_position!==nil&&($a="toc-position",$c=self.attributes,($d=$c["$[]"]($a))!==!1&&$d!==nil?$d:$c["$[]="]($a,default_toc_position))),self.original_attributes=self.attributes.$dup(),($a=self["$nested?"]())!==!1&&$a!==nil?nil:($a=($c=$scope.FLEXIBLE_ATTRIBUTES).$each,$a._p=(TMP_11=function(name){var $a,$b,$c,self=TMP_11._s||this;return null==self.attribute_overrides&&(self.attribute_overrides=nil),null==name&&(name=nil),$b=self.attribute_overrides["$has_key?"](name),($a=$b!==!1&&$b!==nil?($c=self.attribute_overrides["$[]"](name)["$nil?"](),$c===nil||$c===!1):$b)!==!1&&$a!==nil?self.attribute_overrides.$delete(name):nil},TMP_11._s=self,TMP_11),$a).call($c)},def.$restore_attributes=function(){var self=this;return self.attributes=self.original_attributes},def.$clear_playback_attributes=function(attributes){return attributes.$delete("attribute_entries")},def.$playback_attributes=function(block_attributes){var $a,$b,TMP_12,self=this;return($a=block_attributes["$has_key?"]("attribute_entries"))!==!1&&$a!==nil?($a=($b=block_attributes["$[]"]("attribute_entries")).$each,$a._p=(TMP_12=function(entry){var $a,self=TMP_12._s||this;return null==self.attributes&&(self.attributes=nil),null==entry&&(entry=nil),($a=entry.$negate())!==!1&&$a!==nil?self.attributes.$delete(entry.$name()):self.attributes["$[]="](entry.$name(),entry.$value())},TMP_12._s=self,TMP_12),$a).call($b):nil},def.$set_attribute=function(name,value){var $a,self=this;return($a=self["$attribute_locked?"](name))!==!1&&$a!==nil?!1:(self.attributes["$[]="](name,self.$apply_attribute_value_subs(value)),self.attributes_modified["$<<"](name),name["$=="]("backend")&&self.$update_backend_attributes(),!0)},def.$delete_attribute=function(name){var $a,self=this;return($a=self["$attribute_locked?"](name))!==!1&&$a!==nil?!1:(self.attributes.$delete(name),self.attributes_modified["$<<"](name),!0)},def["$attribute_locked?"]=function(name){var self=this;return self.attribute_overrides["$has_key?"](name)},def.$apply_attribute_value_subs=function(value){var $a,$b,self=this,m=nil,subs=nil;return($a=value.$match($scope.REGEXP["$[]"]("pass_macro_basic")))!==!1&&$a!==nil?(m=$gvars["~"],$b=m["$[]"](1)["$empty?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil?(subs=self.$resolve_pass_subs(m["$[]"](1)),($a=subs["$empty?"]())!==!1&&$a!==nil?m["$[]"](2):self.$apply_subs(m["$[]"](2),subs)):m["$[]"](2)):self.$apply_header_subs(value)},def.$update_backend_attributes=function(){var $a,self=this,backend=nil,basebackend=nil,page_width=nil,ext=nil,file_type=nil;return backend=self.attributes["$[]"]("backend"),($a=backend["$start_with?"]("xhtml"))!==!1&&$a!==nil?(self.attributes["$[]="]("htmlsyntax","xml"),backend=self.attributes["$[]="]("backend",backend["$[]"]($range(1,-1,!1)))):($a=backend["$start_with?"]("html"))!==!1&&$a!==nil&&self.attributes["$[]="]("htmlsyntax","html"),($a=$scope.BACKEND_ALIASES["$has_key?"](backend))!==!1&&$a!==nil&&(backend=self.attributes["$[]="]("backend",$scope.BACKEND_ALIASES["$[]"](backend))),basebackend=backend.$sub($scope.REGEXP["$[]"]("trailing_digit"),""),page_width=$scope.DEFAULT_PAGE_WIDTHS["$[]"](basebackend),page_width!==!1&&page_width!==nil?self.attributes["$[]="]("pagewidth",page_width):self.attributes.$delete("pagewidth"),self.attributes["$[]="]("backend-"+backend,""),self.attributes["$[]="]("basebackend",basebackend),self.attributes["$[]="]("basebackend-"+basebackend,""),self.attributes["$[]="](""+backend+"-"+self.attributes["$[]"]("doctype"),""),self.attributes["$[]="](""+basebackend+"-"+self.attributes["$[]"]("doctype"),""),ext=($a=$scope.DEFAULT_EXTENSIONS["$[]"](basebackend))!==!1&&$a!==nil?$a:".html",self.attributes["$[]="]("outfilesuffix",ext),file_type=ext["$[]"]($range(1,-1,!1)),self.attributes["$[]="]("filetype",file_type),self.attributes["$[]="]("filetype-"+file_type,"")},def.$renderer=function(opts){var $a,self=this,render_options=nil;return null==opts&&(opts=$hash2([],{})),($a=self.renderer)!==!1&&$a!==nil?self.renderer:(render_options=$hash2([],{}),($a=self.options["$has_key?"]("template_dir"))!==!1&&$a!==nil?render_options["$[]="]("template_dirs",[self.options["$[]"]("template_dir")]):($a=self.options["$has_key?"]("template_dirs"))!==!1&&$a!==nil&&render_options["$[]="]("template_dirs",self.options["$[]"]("template_dirs")),render_options["$[]="]("template_cache",self.options.$fetch("template_cache",!0)),render_options["$[]="]("backend",self.attributes.$fetch("backend","html5")),render_options["$[]="]("htmlsyntax",self.attributes["$[]"]("htmlsyntax")),render_options["$[]="]("template_engine",self.options["$[]"]("template_engine")),render_options["$[]="]("eruby",self.options.$fetch("eruby","erb")),render_options["$[]="]("compact",self.options.$fetch("compact",!1)),render_options["$merge!"](opts),self.renderer=$scope.Renderer.$new(render_options))},def.$render=function(opts){var $a,$b,$c,TMP_13,self=this,r=nil,block=nil,output=nil;return null==opts&&(opts=$hash2([],{})),self.$restore_attributes(),r=self.$renderer(opts),self.$doctype()["$=="]("inline")?($c=(block=self.blocks.$first())["$nil?"](),$b=$c===nil||$c===!1,output=($a=$b!==!1&&$b!==nil?($c=block.$content_model()["$=="]("compound"),$c===nil||$c===!1):$b)!==!1&&$a!==nil?block.$content():""):output=function(){return($a=self.options.$merge(opts)["$[]"]("header_footer"))!==!1&&$a!==nil?r.$render("document",self).$strip():r.$render("embedded",self)}(),$c=self.parent_document,$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?self.extensions:$b)!==!1&&$a!==nil&&(($a=self.extensions["$postprocessors?"]())!==!1&&$a!==nil&&($a=($b=self.extensions.$load_postprocessors(self)).$each,$a._p=(TMP_13=function(processor){TMP_13._s||this;return null==processor&&(processor=nil),output=processor.$process(output)},TMP_13._s=self,TMP_13),$a).call($b),self.extensions.$reset()),output},def.$content=TMP_14=function(){var $zuper=$slice.call(arguments,0),self=this,$iter=TMP_14._p;return TMP_14._p=null,self.attributes.$delete("title"),$opal.find_super_dispatcher(self,"content",TMP_14,$iter).apply(self,$zuper)},def.$docinfo=function(pos,ext){var $a,$b,$c,self=this,$case=nil,qualifier=nil,content=nil,docinfo=nil,docinfo1=nil,docinfo2=nil,docinfo_filename=nil,docinfo_path=nil,content2=nil;return null==pos&&(pos="header"),null==ext&&(ext=nil),self.$safe()["$>="]($scope.SafeMode._scope.SECURE)?"":($case=pos,qualifier="footer"["$==="]($case)?"-footer":nil,($a=ext["$nil?"]())!==!1&&$a!==nil&&(ext=self.attributes["$[]"]("outfilesuffix")),content=nil,docinfo=self.attributes["$has_key?"]("docinfo"),docinfo1=self.attributes["$has_key?"]("docinfo1"),docinfo2=self.attributes["$has_key?"]("docinfo2"),docinfo_filename="docinfo"+qualifier+ext,($a=($b=docinfo1)!==!1&&$b!==nil?$b:docinfo2)!==!1&&$a!==nil&&(docinfo_path=self.$normalize_system_path(docinfo_filename),content=self.$read_asset(docinfo_path),(($a=content["$nil?"]())===!1||$a===nil)&&(($a=$scope.FORCE_ENCODING)!==!1&&$a!==nil&&content.$force_encoding((null==($a=$opal.Object._scope.Encoding)?$opal.cm("Encoding"):$a)._scope.UTF_8),content=self.$sub_attributes(content.$split($scope.LINE_SPLIT))["$*"]($scope.EOL))),$b=($c=docinfo)!==!1&&$c!==nil?$c:docinfo2,($a=$b!==!1&&$b!==nil?self.attributes["$has_key?"]("docname"):$b)!==!1&&$a!==nil&&(docinfo_path=self.$normalize_system_path(""+self.attributes["$[]"]("docname")+"-"+docinfo_filename),content2=self.$read_asset(docinfo_path),(($a=content2["$nil?"]())===!1||$a===nil)&&(($a=$scope.FORCE_ENCODING)!==!1&&$a!==nil&&content2.$force_encoding((null==($a=$opal.Object._scope.Encoding)?$opal.cm("Encoding"):$a)._scope.UTF_8),content2=self.$sub_attributes(content2.$split($scope.LINE_SPLIT))["$*"]($scope.EOL),content=function(){return($a=content["$nil?"]())!==!1&&$a!==nil?content2:""+content+$scope.EOL+content2}())),content.$to_s())},def.$to_s=TMP_15=function(){var $zuper=$slice.call(arguments,0),self=this,$iter=TMP_15._p;return TMP_15._p=null,""+$opal.find_super_dispatcher(self,"to_s",TMP_15,$iter).apply(self,$zuper).$to_s()+" - "+self.$doctitle()},nil}(self,$scope.AbstractBlock)}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$module=($opal.breaker,$opal.slice,$opal.module),$klass=$opal.klass,$hash2=$opal.hash2;return function($base){var self=$module($base,"Asciidoctor"),$scope=(self._proto,self._scope);!function($base,$super){function $Inline(){}var TMP_1,self=$Inline=$klass($base,$super,"Inline",$Inline),def=$Inline._proto,$scope=$Inline._scope;return def.template_name=nil,self.$attr_accessor("template_name"),self.$attr_reader("text"),self.$attr_reader("type"),self.$attr_accessor("target"),def.$initialize=TMP_1=function(parent,context,text,opts){var $a,$b,self=this,attributes=(TMP_1._p,nil);return null==text&&(text=nil),null==opts&&(opts=$hash2([],{})),TMP_1._p=null,$opal.find_super_dispatcher(self,"initialize",TMP_1,null).apply(self,[parent,context]),self.template_name="inline_"+context,self.text=text,self.id=opts["$[]"]("id"),self.type=opts["$[]"]("type"),self.target=opts["$[]"]("target"),$b=opts["$has_key?"]("attributes"),($a=$b!==!1&&$b!==nil?(attributes=opts["$[]"]("attributes"))["$is_a?"]($scope.Hash):$b)!==!1&&$a!==nil?($a=attributes["$empty?"]())!==!1&&$a!==nil?nil:self.$update_attributes(opts["$[]"]("attributes")):nil},def.$render=function(){var self=this;return self.$renderer().$render(self.template_name,self).$chomp()},nil}(self,$scope.AbstractNode)}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$breaker=$opal.breaker,$module=($opal.slice,$opal.module),$klass=$opal.klass,$hash2=$opal.hash2,$range=$opal.range,$gvars=$opal.gvars;return function($base){{var self=$module($base,"Asciidoctor");self._proto,self._scope}!function($base,$super){function $Lexer(){}var self=$Lexer=$klass($base,$super,"Lexer",$Lexer),def=$Lexer._proto,$scope=$Lexer._scope;return $opal.cdecl($scope,"BlockMatchData",$scope.Struct.$new("context","masq","tip","terminator")),def.$initialize=function(){var self=this;return self.$raise("Au contraire, mon frere. No lexer instances will be running around.")},$opal.defs(self,"$parse",function(reader,document,options){var $a,$b,self=this,block_attributes=nil,new_section=nil;if(null==options&&(options=$hash2([],{})),block_attributes=self.$parse_document_header(reader,document),($a=options["$[]"]("header_only"))===!1||$a===nil)for(;($b=reader["$has_more_lines?"]())!==!1&&$b!==nil;)$b=$opal.to_ary(self.$next_section(reader,document,block_attributes)),new_section=null==$b[0]?nil:$b[0],block_attributes=null==$b[1]?nil:$b[1],(($b=new_section["$nil?"]())===!1||$b===nil)&&document["$<<"](new_section);return document}),$opal.defs(self,"$parse_document_header",function(reader,document){var $a,$b,$c,self=this,block_attributes=nil,assigned_doctitle=nil,val=nil,section_title=nil,_=nil,doctitle=nil;return block_attributes=self.$parse_block_metadata_lines(reader,document),($a=block_attributes["$has_key?"]("title"))!==!1&&$a!==nil?document.$finalize_header(block_attributes,!1):(assigned_doctitle=nil,(($a=(val=document.$attributes().$fetch("doctitle",""))["$empty?"]())===!1||$a===nil)&&(document["$title="](val),assigned_doctitle=val),section_title=nil,($a=self["$is_next_line_document_title?"](reader,block_attributes))!==!1&&$a!==nil&&($a=$opal.to_ary(self.$parse_section_title(reader,document)),document["$id="](null==$a[0]?nil:$a[0]),_=null==$a[1]?nil:$a[1],doctitle=null==$a[2]?nil:$a[2],_=null==$a[3]?nil:$a[3],_=null==$a[4]?nil:$a[4],(($a=assigned_doctitle)===!1||$a===nil)&&(document["$title="](doctitle),assigned_doctitle=doctitle),document.$attributes()["$[]="]("doctitle",section_title=doctitle),$b=document.$id()["$nil?"](),($a=$b!==!1&&$b!==nil?block_attributes["$has_key?"]("id"):$b)!==!1&&$a!==nil&&document["$id="](block_attributes.$delete("id")),self.$parse_header_metadata(reader,document)),$c=(val=document.$attributes().$fetch("doctitle",""))["$empty?"](),$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?($c=val["$=="](section_title),$c===nil||$c===!1):$b)!==!1&&$a!==nil&&(document["$title="](val),assigned_doctitle=val),assigned_doctitle!==!1&&assigned_doctitle!==nil&&document.$attributes()["$[]="]("doctitle",assigned_doctitle),document.$doctype()["$=="]("manpage")&&self.$parse_manpage_header(reader,document),document.$finalize_header(block_attributes))}),$opal.defs(self,"$parse_manpage_header",function(reader,document){var $a,self=this,m=nil,name_section=nil,name_section_buffer=nil;return($a=m=document.$attributes()["$[]"]("doctitle").$match($scope.REGEXP["$[]"]("mantitle_manvolnum")))!==!1&&$a!==nil?(document.$attributes()["$[]="]("mantitle",document.$sub_attributes(m["$[]"](1).$rstrip().$downcase())),document.$attributes()["$[]="]("manvolnum",m["$[]"](2).$strip())):self.$warn("asciidoctor: ERROR: "+reader.$prev_line_info()+": malformed manpage title"),reader.$skip_blank_lines(),($a=self["$is_next_line_section?"](reader,$hash2([],{})))!==!1&&$a!==nil?(name_section=self.$initialize_section(reader,document,$hash2([],{})),name_section.$level()["$=="](1)?(name_section_buffer=reader.$read_lines_until($hash2(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," "),($a=m=name_section_buffer.$match($scope.REGEXP["$[]"]("manname_manpurpose")))!==!1&&$a!==nil?(document.$attributes()["$[]="]("manname",m["$[]"](1)),document.$attributes()["$[]="]("manpurpose",m["$[]"](2)),document.$backend()["$=="]("manpage")?(document.$attributes()["$[]="]("docname",document.$attributes()["$[]"]("manname")),document.$attributes()["$[]="]("outfilesuffix","."+document.$attributes()["$[]"]("manvolnum"))):nil):self.$warn("asciidoctor: ERROR: "+reader.$prev_line_info()+": malformed name section body")):self.$warn("asciidoctor: ERROR: "+reader.$prev_line_info()+": name section title must be at level 1")):self.$warn("asciidoctor: ERROR: "+reader.$prev_line_info()+": name section expected")}),$opal.defs(self,"$next_section",function(reader,parent,attributes){var $a,$b,$c,$d,TMP_1,$e,self=this,preamble=nil,part=nil,intro=nil,doctype=nil,section=nil,current_level=nil,expected_next_levels=nil,next_level=nil,new_section=nil,block_line_info=nil,new_block=nil,first_block=nil,document=nil,child_block=nil;for(null==attributes&&(attributes=$hash2([],{})),preamble=!1,part=!1,intro=!1,$b=($c=parent.$context()["$=="]("document"))?parent.$blocks()["$empty?"]():$c,($a=$b!==!1&&$b!==nil?($c=($d=parent["$has_header?"]())!==!1&&$d!==nil?$d:attributes.$delete("invalid-header"))!==!1&&$c!==nil?$c:($d=self["$is_next_line_section?"](reader,attributes),$d===nil||$d===!1):$b)!==!1&&$a!==nil?(doctype=parent.$doctype(),($a=parent["$has_header?"]())!==!1&&$a!==nil&&(preamble=intro=$scope.Block.$new(parent,"preamble",$hash2(["content_model"],{content_model:"compound"})),parent["$<<"](preamble)),section=parent,current_level=0,expected_next_levels=($a=parent.$attributes()["$has_key?"]("fragment"))!==!1&&$a!==nil?nil:doctype["$=="]("book")?[0,1]:[1]):(doctype=parent.$document().$doctype(),section=self.$initialize_section(reader,parent,attributes),attributes=($a=($b=attributes).$delete_if,$a._p=(TMP_1=function(k,v){{var $a;TMP_1._s||this}return null==k&&(k=nil),null==v&&(v=nil),$a=k["$=="]("title"),$a===nil||$a===!1},TMP_1._s=self,TMP_1),$a).call($b),current_level=section.$level(),($a=($c=current_level["$=="](0))?doctype["$=="]("book"):$c)!==!1&&$a!==nil?($a=section.$special(),part=$a===nil||$a===!1,$c=section.$special(),expected_next_levels=($a=$c!==!1&&$c!==nil?["preface","appendix"]["$include?"](section.$sectname()):$c)!==!1&&$a!==nil?[current_level["$+"](2)]:[current_level["$+"](1)]):expected_next_levels=[current_level["$+"](1)]),reader.$skip_blank_lines();($c=reader["$has_more_lines?"]())!==!1&&$c!==nil;){if(self.$parse_block_metadata_lines(reader,section,attributes),next_level=self["$is_next_line_section?"](reader,attributes),next_level!==!1&&next_level!==nil){if(next_level=next_level["$+"](section.$document().$attr("leveloffset",0).$to_i()),($c=($d=next_level["$>"](current_level))!==!1&&$d!==nil?$d:($e=section.$context()["$=="]("document"))?next_level["$=="](0):$e)===!1||$c===nil){($c=($d=next_level["$=="](0))?($e=doctype["$=="]("book"),$e===nil||$e===!1):$d)!==!1&&$c!==nil&&self.$warn("asciidoctor: ERROR: "+reader.$line_info()+": only book doctypes can contain level 0 sections");break}($c=($d=next_level["$=="](0))?($e=doctype["$=="]("book"),$e===nil||$e===!1):$d)!==!1&&$c!==nil?self.$warn("asciidoctor: ERROR: "+reader.$line_info()+": only book doctypes can contain level 0 sections"):($e=expected_next_levels["$nil?"](),$d=$e===nil||$e===!1,($c=$d!==!1&&$d!==nil?($e=expected_next_levels["$include?"](next_level),$e===nil||$e===!1):$d)!==!1&&$c!==nil&&self.$warn(("asciidoctor: WARNING: "+reader.$line_info()+": section title out of sequence: ")["$+"]("expected "+function(){return expected_next_levels.$size()["$>"](1)?"levels":"level"}()+" "+expected_next_levels["$*"](" or ")+", ")["$+"]("got level "+next_level))),$c=$opal.to_ary(self.$next_section(reader,section,attributes)),new_section=null==$c[0]?nil:$c[0],attributes=null==$c[1]?nil:$c[1],section["$<<"](new_section)}else block_line_info=reader.$line_info(),new_block=self.$next_block(reader,($c=intro)!==!1&&$c!==nil?$c:section,attributes,$hash2(["parse_metadata"],{parse_metadata:!1})),$d=new_block["$nil?"](),($c=$d===nil||$d===!1)!=!1&&$c!==nil&&(part!==!1&&part!==nil&&($d=section["$blocks?"](),($c=$d===nil||$d===!1)!=!1&&$c!==nil?($d=new_block.$style()["$=="]("partintro"),($c=$d===nil||$d===!1)!=!1&&$c!==nil&&(new_block.$context()["$=="]("paragraph")?(new_block["$context="]("open"),new_block["$style="]("partintro")):(intro=$scope.Block.$new(section,"open",$hash2(["content_model"],{content_model:"compound"})),intro["$style="]("partintro"),new_block["$parent="](intro),section["$<<"](intro)))):section.$blocks().$size()["$=="](1)&&(first_block=section.$blocks().$first(),$e=intro,$d=$e===nil||$e===!1,($c=$d!==!1&&$d!==nil?first_block.$content_model()["$=="]("compound"):$d)!==!1&&$c!==nil?self.$warn("asciidoctor: ERROR: "+block_line_info+": illegal block content outside of partintro block"):($d=first_block.$content_model()["$=="]("compound"),($c=$d===nil||$d===!1)!=!1&&$c!==nil&&(intro=$scope.Block.$new(section,"open",$hash2(["content_model"],{content_model:"compound"})),intro["$style="]("partintro"),section.$blocks().$shift(),first_block.$style()["$=="]("partintro")&&(first_block["$context="]("paragraph"),first_block["$style="](nil)),first_block["$parent="](intro),intro["$<<"](first_block),new_block["$parent="](intro),section["$<<"](intro))))),(($c=intro)!==!1&&$c!==nil?$c:section)["$<<"](new_block),attributes=$hash2([],{}));reader.$skip_blank_lines()}if(part!==!1&&part!==nil)$c=section["$blocks?"](),(($a=$c!==!1&&$c!==nil?section.$blocks().$last().$context()["$=="]("section"):$c)===!1||$a===nil)&&self.$warn("asciidoctor: ERROR: "+reader.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(preamble!==!1&&preamble!==nil)if(document=parent,($a=preamble["$blocks?"]())!==!1&&$a!==nil){if($d=$scope.Compliance.$unwrap_standalone_preamble(),$c=$d!==!1&&$d!==nil?document.$blocks().$size()["$=="](1):$d,($a=$c!==!1&&$c!==nil?($e=doctype["$=="]("book"),($d=$e===nil||$e===!1)!=!1&&$d!==nil?$d:($e=preamble.$blocks().$first().$style()["$=="]("abstract"),$e===nil||$e===!1)):$c)!==!1&&$a!==nil)for(document.$blocks().$shift();($c=child_block=preamble.$blocks().$shift())!==!1&&$c!==nil;)child_block["$parent="](document),document["$<<"](child_block)}else document.$blocks().$shift();return[function(){return $c=section["$=="](parent),($a=$c===nil||$c===!1)!=!1&&$a!==nil?section:nil}(),attributes.$dup()]}),$opal.defs(self,"$next_block",function(reader,parent,attributes,options){var $a,$b,$c,$d,$e,$f,TMP_2,TMP_3,$g,TMP_4,TMP_5,$h,$i,$j,TMP_6,$k,$l,$m,TMP_7,TMP_8,self=this,skipped=nil,text_only=nil,parse_metadata=nil,document=nil,extensions=nil,block_extensions=nil,macro_extensions=nil,in_list=nil,block=nil,style=nil,explicit_style=nil,this_line=nil,delimited_block=nil,block_context=nil,cloaked_context=nil,terminator=nil,delimited_blk_match=nil,first_char=nil,match=nil,blk_ctx=nil,posattrs=nil,target=nil,name=nil,raw_attributes=nil,processor=nil,default_attrs=nil,expected_index=nil,list_item=nil,coids=nil,marker=nil,float_id=nil,float_reftext=nil,float_title=nil,float_level=nil,_=nil,tmp_sect=nil,break_at_list=nil,lines=nil,first_line=nil,admonition_match=nil,admonition_name=nil,attribution=nil,citetitle=nil,first_line_shifted=nil,indent=nil,$case=nil,language=nil,linenums=nil,default_math_syntax=nil,cursor=nil,block_reader=nil,content_model=nil,pos_attrs=nil;if(null==attributes&&(attributes=$hash2([],{})),null==options&&(options=$hash2([],{})),skipped=reader.$skip_blank_lines(),($a=reader["$has_more_lines?"]())===!1||$a===nil)return nil;for(text_only=options["$[]"]("text"),($a=($b=text_only!==!1&&text_only!==nil)?skipped["$>"](0):$b)!==!1&&$a!==nil&&(options.$delete("text"),text_only=!1),parse_metadata=options.$fetch("parse_metadata",!0),document=parent.$document(),($a=extensions=document.$extensions())!==!1&&$a!==nil?(block_extensions=extensions["$blocks?"](),macro_extensions=extensions["$block_macros?"]()):block_extensions=macro_extensions=!1,in_list=parent["$is_a?"]($scope.List),block=nil,style=nil,explicit_style=nil;$c=reader["$has_more_lines?"](),($b=$c!==!1&&$c!==nil?block["$nil?"]():$c)!==!1&&$b!==nil;)if(($b=($c=parse_metadata!==!1&&parse_metadata!==nil)?self.$parse_block_metadata_line(reader,document,attributes,options):$c)===!1||$b===nil){if(this_line=reader.$read_line(),delimited_block=!1,block_context=nil,cloaked_context=nil,terminator=nil,($b=attributes["$[]"](1))!==!1&&$b!==nil&&($b=$opal.to_ary(self.$parse_style_attribute(attributes,reader)),style=null==$b[0]?nil:$b[0],explicit_style=null==$b[1]?nil:$b[1]),($b=delimited_blk_match=self["$is_delimited_block?"](this_line,!0))!==!1&&$b!==nil&&(delimited_block=!0,block_context=cloaked_context=delimited_blk_match.$context(),terminator=delimited_blk_match.$terminator(),$c=style,($b=$c===nil||$c===!1)!=!1&&$b!==nil?style=attributes["$[]="]("style",block_context.$to_s()):($c=style["$=="](block_context.$to_s()),($b=$c===nil||$c===!1)!=!1&&$b!==nil&&(($b=delimited_blk_match.$masq()["$include?"](style))!==!1&&$b!==nil?block_context=style.$to_sym():($c=delimited_blk_match.$masq()["$include?"]("admonition"),($b=$c!==!1&&$c!==nil?$scope.ADMONITION_STYLES["$include?"](style):$c)!==!1&&$b!==nil?block_context="admonition":($b=($c=block_extensions!==!1&&block_extensions!==nil)?extensions["$processor_registered_for_block?"](style,block_context):$c)!==!1&&$b!==nil?block_context=style.$to_sym():(self.$warn("asciidoctor: WARNING: "+reader.$prev_line_info()+": invalid style for "+block_context+" block: "+style),style=block_context.$to_s()))))),$c=delimited_block,($b=$c===nil||$c===!1)!=!1&&$b!==nil)for(;($c=!0)!=!1&&$c!==nil;){if($f=style["$nil?"](),$e=$f===nil||$f===!1,$d=$e!==!1&&$e!==nil?$scope.Compliance.$strict_verbatim_paragraphs():$e,($c=$d!==!1&&$d!==nil?$scope.VERBATIM_STYLES["$include?"](style):$d)!==!1&&$c!==nil){block_context=style.$to_sym(),reader.$unshift_line(this_line);break}if(($c=text_only)===!1||$c===nil){if(first_char=function(){return($c=$scope.Compliance.$markdown_syntax())!==!1&&$c!==nil?this_line.$lstrip()["$[]"]($range(0,0,!1)):this_line["$[]"]($range(0,0,!1))}(),$e=$scope.BREAK_LINES["$has_key?"](first_char),$d=$e!==!1&&$e!==nil?this_line.$length()["$>="](3):$e,($c=$d!==!1&&$d!==nil?match=this_line.$match(function(){return $scope.REGEXP["$[]"](($e=$scope.Compliance.$markdown_syntax())!==!1&&$e!==nil?"break_line_plus":"break_line")}()):$d)!==!1&&$c!==nil){block=$scope.Block.$new(parent,$scope.BREAK_LINES["$[]"](first_char),$hash2(["content_model"],{content_model:"empty"}));break}if(($c=match=this_line.$match($scope.REGEXP["$[]"]("media_blk_macro")))!==!1&&$c!==nil){if(blk_ctx=match["$[]"](1).$to_sym(),block=$scope.Block.$new(parent,blk_ctx,$hash2(["content_model"],{content_model:"empty"})),posattrs=blk_ctx["$=="]("image")?["alt","width","height"]:blk_ctx["$=="]("video")?["poster","width","height"]:[],(($c=($d=style["$nil?"]())!==!1&&$d!==nil?$d:explicit_style)===!1||$c===nil)&&(blk_ctx["$=="]("image")&&attributes["$[]="]("alt",style),attributes.$delete("style"),style=nil),block.$parse_attributes(match["$[]"](3),posattrs,$hash2(["unescape_input","sub_input","sub_result","into"],{unescape_input:blk_ctx["$=="]("image"),sub_input:!0,sub_result:!1,into:attributes})),target=block.$sub_attributes(match["$[]"](2),$hash2(["attribute_missing"],{attribute_missing:"drop-line"})),($c=target["$empty?"]())!==!1&&$c!==nil)return document.$attributes().$fetch("attribute-missing",$scope.Compliance.$attribute_missing())["$=="]("skip")?$scope.Block.$new(parent,"paragraph",$hash2(["source"],{source:[this_line]})):nil;attributes["$[]="]("target",target),($c=attributes["$has_key?"]("title"))!==!1&&$c!==nil&&block["$title="](attributes.$delete("title")),blk_ctx["$=="]("image")&&(($c=attributes["$has_key?"]("scaledwidth"))!==!1&&$c!==nil&&($c=$range(48,57,!1)["$include?"]((($d=attributes["$[]"]("scaledwidth")["$[]"](-1))!==!1&&$d!==nil?$d:0).$ord()))!==!1&&$c!==nil&&attributes["$[]="]("scaledwidth",""+attributes["$[]"]("scaledwidth")+"%"),document.$register("images",target),$c="alt",$d=attributes,($e=$d["$[]"]($c))!==!1&&$e!==nil?$e:$d["$[]="]($c,$scope.File.$basename(target,$scope.File.$extname(target)).$tr("_-"," ")),block.$assign_caption(attributes.$delete("caption"),"figure"));break}if(($c=($d=first_char["$=="]("t"))?match=this_line.$match($scope.REGEXP["$[]"]("toc")):$d)!==!1&&$c!==nil){block=$scope.Block.$new(parent,"toc",$hash2(["content_model"],{content_model:"empty"})),block.$parse_attributes(match["$[]"](1),[],$hash2(["sub_result","into"],{sub_result:!1,into:attributes}));break}if($d=($e=macro_extensions!==!1&&macro_extensions!==nil)?match=this_line.$match($scope.REGEXP["$[]"]("generic_blk_macro")):$e,($c=$d!==!1&&$d!==nil?extensions["$processor_registered_for_block_macro?"](match["$[]"](1)):$d)!==!1&&$c!==nil){if(name=match["$[]"](1),target=match["$[]"](2),raw_attributes=match["$[]"](3),processor=extensions.$load_block_macro_processor(name,document),(($c=raw_attributes["$empty?"]())===!1||$c===nil)&&document.$parse_attributes(raw_attributes,processor.$options().$fetch("pos_attrs",[]),$hash2(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:attributes})),$d=(default_attrs=processor.$options().$fetch("default_attrs",$hash2([],{})))["$empty?"](),($c=$d===nil||$d===!1)!=!1&&$c!==nil&&($c=($d=default_attrs).$each,$c._p=(TMP_2=function(k,v){{var $a,$b,$c;TMP_2._s||this}return null==k&&(k=nil),null==v&&(v=nil),$a=k,$b=attributes,($c=$b["$[]"]($a))!==!1&&$c!==nil?$c:$b["$[]="]($a,v)
},TMP_2._s=self,TMP_2),$c).call($d),block=processor.$process(parent,target,attributes),($c=block["$nil?"]())!==!1&&$c!==nil)return nil;break}}if(($c=match=this_line.$match($scope.REGEXP["$[]"]("colist")))!==!1&&$c!==nil){for(block=$scope.List.$new(parent,"colist"),attributes["$[]="]("style","arabic"),reader.$unshift_line(this_line),expected_index=1;$f=reader["$has_more_lines?"](),($e=$f!==!1&&$f!==nil?match=reader.$peek_line().$match($scope.REGEXP["$[]"]("colist")):$f)!==!1&&$e!==nil;)$f=match["$[]"](1).$to_i()["$=="](expected_index),($e=$f===nil||$f===!1)!=!1&&$e!==nil&&self.$warn("asciidoctor: WARNING: "+reader.$path()+": line "+reader.$lineno()["$-"](2)+": callout list item index: expected "+expected_index+" got "+match["$[]"](1)),list_item=self.$next_list_item(reader,block,match),expected_index=expected_index["$+"](1),$f=list_item["$nil?"](),($e=$f===nil||$f===!1)!=!1&&$e!==nil&&(block["$<<"](list_item),coids=document.$callouts().$callout_ids(block.$items().$size()),$f=coids["$empty?"](),($e=$f===nil||$f===!1)!=!1&&$e!==nil?list_item.$attributes()["$[]="]("coids",coids):self.$warn("asciidoctor: WARNING: "+reader.$path()+": line "+reader.$lineno()["$-"](2)+": no callouts refer to list item "+block.$items().$size()));document.$callouts().$next_list();break}if(($c=match=this_line.$match($scope.REGEXP["$[]"]("ulist")))!==!1&&$c!==nil){reader.$unshift_line(this_line),block=self.$next_outline_list(reader,"ulist",parent);break}if(($c=match=this_line.$match($scope.REGEXP["$[]"]("olist")))!==!1&&$c!==nil){reader.$unshift_line(this_line),block=self.$next_outline_list(reader,"olist",parent),$f=attributes["$[]"]("style"),$e=$f===nil||$f===!1,($c=$e!==!1&&$e!==nil?($f=block.$attributes()["$[]"]("style"),$f===nil||$f===!1):$e)!==!1&&$c!==nil&&(marker=block.$items().$first().$marker(),($c=marker["$start_with?"]("."))!==!1&&$c!==nil?attributes["$[]="]("style",(($c=$scope.ORDERED_LIST_STYLES["$[]"](marker.$length()["$-"](1)))!==!1&&$c!==nil?$c:$scope.ORDERED_LIST_STYLES.$first()).$to_s()):(style=($c=($e=$scope.ORDERED_LIST_STYLES).$detect,$c._p=(TMP_3=function(s){TMP_3._s||this;return null==s&&(s=nil),marker.$match($scope.ORDERED_LIST_MARKER_PATTERNS["$[]"](s))},TMP_3._s=self,TMP_3),$c).call($e),attributes["$[]="]("style",(($c=style)!==!1&&$c!==nil?$c:$scope.ORDERED_LIST_STYLES.$first()).$to_s())));break}if(($c=match=this_line.$match($scope.REGEXP["$[]"]("dlist")))!==!1&&$c!==nil){reader.$unshift_line(this_line),block=self.$next_labeled_list(reader,match,parent);break}if($f=($g=style["$=="]("float"))!==!1&&$g!==nil?$g:style["$=="]("discrete"),($c=$f!==!1&&$f!==nil?self["$is_section_title?"](this_line,function(){return($g=$scope.Compliance.$underline_style_section_titles())!==!1&&$g!==nil?reader.$peek_line(!0):nil}()):$f)!==!1&&$c!==nil){reader.$unshift_line(this_line),$c=$opal.to_ary(self.$parse_section_title(reader,document)),float_id=null==$c[0]?nil:$c[0],float_reftext=null==$c[1]?nil:$c[1],float_title=null==$c[2]?nil:$c[2],float_level=null==$c[3]?nil:$c[3],_=null==$c[4]?nil:$c[4],float_reftext!==!1&&float_reftext!==nil&&attributes["$[]="]("reftext",float_reftext),($c=attributes["$has_key?"]("id"))!==!1&&$c!==nil&&(($c=float_id)!==!1&&$c!==nil?$c:float_id=attributes["$[]"]("id")),block=$scope.Block.$new(parent,"floating_title",$hash2(["content_model"],{content_model:"empty"})),($c=($f=float_id["$nil?"]())!==!1&&$f!==nil?$f:float_id["$empty?"]())!==!1&&$c!==nil?(tmp_sect=$scope.Section.$new(parent),tmp_sect["$title="](float_title),block["$id="](tmp_sect.$generate_id())):block["$id="](float_id),block["$level="](float_level),block["$title="](float_title);break}if($g=style["$nil?"](),$f=$g===nil||$g===!1,($c=$f!==!1&&$f!==nil?($g=style["$=="]("normal"),$g===nil||$g===!1):$f)!==!1&&$c!==nil){if(($c=$scope.PARAGRAPH_STYLES["$include?"](style))!==!1&&$c!==nil){block_context=style.$to_sym(),cloaked_context="paragraph",reader.$unshift_line(this_line);break}if(($c=$scope.ADMONITION_STYLES["$include?"](style))!==!1&&$c!==nil){block_context="admonition",cloaked_context="paragraph",reader.$unshift_line(this_line);break}if(($c=($f=block_extensions!==!1&&block_extensions!==nil)?extensions["$processor_registered_for_block?"](style,"paragraph"):$f)!==!1&&$c!==nil){block_context=style.$to_sym(),cloaked_context="paragraph",reader.$unshift_line(this_line);break}self.$warn("asciidoctor: WARNING: "+reader.$prev_line_info()+": invalid style for paragraph: "+style),style=nil}if(break_at_list=($c=skipped["$=="](0))?in_list:$c,$g=style["$=="]("normal"),$f=$g===nil||$g===!1,($c=$f!==!1&&$f!==nil?this_line.$match($scope.REGEXP["$[]"]("lit_par")):$f)!==!1&&$c!==nil)reader.$unshift_line(this_line),lines=($c=($f=reader).$read_lines_until,$c._p=(TMP_4=function(line){var $a,$b,$c,self=TMP_4._s||this;return null==line&&(line=nil),($a=($b=break_at_list!==!1&&break_at_list!==nil)?line.$match($scope.REGEXP["$[]"]("any_list")):$b)!==!1&&$a!==nil?$a:($b=$scope.Compliance.$block_terminates_paragraph(),$b!==!1&&$b!==nil?($c=self["$is_delimited_block?"](line))!==!1&&$c!==nil?$c:line.$match($scope.REGEXP["$[]"]("attr_line")):$b)},TMP_4._s=self,TMP_4),$c).call($f,$hash2(["break_on_blank_lines","break_on_list_continuation","preserve_last_line"],{break_on_blank_lines:!0,break_on_list_continuation:!0,preserve_last_line:!0})),self["$reset_block_indent!"](lines),block=$scope.Block.$new(parent,"literal",$hash2(["content_model","source","attributes"],{content_model:"verbatim",source:lines,attributes:attributes})),in_list!==!1&&in_list!==nil&&block.$set_option("listparagraph");else{if(reader.$unshift_line(this_line),lines=($c=($g=reader).$read_lines_until,$c._p=(TMP_5=function(line){var $a,$b,$c,self=TMP_5._s||this;return null==line&&(line=nil),($a=($b=break_at_list!==!1&&break_at_list!==nil)?line.$match($scope.REGEXP["$[]"]("any_list")):$b)!==!1&&$a!==nil?$a:($b=$scope.Compliance.$block_terminates_paragraph(),$b!==!1&&$b!==nil?($c=self["$is_delimited_block?"](line))!==!1&&$c!==nil?$c:line.$match($scope.REGEXP["$[]"]("attr_line")):$b)},TMP_5._s=self,TMP_5),$c).call($g,$hash2(["break_on_blank_lines","break_on_list_continuation","preserve_last_line","skip_line_comments"],{break_on_blank_lines:!0,break_on_list_continuation:!0,preserve_last_line:!0,skip_line_comments:!0})),($c=lines["$empty?"]())!==!1&&$c!==nil)return reader.$advance(),nil;if(self.$catalog_inline_anchors(lines.$join($scope.EOL),document),first_line=lines.$first(),$i=text_only,$h=$i===nil||$i===!1,($c=$h!==!1&&$h!==nil?admonition_match=first_line.$match($scope.REGEXP["$[]"]("admonition_inline")):$h)!==!1&&$c!==nil)lines["$[]="](0,admonition_match.$post_match().$lstrip()),attributes["$[]="]("style",admonition_match["$[]"](1)),attributes["$[]="]("name",admonition_name=admonition_match["$[]"](1).$downcase()),$c="caption",$h=attributes,($i=$h["$[]"]($c))!==!1&&$i!==nil?$i:$h["$[]="]($c,document.$attributes()["$[]"](""+admonition_name+"-caption")),block=$scope.Block.$new(parent,"admonition",$hash2(["source","attributes"],{source:lines,attributes:attributes}));else if($j=text_only,$i=$j===nil||$j===!1,$h=$i!==!1&&$i!==nil?$scope.Compliance.$markdown_syntax():$i,($c=$h!==!1&&$h!==nil?first_line["$start_with?"]("> "):$h)!==!1&&$c!==nil){if(($c=($h=lines)["$map!"],$c._p=(TMP_6=function(line){{var $a;TMP_6._s||this}return null==line&&(line=nil),line["$=="](">")?line["$[]"]($range(1,-1,!1)):($a=line["$start_with?"]("> "))!==!1&&$a!==nil?line["$[]"]($range(2,-1,!1)):line},TMP_6._s=self,TMP_6),$c).call($h),($c=lines.$last()["$start_with?"]("-- "))!==!1&&$c!==nil)for($c=$opal.to_ary(lines.$pop()["$[]"]($range(3,-1,!1)).$split(", ",2)),attribution=null==$c[0]?nil:$c[0],citetitle=null==$c[1]?nil:$c[1];($i=lines.$last()["$empty?"]())!==!1&&$i!==nil;)lines.$pop();else $c=$opal.to_ary(nil),attribution=null==$c[0]?nil:$c[0],citetitle=null==$c[1]?nil:$c[1];attributes["$[]="]("style","quote"),(($c=attribution["$nil?"]())===!1||$c===nil)&&attributes["$[]="]("attribution",attribution),(($c=citetitle["$nil?"]())===!1||$c===nil)&&attributes["$[]="]("citetitle",citetitle),block=self.$build_block("quote","compound",!1,parent,$scope.Reader.$new(lines),attributes)}else if($m=text_only,$l=$m===nil||$m===!1,$k=$l!==!1&&$l!==nil?lines.$size()["$>"](1):$l,$j=$k!==!1&&$k!==nil?first_line["$start_with?"]('"'):$k,$i=$j!==!1&&$j!==nil?lines.$last()["$start_with?"]("-- "):$j,($c=$i!==!1&&$i!==nil?lines["$[]"](-2)["$end_with?"]('"'):$i)!==!1&&$c!==nil){for(lines["$[]="](0,first_line["$[]"]($range(1,-1,!1))),$c=$opal.to_ary(lines.$pop()["$[]"]($range(3,-1,!1)).$split(", ",2)),attribution=null==$c[0]?nil:$c[0],citetitle=null==$c[1]?nil:$c[1];($i=lines.$last()["$empty?"]())!==!1&&$i!==nil;)lines.$pop();lines["$[]="](-1,lines.$last().$chop()),attributes["$[]="]("style","quote"),(($c=attribution["$nil?"]())===!1||$c===nil)&&attributes["$[]="]("attribution",attribution),(($c=citetitle["$nil?"]())===!1||$c===nil)&&attributes["$[]="]("citetitle",citetitle),block=$scope.Block.$new(parent,"quote",$hash2(["source","attributes"],{source:lines,attributes:attributes}))}else($c=($i=style["$=="]("normal"))?($j=(first_char=lines.$first()["$[]"]($range(0,0,!1)))["$=="](" "))!==!1&&$j!==nil?$j:first_char["$=="]("	"):$i)!==!1&&$c!==nil&&(first_line=lines.$first(),first_line_shifted=first_line.$lstrip(),indent=self.$line_length(first_line)["$-"](self.$line_length(first_line_shifted)),lines["$[]="](0,first_line_shifted),($c=($i=lines.$size()).$times,$c._p=(TMP_7=function(i){TMP_7._s||this;return null==i&&(i=nil),i["$>"](0)?lines["$[]="](i,lines["$[]"](i)["$[]"]($range(indent,-1,!1))):nil},TMP_7._s=self,TMP_7),$c).call($i)),block=$scope.Block.$new(parent,"paragraph",$hash2(["source","attributes"],{source:lines,attributes:attributes}))}break}if($c=block["$nil?"](),($b=$c!==!1&&$c!==nil?($j=block_context["$nil?"](),$j===nil||$j===!1):$c)!==!1&&$b!==nil)if(($b=($c=block_context["$=="]("abstract"))!==!1&&$c!==nil?$c:block_context["$=="]("partintro"))!==!1&&$b!==nil&&(block_context="open"),$case=block_context,"admonition"["$==="]($case))attributes["$[]="]("name",admonition_name=style.$downcase()),$b="caption",$c=attributes,($j=$c["$[]"]($b))!==!1&&$j!==nil?$j:$c["$[]="]($b,document.$attributes()["$[]"](""+admonition_name+"-caption")),block=self.$build_block(block_context,"compound",terminator,parent,reader,attributes);else{if("comment"["$==="]($case))return self.$build_block(block_context,"skip",terminator,parent,reader,attributes),nil;if("example"["$==="]($case))block=self.$build_block(block_context,"compound",terminator,parent,reader,attributes,$hash2(["supports_caption"],{supports_caption:!0}));else if("listing"["$==="]($case)||"fenced_code"["$==="]($case)||"source"["$==="]($case))block_context["$=="]("fenced_code")?(style=attributes["$[]="]("style","source"),$b=$opal.to_ary(this_line["$[]"]($range(3,-1,!1)).$split(",",2)),language=null==$b[0]?nil:$b[0],linenums=null==$b[1]?nil:$b[1],($b=($c=language!==!1&&language!==nil)?($j=(language=language.$strip())["$empty?"](),$j===nil||$j===!1):$c)!==!1&&$b!==nil&&(attributes["$[]="]("language",language),($b=($c=linenums!==!1&&linenums!==nil)?($j=linenums.$strip()["$empty?"](),$j===nil||$j===!1):$c)!==!1&&$b!==nil&&attributes["$[]="]("linenums","")),terminator=terminator["$[]"]($range(0,2,!1))):block_context["$=="]("source")&&$scope.AttributeList.$rekey(attributes,[nil,"language","linenums"]),block=self.$build_block("listing","verbatim",terminator,parent,reader,attributes,$hash2(["supports_caption"],{supports_caption:!0}));else if("literal"["$==="]($case))block=self.$build_block(block_context,"verbatim",terminator,parent,reader,attributes);else if("pass"["$==="]($case))block=self.$build_block(block_context,"raw",terminator,parent,reader,attributes);else if("math"["$==="]($case)||"latexmath"["$==="]($case)||"asciimath"["$==="]($case))block_context["$=="]("math")&&attributes["$[]="]("style",function(){return(default_math_syntax=document.$attributes()["$[]"]("math").$to_s())["$=="]("")?"asciimath":default_math_syntax}()),block=self.$build_block("math","raw",terminator,parent,reader,attributes);else if("open"["$==="]($case)||"sidebar"["$==="]($case))block=self.$build_block(block_context,"compound",terminator,parent,reader,attributes);else if("table"["$==="]($case))cursor=reader.$cursor(),block_reader=$scope.Reader.$new(reader.$read_lines_until($hash2(["terminator","skip_line_comments"],{terminator:terminator,skip_line_comments:!0})),cursor),$case=terminator["$[]"]($range(0,0,!1)),","["$==="]($case)?attributes["$[]="]("format","csv"):":"["$==="]($case)&&attributes["$[]="]("format","dsv"),block=self.$next_table(block_reader,parent,attributes);else if("quote"["$==="]($case)||"verse"["$==="]($case))$scope.AttributeList.$rekey(attributes,[nil,"attribution","citetitle"]),block=self.$build_block(block_context,function(){return block_context["$=="]("verse")?"verbatim":"compound"}(),terminator,parent,reader,attributes);else if(($b=($c=block_extensions!==!1&&block_extensions!==nil)?extensions["$processor_registered_for_block?"](block_context,cloaked_context):$c)!==!1&&$b!==nil){if(processor=extensions.$load_block_processor(block_context,document),$c=(content_model=processor.$options()["$[]"]("content_model"))["$=="]("skip"),($b=$c===nil||$c===!1)!=!1&&$b!==nil&&($c=(pos_attrs=processor.$options().$fetch("pos_attrs",[]))["$empty?"](),($b=$c===nil||$c===!1)!=!1&&$b!==nil&&$scope.AttributeList.$rekey(attributes,[nil].$concat(pos_attrs)),$c=(default_attrs=processor.$options().$fetch("default_attrs",$hash2([],{})))["$empty?"](),($b=$c===nil||$c===!1)!=!1&&$b!==nil&&($b=($c=default_attrs).$each,$b._p=(TMP_8=function(k,v){{var $a,$b,$c;TMP_8._s||this}return null==k&&(k=nil),null==v&&(v=nil),$a=k,$b=attributes,($c=$b["$[]"]($a))!==!1&&$c!==nil?$c:$b["$[]="]($a,v)},TMP_8._s=self,TMP_8),$b).call($c)),block=self.$build_block(block_context,content_model,terminator,parent,reader,attributes,$hash2(["processor"],{processor:processor})),($b=block["$nil?"]())!==!1&&$b!==nil)return nil}else self.$raise("Unsupported block type "+block_context+" at "+reader.$line_info())}}else reader.$advance();return $b=block["$nil?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil&&(($a=attributes["$has_key?"]("id"))!==!1&&$a!==nil&&($a=block,($b=$a.$id())!==!1&&$b!==nil?$b:$a["$id="](attributes["$[]"]("id"))),(($a=block["$title?"]())===!1||$a===nil)&&block["$title="](attributes["$[]"]("title")),$a=block,($b=$a.$caption())!==!1&&$b!==nil?$b:$a["$caption="](attributes.$delete("caption")),block["$style="](attributes["$[]"]("style")),($a=block.$id())!==!1&&$a!==nil&&document.$register("ids",[block.$id(),($a=attributes["$[]"]("reftext"))!==!1&&$a!==nil?$a:function(){return($b=block["$title?"]())!==!1&&$b!==nil?block.$title():nil}()]),block.$update_attributes(attributes),block.$lock_in_subs(),($a=block["$sub?"]("callouts"))!==!1&&$a!==nil&&($b=self.$catalog_callouts(block.$source(),document),($a=$b===nil||$b===!1)!=!1&&$a!==nil&&block.$remove_sub("callouts"))),block}),$opal.defs(self,"$is_delimited_block?",function(line,return_match_data){var $a,$b,$c,line_len=nil,tip=nil,tl=nil,fenced_code=nil,tip_3=nil,context=nil,masq=nil;if(null==return_match_data&&(return_match_data=!1),($a=($b=(line_len=line.$length())["$>"](1))?$scope.DELIMITED_BLOCK_LEADERS["$include?"](line["$[]"]($range(0,1,!1))):$b)===!1||$a===nil)return nil;if(line_len["$=="](2))tip=line,tl=2;else{if(line_len["$<="](4)?(tip=line,tl=line_len):(tip=line["$[]"]($range(0,3,!1)),tl=4),fenced_code=!1,($a=$scope.Compliance.$markdown_syntax())!==!1&&$a!==nil)if(tip_3=function(){return tl["$=="](4)?tip.$chop():tip}(),tip_3["$=="]("```")){if(($a=($b=tl["$=="](4))?tip["$end_with?"]("`"):$b)!==!1&&$a!==nil)return nil;tip=tip_3,tl=3,fenced_code=!0}else if(tip_3["$=="]("~~~")){if(($a=($b=tl["$=="](4))?tip["$end_with?"]("~"):$b)!==!1&&$a!==nil)return nil;tip=tip_3,tl=3,fenced_code=!0}if(($a=($b=tl["$=="](3))?($c=fenced_code,$c===nil||$c===!1):$b)!==!1&&$a!==nil)return nil}return($a=$scope.DELIMITED_BLOCKS["$has_key?"](tip))!==!1&&$a!==nil?($a=($b=tl["$<"](4))!==!1&&$b!==nil?$b:tl["$=="](line_len))!==!1&&$a!==nil?return_match_data!==!1&&return_match_data!==nil?(($a=$scope.DELIMITED_BLOCKS["$[]"](tip)).$to_a?$a=$a.$to_a():$a._isArray?$a:$a=[$a],context=null==$a[0]?nil:$a[0],masq=null==$a[1]?nil:$a[1],$scope.BlockMatchData.$new(context,masq,tip,tip)):!0:(""+tip+tip["$[]"]($range(-1,-1,!1))["$*"](line_len["$-"](tl)))["$=="](line)?return_match_data!==!1&&return_match_data!==nil?(($a=$scope.DELIMITED_BLOCKS["$[]"](tip)).$to_a?$a=$a.$to_a():$a._isArray?$a:$a=[$a],context=null==$a[0]?nil:$a[0],masq=null==$a[1]?nil:$a[1],$scope.BlockMatchData.$new(context,masq,tip,line)):!0:nil:nil}),$opal.defs(self,"$build_block",function(block_context,content_model,terminator,parent,reader,attributes,options){var $a,$b,TMP_9,$c,self=this,skip_processing=nil,parse_as_content_model=nil,lines=nil,block_reader=nil,cursor=nil,processor=nil,block=nil;return null==options&&(options=$hash2([],{})),($a=($b=content_model["$=="]("skip"))!==!1&&$b!==nil?$b:content_model["$=="]("raw"))!==!1&&$a!==nil?(skip_processing=content_model["$=="]("skip"),parse_as_content_model="simple"):(skip_processing=!1,parse_as_content_model=content_model),($a=terminator["$nil?"]())!==!1&&$a!==nil?(parse_as_content_model["$=="]("verbatim")?lines=reader.$read_lines_until($hash2(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(content_model["$=="]("compound")&&(content_model="simple"),lines=($a=($b=reader).$read_lines_until,$a._p=(TMP_9=function(line){var $a,$b,self=TMP_9._s||this;return null==line&&(line=nil),$a=$scope.Compliance.$block_terminates_paragraph(),$a!==!1&&$a!==nil?($b=self["$is_delimited_block?"](line))!==!1&&$b!==nil?$b:line.$match($scope.REGEXP["$[]"]("attr_line")):$a},TMP_9._s=self,TMP_9),$a).call($b,$hash2(["break_on_blank_lines","break_on_list_continuation","preserve_last_line","skip_line_comments","skip_processing"],{break_on_blank_lines:!0,break_on_list_continuation:!0,preserve_last_line:!0,skip_line_comments:!0,skip_processing:skip_processing}))),block_reader=nil):($c=parse_as_content_model["$=="]("compound"),($a=$c===nil||$c===!1)!=!1&&$a!==nil?(lines=reader.$read_lines_until($hash2(["terminator","skip_processing"],{terminator:terminator,skip_processing:skip_processing})),block_reader=nil):terminator["$=="](!1)?(lines=nil,block_reader=reader):(lines=nil,cursor=reader.$cursor(),block_reader=$scope.Reader.$new(reader.$read_lines_until($hash2(["terminator","skip_processing"],{terminator:terminator,skip_processing:skip_processing})),cursor))),content_model["$=="]("skip")?(attributes.$clear(),lines):(($a=($c=content_model["$=="]("verbatim"))?attributes["$has_key?"]("indent"):$c)!==!1&&$a!==nil&&self["$reset_block_indent!"](lines,attributes["$[]"]("indent").$to_i()),($a=processor=options["$[]"]("processor"))!==!1&&$a!==nil?(attributes.$delete("style"),processor.$options()["$[]="]("content_model",content_model),block=processor.$process(parent,($a=block_reader)!==!1&&$a!==nil?$a:$scope.Reader.$new(lines),attributes)):block=$scope.Block.$new(parent,block_context,$hash2(["content_model","attributes","source"],{content_model:content_model,attributes:attributes,source:lines})),($a=options.$fetch("supports_caption",!1))!==!1&&$a!==nil&&(($a=attributes["$has_key?"]("title"))!==!1&&$a!==nil&&block["$title="](attributes.$delete("title")),block.$assign_caption(attributes.$delete("caption"))),content_model["$=="]("compound")&&self.$parse_blocks(block_reader,block),block)}),$opal.defs(self,"$parse_blocks",function(reader,parent){for(var $b,block=nil;($b=reader["$has_more_lines?"]())!==!1&&$b!==nil;)block=$scope.Lexer.$next_block(reader,parent),(($b=block["$nil?"]())===!1||$b===nil)&&parent["$<<"](block)}),$opal.defs(self,"$next_outline_list",function(reader,list_type,parent){var $b,$c,$d,self=this,list_block=nil,match=nil,marker=nil,this_item_level=nil,ancestor=nil,list_item=nil;for(list_block=$scope.List.$new(parent,list_type),list_block["$level="](parent.$context()["$=="](list_type)?parent.$level()["$+"](1):1);$c=reader["$has_more_lines?"](),($b=$c!==!1&&$c!==nil?match=reader.$peek_line().$match($scope.REGEXP["$[]"](list_type)):$c)!==!1&&$b!==nil;){if(marker=self.$resolve_list_marker(list_type,match["$[]"](1)),$c=list_block["$items?"](),($b=$c!==!1&&$c!==nil?($d=marker["$=="](list_block.$items().$first().$marker()),$d===nil||$d===!1):$c)!==!1&&$b!==nil)for(this_item_level=list_block.$level()["$+"](1),ancestor=parent;ancestor.$context()["$=="](list_type);){if(marker["$=="](ancestor.$items().$first().$marker())){this_item_level=ancestor.$level();break}ancestor=ancestor.$parent()}else this_item_level=list_block.$level();if($d=list_block["$items?"](),($b=($c=$d===nil||$d===!1)!=!1&&$c!==nil?$c:this_item_level["$=="](list_block.$level()))!==!1&&$b!==nil)list_item=self.$next_list_item(reader,list_block,match);else{if(this_item_level["$<"](list_block.$level()))break;this_item_level["$>"](list_block.$level())&&list_block.$items().$last()["$<<"](self.$next_block(reader,list_block))}(($b=list_item["$nil?"]())===!1||$b===nil)&&list_block["$<<"](list_item),list_item=nil,reader.$skip_blank_lines()}return list_block}),$opal.defs(self,"$catalog_callouts",function(text,document){var $a,$b,TMP_10,self=this,found=nil;return found=!1,($a=text["$include?"]("<"))!==!1&&$a!==nil&&($a=($b=text).$scan,$a._p=(TMP_10=function(){var $a,$b,m=(TMP_10._s||this,nil);return m=$gvars["~"],$b=m["$[]"](0)["$[]"]($range(0,0,!1))["$=="]("\\"),($a=$b===nil||$b===!1)!=!1&&$a!==nil&&document.$callouts().$register(m["$[]"](2)),found=!0},TMP_10._s=self,TMP_10),$a).call($b,$scope.REGEXP["$[]"]("callout_quick_scan")),found}),$opal.defs(self,"$catalog_inline_anchors",function(text,document){var $a,$b,TMP_11,self=this;return($a=text["$include?"]("["))!==!1&&$a!==nil&&($a=($b=text).$scan,$a._p=(TMP_11=function(){var $a,m=(TMP_11._s||this,nil),id=nil,reftext=nil;return m=$gvars["~"],($a=m["$[]"](0)["$start_with?"]("\\"))!==!1&&$a!==nil?nil:(id=($a=m["$[]"](1))!==!1&&$a!==nil?$a:m["$[]"](3),reftext=($a=m["$[]"](2))!==!1&&$a!==nil?$a:m["$[]"](4),document.$register("ids",[id,reftext]))},TMP_11._s=self,TMP_11),$a).call($b,$scope.REGEXP["$[]"]("anchor_macro")),nil}),$opal.defs(self,"$next_labeled_list",function(reader,match,parent){var $b,$c,$d,self=this,list_block=nil,previous_pair=nil,sibling_pattern=nil,term=nil,item=nil;for(list_block=$scope.List.$new(parent,"dlist"),previous_pair=nil,sibling_pattern=$scope.REGEXP["$[]"]("dlist_siblings")["$[]"](match["$[]"](2));$c=reader["$has_more_lines?"](),($b=$c!==!1&&$c!==nil?match=reader.$peek_line().$match(sibling_pattern):$c)!==!1&&$b!==nil;)$b=$opal.to_ary(self.$next_list_item(reader,list_block,match,sibling_pattern)),term=null==$b[0]?nil:$b[0],item=null==$b[1]?nil:$b[1],$d=previous_pair["$nil?"](),$c=$d===nil||$d===!1,($b=$c!==!1&&$c!==nil?previous_pair.$last()["$nil?"]():$c)!==!1&&$b!==nil?(previous_pair.$pop(),previous_pair["$[]"](0)["$<<"](term),previous_pair["$<<"](item)):list_block.$items()["$<<"](previous_pair=[[term],item]);return list_block}),$opal.defs(self,"$next_list_item",function(reader,list_block,match,sibling_trait){var $a,$b,$c,self=this,list_type=nil,list_term=nil,list_item=nil,has_text=nil,text=nil,checkbox=nil,checked=nil,cursor=nil,list_item_reader=nil,comment_lines=nil,subsequent_line=nil,continuation_connects_first_block=nil,content_adjacent=nil,options=nil,new_block=nil;if(null==sibling_trait&&(sibling_trait=nil),list_type=list_block.$context(),list_type["$=="]("dlist")?(list_term=$scope.ListItem.$new(list_block,match["$[]"](1)),list_item=$scope.ListItem.$new(list_block,match["$[]"](3)),$a=match["$[]"](3).$to_s()["$empty?"](),has_text=$a===nil||$a===!1):(text=match["$[]"](2),checkbox=!1,($a=($b=list_type["$=="]("ulist"))?text["$start_with?"]("["):$b)!==!1&&$a!==nil&&(($a=text["$start_with?"]("[ ] "))!==!1&&$a!==nil?(checkbox=!0,checked=!1,text=text["$[]"]($range(3,-1,!1)).$lstrip()):($a=($b=text["$start_with?"]("[*] "))!==!1&&$b!==nil?$b:text["$start_with?"]("[x] "))!==!1&&$a!==nil&&(checkbox=!0,checked=!0,text=text["$[]"]($range(3,-1,!1)).$lstrip())),list_item=$scope.ListItem.$new(list_block,text),checkbox!==!1&&checkbox!==nil&&(list_block.$attributes()["$[]="]("checklist-option",""),list_item.$attributes()["$[]="]("checkbox",""),checked!==!1&&checked!==nil&&list_item.$attributes()["$[]="]("checked","")),$b=sibling_trait,($a=$b===nil||$b===!1)!=!1&&$a!==nil&&(sibling_trait=self.$resolve_list_marker(list_type,match["$[]"](1),list_block.$items().$size(),!0,reader)),list_item["$marker="](sibling_trait),has_text=!0),reader.$advance(),cursor=reader.$cursor(),list_item_reader=$scope.Reader.$new(self.$read_lines_for_list_item(reader,list_type,sibling_trait,has_text),cursor),($a=list_item_reader["$has_more_lines?"]())!==!1&&$a!==nil){for(comment_lines=list_item_reader.$skip_line_comments(),subsequent_line=list_item_reader.$peek_line(),(($a=comment_lines["$empty?"]())===!1||$a===nil)&&list_item_reader.$unshift_lines(comment_lines),$b=subsequent_line["$nil?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil?(continuation_connects_first_block=subsequent_line["$empty?"](),$c=continuation_connects_first_block,$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?($c=list_type["$=="]("dlist"),$c===nil||$c===!1):$b)!==!1&&$a!==nil&&(has_text=!1),$b=continuation_connects_first_block,$a=$b===nil||$b===!1,content_adjacent=$a!==!1&&$a!==nil?($b=subsequent_line["$empty?"](),$b===nil||$b===!1):$a):(continuation_connects_first_block=!1,content_adjacent=!1),options=$hash2(["text"],{text:($a=has_text,$a===nil||$a===!1)});($b=list_item_reader["$has_more_lines?"]())!==!1&&$b!==nil;)new_block=self.$next_block(list_item_reader,list_block,$hash2([],{}),options),(($b=new_block["$nil?"]())===!1||$b===nil)&&list_item["$<<"](new_block);list_item.$fold_first(continuation_connects_first_block,content_adjacent)}return list_type["$=="]("dlist")?((($a=($b=list_item["$text?"]())!==!1&&$b!==nil?$b:list_item["$blocks?"]())===!1||$a===nil)&&(list_item=nil),[list_term,list_item]):list_item}),$opal.defs(self,"$read_lines_for_list_item",function(reader,list_type,sibling_trait,has_text){var $a,$b,$c,$d,$e,TMP_12,TMP_13,$f,TMP_14,TMP_15,$g,$h,TMP_16,$i,self=this,buffer=nil,continuation=nil,within_nested_list=nil,detached_continuation=nil,this_line=nil,prev_line=nil,match=nil,nested_list_type=nil;for(null==sibling_trait&&(sibling_trait=nil),null==has_text&&(has_text=!0),buffer=[],continuation="inactive",within_nested_list=!1,detached_continuation=nil;($b=reader["$has_more_lines?"]())!==!1&&$b!==nil&&(this_line=reader.$read_line(),($b=self["$is_sibling_list_item?"](this_line,list_type,sibling_trait))===!1||$b===nil);)if(prev_line=function(){return($b=buffer["$empty?"]())!==!1&&$b!==nil?nil:buffer.$last()}(),prev_line["$=="]($scope.LIST_CONTINUATION)&&(continuation["$=="]("inactive")&&(continuation="active",has_text=!0,(($b=within_nested_list)===!1||$b===nil)&&buffer["$[]="](-1,"")),this_line["$=="]($scope.LIST_CONTINUATION)))$c=continuation["$=="]("frozen"),($b=$c===nil||$c===!1)!=!1&&$b!==nil&&(continuation="frozen",buffer["$<<"](this_line)),this_line=nil;else{if(($b=match=self["$is_delimited_block?"](this_line,!0))!==!1&&$b!==nil){if(!continuation["$=="]("active"))break;buffer["$<<"](this_line),buffer.$concat(reader.$read_lines_until($hash2(["terminator","read_last_line"],{terminator:match.$terminator(),read_last_line:!0}))),continuation="inactive"}else{if($c=($d=list_type["$=="]("dlist"))?($e=continuation["$=="]("active"),$e===nil||$e===!1):$d,($b=$c!==!1&&$c!==nil?this_line.$match($scope.REGEXP["$[]"]("attr_line")):$c)!==!1&&$b!==nil)break;if(($b=($c=continuation["$=="]("active"))?($d=this_line["$empty?"](),$d===nil||$d===!1):$c)!==!1&&$b!==nil)($b=this_line.$match($scope.REGEXP["$[]"]("lit_par")))!==!1&&$b!==nil?(reader.$unshift_line(this_line),buffer.$concat(($b=($c=reader).$read_lines_until,$b._p=(TMP_12=function(line){var $a,self=TMP_12._s||this;return null==line&&(line=nil),($a=list_type["$=="]("dlist"))?self["$is_sibling_list_item?"](line,list_type,sibling_trait):$a},TMP_12._s=self,TMP_12),$b).call($c,$hash2(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),continuation="inactive"):($b=($d=($e=this_line.$match($scope.REGEXP["$[]"]("blk_title")))!==!1&&$e!==nil?$e:this_line.$match($scope.REGEXP["$[]"]("attr_line")))!==!1&&$d!==nil?$d:this_line.$match($scope.REGEXP["$[]"]("attr_entry")))!==!1&&$b!==nil?buffer["$<<"](this_line):(($b=nested_list_type=($d=($e=function(){return within_nested_list!==!1&&within_nested_list!==nil?["dlist"]:$scope.NESTABLE_LIST_CONTEXTS}()).$detect,$d._p=(TMP_13=function(ctx){TMP_13._s||this;return null==ctx&&(ctx=nil),this_line.$match($scope.REGEXP["$[]"](ctx))},TMP_13._s=self,TMP_13),$d).call($e))!==!1&&$b!==nil&&(within_nested_list=!0,($b=($d=nested_list_type["$=="]("dlist"))?$gvars["~"]["$[]"](3).$to_s()["$empty?"]():$d)!==!1&&$b!==nil&&(has_text=!1)),buffer["$<<"](this_line),continuation="inactive");else if($f=prev_line["$nil?"](),$d=$f===nil||$f===!1,($b=$d!==!1&&$d!==nil?prev_line["$empty?"]():$d)!==!1&&$b!==nil){if(($b=this_line["$empty?"]())!==!1&&$b!==nil&&(reader.$skip_blank_lines(),this_line=reader.$read_line(),($b=($d=this_line["$nil?"]())!==!1&&$d!==nil?$d:self["$is_sibling_list_item?"](this_line,list_type,sibling_trait))!==!1&&$b!==nil))break;if(this_line["$=="]($scope.LIST_CONTINUATION))detached_continuation=buffer.$size(),buffer["$<<"](this_line);else if(has_text!==!1&&has_text!==nil){if(($b=self["$is_sibling_list_item?"](this_line,list_type,sibling_trait))!==!1&&$b!==nil)break;if(($b=nested_list_type=($d=($f=$scope.NESTABLE_LIST_CONTEXTS).$detect,$d._p=(TMP_14=function(ctx){TMP_14._s||this;return null==ctx&&(ctx=nil),this_line.$match($scope.REGEXP["$[]"](ctx))},TMP_14._s=self,TMP_14),$d).call($f))!==!1&&$b!==nil)buffer["$<<"](this_line),within_nested_list=!0,($b=($d=nested_list_type["$=="]("dlist"))?$gvars["~"]["$[]"](3).$to_s()["$empty?"]():$d)!==!1&&$b!==nil&&(has_text=!1);else{if(($b=this_line.$match($scope.REGEXP["$[]"]("lit_par")))===!1||$b===nil)break;reader.$unshift_line(this_line),buffer.$concat(($b=($d=reader).$read_lines_until,$b._p=(TMP_15=function(line){var $a,self=TMP_15._s||this;return null==line&&(line=nil),($a=list_type["$=="]("dlist"))?self["$is_sibling_list_item?"](line,list_type,sibling_trait):$a},TMP_15._s=self,TMP_15),$b).call($d,$hash2(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})))}}else(($b=within_nested_list)===!1||$b===nil)&&buffer.$pop(),buffer["$<<"](this_line),has_text=!0}else $g=this_line["$empty?"](),($b=$g===nil||$g===!1)!=!1&&$b!==nil&&(has_text=!0),($b=nested_list_type=($g=($h=function(){return within_nested_list!==!1&&within_nested_list!==nil?["dlist"]:$scope.NESTABLE_LIST_CONTEXTS}()).$detect,$g._p=(TMP_16=function(ctx){TMP_16._s||this;return null==ctx&&(ctx=nil),this_line.$match($scope.REGEXP["$[]"](ctx))},TMP_16._s=self,TMP_16),$g).call($h))!==!1&&$b!==nil&&(within_nested_list=!0,($b=($g=nested_list_type["$=="]("dlist"))?$gvars["~"]["$[]"](3).$to_s()["$empty?"]():$g)!==!1&&$b!==nil&&(has_text=!1)),buffer["$<<"](this_line)}this_line=nil}for($b=this_line["$nil?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil&&reader.$unshift_line(this_line),detached_continuation!==!1&&detached_continuation!==nil&&buffer.$delete_at(detached_continuation);$i=buffer["$empty?"](),$g=$i===nil||$i===!1,($b=$g!==!1&&$g!==nil?buffer.$last()["$empty?"]():$g)!==!1&&$b!==nil;)buffer.$pop();return $g=buffer["$empty?"](),$b=$g===nil||$g===!1,($a=$b!==!1&&$b!==nil?buffer.$last()["$=="]($scope.LIST_CONTINUATION):$b)!==!1&&$a!==nil&&buffer.$pop(),buffer}),$opal.defs(self,"$initialize_section",function(reader,parent,attributes){var $a,$b,self=this,document=nil,sect_id=nil,sect_reftext=nil,sect_title=nil,sect_level=nil,_=nil,section=nil,id=nil;return null==attributes&&(attributes=$hash2([],{})),document=parent.$document(),$a=$opal.to_ary(self.$parse_section_title(reader,document)),sect_id=null==$a[0]?nil:$a[0],sect_reftext=null==$a[1]?nil:$a[1],sect_title=null==$a[2]?nil:$a[2],sect_level=null==$a[3]?nil:$a[3],_=null==$a[4]?nil:$a[4],sect_reftext!==!1&&sect_reftext!==nil&&attributes["$[]="]("reftext",sect_reftext),section=$scope.Section.$new(parent,sect_level,document.$attributes()["$has_key?"]("numbered")),section["$id="](sect_id),section["$title="](sect_title),($a=attributes["$[]"](1))!==!1&&$a!==nil?($a=$opal.to_ary(self.$parse_style_attribute(attributes,reader)),section["$sectname="](null==$a[0]?nil:$a[0]),_=null==$a[1]?nil:$a[1],section["$special="](!0),($a=($b=section.$sectname()["$=="]("abstract"))?document.$doctype()["$=="]("book"):$b)!==!1&&$a!==nil&&(section["$sectname="]("sect1"),section["$special="](!1),section["$level="](1))):($a=($b=sect_title.$downcase()["$=="]("synopsis"))?document.$doctype()["$=="]("manpage"):$b)!==!1&&$a!==nil?(section["$special="](!0),section["$sectname="]("synopsis")):section["$sectname="]("sect"+section.$level()),$b=section.$id()["$nil?"](),($a=$b!==!1&&$b!==nil?id=attributes["$[]"]("id"):$b)!==!1&&$a!==nil?section["$id="](id):($a=section,($b=$a.$id())!==!1&&$b!==nil?$b:$a["$id="](section.$generate_id())),($a=section.$id())!==!1&&$a!==nil&&section.$document().$register("ids",[section.$id(),($a=attributes["$[]"]("reftext"))!==!1&&$a!==nil?$a:section.$title()]),section.$update_attributes(attributes),reader.$skip_blank_lines(),section
}),$opal.defs(self,"$section_level",function(line){return $scope.SECTION_LEVELS["$[]"](line["$[]"]($range(0,0,!1)))}),$opal.defs(self,"$single_line_section_level",function(marker){return marker.$length()["$-"](1)}),$opal.defs(self,"$is_next_line_section?",function(reader,attributes){var $a,$b,$c,$d,self=this,val=nil,ord_0=nil;return $d=(val=attributes["$[]"](1))["$nil?"](),$c=$d===nil||$d===!1,$b=$c!==!1&&$c!==nil?($d=(ord_0=val["$[]"](0).$ord())["$=="](100))!==!1&&$d!==nil?$d:ord_0["$=="](102):$c,($a=$b!==!1&&$b!==nil?val.$match($scope.REGEXP["$[]"]("section_float_style")):$b)!==!1&&$a!==nil?!1:($b=reader["$has_more_lines?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil?!1:($a=$scope.Compliance.$underline_style_section_titles())!==!1&&$a!==nil?($a=self)["$is_section_title?"].apply($a,[].concat(reader.$peek_lines(2))):self["$is_section_title?"](reader.$peek_line()))}),$opal.defs(self,"$is_next_line_document_title?",function(reader,attributes){var self=this;return self["$is_next_line_section?"](reader,attributes)["$=="](0)}),$opal.defs(self,"$is_section_title?",function(line1,line2){var $a,$b,self=this,level=nil;return null==line2&&(line2=nil),($a=level=self["$is_single_line_section_title?"](line1))!==!1&&$a!==nil?level:($a=($b=line2!==!1&&line2!==nil)?level=self["$is_two_line_section_title?"](line1,line2):$b)!==!1&&$a!==nil?level:!1}),$opal.defs(self,"$is_single_line_section_title?",function(line1){var $a,$b,$c,$d,self=this,first_char=nil,match=nil;return first_char=function(){return($a=line1["$nil?"]())!==!1&&$a!==nil?nil:line1["$[]"]($range(0,0,!1))}(),$b=($c=first_char["$=="]("="))!==!1&&$c!==nil?$c:($d=$scope.Compliance.$markdown_syntax(),$d!==!1&&$d!==nil?first_char["$=="]("#"):$d),($a=$b!==!1&&$b!==nil?match=line1.$match($scope.REGEXP["$[]"]("section_title")):$b)!==!1&&$a!==nil?self.$single_line_section_level(match["$[]"](1)):!1}),$opal.defs(self,"$is_two_line_section_title?",function(line1,line2){var $a,$b,$c,$d,$e,$f,$g,self=this;return $g=line1["$nil?"](),$f=$g===nil||$g===!1,$e=$f!==!1&&$f!==nil?($g=line2["$nil?"](),$g===nil||$g===!1):$f,$d=$e!==!1&&$e!==nil?$scope.SECTION_LEVELS["$has_key?"](line2["$[]"]($range(0,0,!1))):$e,$c=$d!==!1&&$d!==nil?line2.$match($scope.REGEXP["$[]"]("section_underline")):$d,$b=$c!==!1&&$c!==nil?line1.$match($scope.REGEXP["$[]"]("section_name")):$c,($a=$b!==!1&&$b!==nil?self.$line_length(line1)["$-"](self.$line_length(line2)).$abs()["$<="](1):$b)!==!1&&$a!==nil?self.$section_level(line2):!1}),$opal.defs(self,"$parse_section_title",function(reader,document){var $a,$b,$c,$d,$e,$f,self=this,line1=nil,sect_id=nil,sect_title=nil,sect_level=nil,sect_reftext=nil,single_line=nil,first_char=nil,match=nil,anchor_match=nil,line2=nil,name_match=nil;return line1=reader.$read_line(),sect_id=nil,sect_title=nil,sect_level=-1,sect_reftext=nil,single_line=!0,first_char=line1["$[]"]($range(0,0,!1)),$b=($c=first_char["$=="]("="))!==!1&&$c!==nil?$c:($d=$scope.Compliance.$markdown_syntax(),$d!==!1&&$d!==nil?first_char["$=="]("#"):$d),($a=$b!==!1&&$b!==nil?match=line1.$match($scope.REGEXP["$[]"]("section_title")):$b)!==!1&&$a!==nil?(sect_level=self.$single_line_section_level(match["$[]"](1)),sect_title=match["$[]"](2),$b=sect_title["$end_with?"]("]]"),($a=$b!==!1&&$b!==nil?anchor_match=sect_title.$match($scope.REGEXP["$[]"]("anchor_embedded")):$b)!==!1&&$a!==nil&&($a=anchor_match["$[]"](2)["$nil?"]())!==!1&&$a!==nil&&(sect_title=anchor_match["$[]"](1),sect_id=anchor_match["$[]"](3),sect_reftext=anchor_match["$[]"](4))):($a=$scope.Compliance.$underline_style_section_titles())!==!1&&$a!==nil&&(line2=reader.$peek_line(!0),$f=line2["$nil?"](),$e=$f===nil||$f===!1,$d=$e!==!1&&$e!==nil?$scope.SECTION_LEVELS["$has_key?"](line2["$[]"]($range(0,0,!1))):$e,$c=$d!==!1&&$d!==nil?line2.$match($scope.REGEXP["$[]"]("section_underline")):$d,$b=$c!==!1&&$c!==nil?name_match=line1.$match($scope.REGEXP["$[]"]("section_name")):$c,($a=$b!==!1&&$b!==nil?self.$line_length(line1)["$-"](self.$line_length(line2)).$abs()["$<="](1):$b)!==!1&&$a!==nil&&(sect_title=name_match["$[]"](1),$b=sect_title["$end_with?"]("]]"),($a=$b!==!1&&$b!==nil?anchor_match=sect_title.$match($scope.REGEXP["$[]"]("anchor_embedded")):$b)!==!1&&$a!==nil&&($a=anchor_match["$[]"](2)["$nil?"]())!==!1&&$a!==nil&&(sect_title=anchor_match["$[]"](1),sect_id=anchor_match["$[]"](3),sect_reftext=anchor_match["$[]"](4)),sect_level=self.$section_level(line2),single_line=!1,reader.$advance())),sect_level["$>="](0)&&(sect_level=sect_level["$+"](document.$attr("leveloffset",0).$to_i())),[sect_id,sect_reftext,sect_title,sect_level,single_line]}),$opal.defs(self,"$line_length",function(line){var $a;return($a=$scope.FORCE_UNICODE_LINE_LENGTH)!==!1&&$a!==nil?line.$scan(/./i).$length():line.$length()}),$opal.defs(self,"$parse_header_metadata",function(reader,document){var $a,$b,$c,TMP_17,$d,TMP_18,$e,self=this,metadata=nil,implicit_author=nil,implicit_authors=nil,author_metadata=nil,rev_metadata=nil,rev_line=nil,match=nil,author_line=nil,authors=nil,author_key=nil;if(null==document&&(document=nil),self.$process_attribute_entries(reader,document),metadata=$hash2([],{}),implicit_author=nil,implicit_authors=nil,$b=reader["$has_more_lines?"](),($a=$b!==!1&&$b!==nil?($c=reader["$next_line_empty?"](),$c===nil||$c===!1):$b)!==!1&&$a!==nil&&(author_metadata=self.$process_authors(reader.$read_line()),(($a=author_metadata["$empty?"]())===!1||$a===nil)&&($b=document["$nil?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil&&(($a=($b=author_metadata).$each,$a._p=(TMP_17=function(key,val){{var $a;TMP_17._s||this}return null==key&&(key=nil),null==val&&(val=nil),($a=document.$attributes()["$has_key?"](key))!==!1&&$a!==nil?nil:document.$attributes()["$[]="](key,function(){return($a=val["$is_a?"]($scope.String))!==!1&&$a!==nil?document.$apply_header_subs(val):val}())},TMP_17._s=self,TMP_17),$a).call($b),implicit_author=document.$attributes()["$[]"]("author"),implicit_authors=document.$attributes()["$[]"]("authors")),metadata=author_metadata),self.$process_attribute_entries(reader,document),rev_metadata=$hash2([],{}),$c=reader["$has_more_lines?"](),($a=$c!==!1&&$c!==nil?($d=reader["$next_line_empty?"](),$d===nil||$d===!1):$c)!==!1&&$a!==nil&&(rev_line=reader.$read_line(),($a=match=rev_line.$match($scope.REGEXP["$[]"]("revision_info")))!==!1&&$a!==nil?(rev_metadata["$[]="]("revdate",match["$[]"](2).$strip()),(($a=match["$[]"](1)["$nil?"]())===!1||$a===nil)&&rev_metadata["$[]="]("revnumber",match["$[]"](1).$rstrip()),(($a=match["$[]"](3)["$nil?"]())===!1||$a===nil)&&rev_metadata["$[]="]("revremark",match["$[]"](3).$rstrip())):reader.$unshift_line(rev_line)),(($a=rev_metadata["$empty?"]())===!1||$a===nil)&&($c=document["$nil?"](),($a=$c===nil||$c===!1)!=!1&&$a!==nil&&($a=($c=rev_metadata).$each,$a._p=(TMP_18=function(key,val){{var $a;TMP_18._s||this}return null==key&&(key=nil),null==val&&(val=nil),($a=document.$attributes()["$has_key?"](key))!==!1&&$a!==nil?nil:document.$attributes()["$[]="](key,document.$apply_header_subs(val))},TMP_18._s=self,TMP_18),$a).call($c),metadata.$update(rev_metadata)),self.$process_attribute_entries(reader,document),reader.$skip_blank_lines()),$d=document["$nil?"](),($a=$d===nil||$d===!1)!=!1&&$a!==nil){if(author_metadata=nil,$d=document.$attributes()["$has_key?"]("author"),($a=$d!==!1&&$d!==nil?($e=(author_line=document.$attributes()["$[]"]("author"))["$=="](implicit_author),$e===nil||$e===!1):$d)!==!1&&$a!==nil)author_metadata=self.$process_authors(author_line,!0,!1);else if($d=document.$attributes()["$has_key?"]("authors"),($a=$d!==!1&&$d!==nil?($e=(author_line=document.$attributes()["$[]"]("authors"))["$=="](implicit_authors),$e===nil||$e===!1):$d)!==!1&&$a!==nil)author_metadata=self.$process_authors(author_line,!0);else{for(authors=[],author_key="author_"+authors.$size()["$+"](1);($d=document.$attributes()["$has_key?"](author_key))!==!1&&$d!==nil;)authors["$<<"](document.$attributes()["$[]"](author_key)),author_key="author_"+authors.$size()["$+"](1);authors.$size()["$=="](1)?author_metadata=self.$process_authors(authors.$first(),!0,!1):authors.$size()["$>"](1)&&(author_metadata=self.$process_authors(authors.$join("; "),!0))}(($a=author_metadata["$nil?"]())===!1||$a===nil)&&(document.$attributes().$update(author_metadata),$e=document.$attributes()["$has_key?"]("email"),$d=$e===nil||$e===!1,($a=$d!==!1&&$d!==nil?document.$attributes()["$has_key?"]("email_1"):$d)!==!1&&$a!==nil&&document.$attributes()["$[]="]("email",document.$attributes()["$[]"]("email_1")))}return metadata}),$opal.defs(self,"$process_authors",function(author_line,names_only,multiple){var $a,$b,$c,TMP_19,self=this,author_metadata=nil,keys=nil,author_entries=nil;return null==names_only&&(names_only=!1),null==multiple&&(multiple=!0),author_metadata=$hash2([],{}),keys=["author","authorinitials","firstname","middlename","lastname","email"],author_entries=function(){return multiple!==!1&&multiple!==nil?($a=($b=author_line.$split(";")).$map,$a._p="strip".$to_proc(),$a).call($b):[author_line]}(),($a=($c=author_entries).$each_with_index,$a._p=(TMP_19=function(author_entry,idx){var $a,$b,TMP_20,$c,TMP_21,$d,$e,TMP_22,self=TMP_19._s||this,key_map=nil,segments=nil,match=nil,fname=nil,mname=nil,lname=nil;return null==author_entry&&(author_entry=nil),null==idx&&(idx=nil),($a=author_entry["$empty?"]())!==!1&&$a!==nil?nil:(key_map=$hash2([],{}),($a=idx["$zero?"]())!==!1&&$a!==nil?($a=($b=keys).$each,$a._p=(TMP_20=function(key){TMP_20._s||this;return null==key&&(key=nil),key_map["$[]="](key.$to_sym(),key)},TMP_20._s=self,TMP_20),$a).call($b):($a=($c=keys).$each,$a._p=(TMP_21=function(key){TMP_21._s||this;return null==key&&(key=nil),key_map["$[]="](key.$to_sym(),""+key+"_"+idx["$+"](1))},TMP_21._s=self,TMP_21),$a).call($c),segments=nil,names_only!==!1&&names_only!==nil?segments=author_entry.$split(" ",3):($a=match=author_entry.$match($scope.REGEXP["$[]"]("author_info")))!==!1&&$a!==nil&&(segments=match.$to_a(),segments.$shift()),($a=segments["$nil?"]())!==!1&&$a!==nil?(author_metadata["$[]="](key_map["$[]"]("author"),author_metadata["$[]="](key_map["$[]"]("firstname"),fname=author_entry.$strip().$tr_s(" "," "))),author_metadata["$[]="](key_map["$[]"]("authorinitials"),fname["$[]"](0,1))):(author_metadata["$[]="](key_map["$[]"]("firstname"),fname=segments["$[]"](0).$tr("_"," ")),author_metadata["$[]="](key_map["$[]"]("author"),fname),author_metadata["$[]="](key_map["$[]"]("authorinitials"),fname["$[]"](0,1)),$e=segments["$[]"](1)["$nil?"](),$d=$e===nil||$e===!1,($a=$d!==!1&&$d!==nil?($e=segments["$[]"](2)["$nil?"](),$e===nil||$e===!1):$d)!==!1&&$a!==nil?(author_metadata["$[]="](key_map["$[]"]("middlename"),mname=segments["$[]"](1).$tr("_"," ")),author_metadata["$[]="](key_map["$[]"]("lastname"),lname=segments["$[]"](2).$tr("_"," ")),author_metadata["$[]="](key_map["$[]"]("author"),[fname,mname,lname].$join(" ")),author_metadata["$[]="](key_map["$[]"]("authorinitials"),[fname["$[]"](0,1),mname["$[]"](0,1),lname["$[]"](0,1)].$join())):($d=segments["$[]"](1)["$nil?"](),($a=$d===nil||$d===!1)!=!1&&$a!==nil&&(author_metadata["$[]="](key_map["$[]"]("lastname"),lname=segments["$[]"](1).$tr("_"," ")),author_metadata["$[]="](key_map["$[]"]("author"),[fname,lname].$join(" ")),author_metadata["$[]="](key_map["$[]"]("authorinitials"),[fname["$[]"](0,1),lname["$[]"](0,1)].$join()))),(($a=($d=names_only)!==!1&&$d!==nil?$d:segments["$[]"](3)["$nil?"]())===!1||$a===nil)&&author_metadata["$[]="](key_map["$[]"]("email"),segments["$[]"](3))),author_metadata["$[]="]("authorcount",idx["$+"](1)),idx["$=="](1)&&($a=($d=keys).$each,$a._p=(TMP_22=function(key){{var $a;TMP_22._s||this}return null==key&&(key=nil),($a=author_metadata["$has_key?"](key))!==!1&&$a!==nil?author_metadata["$[]="](""+key+"_1",author_metadata["$[]"](key)):nil},TMP_22._s=self,TMP_22),$a).call($d),($a=idx["$zero?"]())!==!1&&$a!==nil?author_metadata["$[]="]("authors",author_metadata["$[]"](key_map["$[]"]("author"))):author_metadata["$[]="]("authors",""+author_metadata["$[]"]("authors")+", "+author_metadata["$[]"](key_map["$[]"]("author"))))},TMP_19._s=self,TMP_19),$a).call($c),author_metadata}),$opal.defs(self,"$parse_block_metadata_lines",function(reader,parent,attributes,options){var $b,self=this;for(null==attributes&&(attributes=$hash2([],{})),null==options&&(options=$hash2([],{}));($b=self.$parse_block_metadata_line(reader,parent,attributes,options))!==!1&&$b!==nil;)reader.$advance(),reader.$skip_blank_lines();return attributes}),$opal.defs(self,"$parse_block_metadata_line",function(reader,parent,attributes,options){var $a,$b,$c,self=this,next_line=nil,commentish=nil,match=nil,terminator=nil;if(null==options&&(options=$hash2([],{})),$b=reader["$has_more_lines?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil)return!1;if(next_line=reader.$peek_line(),$b=commentish=next_line["$start_with?"]("//"),($a=$b!==!1&&$b!==nil?match=next_line.$match($scope.REGEXP["$[]"]("comment_blk")):$b)!==!1&&$a!==nil)terminator=match["$[]"](0),reader.$read_lines_until($hash2(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:terminator,skip_processing:!0}));else if(($a=($b=commentish!==!1&&commentish!==nil)?next_line.$match($scope.REGEXP["$[]"]("comment")):$b)===!1||$a===nil)if($c=options["$[]"]("text"),$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?match=next_line.$match($scope.REGEXP["$[]"]("attr_entry")):$b)!==!1&&$a!==nil)self.$process_attribute_entry(reader,parent,attributes,match);else if(($a=match=next_line.$match($scope.REGEXP["$[]"]("anchor")))!==!1&&$a!==nil)(($a=match["$[]"](1)["$=="](""))===!1||$a===nil)&&(attributes["$[]="]("id",match["$[]"](1)),(($a=match["$[]"](2)["$nil?"]())===!1||$a===nil)&&attributes["$[]="]("reftext",match["$[]"](2)));else if(($a=match=next_line.$match($scope.REGEXP["$[]"]("blk_attr_list")))!==!1&&$a!==nil)parent.$document().$parse_attributes(match["$[]"](1),[],$hash2(["sub_input","into"],{sub_input:!0,into:attributes}));else{if($c=options["$[]"]("text"),$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?match=next_line.$match($scope.REGEXP["$[]"]("blk_title")):$b)===!1||$a===nil)return!1;attributes["$[]="]("title",match["$[]"](1))}return!0}),$opal.defs(self,"$process_attribute_entries",function(reader,parent,attributes){var $b,self=this;for(null==attributes&&(attributes=nil),reader.$skip_comment_lines();($b=self.$process_attribute_entry(reader,parent,attributes))!==!1&&$b!==nil;)reader.$advance(),reader.$skip_comment_lines()}),$opal.defs(self,"$process_attribute_entry",function(reader,parent,attributes,match){var $a,$b,self=this,name=nil,value=nil,next_line=nil;if(null==attributes&&(attributes=nil),null==match&&(match=nil),($a=match)!==!1&&$a!==nil?$a:match=function(){return($b=reader["$has_more_lines?"]())!==!1&&$b!==nil?reader.$peek_line().$match($scope.REGEXP["$[]"]("attr_entry")):nil}(),match!==!1&&match!==nil){if(name=match["$[]"](1),value=function(){return($a=match["$[]"](2)["$nil?"]())!==!1&&$a!==nil?"":match["$[]"](2)}(),($a=value["$end_with?"]($scope.LINE_BREAK))!==!1&&$a!==nil)for(value=value.$chop().$rstrip();($b=reader.$advance())!==!1&&$b!==nil&&(next_line=reader.$peek_line().$strip(),($b=next_line["$empty?"]())===!1||$b===nil);){if(($b=next_line["$end_with?"]($scope.LINE_BREAK))===!1||$b===nil){value=""+value+" "+next_line;break}value=""+value+" "+next_line.$chop().$rstrip()}return self.$store_attribute(name,value,function(){return($a=parent["$nil?"]())!==!1&&$a!==nil?nil:parent.$document()}(),attributes),!0}return!1}),$opal.defs(self,"$store_attribute",function(name,value,doc,attrs){var $a,$b,$c,self=this,accessible=nil;return null==doc&&(doc=nil),null==attrs&&(attrs=nil),($a=name["$end_with?"]("!"))!==!1&&$a!==nil?(value=nil,name=name.$chop()):($a=name["$start_with?"]("!"))!==!1&&$a!==nil&&(value=nil,name=name["$[]"]($range(1,-1,!1))),name=self.$sanitize_attribute_name(name),accessible=!0,(($a=doc["$nil?"]())===!1||$a===nil)&&(accessible=function(){return($a=value["$nil?"]())!==!1&&$a!==nil?doc.$delete_attribute(name):doc.$set_attribute(name,value)}()),$c=accessible,(($a=($b=$c===nil||$c===!1)!=!1&&$b!==nil?$b:attrs["$nil?"]())===!1||$a===nil)&&$scope.Document._scope.AttributeEntry.$new(name,value).$save_to(attrs),[name,value]}),$opal.defs(self,"$resolve_list_marker",function(list_type,marker,ordinal,validate,reader){var $a,$b,$c,self=this;return null==ordinal&&(ordinal=0),null==validate&&(validate=!1),null==reader&&(reader=nil),($a=($b=list_type["$=="]("olist"))?($c=marker["$start_with?"]("."),$c===nil||$c===!1):$b)!==!1&&$a!==nil?self.$resolve_ordered_list_marker(marker,ordinal,validate,reader):list_type["$=="]("colist")?"<1>":marker}),$opal.defs(self,"$resolve_ordered_list_marker",function(marker,ordinal,validate,reader){var $a,$b,TMP_23,$c,$d,self=this,number_style=nil,expected=nil,actual=nil,$case=nil;return null==ordinal&&(ordinal=0),null==validate&&(validate=!1),null==reader&&(reader=nil),number_style=($a=($b=$scope.ORDERED_LIST_STYLES).$detect,$a._p=(TMP_23=function(s){TMP_23._s||this;return null==s&&(s=nil),marker.$match($scope.ORDERED_LIST_MARKER_PATTERNS["$[]"](s))},TMP_23._s=self,TMP_23),$a).call($b),expected=actual=nil,$case=number_style,"arabic"["$==="]($case)?(validate!==!1&&validate!==nil&&(expected=ordinal["$+"](1),actual=marker.$to_i()),marker="1."):"loweralpha"["$==="]($case)?(validate!==!1&&validate!==nil&&(expected="a"["$[]"](0).$ord()["$+"](ordinal).$chr(),actual=marker.$chomp(".")),marker="a."):"upperalpha"["$==="]($case)?(validate!==!1&&validate!==nil&&(expected="A"["$[]"](0).$ord()["$+"](ordinal).$chr(),actual=marker.$chomp(".")),marker="A."):"lowerroman"["$==="]($case)?(validate!==!1&&validate!==nil&&(expected=ordinal["$+"](1),actual=self.$roman_numeral_to_int(marker.$chomp(")"))),marker="i)"):"upperroman"["$==="]($case)&&(validate!==!1&&validate!==nil&&(expected=ordinal["$+"](1),actual=self.$roman_numeral_to_int(marker.$chomp(")"))),marker="I)"),($a=($c=validate!==!1&&validate!==nil)?($d=expected["$=="](actual),$d===nil||$d===!1):$c)!==!1&&$a!==nil&&self.$warn("asciidoctor: WARNING: "+reader.$line_info()+": list item index: expected "+expected+", got "+actual),marker}),$opal.defs(self,"$is_sibling_list_item?",function(line,list_type,sibling_trait){var $a,self=this,matcher=nil,expected_marker=nil,m=nil;return($a=sibling_trait["$is_a?"]($scope.Regexp))!==!1&&$a!==nil?(matcher=sibling_trait,expected_marker=!1):(matcher=$scope.REGEXP["$[]"](list_type),expected_marker=sibling_trait),($a=m=line.$match(matcher))!==!1&&$a!==nil?expected_marker!==!1&&expected_marker!==nil?expected_marker["$=="](self.$resolve_list_marker(list_type,m["$[]"](1))):!0:!1}),$opal.defs(self,"$next_table",function(table_reader,parent,attributes){var $a,$b,$c,$d,$e,$f,TMP_24,self=this,table=nil,explicit_col_specs=nil,skipped=nil,parser_ctx=nil,loop_idx=nil,line=nil,next_line=nil,next_cell_spec=nil,seen=nil,m=nil,cell_text=nil,even_width=nil;for(table=$scope.Table.$new(parent,attributes),($a=attributes["$has_key?"]("title"))!==!1&&$a!==nil&&table["$title="](attributes.$delete("title")),table.$assign_caption(attributes.$delete("caption")),($a=attributes["$has_key?"]("cols"))!==!1&&$a!==nil?(table.$create_columns(self.$parse_col_specs(attributes["$[]"]("cols"))),explicit_col_specs=!0):explicit_col_specs=!1,skipped=table_reader.$skip_blank_lines(),parser_ctx=$scope.Table._scope.ParserContext.$new(table_reader,table,attributes),loop_idx=-1;($b=table_reader["$has_more_lines?"]())!==!1&&$b!==nil;){for(loop_idx=loop_idx["$+"](1),line=table_reader.$read_line(),$e=($f=skipped["$=="](0))?loop_idx["$zero?"]():$f,$d=$e!==!1&&$e!==nil?($f=attributes["$has_key?"]("options"),$f===nil||$f===!1):$e,$c=$d!==!1&&$d!==nil?($e=(next_line=table_reader.$peek_line())["$nil?"](),$e===nil||$e===!1):$d,($b=$c!==!1&&$c!==nil?next_line["$empty?"]():$c)!==!1&&$b!==nil&&(table["$has_header_option="](!0),table.$set_option("header")),parser_ctx.$format()["$=="]("psv")&&(($b=parser_ctx["$starts_with_delimiter?"](line))!==!1&&$b!==nil?(line=line["$[]"]($range(1,-1,!1)),parser_ctx.$close_open_cell()):($b=$opal.to_ary(self.$parse_cell_spec(line,"start")),next_cell_spec=null==$b[0]?nil:$b[0],line=null==$b[1]?nil:$b[1],$c=next_cell_spec["$nil?"](),($b=$c===nil||$c===!1)!=!1&&$b!==nil&&parser_ctx.$close_open_cell(next_cell_spec))),seen=!1;$e=seen,($c=($d=$e===nil||$e===!1)!=!1&&$d!==nil?$d:($e=line["$empty?"](),$e===nil||$e===!1))!==!1&&$c!==nil;)if(seen=!0,($c=m=parser_ctx.$match_delimiter(line))!==!1&&$c!==nil){if(parser_ctx.$format()["$=="]("csv")){if(($c=parser_ctx["$buffer_has_unclosed_quotes?"](m.$pre_match()))!==!1&&$c!==nil){line=parser_ctx.$skip_matched_delimiter(m);continue}}else if(($c=m.$pre_match()["$end_with?"]("\\"))!==!1&&$c!==nil){line=parser_ctx.$skip_matched_delimiter(m,!0);continue}parser_ctx.$format()["$=="]("psv")?($c=$opal.to_ary(self.$parse_cell_spec(m.$pre_match(),"end")),next_cell_spec=null==$c[0]?nil:$c[0],cell_text=null==$c[1]?nil:$c[1],parser_ctx.$push_cell_spec(next_cell_spec),parser_ctx["$buffer="](""+parser_ctx.$buffer()+cell_text)):parser_ctx["$buffer="](""+parser_ctx.$buffer()+m.$pre_match()),line=m.$post_match(),parser_ctx.$close_cell()}else parser_ctx["$buffer="](""+parser_ctx.$buffer()+line+$scope.EOL),parser_ctx.$format()["$=="]("csv")&&parser_ctx["$buffer="](""+parser_ctx.$buffer().$rstrip()+" "),line="",($c=($d=parser_ctx.$format()["$=="]("psv"))!==!1&&$d!==nil?$d:($e=parser_ctx.$format()["$=="]("csv"))?parser_ctx["$buffer_has_unclosed_quotes?"]():$e)!==!1&&$c!==nil?parser_ctx.$keep_cell_open():parser_ctx.$close_cell(!0);(($b=parser_ctx["$cell_open?"]())===!1||$b===nil)&&(skipped=table_reader.$skip_blank_lines()),$c=table_reader["$has_more_lines?"](),($b=$c===nil||$c===!1)!=!1&&$b!==nil&&parser_ctx.$close_cell(!0)}return $a="colcount",$b=table.$attributes(),($c=$b["$[]"]($a))!==!1&&$c!==nil?$c:$b["$[]="]($a,parser_ctx.$col_count()),$b=explicit_col_specs,($a=$b===nil||$b===!1)!=!1&&$a!==nil&&(even_width=100["$/"](parser_ctx.$col_count()).$floor(),($a=($b=table.$columns()).$each,$a._p=(TMP_24=function(c){TMP_24._s||this;return null==c&&(c=nil),c.$assign_width(0,even_width)},TMP_24._s=self,TMP_24),$a).call($b)),table.$partition_header_footer(attributes),table}),$opal.defs(self,"$parse_col_specs",function(records){var $a,$b,TMP_25,$c,TMP_26,self=this,specs=nil,m=nil;return specs=[],($a=m=records.$match($scope.REGEXP["$[]"]("digits")))!==!1&&$a!==nil?(($a=($b=1).$upto,$a._p=(TMP_25=function(){TMP_25._s||this;return specs["$<<"]($hash2(["width"],{width:1}))},TMP_25._s=self,TMP_25),$a).call($b,m["$[]"](0).$to_i()),specs):(($a=($c=records.$split(",")).$each,$a._p=(TMP_26=function(record){var $a,$b,$c,TMP_27,self=TMP_26._s||this,spec=nil,colspec=nil,rowspec=nil,repeat=nil;return null==record&&(record=nil),($a=m=record.$match($scope.REGEXP["$[]"]("table_colspec")))!==!1&&$a!==nil?(spec=$hash2([],{}),($a=m["$[]"](2))!==!1&&$a!==nil&&($a=$opal.to_ary(m["$[]"](2).$split(".")),colspec=null==$a[0]?nil:$a[0],rowspec=null==$a[1]?nil:$a[1],$c=colspec.$to_s()["$empty?"](),$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?$scope.Table._scope.ALIGNMENTS["$[]"]("h")["$has_key?"](colspec):$b)!==!1&&$a!==nil&&spec["$[]="]("halign",$scope.Table._scope.ALIGNMENTS["$[]"]("h")["$[]"](colspec)),$c=rowspec.$to_s()["$empty?"](),$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?$scope.Table._scope.ALIGNMENTS["$[]"]("v")["$has_key?"](rowspec):$b)!==!1&&$a!==nil&&spec["$[]="]("valign",$scope.Table._scope.ALIGNMENTS["$[]"]("v")["$[]"](rowspec))),spec["$[]="]("width",function(){return $b=m["$[]"](3)["$nil?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil?m["$[]"](3).$to_i():1}()),$b=m["$[]"](4),($a=$b!==!1&&$b!==nil?$scope.Table._scope.TEXT_STYLES["$has_key?"](m["$[]"](4)):$b)!==!1&&$a!==nil&&spec["$[]="]("style",$scope.Table._scope.TEXT_STYLES["$[]"](m["$[]"](4))),repeat=function(){return $b=m["$[]"](1)["$nil?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil?m["$[]"](1).$to_i():1}(),($a=($b=1).$upto,$a._p=(TMP_27=function(){TMP_27._s||this;return specs["$<<"](spec.$dup())},TMP_27._s=self,TMP_27),$a).call($b,repeat)):nil},TMP_26._s=self,TMP_26),$a).call($c),specs)}),$opal.defs(self,"$parse_cell_spec",function(line,pos){var $a,$b,$c,spec=nil,rest=nil,m=nil,colspec=nil,rowspec=nil;if(null==pos&&(pos="start"),spec=function(){return pos["$=="]("end")?$hash2([],{}):nil}(),rest=line,($a=m=line.$match($scope.REGEXP["$[]"]("table_cellspec")["$[]"](pos)))!==!1&&$a!==nil){if(spec=$hash2([],{}),($a=m["$[]"](0)["$empty?"]())!==!1&&$a!==nil)return[spec,line];rest=function(){return pos["$=="]("start")?m.$post_match():m.$pre_match()}(),($a=m["$[]"](1))!==!1&&$a!==nil&&($a=$opal.to_ary(m["$[]"](1).$split(".")),colspec=null==$a[0]?nil:$a[0],rowspec=null==$a[1]?nil:$a[1],colspec=function(){return($a=colspec.$to_s()["$empty?"]())!==!1&&$a!==nil?1:colspec.$to_i()}(),rowspec=function(){return($a=rowspec.$to_s()["$empty?"]())!==!1&&$a!==nil?1:rowspec.$to_i()}(),m["$[]"](2)["$=="]("+")?((($a=colspec["$=="](1))===!1||$a===nil)&&spec["$[]="]("colspan",colspec),(($a=rowspec["$=="](1))===!1||$a===nil)&&spec["$[]="]("rowspan",rowspec)):m["$[]"](2)["$=="]("*")&&(($a=colspec["$=="](1))===!1||$a===nil)&&spec["$[]="]("repeatcol",colspec)),($a=m["$[]"](3))!==!1&&$a!==nil&&($a=$opal.to_ary(m["$[]"](3).$split(".")),colspec=null==$a[0]?nil:$a[0],rowspec=null==$a[1]?nil:$a[1],$c=colspec.$to_s()["$empty?"](),$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?$scope.Table._scope.ALIGNMENTS["$[]"]("h")["$has_key?"](colspec):$b)!==!1&&$a!==nil&&spec["$[]="]("halign",$scope.Table._scope.ALIGNMENTS["$[]"]("h")["$[]"](colspec)),$c=rowspec.$to_s()["$empty?"](),$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?$scope.Table._scope.ALIGNMENTS["$[]"]("v")["$has_key?"](rowspec):$b)!==!1&&$a!==nil&&spec["$[]="]("valign",$scope.Table._scope.ALIGNMENTS["$[]"]("v")["$[]"](rowspec))),$b=m["$[]"](4),($a=$b!==!1&&$b!==nil?$scope.Table._scope.TEXT_STYLES["$has_key?"](m["$[]"](4)):$b)!==!1&&$a!==nil&&spec["$[]="]("style",$scope.Table._scope.TEXT_STYLES["$[]"](m["$[]"](4)))}return[spec,rest]}),$opal.defs(self,"$parse_style_attribute",function(attributes,reader){var $a,$b,$c,TMP_28,TMP_29,$d,TMP_30,self=this,original_style=nil,raw_style=nil,type=nil,collector=nil,parsed=nil,save_current=nil,parsed_style=nil,options=nil,existing_opts=nil;return null==reader&&(reader=nil),original_style=attributes["$[]"]("style"),raw_style=attributes["$[]"](1),$c=raw_style,($a=($b=$c===nil||$c===!1)!=!1&&$b!==nil?$b:raw_style["$include?"](" "))!==!1&&$a!==nil?(attributes["$[]="]("style",raw_style),[raw_style,original_style]):(type="style",collector=[],parsed=$hash2([],{}),save_current=($a=($b=self).$lambda,$a._p=(TMP_28=function(){var $a,$b,$c,self=TMP_28._s||this,$case=nil;return($a=collector["$empty?"]())!==!1&&$a!==nil?($b=type["$=="]("style"),($a=$b===nil||$b===!1)!=!1&&$a!==nil?self.$warn("asciidoctor: WARNING:"+function(){return($a=reader["$nil?"]())!==!1&&$a!==nil?nil:" "+reader.$prev_line_info()+":"}()+" invalid empty "+type+" detected in style attribute"):nil):($case=type,"role"["$==="]($case)||"option"["$==="]($case)?($a=type,$b=parsed,($c=$b["$[]"]($a))!==!1&&$c!==nil?$c:$b["$[]="]($a,[]),parsed["$[]"](type).$push(collector.$join())):"id"["$==="]($case)?(($a=parsed["$has_key?"]("id"))!==!1&&$a!==nil&&self.$warn("asciidoctor: WARNING:"+function(){return($a=reader["$nil?"]())!==!1&&$a!==nil?nil:" "+reader.$prev_line_info()+":"}()+" multiple ids detected in style attribute"),parsed["$[]="](type,collector.$join())):parsed["$[]="](type,collector.$join()),collector=[])},TMP_28._s=self,TMP_28),$a).call($b),($a=($c=raw_style).$each_char,$a._p=(TMP_29=function(c){var $a,$b,$c,$case=(TMP_29._s||this,nil);return null==c&&(c=nil),($a=($b=($c=c["$=="]("."))!==!1&&$c!==nil?$c:c["$=="]("#"))!==!1&&$b!==nil?$b:c["$=="]("%"))!==!1&&$a!==nil?(save_current.$call(),function(){return $case=c,"."["$==="]($case)?type="role":"#"["$==="]($case)?type="id":"%"["$==="]($case)?type="option":nil}()):collector.$push(c)},TMP_29._s=self,TMP_29),$a).call($c),type["$=="]("style")?parsed_style=attributes["$[]="]("style",raw_style):(save_current.$call(),parsed_style=($a=parsed["$has_key?"]("style"))!==!1&&$a!==nil?attributes["$[]="]("style",parsed["$[]"]("style")):nil,($a=parsed["$has_key?"]("id"))!==!1&&$a!==nil&&attributes["$[]="]("id",parsed["$[]"]("id")),($a=parsed["$has_key?"]("role"))!==!1&&$a!==nil&&attributes["$[]="]("role",parsed["$[]"]("role")["$*"](" ")),($a=parsed["$has_key?"]("option"))!==!1&&$a!==nil&&(($a=($d=options=parsed["$[]"]("option")).$each,$a._p=(TMP_30=function(option){TMP_30._s||this;return null==option&&(option=nil),attributes["$[]="](""+option+"-option","")},TMP_30._s=self,TMP_30),$a).call($d),($a=existing_opts=attributes["$[]"]("options"))!==!1&&$a!==nil?attributes["$[]="]("options",options["$+"](existing_opts.$split(","))["$*"](",")):attributes["$[]="]("options",options["$*"](",")))),[parsed_style,original_style])}),$opal.defs(self,"$reset_block_indent!",function(lines,indent){var $a,$b,TMP_31,$c,TMP_32,$d,TMP_33,self=this,tab_detected=nil,tab_expansion=nil,offsets=nil,offset=nil,padding=nil;return null==indent&&(indent=0),($a=($b=indent["$nil?"]())!==!1&&$b!==nil?$b:lines["$empty?"]())!==!1&&$a!==nil?nil:(tab_detected=!1,tab_expansion="    ",offsets=($a=($b=lines).$map,$a._p=(TMP_31=function(line){var $a,flush_line=(TMP_31._s||this,nil),offset=nil;return null==line&&(line=nil),($a=line["$[]"]($range(0,0,!1)).$lstrip()["$empty?"]())===!1||$a===nil?($breaker.$v=[],$breaker):(($a=line["$include?"]("	"))!==!1&&$a!==nil&&(tab_detected=!0,line=line.$gsub("	",tab_expansion)),($a=(flush_line=line.$lstrip())["$empty?"]())!==!1&&$a!==nil?nil:(offset=line.$length()["$-"](flush_line.$length()))["$=="](0)?($breaker.$v=[],$breaker):offset)},TMP_31._s=self,TMP_31),$a).call($b),(($a=($c=offsets["$empty?"]())!==!1&&$c!==nil?$c:(offsets=offsets.$compact())["$empty?"]())===!1||$a===nil)&&(offset=offsets.$min())["$>"](0)&&($a=($c=lines)["$map!"],$a._p=(TMP_32=function(line){TMP_32._s||this;return null==line&&(line=nil),tab_detected!==!1&&tab_detected!==nil&&(line=line.$gsub("	",tab_expansion)),line["$[]"]($range(offset,-1,!1)).$to_s()},TMP_32._s=self,TMP_32),$a).call($c),indent["$>"](0)&&(padding=" "["$*"](indent),($a=($d=lines)["$map!"],$a._p=(TMP_33=function(line){TMP_33._s||this;return null==line&&(line=nil),""+padding+line},TMP_33._s=self,TMP_33),$a).call($d)),nil)}),$opal.defs(self,"$sanitize_attribute_name",function(name){return name.$gsub($scope.REGEXP["$[]"]("illegal_attr_name_chars"),"").$downcase()}),$opal.defs(self,"$roman_numeral_to_int",function(value){var $a,$b,TMP_34,self=this,digits=nil,result=nil;return value=value.$downcase(),digits=$hash2(["i","v","x"],{i:1,v:5,x:10}),result=0,($a=($b=$range(0,value.$length()["$-"](1),!1)).$each,$a._p=(TMP_34=function(i){var $a,$b,digit=(TMP_34._s||this,nil);return null==i&&(i=nil),digit=digits["$[]"](value["$[]"]($range(i,i,!1))),result=($a=($b=i["$+"](1)["$<"](value.$length()))?digits["$[]"](value["$[]"]($range(i["$+"](1),i["$+"](1),!1)))["$>"](digit):$b)!==!1&&$a!==nil?result["$-"](digit):result["$+"](digit)},TMP_34._s=self,TMP_34),$a).call($b),result}),nil}(self,null)}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$slice=($opal.breaker,$opal.slice),$module=$opal.module,$klass=$opal.klass;return function($base){var self=$module($base,"Asciidoctor"),$scope=(self._proto,self._scope);!function($base,$super){function $List(){}{var TMP_1,TMP_2,self=$List=$klass($base,$super,"List",$List),def=$List._proto;$List._scope}return def.blocks=def.context=def.document=nil,$opal.defn(self,"$items",def.$blocks),$opal.defn(self,"$items?",def["$blocks?"]),def.$initialize=TMP_1=function(parent,context){{var self=this;TMP_1._p}return TMP_1._p=null,$opal.find_super_dispatcher(self,"initialize",TMP_1,null).apply(self,[parent,context])},def.$content=function(){var self=this;return self.blocks},def.$render=TMP_2=function(){var $zuper=$slice.call(arguments,0),self=this,$iter=TMP_2._p,result=nil;return TMP_2._p=null,result=$opal.find_super_dispatcher(self,"render",TMP_2,$iter).apply(self,$zuper),self.context["$=="]("colist")&&self.document.$callouts().$next_list(),result},nil}(self,$scope.AbstractBlock),function($base,$super){function $ListItem(){}var TMP_3,self=$ListItem=$klass($base,$super,"ListItem",$ListItem),def=$ListItem._proto,$scope=$ListItem._scope;
return def.text=def.blocks=def.context=nil,self.$attr_accessor("marker"),def.$initialize=TMP_3=function(parent,text){{var self=this;TMP_3._p}return null==text&&(text=nil),TMP_3._p=null,$opal.find_super_dispatcher(self,"initialize",TMP_3,null).apply(self,[parent,"list_item"]),self.text=text,self.level=parent.$level()},def["$text?"]=function(){var $a,self=this;return $a=self.text.$to_s()["$empty?"](),$a===nil||$a===!1},def.$text=function(){var self=this;return self.$apply_subs(self.text)},def.$fold_first=function(continuation_connects_first_block,content_adjacent){var $a,$b,$c,$d,$e,$f,$g,self=this,first_block=nil,block=nil;return null==continuation_connects_first_block&&(continuation_connects_first_block=!1),null==content_adjacent&&(content_adjacent=!1),$d=(first_block=self.blocks.$first())["$nil?"](),$c=$d===nil||$d===!1,$b=$c!==!1&&$c!==nil?first_block["$is_a?"]($scope.Block):$c,($a=$b!==!1&&$b!==nil?($c=($d=first_block.$context()["$=="]("paragraph"))?($e=continuation_connects_first_block,$e===nil||$e===!1):$d)!==!1&&$c!==nil?$c:($e=($f=content_adjacent)!==!1&&$f!==nil?$f:($g=continuation_connects_first_block,$g===nil||$g===!1),$d=$e!==!1&&$e!==nil?first_block.$context()["$=="]("literal"):$e,$d!==!1&&$d!==nil?first_block["$option?"]("listparagraph"):$d):$b)!==!1&&$a!==nil&&(block=self.$blocks().$shift(),(($a=self.text.$to_s()["$empty?"]())===!1||$a===nil)&&block.$lines().$unshift(self.text),self.text=block.$source()),nil},def.$to_s=function(){var $a,self=this;return""+self.context+" [text:"+self.text+", blocks:"+(($a=self.blocks)!==!1&&$a!==nil?$a:[]).$size()+"]"},nil}(self,$scope.AbstractBlock)}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$module=($opal.breaker,$opal.slice,$opal.module),$klass=$opal.klass,$hash2=$opal.hash2,$gvars=$opal.gvars,$range=$opal.range;return function($base){{var self=$module($base,"Asciidoctor");self._proto,self._scope}!function($base,$super){function $PathResolver(){}var self=$PathResolver=$klass($base,$super,"PathResolver",$PathResolver),def=$PathResolver._proto,$scope=$PathResolver._scope;return def.file_separator=def.working_dir=nil,$opal.cdecl($scope,"DOT","."),$opal.cdecl($scope,"DOT_DOT",".."),$opal.cdecl($scope,"SLASH","/"),$opal.cdecl($scope,"BACKSLASH","\\"),$opal.cdecl($scope,"WIN_ROOT_RE",/^[a-zA-Z]:(?:\\|\/)/),self.$attr_accessor("file_separator"),self.$attr_accessor("working_dir"),def.$initialize=function(file_separator,working_dir){var $a,self=this;return null==file_separator&&(file_separator=nil),null==working_dir&&(working_dir=nil),self.file_separator=function(){return($a=file_separator["$nil?"]())!==!1&&$a!==nil?($a=$scope.File._scope.ALT_SEPARATOR)!==!1&&$a!==nil?$a:$scope.File._scope.SEPARATOR:file_separator}(),self.working_dir=($a=working_dir["$nil?"]())!==!1&&$a!==nil?$scope.File.$expand_path($scope.Dir.$pwd()):function(){return($a=self["$is_root?"](working_dir))!==!1&&$a!==nil?working_dir:$scope.File.$expand_path(working_dir)}()},def["$is_root?"]=function(path){var $a,$b,self=this;return($a=($b=self.file_separator["$=="]($scope.BACKSLASH))?path.$match($scope.WIN_ROOT_RE):$b)!==!1&&$a!==nil?!0:($a=path["$start_with?"]($scope.SLASH))!==!1&&$a!==nil?!0:!1},def["$is_web_root?"]=function(path){return path["$start_with?"]($scope.SLASH)},def.$posixfy=function(path){var $a;return($a=path.$to_s()["$empty?"]())!==!1&&$a!==nil?"":($a=path["$include?"]($scope.BACKSLASH))!==!1&&$a!==nil?path.$tr($scope.BACKSLASH,$scope.SLASH):path},def.$expand_path=function(path){var $a,self=this,path_segments=nil,path_root=nil,_=nil;return $a=$opal.to_ary(self.$partition_path(path)),path_segments=null==$a[0]?nil:$a[0],path_root=null==$a[1]?nil:$a[1],_=null==$a[2]?nil:$a[2],self.$join_path(path_segments,path_root)},def.$partition_path=function(path,web_path){var self=this,posix_path=nil,is_root=nil,path_segments=nil,root=nil;return null==web_path&&(web_path=!1),posix_path=self.$posixfy(path),is_root=function(){return web_path!==!1&&web_path!==nil?self["$is_web_root?"](posix_path):self["$is_root?"](posix_path)}(),path_segments=posix_path.$tr_s($scope.SLASH,$scope.SLASH).$split($scope.SLASH),root=function(){return path_segments.$first()["$=="]($scope.DOT)?$scope.DOT:nil}(),path_segments.$delete($scope.DOT),root=function(){return is_root!==!1&&is_root!==nil?path_segments.$shift():root}(),[path_segments,root,posix_path]},def.$join_path=function(segments,root){return null==root&&(root=nil),root!==!1&&root!==nil?""+root+$scope.SLASH+segments["$*"]($scope.SLASH):segments["$*"]($scope.SLASH)},def.$system_path=function(target,start,jail,opts){var $a,$b,$c,TMP_1,self=this,recover=nil,target_segments=nil,target_root=nil,_=nil,resolved_target=nil,jail_segments=nil,jail_root=nil,start_segments=nil,start_root=nil,resolved_segments=nil,warned=nil;if(null==jail&&(jail=nil),null==opts&&(opts=$hash2([],{})),recover=opts.$fetch("recover",!0),(($a=jail["$nil?"]())===!1||$a===nil)&&((($a=self["$is_root?"](jail))===!1||$a===nil)&&self.$raise($scope.SecurityError,"Jail is not an absolute path: "+jail),jail=self.$posixfy(jail)),($a=target.$to_s()["$empty?"]())!==!1&&$a!==nil?target_segments=[]:($a=$opal.to_ary(self.$partition_path(target)),target_segments=null==$a[0]?nil:$a[0],target_root=null==$a[1]?nil:$a[1],_=null==$a[2]?nil:$a[2]),($a=target_segments["$empty?"]())!==!1&&$a!==nil){if(($a=start.$to_s()["$empty?"]())!==!1&&$a!==nil)return function(){return($a=jail["$nil?"]())!==!1&&$a!==nil?self.working_dir:jail}();if(($a=self["$is_root?"](start))===!1||$a===nil)return self.$system_path(start,jail,jail);if(($a=jail["$nil?"]())!==!1&&$a!==nil)return self.$expand_path(start)}return($a=($b=target_root!==!1&&target_root!==nil)?($c=target_root["$=="]($scope.DOT),$c===nil||$c===!1):$b)!==!1&&$a!==nil&&(resolved_target=self.$join_path(target_segments,target_root),($a=($b=jail["$nil?"]())!==!1&&$b!==nil?$b:resolved_target["$start_with?"](jail))!==!1&&$a!==nil)?resolved_target:(start=($a=start.$to_s()["$empty?"]())!==!1&&$a!==nil?function(){return($a=jail["$nil?"]())!==!1&&$a!==nil?self.working_dir:jail}():($a=self["$is_root?"](start))!==!1&&$a!==nil?self.$posixfy(start):self.$system_path(start,jail,jail),jail["$=="](start)?($a=$opal.to_ary(self.$partition_path(jail)),jail_segments=null==$a[0]?nil:$a[0],jail_root=null==$a[1]?nil:$a[1],_=null==$a[2]?nil:$a[2],start_segments=jail_segments.$dup()):($b=jail["$nil?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil?($b=start["$start_with?"](jail),($a=$b===nil||$b===!1)!=!1&&$a!==nil&&self.$raise($scope.SecurityError,""+(($a=opts["$[]"]("target_name"))!==!1&&$a!==nil?$a:"Start path")+" "+start+" is outside of jail: "+jail+" (disallowed in safe mode)"),$a=$opal.to_ary(self.$partition_path(start)),start_segments=null==$a[0]?nil:$a[0],start_root=null==$a[1]?nil:$a[1],_=null==$a[2]?nil:$a[2],$a=$opal.to_ary(self.$partition_path(jail)),jail_segments=null==$a[0]?nil:$a[0],jail_root=null==$a[1]?nil:$a[1],_=null==$a[2]?nil:$a[2]):($a=$opal.to_ary(self.$partition_path(start)),start_segments=null==$a[0]?nil:$a[0],start_root=null==$a[1]?nil:$a[1],_=null==$a[2]?nil:$a[2],jail_root=start_root)),resolved_segments=start_segments.$dup(),warned=!1,($a=($b=target_segments).$each,$a._p=(TMP_1=function(segment){var $a,$b,self=TMP_1._s||this;return null==segment&&(segment=nil),segment["$=="]($scope.DOT_DOT)?($b=jail["$nil?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil?resolved_segments.$length()["$>"](jail_segments.$length())?resolved_segments.$pop():($b=recover,($a=$b===nil||$b===!1)!=!1&&$a!==nil?self.$raise($scope.SecurityError,""+(($a=opts["$[]"]("target_name"))!==!1&&$a!==nil?$a:"path")+" "+target+" refers to location outside jail: "+jail+" (disallowed in safe mode)"):($b=warned,($a=$b===nil||$b===!1)!=!1&&$a!==nil?(self.$warn("asciidoctor: WARNING: "+(($a=opts["$[]"]("target_name"))!==!1&&$a!==nil?$a:"path")+" has illegal reference to ancestor of jail, auto-recovering"),warned=!0):nil)):resolved_segments.$pop()):resolved_segments.$push(segment)},TMP_1._s=self,TMP_1),$a).call($b),self.$join_path(resolved_segments,jail_root))},def.$web_path=function(target,start){var $a,$b,TMP_2,self=this,uri_prefix=nil,target_segments=nil,target_root=nil,_=nil,resolved_segments=nil;return null==start&&(start=nil),target=self.$posixfy(target),start=self.$posixfy(start),uri_prefix=nil,(($a=($b=self["$is_web_root?"](target))!==!1&&$b!==nil?$b:start["$empty?"]())===!1||$a===nil)&&(target=""+start+$scope.SLASH+target,$b=target["$include?"](":"),($a=$b!==!1&&$b!==nil?target.$match($scope.Asciidoctor._scope.REGEXP["$[]"]("uri_sniff")):$b)!==!1&&$a!==nil&&(uri_prefix=$gvars["~"]["$[]"](0),target=target["$[]"]($range(uri_prefix.$length(),-1,!1)))),$a=$opal.to_ary(self.$partition_path(target,!0)),target_segments=null==$a[0]?nil:$a[0],target_root=null==$a[1]?nil:$a[1],_=null==$a[2]?nil:$a[2],resolved_segments=($a=($b=target_segments).$inject,$a._p=(TMP_2=function(accum,segment){{var $a,$b,$c;TMP_2._s||this}return null==accum&&(accum=nil),null==segment&&(segment=nil),segment["$=="]($scope.DOT_DOT)?($a=accum["$empty?"]())!==!1&&$a!==nil?(($a=($b=target_root!==!1&&target_root!==nil)?($c=target_root["$=="]($scope.DOT),$c===nil||$c===!1):$b)===!1||$a===nil)&&accum.$push(segment):accum["$[]"](-1)["$=="]($scope.DOT_DOT)?accum.$push(segment):accum.$pop():accum.$push(segment),accum},TMP_2._s=self,TMP_2),$a).call($b,[]),($a=uri_prefix["$nil?"]())!==!1&&$a!==nil?self.$join_path(resolved_segments,target_root):""+uri_prefix+self.$join_path(resolved_segments,target_root)},def.$relative_path=function(filename,base_directory){var $a,$b,self=this,offset=nil;return $b=self["$is_root?"](filename),($a=$b!==!1&&$b!==nil?self["$is_root?"](base_directory):$b)!==!1&&$a!==nil?(offset=base_directory.$chomp(self.file_separator).$length()["$+"](1),filename["$[]"]($range(offset,-1,!1))):filename},nil}(self,null)}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$breaker=$opal.breaker,$slice=$opal.slice,$module=$opal.module,$klass=$opal.klass,$hash2=$opal.hash2,$range=$opal.range;return function($base){var self=$module($base,"Asciidoctor"),$scope=(self._proto,self._scope);!function($base,$super){function $Reader(){}var TMP_4,self=$Reader=$klass($base,$super,"Reader",$Reader),def=$Reader._proto,$scope=$Reader._scope;return def.file=def.dir=def.lines=def.process_lines=def.look_ahead=def.eof=def.unescape_next_line=def.lineno=def.path=def.source_lines=nil,function($base,$super){function $Cursor(){}{var self=$Cursor=$klass($base,$super,"Cursor",$Cursor),def=$Cursor._proto;$Cursor._scope}return self.$attr_accessor("file"),self.$attr_accessor("dir"),self.$attr_accessor("path"),self.$attr_accessor("lineno"),def.$initialize=function(file,dir,path,lineno){var self=this;return null==dir&&(dir=nil),null==path&&(path=nil),null==lineno&&(lineno=nil),self.file=file,self.dir=dir,self.path=path,self.lineno=lineno},def.$line_info=function(){var self=this;return""+self.$path()+": line "+self.$lineno()},nil}(self,null),self.$attr_reader("file"),self.$attr_reader("dir"),self.$attr_reader("path"),self.$attr_reader("lineno"),self.$attr_reader("source_lines"),self.$attr_accessor("process_lines"),def.$initialize=function(data,cursor,opts){var $a,self=this;return null==data&&(data=nil),null==cursor&&(cursor=nil),null==opts&&(opts=$hash2(["normalize"],{normalize:!1})),($a=cursor["$nil?"]())!==!1&&$a!==nil?(self.file=self.dir=nil,self.path="<stdin>",self.lineno=1):($a=cursor["$is_a?"]($scope.String))!==!1&&$a!==nil?(self.file=cursor,self.dir=$scope.File.$dirname(self.file),self.path=$scope.File.$basename(self.file),self.lineno=1):(self.file=cursor.$file(),self.dir=cursor.$dir(),self.path=($a=cursor.$path())!==!1&&$a!==nil?$a:"<stdin>",(($a=self.file["$nil?"]())===!1||$a===nil)&&(($a=self.dir["$nil?"]())!==!1&&$a!==nil&&(self.dir=$scope.File.$dirname(self.file),self.dir["$=="](".")&&(self.dir=nil)),($a=cursor.$path()["$nil?"]())!==!1&&$a!==nil&&(self.path=$scope.File.$basename(self.file))),self.lineno=($a=cursor.$lineno())!==!1&&$a!==nil?$a:1),self.lines=function(){return($a=data["$nil?"]())!==!1&&$a!==nil?[]:self.$prepare_lines(data,opts)}(),self.source_lines=self.lines.$dup(),self.eof=self.lines["$empty?"](),self.look_ahead=0,self.process_lines=!0,self.unescape_next_line=!1},def.$prepare_lines=function(data,opts){var $a,$b;return null==opts&&(opts=$hash2([],{})),($a=data["$is_a?"](null==($b=$opal.Object._scope.String)?$opal.cm("String"):$b))!==!1&&$a!==nil?($a=opts["$[]"]("normalize"))!==!1&&$a!==nil?$scope.Helpers.$normalize_lines_from_string(data):data.$each_line().$to_a():($a=opts["$[]"]("normalize"))!==!1&&$a!==nil?$scope.Helpers.$normalize_lines_array(data):data.$dup()},def.$process_line=function(line){var $a,self=this;return($a=self.process_lines)!==!1&&$a!==nil&&(self.look_ahead=self.look_ahead["$+"](1)),line},def["$has_more_lines?"]=function(){var $a,$b,self=this;return $a=($b=self.eof)!==!1&&$b!==nil?$b:self.eof=self.$peek_line()["$nil?"](),$a===nil||$a===!1},def["$next_line_empty?"]=function(){var $a,self=this,line=nil;return($a=(line=self.$peek_line())["$nil?"]())!==!1&&$a!==nil?$a:line["$empty?"]()},def.$peek_line=function(direct){var $a,$b,self=this,line=nil;return null==direct&&(direct=!1),($a=($b=direct)!==!1&&$b!==nil?$b:self.look_ahead["$>"](0))!==!1&&$a!==nil?($a=self.unescape_next_line)!==!1&&$a!==nil?self.lines.$first()["$[]"]($range(1,-1,!1)):self.lines.$first():($a=($b=self.eof)!==!1&&$b!==nil?$b:self.lines["$empty?"]())!==!1&&$a!==nil?(self.eof=!0,self.look_ahead=0,nil):($a=(line=self.$process_line(self.lines.$first()))["$nil?"]())!==!1&&$a!==nil?self.$peek_line():line},def.$peek_lines=function(num,direct){var $a,$b,TMP_1,$c,TMP_2,self=this,old_look_ahead=nil,result=nil;return null==num&&(num=1),null==direct&&(direct=!0),old_look_ahead=self.look_ahead,result=[],($a=($b=$range(1,num,!1)).$each,$a._p=(TMP_1=function(){var $a,self=TMP_1._s||this,line=nil;return($a=line=self.$read_line(direct))!==!1&&$a!==nil?result["$<<"](line):($breaker.$v=nil,$breaker)},TMP_1._s=self,TMP_1),$a).call($b),(($a=result["$empty?"]())===!1||$a===nil)&&(($a=($c=result).$reverse_each,$a._p=(TMP_2=function(line){var self=TMP_2._s||this;return null==line&&(line=nil),self.$unshift(line)},TMP_2._s=self,TMP_2),$a).call($c),direct!==!1&&direct!==nil&&(self.look_ahead=old_look_ahead)),result},def.$read_line=function(direct){var $a,$b,$c,self=this;return null==direct&&(direct=!1),($a=($b=($c=direct)!==!1&&$c!==nil?$c:self.look_ahead["$>"](0))!==!1&&$b!==nil?$b:self["$has_more_lines?"]())!==!1&&$a!==nil?self.$shift():nil},def.$read_lines=function(){var $b,self=this,lines=nil;for(lines=[];($b=self["$has_more_lines?"]())!==!1&&$b!==nil;)lines["$<<"](self.$read_line());return lines},$opal.defn(self,"$readlines",def.$read_lines),def.$read=function(){var self=this;return self.$read_lines()["$*"]($scope.EOL)},def.$advance=function(direct){var $a,self=this;return null==direct&&(direct=!0),$a=self.$read_line(direct)["$nil?"](),$a===nil||$a===!1},def.$unshift_line=function(line_to_restore){var self=this;return self.$unshift(line_to_restore),nil},$opal.defn(self,"$restore_line",def.$unshift_line),def.$unshift_lines=function(lines_to_restore){var $a,$b,TMP_3,self=this;return($a=($b=lines_to_restore).$reverse_each,$a._p=(TMP_3=function(line){var self=TMP_3._s||this;return null==line&&(line=nil),self.$unshift(line)},TMP_3._s=self,TMP_3),$a).call($b),nil},$opal.defn(self,"$restore_lines",def.$unshift_lines),def.$replace_line=function(replacement){var self=this;return self.$advance(),self.$unshift(replacement),nil},def.$skip_blank_lines=function(){var $a,$b,self=this,num_skipped=nil,next_line=nil;if(($a=self["$eof?"]())!==!1&&$a!==nil)return 0;for(num_skipped=0;($b=next_line=self.$peek_line())!==!1&&$b!==nil;){if(($b=next_line["$empty?"]())===!1||$b===nil)return num_skipped;self.$advance(),num_skipped=num_skipped["$+"](1)}return num_skipped},def.$skip_comment_lines=function(opts){var $a,$b,$c,$d,self=this,comment_lines=nil,include_blank_lines=nil,next_line=nil,commentish=nil,match=nil;if(null==opts&&(opts=$hash2([],{})),($a=self["$eof?"]())!==!1&&$a!==nil)return[];for(comment_lines=[],include_blank_lines=opts["$[]"]("include_blank_lines");($b=next_line=self.$peek_line())!==!1&&$b!==nil;)if(($b=($c=include_blank_lines!==!1&&include_blank_lines!==nil)?next_line["$empty?"]():$c)!==!1&&$b!==nil)comment_lines["$<<"](self.$read_line());else if($c=commentish=next_line["$start_with?"]("//"),($b=$c!==!1&&$c!==nil?match=next_line.$match($scope.REGEXP["$[]"]("comment_blk")):$c)!==!1&&$b!==nil)comment_lines["$<<"](self.$read_line()),($b=comment_lines).$push.apply($b,[].concat(self.$read_lines_until($hash2(["terminator","read_last_line","skip_processing"],{terminator:match["$[]"](0),read_last_line:!0,skip_processing:!0}))));else{if(($c=($d=commentish!==!1&&commentish!==nil)?next_line.$match($scope.REGEXP["$[]"]("comment")):$d)===!1||$c===nil)break;comment_lines["$<<"](self.$read_line())}return comment_lines},def.$skip_line_comments=function(){var $a,$b,self=this,comment_lines=nil,next_line=nil;if(($a=self["$eof?"]())!==!1&&$a!==nil)return[];for(comment_lines=[];($b=next_line=self.$peek_line())!==!1&&$b!==nil&&($b=next_line.$match($scope.REGEXP["$[]"]("comment")))!==!1&&$b!==nil;)comment_lines["$<<"](self.$read_line());return comment_lines},def.$terminate=function(){var self=this;return self.lineno=self.lineno["$+"](self.lines.$size()),self.lines.$clear(),self.eof=!0,self.look_ahead=0,nil},def["$eof?"]=function(){var $a,self=this;return $a=self["$has_more_lines?"](),$a===nil||$a===!1},$opal.defn(self,"$empty?",def["$eof?"]),def.$read_lines_until=TMP_4=function(options){var $a,$b,$c,$d,$e,self=this,$iter=TMP_4._p,$yield=$iter||nil,result=nil,restore_process_lines=nil,has_block=nil,terminator=nil,break_on_blank_lines=nil,break_on_list_continuation=nil,skip_line_comments=nil,line_read=nil,line_restored=nil,complete=nil,line=nil;for(null==options&&(options=$hash2([],{})),TMP_4._p=null,result=[],($a=options["$[]"]("skip_first_line"))!==!1&&$a!==nil&&self.$advance(),$b=self.process_lines,($a=$b!==!1&&$b!==nil?options["$[]"]("skip_processing"):$b)!==!1&&$a!==nil?(self.process_lines=!1,restore_process_lines=!0):restore_process_lines=!1,has_block=$yield!==nil,($a=terminator=options["$[]"]("terminator"))!==!1&&$a!==nil?(break_on_blank_lines=!1,break_on_list_continuation=!1):(break_on_blank_lines=options["$[]"]("break_on_blank_lines"),break_on_list_continuation=options["$[]"]("break_on_list_continuation")),skip_line_comments=options["$[]"]("skip_line_comments"),line_read=!1,line_restored=!1,complete=!1;$d=complete,$c=$d===nil||$d===!1,($b=$c!==!1&&$c!==nil?line=self.$read_line():$c)!==!1&&$b!==nil;)complete=function(){for(;($c=!0)!=!1&&$c!==nil;)return($c=($d=terminator!==!1&&terminator!==nil)?line["$=="](terminator):$d)!==!1&&$c!==nil?!0:($c=($d=break_on_blank_lines!==!1&&break_on_blank_lines!==nil)?line["$empty?"]():$d)!==!1&&$c!==nil?!0:($d=($e=break_on_list_continuation!==!1&&break_on_list_continuation!==nil)?line_read:$e,($c=$d!==!1&&$d!==nil?line["$=="]($scope.LIST_CONTINUATION):$d)!==!1&&$c!==nil?(options["$[]="]("preserve_last_line",!0),!0):($c=($d=has_block!==!1&&has_block!==nil)?($e=$opal.$yield1($yield,line))===$breaker?$breaker.$v:$e:$d)!==!1&&$c!==nil?!0:!1);return nil}(),complete!==!1&&complete!==nil?(($b=options["$[]"]("read_last_line"))!==!1&&$b!==nil&&(result["$<<"](line),line_read=!0),($b=options["$[]"]("preserve_last_line"))!==!1&&$b!==nil&&(self.$restore_line(line),line_restored=!0)):($c=($d=skip_line_comments!==!1&&skip_line_comments!==nil)?line["$start_with?"]("//"):$d,(($b=$c!==!1&&$c!==nil?line.$match($scope.REGEXP["$[]"]("comment")):$c)===!1||$b===nil)&&(result["$<<"](line),line_read=!0));return restore_process_lines!==!1&&restore_process_lines!==nil&&(self.process_lines=!0,($a=($b=line_restored!==!1&&line_restored!==nil)?terminator["$nil?"]():$b)!==!1&&$a!==nil&&(self.look_ahead=self.look_ahead["$-"](1))),result},def.$shift=function(){var $a,self=this;return self.lineno=self.lineno["$+"](1),(($a=self.look_ahead["$=="](0))===!1||$a===nil)&&(self.look_ahead=self.look_ahead["$-"](1)),self.lines.$shift()},def.$unshift=function(line){var self=this;return self.lineno=self.lineno["$-"](1),self.look_ahead=self.look_ahead["$+"](1),self.eof=!1,self.lines.$unshift(line)},def.$cursor=function(){var self=this;return $scope.Cursor.$new(self.file,self.dir,self.path,self.lineno)},def.$line_info=function(){var self=this;return""+self.path+": line "+self.lineno},$opal.defn(self,"$next_line_info",def.$line_info),def.$prev_line_info=function(){var self=this;return""+self.path+": line "+self.lineno["$-"](1)},def.$lines=function(){var self=this;return self.lines.$dup()},def.$string=function(){var self=this;return self.lines["$*"]($scope.EOL)},def.$source=function(){var self=this;return self.source_lines["$*"]($scope.EOL)},def.$to_s=function(){var self=this;return self.$line_info()},nil}(self,null),function($base,$super){function $PreprocessorReader(){}var TMP_5,TMP_6,TMP_7,TMP_20,self=$PreprocessorReader=$klass($base,$super,"PreprocessorReader",$PreprocessorReader),def=$PreprocessorReader._proto,$scope=$PreprocessorReader._scope;return def.document=def.lineno=def.process_lines=def.look_ahead=def.skipping=def.include_stack=def.conditional_stack=def.include_processors=def.maxdepth=def.dir=def.lines=def.file=def.path=def.includes=def.unescape_next_line=nil,self.$attr_reader("include_stack"),self.$attr_reader("includes"),def.$initialize=TMP_5=function(document,data,cursor){var $a,$b,$c,self=this,include_depth_default=(TMP_5._p,nil);return null==data&&(data=nil),null==cursor&&(cursor=nil),TMP_5._p=null,self.document=document,$opal.find_super_dispatcher(self,"initialize",TMP_5,null).apply(self,[data,cursor,$hash2(["normalize"],{normalize:!0})]),include_depth_default=document.$attributes().$fetch("max-include-depth",64).$to_i(),include_depth_default["$<"](0)&&(include_depth_default=0),self.maxdepth=$hash2(["abs","rel"],{abs:include_depth_default,rel:include_depth_default}),self.include_stack=[],self.includes=($a="includes",$b=document.$references(),($c=$b["$[]"]($a))!==!1&&$c!==nil?$c:$b["$[]="]($a,[])),self.skipping=!1,self.conditional_stack=[],self.include_processors=nil},def.$prepare_lines=TMP_6=function(data,opts){var $a,$b,$c,$d,$zuper=$slice.call(arguments,0),self=this,$iter=TMP_6._p,result=nil,front_matter=nil,first=nil,last=nil,indent=nil;if(null==opts&&(opts=$hash2([],{})),TMP_6._p=null,result=$opal.find_super_dispatcher(self,"prepare_lines",TMP_6,$iter).apply(self,$zuper),(($a=($b=self.document["$nil?"]())!==!1&&$b!==nil?$b:($c=self.document.$attributes()["$has_key?"]("skip-front-matter"),$c===nil||$c===!1))===!1||$a===nil)&&($a=front_matter=self["$skip_front_matter!"](result))!==!1&&$a!==nil&&self.document.$attributes()["$[]="]("front-matter",front_matter["$*"]($scope.EOL)),($a=opts.$fetch("condense",!0))!==!1&&$a!==nil){for(;$d=(first=result.$first())["$nil?"](),$c=$d===nil||$d===!1,($b=$c!==!1&&$c!==nil?first["$empty?"]():$c)!==!1&&$b!==nil;)$b=result.$shift(),$b!==!1&&$b!==nil?self.lineno=self.lineno["$+"](1):$b;for(;$d=(last=result.$last())["$nil?"](),$c=$d===nil||$d===!1,($b=$c!==!1&&$c!==nil?last["$empty?"]():$c)!==!1&&$b!==nil;)result.$pop()}return($a=indent=opts.$fetch("indent",nil))!==!1&&$a!==nil&&$scope.Lexer["$reset_block_indent!"](result,indent.$to_i()),result},def.$process_line=function(line){var $a,$b,$c,$d,self=this,macroish=nil,match=nil;return($a=self.process_lines)===!1||$a===nil?line:($a=line["$empty?"]())!==!1&&$a!==nil?(self.look_ahead=self.look_ahead["$+"](1),""):($a=line["$include?"]("::"),macroish=$a!==!1&&$a!==nil?line["$include?"]("["):$a,$b=($c=macroish!==!1&&macroish!==nil)?line["$include?"]("if"):$c,($a=$b!==!1&&$b!==nil?match=line.$match($scope.REGEXP["$[]"]("ifdef_macro")):$b)!==!1&&$a!==nil?($a=line["$start_with?"]("\\"))!==!1&&$a!==nil?(self.unescape_next_line=!0,self.look_ahead=self.look_ahead["$+"](1),line["$[]"]($range(1,-1,!1))):($a=($b=self).$preprocess_conditional_inclusion.apply($b,[].concat(match.$captures())))!==!1&&$a!==nil?(self.$advance(),nil):(self.look_ahead=self.look_ahead["$+"](1),line):($a=self.skipping)!==!1&&$a!==nil?(self.$advance(),nil):($c=($d=macroish!==!1&&macroish!==nil)?line["$include?"]("include::"):$d,($a=$c!==!1&&$c!==nil?match=line.$match($scope.REGEXP["$[]"]("include_macro")):$c)!==!1&&$a!==nil?($a=line["$start_with?"]("\\"))!==!1&&$a!==nil?(self.unescape_next_line=!0,self.look_ahead=self.look_ahead["$+"](1),line["$[]"]($range(1,-1,!1))):($a=self.$preprocess_include(match["$[]"](1),match["$[]"](2).$strip()))!==!1&&$a!==nil?nil:(self.look_ahead=self.look_ahead["$+"](1),line):(self.look_ahead=self.look_ahead["$+"](1),line)))},def.$peek_line=TMP_7=function(direct){var $a,$zuper=$slice.call(arguments,0),self=this,$iter=TMP_7._p,line=nil;return null==direct&&(direct=!1),TMP_7._p=null,($a=line=$opal.find_super_dispatcher(self,"peek_line",TMP_7,$iter).apply(self,$zuper))!==!1&&$a!==nil?line:($a=self.include_stack["$empty?"]())!==!1&&$a!==nil?nil:(self.$pop_include(),self.$peek_line(direct))},def.$preprocess_conditional_inclusion=function(directive,target,delimiter,text){var $a,$b,$c,$d,TMP_8,TMP_9,$e,TMP_10,TMP_11,$f,$g,self=this,stack_size=nil,pair=nil,skip=nil,$case=nil,expr_match=nil,lhs=nil,op=nil,rhs=nil,conditional_line=nil;if($c=($d=directive["$=="]("ifdef"))!==!1&&$d!==nil?$d:directive["$=="]("ifndef"),($a=($b=$c!==!1&&$c!==nil?target["$empty?"]():$c)!==!1&&$b!==nil?$b:($c=directive["$=="]("endif"))?($d=text["$nil?"](),$d===nil||$d===!1):$c)!==!1&&$a!==nil)return!1;if(directive["$=="]("endif"))return stack_size=self.conditional_stack.$size(),stack_size["$>"](0)?(pair=self.conditional_stack.$last(),($a=($b=target["$empty?"]())!==!1&&$b!==nil?$b:target["$=="](pair["$[]"]("target")))!==!1&&$a!==nil?(self.conditional_stack.$pop(),self.skipping=function(){return($a=self.conditional_stack["$empty?"]())!==!1&&$a!==nil?!1:self.conditional_stack.$last()["$[]"]("skipping")}()):self.$warn("asciidoctor: ERROR: "+self.$line_info()+": mismatched macro: endif::"+target+"[], expected endif::"+pair["$[]"]("target")+"[]")):self.$warn("asciidoctor: ERROR: "+self.$line_info()+": unmatched macro: endif::"+target+"[]"),!0;if(skip=!1,($a=self.skipping)===!1||$a===nil)if($case=directive,"ifdef"["$==="]($case))$case=delimiter,nil["$==="]($case)?($a=self.document.$attributes()["$has_key?"](target),skip=$a===nil||$a===!1):","["$==="]($case)?($a=($b=($c=target.$split(",")).$detect,$b._p=(TMP_8=function(name){var self=TMP_8._s||this;return null==self.document&&(self.document=nil),null==name&&(name=nil),self.document.$attributes()["$has_key?"](name)},TMP_8._s=self,TMP_8),$b).call($c),skip=$a===nil||$a===!1):"+"["$==="]($case)&&(skip=($a=($b=target.$split("+")).$detect,$a._p=(TMP_9=function(name){var $a,self=TMP_9._s||this;return null==self.document&&(self.document=nil),null==name&&(name=nil),$a=self.document.$attributes()["$has_key?"](name),$a===nil||$a===!1},TMP_9._s=self,TMP_9),$a).call($b));else if("ifndef"["$==="]($case))$case=delimiter,nil["$==="]($case)?skip=self.document.$attributes()["$has_key?"](target):","["$==="]($case)?($a=($d=($e=target.$split(",")).$detect,$d._p=(TMP_10=function(name){var $a,self=TMP_10._s||this;return null==self.document&&(self.document=nil),null==name&&(name=nil),$a=self.document.$attributes()["$has_key?"](name),$a===nil||$a===!1},TMP_10._s=self,TMP_10),$d).call($e),skip=$a===nil||$a===!1):"+"["$==="]($case)&&(skip=($a=($d=target.$split("+")).$detect,$a._p=(TMP_11=function(name){var self=TMP_11._s||this;return null==self.document&&(self.document=nil),null==name&&(name=nil),self.document.$attributes()["$has_key?"](name)},TMP_11._s=self,TMP_11),$a).call($d));else if("ifeval"["$==="]($case)){if($g=target["$empty?"](),($a=($f=$g===nil||$g===!1)!=!1&&$f!==nil?$f:($g=expr_match=text.$strip().$match($scope.REGEXP["$[]"]("eval_expr")),$g===nil||$g===!1))!==!1&&$a!==nil)return!1;lhs=self.$resolve_expr_val(expr_match["$[]"](1)),op=expr_match["$[]"](2),rhs=self.$resolve_expr_val(expr_match["$[]"](3)),$a=lhs.$send(op.$to_sym(),rhs),skip=$a===nil||$a===!1}if(($a=($f=directive["$=="]("ifeval"))!==!1&&$f!==nil?$f:text["$nil?"]())!==!1&&$a!==nil)skip!==!1&&skip!==nil&&(self.skipping=!0),self.conditional_stack["$<<"]($hash2(["target","skip","skipping"],{target:target,skip:skip,skipping:self.skipping}));else if(($a=($f=self.skipping)!==!1&&$f!==nil?$f:skip)===!1||$a===nil)return conditional_line=self.$peek_line(!0),self.$replace_line(text.$rstrip()),self.$unshift(conditional_line),!0;return!0},def.$preprocess_include=function(target,raw_attributes){var $a,$b,$c,$d,TMP_12,TMP_13,TMP_14,$e,TMP_16,$f,TMP_19,self=this,processor=nil,abs_maxdepth=nil,target_type=nil,include_file=nil,path=nil,inc_lines=nil,tags=nil,attributes=nil,selected=nil,inc_line_offset=nil,inc_lineno=nil,active_tag=nil,tags_found=nil,missing_tags=nil;if(target=self.document.$sub_attributes(target,$hash2(["attribute_missing"],{attribute_missing:"drop-line"})),($a=target["$empty?"]())!==!1&&$a!==nil)return self.document.$attributes().$fetch("attribute-missing",$scope.Compliance.$attribute_missing())["$=="]("skip")?!1:(self.$advance(),!0);if($b=self["$include_processors?"](),($a=$b!==!1&&$b!==nil?processor=($c=($d=self.include_processors).$find,$c._p=(TMP_12=function(candidate){TMP_12._s||this;return null==candidate&&(candidate=nil),candidate["$handles?"](target)},TMP_12._s=self,TMP_12),$c).call($d):$b)!==!1&&$a!==nil)return self.$advance(),processor.$process(self,target,$scope.AttributeList.$new(raw_attributes).$parse()),!0;if(self.document.$safe()["$>="]($scope.SafeMode._scope.SECURE))return self.$replace_line("link:"+target+"[]"),!0;if(($a=($b=(abs_maxdepth=self.maxdepth["$[]"]("abs"))["$>"](0))?self.include_stack.$size()["$>="](abs_maxdepth):$b)!==!1&&$a!==nil)return self.$warn("asciidoctor: ERROR: "+self.$line_info()+": maximum include depth of "+self.maxdepth["$[]"]("rel")+" exceeded"),!1;if(abs_maxdepth["$>"](0)){if($b=target["$include?"](":"),($a=$b!==!1&&$b!==nil?target.$match($scope.REGEXP["$[]"]("uri_sniff")):$b)!==!1&&$a!==nil){if(($a=self.document.$attributes()["$has_key?"]("allow-uri-read"))===!1||$a===nil)return self.$replace_line("link:"+target+"[]"),!0;target_type="uri",include_file=path=target,($a=self.document.$attributes()["$has_key?"]("cache-uri"))!==!1&&$a!==nil?$scope.Helpers.$require_library("open-uri/cached","open-uri-cached"):null==($a=$opal.Object._scope.OpenURI)?$opal.cm("OpenURI"):$a}else{if(target_type="file",include_file=self.document.$normalize_system_path(target,self.dir,nil,$hash2(["target_name"],{target_name:"include file"})),$b=$scope.File["$file?"](include_file),($a=$b===nil||$b===!1)!=!1&&$a!==nil)return self.$warn("asciidoctor: WARNING: "+self.$line_info()+": include file not found: "+include_file),self.$advance(),!0;path=$scope.PathResolver.$new().$relative_path(include_file,self.document.$base_dir())}if(inc_lines=nil,tags=nil,attributes=$hash2([],{}),$b=raw_attributes["$empty?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil&&(attributes=$scope.AttributeList.$new(raw_attributes).$parse(),($a=attributes["$has_key?"]("lines"))!==!1&&$a!==nil?(inc_lines=[],($a=($b=attributes["$[]"]("lines").$split($scope.REGEXP["$[]"]("ssv_or_csv_delim"))).$each,$a._p=(TMP_13=function(linedef){var $a,$b,$c,from=(TMP_13._s||this,nil),to=nil;return null==linedef&&(linedef=nil),($a=linedef["$include?"](".."))!==!1&&$a!==nil?($a=$opal.to_ary(($b=($c=linedef.$split("..")).$map,$b._p="to_i".$to_proc(),$b).call($c)),from=null==$a[0]?nil:$a[0],to=null==$a[1]?nil:$a[1],to["$=="](-1)?(inc_lines["$<<"](from),inc_lines["$<<"](1["$/"](0))):inc_lines.$concat($scope.Range.$new(from,to).$to_a())):inc_lines["$<<"](linedef.$to_i())},TMP_13._s=self,TMP_13),$a).call($b),inc_lines=inc_lines.$sort().$uniq()):($a=attributes["$has_key?"]("tag"))!==!1&&$a!==nil?tags=[attributes["$[]"]("tag")].$to_set():($a=attributes["$has_key?"]("tags"))!==!1&&$a!==nil&&(tags=attributes["$[]"]("tags").$split($scope.REGEXP["$[]"]("ssv_or_csv_delim")).$uniq().$to_set())),$c=inc_lines["$nil?"](),($a=$c===nil||$c===!1)!=!1&&$a!==nil){if($c=inc_lines["$empty?"](),($a=$c===nil||$c===!1)!=!1&&$a!==nil){selected=[],inc_line_offset=0,inc_lineno=0;
try{($a=($c=self).$open,$a._p=(TMP_14=function(f){var $a,$b,TMP_15,self=TMP_14._s||this;return null==f&&(f=nil),($a=($b=f).$each_line,$a._p=(TMP_15=function(l){var $a,$b,take=(TMP_15._s||this,nil);return null==l&&(l=nil),inc_lineno=inc_lineno["$+"](1),take=inc_lines.$first(),$b=take["$is_a?"]($scope.Float),($a=$b!==!1&&$b!==nil?take["$infinite?"]():$b)!==!1&&$a!==nil?(selected.$push(l),inc_line_offset["$=="](0)?inc_line_offset=inc_lineno:nil):(f.$lineno()["$=="](take)&&(selected.$push(l),inc_line_offset["$=="](0)&&(inc_line_offset=inc_lineno),inc_lines.$shift()),($a=inc_lines["$empty?"]())!==!1&&$a!==nil?($breaker.$v=nil,$breaker):nil)},TMP_15._s=self,TMP_15),$a).call($b)},TMP_14._s=self,TMP_14),$a).call($c,include_file,"r")}catch($err){return self.$warn("asciidoctor: WARNING: "+self.$line_info()+": include "+target_type+" not readable: "+include_file),self.$advance(),!0}self.$advance(),self.$push_include(selected,include_file,path,inc_line_offset,attributes)}}else if($e=tags["$nil?"](),($a=$e===nil||$e===!1)!=!1&&$a!==nil){if($e=tags["$empty?"](),($a=$e===nil||$e===!1)!=!1&&$a!==nil){selected=[],inc_line_offset=0,inc_lineno=0,active_tag=nil,tags_found=$scope.Set.$new();try{($a=($e=self).$open,$a._p=(TMP_16=function(f){var $a,$b,TMP_17,self=TMP_16._s||this;return null==f&&(f=nil),($a=($b=f).$each_line,$a._p=(TMP_17=function(l){var $a,$b,TMP_18,self=TMP_17._s||this;return null==l&&(l=nil),inc_lineno=inc_lineno["$+"](1),($a=$scope.FORCE_ENCODING)!==!1&&$a!==nil&&l.$force_encoding((null==($a=$opal.Object._scope.Encoding)?$opal.cm("Encoding"):$a)._scope.UTF_8),$b=active_tag["$nil?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil?($a=l["$include?"]("end::"+active_tag+"[]"))!==!1&&$a!==nil?active_tag=nil:(selected.$push(l),inc_line_offset["$=="](0)?inc_line_offset=inc_lineno:nil):($a=($b=tags).$each,$a._p=(TMP_18=function(tag){{var $a;TMP_18._s||this}return null==tag&&(tag=nil),($a=l["$include?"]("tag::"+tag+"[]"))!==!1&&$a!==nil?(active_tag=tag,tags_found["$<<"](tag),$breaker.$v=nil,$breaker):nil},TMP_18._s=self,TMP_18),$a).call($b)},TMP_17._s=self,TMP_17),$a).call($b)},TMP_16._s=self,TMP_16),$a).call($e,include_file,"r")}catch($err){return self.$warn("asciidoctor: WARNING: "+self.$line_info()+": include "+target_type+" not readable: "+include_file),self.$advance(),!0}(($a=(missing_tags=tags["$-"](tags_found))["$empty?"]())===!1||$a===nil)&&self.$warn("asciidoctor: WARNING: "+self.$line_info()+": tag"+function(){return missing_tags.$size()["$>"](1)?"s":nil}()+" '"+missing_tags.$to_a()["$*"](",")+"' not found in include "+target_type+": "+include_file),self.$advance(),self.$push_include(selected,include_file,path,inc_line_offset,attributes)}}else try{self.$advance(),self.$push_include(($a=($f=self).$open,$a._p=(TMP_19=function(f){TMP_19._s||this;return null==f&&(f=nil),f.$read()},TMP_19._s=self,TMP_19),$a).call($f,include_file,"r"),include_file,path,1,attributes)}catch($err){return self.$warn("asciidoctor: WARNING: "+self.$line_info()+": include "+target_type+" not readable: "+include_file),self.$advance(),!0}return!0}return!1},def.$push_include=function(data,file,path,lineno,attributes){var $a,self=this,depth=nil;return null==file&&(file=nil),null==path&&(path=nil),null==lineno&&(lineno=1),null==attributes&&(attributes=$hash2([],{})),self.include_stack["$<<"]([self.lines,self.file,self.dir,self.path,self.lineno,self.maxdepth,self.process_lines]),self.includes["$<<"]($scope.Helpers.$rootname(path)),self.file=file,self.dir=$scope.File.$dirname(file),self.path=path,self.lineno=lineno,self.process_lines=$scope.ASCIIDOC_EXTENSIONS["$[]"]($scope.File.$extname(self.file)),($a=attributes["$has_key?"]("depth"))!==!1&&$a!==nil&&(depth=attributes["$[]"]("depth").$to_i(),depth["$<="](0)&&(depth=1),self.maxdepth=$hash2(["abs","rel"],{abs:self.include_stack.$size()["$-"](1)["$+"](depth),rel:depth})),self.lines=self.$prepare_lines(data,$hash2(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:attributes["$[]"]("indent")})),($a=self.lines["$empty?"]())!==!1&&$a!==nil?self.$pop_include():(self.eof=!1,self.look_ahead=0),nil},def.$pop_include=function(){var $a,self=this;return self.include_stack.$size()["$>"](0)&&($a=$opal.to_ary(self.include_stack.$pop()),self.lines=null==$a[0]?nil:$a[0],self.file=null==$a[1]?nil:$a[1],self.dir=null==$a[2]?nil:$a[2],self.path=null==$a[3]?nil:$a[3],self.lineno=null==$a[4]?nil:$a[4],self.maxdepth=null==$a[5]?nil:$a[5],self.process_lines=null==$a[6]?nil:$a[6],self.eof=self.lines["$empty?"](),self.look_ahead=0),nil},def.$include_depth=function(){var self=this;return self.include_stack.$size()},def["$exceeded_max_depth?"]=function(){var $a,$b,self=this,abs_maxdepth=nil;return($a=($b=(abs_maxdepth=self.maxdepth["$[]"]("abs"))["$>"](0))?self.include_stack.$size()["$>="](abs_maxdepth):$b)!==!1&&$a!==nil?self.maxdepth["$[]"]("rel"):!1},def.$shift=TMP_20=function(){var $a,$zuper=$slice.call(arguments,0),self=this,$iter=TMP_20._p;return TMP_20._p=null,($a=self.unescape_next_line)!==!1&&$a!==nil?(self.unescape_next_line=!1,$opal.find_super_dispatcher(self,"shift",TMP_20,$iter).apply(self,$zuper)["$[]"]($range(1,-1,!1))):$opal.find_super_dispatcher(self,"shift",TMP_20,$iter).apply(self,$zuper)},def["$skip_front_matter!"]=function(data,increment_linenos){var $a,$b,$c,$d,self=this,front_matter=nil,original_data=nil;if(null==increment_linenos&&(increment_linenos=!0),front_matter=nil,($a=($b=data.$size()["$>"](0))?data.$first()["$=="]("---"):$b)!==!1&&$a!==nil){for(original_data=data.$dup(),front_matter=[],data.$shift(),increment_linenos!==!1&&increment_linenos!==nil&&(self.lineno=self.lineno["$+"](1));$d=data["$empty?"](),$c=$d===nil||$d===!1,($b=$c!==!1&&$c!==nil?($d=data.$first()["$=="]("---"),$d===nil||$d===!1):$c)!==!1&&$b!==nil;)front_matter.$push(data.$shift()),increment_linenos!==!1&&increment_linenos!==nil&&(self.lineno=self.lineno["$+"](1));($a=data["$empty?"]())!==!1&&$a!==nil?(($a=data).$unshift.apply($a,[].concat(original_data)),increment_linenos!==!1&&increment_linenos!==nil&&(self.lineno=0),front_matter=nil):(data.$shift(),increment_linenos!==!1&&increment_linenos!==nil&&(self.lineno=self.lineno["$+"](1)))}return front_matter},def.$resolve_expr_val=function(str){var $a,$b,$c,self=this,val=nil,type=nil;return val=str,type=nil,$c=val["$start_with?"]('"'),($a=($b=$c!==!1&&$c!==nil?val["$end_with?"]('"'):$c)!==!1&&$b!==nil?$b:($c=val["$start_with?"]("'"),$c!==!1&&$c!==nil?val["$end_with?"]("'"):$c))!==!1&&$a!==nil&&(type="string",val=val["$[]"]($range(1,-1,!0))),($a=val["$include?"]("{"))!==!1&&$a!==nil&&(val=self.document.$sub_attributes(val)),(($a=type["$=="]("string"))===!1||$a===nil)&&(val=($a=val["$empty?"]())!==!1&&$a!==nil?nil:($a=val.$strip()["$empty?"]())!==!1&&$a!==nil?" ":val["$=="]("true")?!0:val["$=="]("false")?!1:($a=val["$include?"]("."))!==!1&&$a!==nil?val.$to_f():val.$to_i()),val},def["$include_processors?"]=function(){var $a,$b,self=this;return($a=self.include_processors["$nil?"]())!==!1&&$a!==nil?($b=self.document["$extensions?"](),($a=$b!==!1&&$b!==nil?self.document.$extensions()["$include_processors?"]():$b)!==!1&&$a!==nil?(self.include_processors=self.document.$extensions().$load_include_processors(self.document),!0):(self.include_processors=!1,!1)):($a=self.include_processors["$=="](!1),$a===nil||$a===!1)},def.$to_s=function(){var $a,$b,TMP_21,self=this;return""+self.$class().$name()+" [path: "+self.path+", line #: "+self.lineno+", include depth: "+self.include_stack.$size()+", include stack: ["+($a=($b=self.include_stack).$map,$a._p=(TMP_21=function(inc){TMP_21._s||this;return null==inc&&(inc=nil),inc.$to_s()},TMP_21._s=self,TMP_21),$a).call($b).$join(", ")+"]]"},nil}(self,$scope.Reader)}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$module=($opal.breaker,$opal.slice,$opal.module),$klass=$opal.klass,$hash2=$opal.hash2;return function($base){{var self=$module($base,"Asciidoctor");self._proto,self._scope}!function($base,$super){function $BaseTemplate(){}var self=$BaseTemplate=$klass($base,$super,"BaseTemplate",$BaseTemplate),def=$BaseTemplate._proto,$scope=$BaseTemplate._scope;return def.view=nil,self.$attr_reader("view"),self.$attr_reader("backend"),self.$attr_reader("eruby"),def.$initialize=function(view,backend,eruby){var self=this;return self.view=view,self.backend=backend,self.eruby=eruby},$opal.defs(self,"$inherited",function(klass){var $a,self=this;return null==self.template_classes&&(self.template_classes=nil),self["$=="]($scope.BaseTemplate)?(($a=self.template_classes)!==!1&&$a!==nil?$a:self.template_classes=[],self.template_classes["$<<"](klass)):self.$superclass().$inherited(klass)}),$opal.defs(self,"$template_classes",function(){var self=this;return null==self.template_classes&&(self.template_classes=nil),self.template_classes}),def.$render=function(node,locals){var $a,$b,$c,$d,self=this,tmpl=nil,$case=nil,result=nil;return null==node&&(node=$scope.Object.$new()),null==locals&&(locals=$hash2([],{})),tmpl=self.$template(),$case=tmpl,"invoke_result"["$==="]($case)?self.$result(node):(result="content"["$==="]($case)?node.$content():tmpl.$result(node.$get_binding(self)),$c=($d=self.view["$=="]("document"))!==!1&&$d!==nil?$d:self.view["$=="]("embedded"),$b=$c!==!1&&$c!==nil?node.$renderer().$compact():$c,($a=$b!==!1&&$b!==nil?($c=node.$document()["$nested?"](),$c===nil||$c===!1):$b)!==!1&&$a!==nil?self.$compact(result):result)},def.$compact=function(str){return str.$gsub($scope.BLANK_LINE_PATTERN,"").$gsub($scope.LINE_FEED_ENTITY,$scope.EOL)},def.$preserve_endlines=function(str,node){var $a;return($a=node.$renderer().$compact())!==!1&&$a!==nil?str.$gsub($scope.EOL,$scope.LINE_FEED_ENTITY):str},def.$template=function(){var self=this;return self.$raise("You chilluns need to make your own template")},def.$attribute=function(name,key){var $a,type=nil;return type=function(){return($a=key["$is_a?"]($scope.Symbol))!==!1&&$a!==nil?"attr":"var"}(),type["$=="]("attr")?"<% if attr? '"+key+"' %> "+name+"=\"<%= attr '"+key+"' %>\"<% end %>":"<% if "+key+" %> "+name+'="<%= '+key+' %>"<% end %>'},nil}(self,null),function($base){{var self=$module($base,"EmptyTemplate"),def=self._proto;self._scope}def.$result=function(){return""},def.$template=function(){return"invoke_result"},$opal.donate(self,["$result","$template"])}(self)}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$breaker=$opal.breaker,$slice=$opal.slice,$module=$opal.module,$klass=$opal.klass,$hash2=$opal.hash2;return function($base){{var self=$module($base,"Asciidoctor");self._proto,self._scope}!function($base,$super){function $Renderer(){}var self=$Renderer=$klass($base,$super,"Renderer",$Renderer),def=$Renderer._proto,$scope=$Renderer._scope;return def.views=def.chomp_result=nil,$opal.cdecl($scope,"RE_ASCIIDOCTOR_NAMESPACE",/^Asciidoctor::/),$opal.cdecl($scope,"RE_TEMPLATE_CLASS_SUFFIX",/Template$/),$opal.cdecl($scope,"RE_CAMELCASE_BOUNDARY_1",/([[:upper:]]+)([[:upper:]][a-zA-Z])/),$opal.cdecl($scope,"RE_CAMELCASE_BOUNDARY_2",/([[:lower:]])([[:upper:]])/),self.$attr_reader("compact"),self.$attr_reader("cache"),$opal.cvars["@@global_cache"]=nil,def.$initialize=function(options){var $a,$b,TMP_1,$c,TMP_2,$d,TMP_3,$e,TMP_4,self=this,backend=nil,$case=nil,eruby=nil,template_dirs=nil,template_cache=nil,view_opts=nil,slim_loaded=nil,path_resolver=nil,engine=nil;return null==options&&(options=$hash2([],{})),self.debug=($b=options["$[]"]("debug"),$a=$b===nil||$b===!1,$a===nil||$a===!1),self.views=$hash2([],{}),self.compact=options["$[]"]("compact"),self.cache=nil,self.chomp_result=!1,backend=options["$[]"]("backend"),($a=null==($b=$opal.Object._scope.RUBY_ENGINE_OPAL)?$opal.cm("RUBY_ENGINE_OPAL"):$b)!==!1&&$a!==nil?(($a=($b=(null==($c=$opal.Object._scope.Template)?$opal.cm("Template"):$c).$instance_variable_get("@_cache")).$each,$a._p=(TMP_1=function(path,tmpl){var self=TMP_1._s||this;return null==self.views&&(self.views=nil),null==path&&(path=nil),null==tmpl&&(tmpl=nil),self.views["$[]="]($scope.File.$basename(path),tmpl)},TMP_1._s=self,TMP_1),$a).call($b),nil):($case=backend,"html5"["$==="]($case)||"docbook45"["$==="]($case)||"docbook5"["$==="]($case)?(eruby=self.$load_eruby(options["$[]"]("eruby")),($a=($c=$scope.BaseTemplate.$template_classes()).$each,$a._p=(TMP_2=function(tc){var $a,self=TMP_2._s||this,view_name=nil,view_backend=nil;return null==self.views&&(self.views=nil),null==tc&&(tc=nil),($a=tc.$to_s().$downcase()["$include?"]("::"["$+"](backend)["$+"]("::")))!==!1&&$a!==nil?($a=$opal.to_ary(self.$class().$extract_view_mapping(tc)),view_name=null==$a[0]?nil:$a[0],view_backend=null==$a[1]?nil:$a[1],view_backend["$=="](backend)?self.views["$[]="](view_name,tc.$new(view_name,backend,eruby)):nil):nil},TMP_2._s=self,TMP_2),$a).call($c)):($a=($d=$scope.Debug).$debug,$a._p=(TMP_3=function(){TMP_3._s||this;return"No built-in templates for backend: "+backend},TMP_3._s=self,TMP_3),$a).call($d),($a=template_dirs=options.$delete("template_dirs"))!==!1&&$a!==nil?($scope.Helpers.$require_library("tilt"),self.chomp_result=!0,($a=(template_cache=options["$[]"]("template_cache"))["$==="](!0))!==!1&&$a!==nil?self.cache=($a=null==($e=$opal.cvars["@@global_cache"])?nil:$e)!==!1&&$a!==nil?$a:$opal.cvars["@@global_cache"]=$scope.TemplateCache.$new():template_cache!==!1&&template_cache!==nil&&(self.cache=template_cache),view_opts=$hash2(["erb","haml","slim"],{erb:$hash2(["trim"],{trim:"<"}),haml:$hash2(["format","attr_wrapper","ugly","escape_attrs"],{format:"xhtml",attr_wrapper:'"',ugly:!0,escape_attrs:!1}),slim:$hash2(["disable_escape","sort_attrs","pretty"],{disable_escape:!0,sort_attrs:!1,pretty:!1})}),options["$[]"]("htmlsyntax")["$=="]("html")&&view_opts["$[]"]("haml")["$[]="]("format",view_opts["$[]"]("slim")["$[]="]("format","html5")),slim_loaded=!1,path_resolver=$scope.PathResolver.$new(),engine=options["$[]"]("template_engine"),($a=($e=template_dirs).$each,$a._p=(TMP_4=function(template_dir){var $a,$b,TMP_5,$c,$d,TMP_7,self=TMP_4._s||this,template_glob=nil,helpers=nil,scan_result=nil;return null==self.cache&&(self.cache=nil),null==self.views&&(self.views=nil),null==template_dir&&(template_dir=nil),template_dir=path_resolver.$system_path(template_dir,nil),template_glob="*",engine!==!1&&engine!==nil&&(template_glob="*."+engine,($a=$scope.File["$directory?"]($scope.File.$join(template_dir,engine)))!==!1&&$a!==nil&&(template_dir=$scope.File.$join(template_dir,engine))),($a=$scope.File["$directory?"]($scope.File.$join(template_dir,backend)))!==!1&&$a!==nil&&(template_dir=$scope.File.$join(template_dir,backend)),$b=self.cache,($a=$b!==!1&&$b!==nil?self.cache["$cached?"]("scan",template_dir,template_glob):$b)!==!1&&$a!==nil?(self.views.$update(self.cache.$fetch("scan",template_dir,template_glob)),nil):(helpers=nil,scan_result=$hash2([],{}),($a=($b=($c=($d=$scope.Dir.$glob($scope.File.$join(template_dir,template_glob))).$select,$c._p=(TMP_7=function(f){TMP_7._s||this;return null==f&&(f=nil),$scope.File["$file?"](f)},TMP_7._s=self,TMP_7),$c).call($d)).$each,$a._p=(TMP_5=function(template){var $a,$b,$c,TMP_6,self=TMP_5._s||this,basename=nil,name_parts=nil,view_name=nil,ext_name=nil,opts=nil;return null==self.cache&&(self.cache=nil),null==self.views&&(self.views=nil),null==template&&(template=nil),basename=$scope.File.$basename(template),basename["$=="]("helpers.rb")?(helpers=template,nil):(name_parts=basename.$split("."),name_parts.$size()["$<"](2)?nil:(view_name=name_parts.$first(),ext_name=name_parts.$last(),($a=($b=ext_name["$=="]("slim"))?($c=slim_loaded,$c===nil||$c===!1):$b)!==!1&&$a!==nil&&$scope.Helpers.$require_library("slim"),($a=$scope.Tilt["$registered?"](ext_name))===!1||$a===nil?nil:(opts=view_opts["$[]"](ext_name.$to_sym()),($a=self.cache)!==!1&&$a!==nil?self.views["$[]="](view_name,scan_result["$[]="](view_name,($a=($b=self.cache).$fetch,$a._p=(TMP_6=function(){TMP_6._s||this;return $scope.Tilt.$new(template,nil,opts)},TMP_6._s=self,TMP_6),$a).call($b,"view",template))):self.views["$[]="](view_name,$scope.Tilt.$new(template,nil,opts)))))},TMP_5._s=self,TMP_5),$a).call($b),($a=helpers["$nil?"]())===!1||$a===nil,($a=self.cache)!==!1&&$a!==nil?self.cache.$store(scan_result,"scan",template_dir,template_glob):nil)},TMP_4._s=self,TMP_4),$a).call($e)):nil)},def.$render=function(view,object,locals){var $a,$b,self=this;return null==locals&&(locals=$hash2([],{})),$b=self.views["$has_key?"](view),($a=$b===nil||$b===!1)!=!1&&$a!==nil&&self.$raise("Couldn't find a view in @views for "+view),($a=self.chomp_result)!==!1&&$a!==nil?self.views["$[]"](view).$render(object,locals).$chomp():self.views["$[]"](view).$render(object,locals)},def.$views=function(){var self=this,readonly_views=nil;return readonly_views=self.views.$dup(),readonly_views.$freeze(),readonly_views},def.$register_view=function(view_name,tilt_template){var self=this;return self.views["$[]="](view_name,tilt_template)},def.$load_eruby=function(name){var $a,$b,$c;return($a=($b=name["$nil?"]())!==!1&&$b!==nil?$b:($c=["erb","erubis"]["$include?"](name),$c===nil||$c===!1))!==!1&&$a!==nil&&(name="erb"),name["$=="]("erb")?null==($a=$opal.Object._scope.ERB)?$opal.cm("ERB"):$a:name["$=="]("erubis")?($scope.Helpers.$require_library("erubis"),(null==($a=$opal.Object._scope.Erubis)?$opal.cm("Erubis"):$a)._scope.FastEruby):nil},$opal.defs(self,"$global_cache",function(){var $a;return null==($a=$opal.cvars["@@global_cache"])?nil:$a}),$opal.defs(self,"$reset_global_cache",function(){var $a,$b;return($a=null==($b=$opal.cvars["@@global_cache"])?nil:$b)!==!1&&$a!==nil?(null==($a=$opal.cvars["@@global_cache"])?nil:$a).$clear():nil}),$opal.defs(self,"$extract_view_mapping",function(qualified_class){var $a,self=this,view_name=nil,backend=nil;return $a=$opal.to_ary(qualified_class.$to_s().$sub($scope.RE_ASCIIDOCTOR_NAMESPACE,"").$sub($scope.RE_TEMPLATE_CLASS_SUFFIX,"").$split("::").$reverse()),view_name=null==$a[0]?nil:$a[0],backend=null==$a[1]?nil:$a[1],view_name=self.$camelcase_to_underscore(view_name),(($a=backend["$nil?"]())===!1||$a===nil)&&(backend=backend.$downcase()),[view_name,backend]}),$opal.defs(self,"$camelcase_to_underscore",function(str){return str.$gsub($scope.RE_CAMELCASE_BOUNDARY_1,"1_2").$gsub($scope.RE_CAMELCASE_BOUNDARY_2,"1_2").$downcase()}),nil}(self,null),function($base,$super){function $TemplateCache(){}{var TMP_8,self=$TemplateCache=$klass($base,$super,"TemplateCache",$TemplateCache),def=$TemplateCache._proto;$TemplateCache._scope}return def.cache=nil,self.$attr_reader("cache"),def.$initialize=function(){var self=this;return self.cache=$hash2([],{})},def["$cached?"]=function(key){var self=this;return key=$slice.call(arguments,0),self.cache["$has_key?"](key)},def.$fetch=TMP_8=function(key){var $a,$b,$c,$d,self=this,$iter=TMP_8._p,$yield=$iter||nil;return key=$slice.call(arguments,0),TMP_8._p=null,$yield!==nil?($a=key,$b=self.cache,($c=$b["$[]"]($a))!==!1&&$c!==nil?$c:$b["$[]="]($a,($d=$opal.$yieldX($yield,[]))===$breaker?$breaker.$v:$d)):self.cache["$[]"](key)},def.$store=function(value,key){var self=this;return key=$slice.call(arguments,1),self.cache["$[]="](key,value)},def.$clear=function(){var self=this;return self.cache=$hash2([],{})},nil}(self,null)}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$slice=($opal.breaker,$opal.slice),$module=$opal.module,$klass=$opal.klass,$range=$opal.range;return function($base){var self=$module($base,"Asciidoctor"),$scope=(self._proto,self._scope);!function($base,$super){function $Section(){}var TMP_1,TMP_2,TMP_3,self=$Section=$klass($base,$super,"Section",$Section),def=$Section._proto,$scope=$Section._scope;return def.level=def.document=def.parent=def.number=def.title=def.numbered=def.blocks=nil,self.$attr_accessor("index"),self.$attr_accessor("number"),self.$attr_accessor("sectname"),self.$attr_accessor("special"),self.$attr_accessor("numbered"),def.$initialize=TMP_1=function(parent,level,numbered){{var $a,$b,$c,self=this;TMP_1._p}return null==parent&&(parent=nil),null==level&&(level=nil),null==numbered&&(numbered=!0),TMP_1._p=null,$opal.find_super_dispatcher(self,"initialize",TMP_1,null).apply(self,[parent,"section"]),self.template_name="section",($a=level["$nil?"]())!==!1&&$a!==nil?($b=parent["$nil?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil?self.level=parent.$level()["$+"](1):($a=self.level["$nil?"]())!==!1&&$a!==nil&&(self.level=1)):self.level=level,self.numbered=($a=numbered!==!1&&numbered!==nil)?self.level["$>"](0):$a,self.special=($c=parent["$nil?"](),$b=$c===nil||$c===!1,$a=$b!==!1&&$b!==nil?parent.$context()["$=="]("section"):$b,$a!==!1&&$a!==nil?parent.$special():$a),self.index=0,self.number=1},$opal.defn(self,"$name",def.$title),def.$generate_id=function(){var $a,$b,self=this,sep=nil,pre=nil,base_id=nil,gen_id=nil,cnt=nil;if(($a=self.document.$attributes()["$has_key?"]("sectids"))!==!1&&$a!==nil){if(sep=($a=self.document.$attributes()["$[]"]("idseparator"))!==!1&&$a!==nil?$a:"_",pre=($a=self.document.$attributes()["$[]"]("idprefix"))!==!1&&$a!==nil?$a:"_",base_id=""+pre+self.$title().$downcase().$gsub($scope.REGEXP["$[]"]("illegal_sectid_chars"),sep).$tr_s(sep,sep).$chomp(sep),$b=pre["$empty?"](),($a=$b!==!1&&$b!==nil?base_id["$start_with?"](sep):$b)!==!1&&$a!==nil)for(base_id=base_id["$[]"]($range(1,-1,!1));($b=base_id["$start_with?"](sep))!==!1&&$b!==nil;)base_id=base_id["$[]"]($range(1,-1,!1));for(gen_id=base_id,cnt=2;($b=self.document.$references()["$[]"]("ids")["$has_key?"](gen_id))!==!1&&$b!==nil;)gen_id=""+base_id+sep+cnt,cnt=cnt["$+"](1);return gen_id}return nil},def.$sectnum=function(delimiter,append){var $a,$b,$c,$d,$e,self=this;return null==delimiter&&(delimiter="."),null==append&&(append=nil),($a=append)!==!1&&$a!==nil?$a:append=function(){return append["$=="](!1)?"":delimiter}(),$e=self.level["$nil?"](),$d=$e===nil||$e===!1,$c=$d!==!1&&$d!==nil?self.level["$>"](1):$d,$b=$c!==!1&&$c!==nil?($d=self.parent["$nil?"](),$d===nil||$d===!1):$c,($a=$b!==!1&&$b!==nil?self.parent.$context()["$=="]("section"):$b)!==!1&&$a!==nil?""+self.parent.$sectnum(delimiter)+self.number+append:""+self.number+append},def["$<<"]=TMP_2=function(block){var $zuper=$slice.call(arguments,0),self=this,$iter=TMP_2._p;return TMP_2._p=null,$opal.find_super_dispatcher(self,"<<",TMP_2,$iter).apply(self,$zuper),block.$context()["$=="]("section")?self.$assign_index(block):nil},def.$to_s=TMP_3=function(){var $a,$zuper=$slice.call(arguments,0),self=this,$iter=TMP_3._p;return TMP_3._p=null,($a=self.title)!==!1&&$a!==nil?($a=self.numbered)!==!1&&$a!==nil?""+$opal.find_super_dispatcher(self,"to_s",TMP_3,$iter).apply(self,$zuper).$to_s()+" - "+self.$sectnum()+" "+self.title+" [blocks:"+self.blocks.$size()+"]":""+$opal.find_super_dispatcher(self,"to_s",TMP_3,$iter).apply(self,$zuper).$to_s()+" - "+self.title+" [blocks:"+self.blocks.$size()+"]":$opal.find_super_dispatcher(self,"to_s",TMP_3,$iter).apply(self,$zuper).$to_s()},nil}(self,$scope.AbstractBlock)}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$slice=($opal.breaker,$opal.slice),$module=$opal.module,$klass=$opal.klass,$hash2=$opal.hash2,$range=$opal.range;return function($base){var self=$module($base,"Asciidoctor"),$scope=(self._proto,self._scope);!function($base,$super){function $Table(){}var TMP_1,self=$Table=$klass($base,$super,"Table",$Table),def=$Table._proto,$scope=$Table._scope;return def.attributes=def.document=def.has_header_option=def.rows=def.columns=nil,function($base,$super){function $Rows(){}{var self=$Rows=$klass($base,$super,"Rows",$Rows),def=$Rows._proto;$Rows._scope}return self.$attr_accessor("head","foot","body"),def.$initialize=function(head,foot,body){var self=this;return null==head&&(head=[]),null==foot&&(foot=[]),null==body&&(body=[]),self.head=head,self.foot=foot,self.body=body},def["$[]"]=function(name){var self=this;return self.$send(name)},nil}(self,null),$opal.cdecl($scope,"DEFAULT_DATA_FORMAT","psv"),$opal.cdecl($scope,"DATA_FORMATS",["psv","dsv","csv"]),$opal.cdecl($scope,"DEFAULT_DELIMITERS",$hash2(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","})),$opal.cdecl($scope,"TEXT_STYLES",$hash2(["d","s","e","m","h","l","v","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"})),$opal.cdecl($scope,"ALIGNMENTS",$hash2(["h","v"],{h:$hash2(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:$hash2(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})})),self.$attr_accessor("columns"),self.$attr_accessor("rows"),self.$attr_accessor("has_header_option"),def.$initialize=TMP_1=function(parent,attributes){var $a,$b,$c,$d,self=this,pcwidth=(TMP_1._p,nil),pcwidth_intval=nil;return TMP_1._p=null,$opal.find_super_dispatcher(self,"initialize",TMP_1,null).apply(self,[parent,"table"]),self.rows=$scope.Rows.$new(),self.columns=[],self.has_header_option=attributes["$has_key?"]("header-option"),pcwidth=attributes["$[]"]("width"),pcwidth_intval=pcwidth.$to_i().$abs(),($a=($b=($c=pcwidth_intval["$=="](0))?($d=pcwidth["$=="]("0"),$d===nil||$d===!1):$c)!==!1&&$b!==nil?$b:pcwidth_intval["$>"](100))!==!1&&$a!==nil&&(pcwidth_intval=100),self.attributes["$[]="]("tablepcwidth",pcwidth_intval),($a=self.document.$attributes()["$has_key?"]("pagewidth"))!==!1&&$a!==nil?($a="tableabswidth",$b=self.attributes,($c=$b["$[]"]($a))!==!1&&$c!==nil?$c:$b["$[]="]($a,self.attributes["$[]"]("tablepcwidth").$to_f()["$/"](100)["$*"](self.document.$attributes()["$[]"]("pagewidth")).$round())):nil},def["$header_row?"]=function(){var $a,self=this;return $a=self.has_header_option,$a!==!1&&$a!==nil?self.rows.$body().$size()["$=="](0):$a},def.$create_columns=function(col_specs){var $a,$b,TMP_2,$c,TMP_3,self=this,total_width=nil,even_width=nil;return total_width=0,self.columns=($a=($b=col_specs).$inject,$a._p=(TMP_2=function(collector,col_spec){var self=TMP_2._s||this;return null==collector&&(collector=nil),null==col_spec&&(col_spec=nil),total_width=total_width["$+"](col_spec["$[]"]("width")),collector["$<<"]($scope.Column.$new(self,collector.$size(),col_spec)),collector},TMP_2._s=self,TMP_2),$a).call($b,[]),$c=self.columns["$empty?"](),($a=$c===nil||$c===!1)!=!1&&$a!==nil&&(self.attributes["$[]="]("colcount",self.columns.$size()),even_width=100["$/"](self.columns.$size()).$floor(),($a=($c=self.columns).$each,$a._p=(TMP_3=function(c){TMP_3._s||this;return null==c&&(c=nil),c.$assign_width(total_width,even_width)},TMP_3._s=self,TMP_3),$a).call($c)),nil},def.$partition_header_footer=function(attributes){var $a,$b,$c,TMP_4,$d,self=this,head=nil;return self.attributes["$[]="]("rowcount",self.rows.$body().$size()),$c=self.rows.$body()["$empty?"](),$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?self.has_header_option:$b)!==!1&&$a!==nil&&(head=self.rows.$body().$shift(),($a=($b=head).$each,$a._p=(TMP_4=function(c){TMP_4._s||this;return null==c&&(c=nil),c["$style="](nil)},TMP_4._s=self,TMP_4),$a).call($b),self.rows["$head="]([head])),$d=self.rows.$body()["$empty?"](),$c=$d===nil||$d===!1,($a=$c!==!1&&$c!==nil?attributes["$has_key?"]("footer-option"):$c)!==!1&&$a!==nil&&self.rows["$foot="]([self.rows.$body().$pop()]),nil},nil}(self,$scope.AbstractBlock),function($base,$super){function $Column(){}{var TMP_5,self=$Column=$klass($base,$super,"Column",$Column),def=$Column._proto;$Column._scope}return def.attributes=nil,self.$attr_accessor("style"),def.$initialize=TMP_5=function(table,index,attributes){{var $a,$b,$c,self=this;TMP_5._p}return null==attributes&&(attributes=$hash2([],{})),TMP_5._p=null,$opal.find_super_dispatcher(self,"initialize",TMP_5,null).apply(self,[table,"column"]),self.style=attributes["$[]"]("style"),attributes["$[]="]("colnumber",index["$+"](1)),$a="width",$b=attributes,($c=$b["$[]"]($a))!==!1&&$c!==nil?$c:$b["$[]="]($a,1),$a="halign",$b=attributes,($c=$b["$[]"]($a))!==!1&&$c!==nil?$c:$b["$[]="]($a,"left"),$a="valign",$b=attributes,($c=$b["$[]"]($a))!==!1&&$c!==nil?$c:$b["$[]="]($a,"top"),self.$update_attributes(attributes)},$opal.defn(self,"$table",def.$parent),def.$assign_width=function(total_width,even_width){var $a,self=this,width=nil;return width=total_width["$>"](0)?self.attributes["$[]"]("width").$to_f()["$/"](total_width)["$*"](100).$floor():even_width,self.attributes["$[]="]("colpcwidth",width),($a=self.$parent().$attributes()["$has_key?"]("tableabswidth"))!==!1&&$a!==nil&&self.attributes["$[]="]("colabswidth",width.$to_f()["$/"](100)["$*"](self.$parent().$attributes()["$[]"]("tableabswidth")).$round()),nil},nil}($scope.Table,$scope.AbstractNode),function($base,$super){function $Cell(){}var TMP_6,TMP_8,self=$Cell=$klass($base,$super,"Cell",$Cell),def=$Cell._proto,$scope=$Cell._scope;return def.style=def.document=def.text=def.inner_document=def.colspan=def.rowspan=def.attributes=nil,self.$attr_accessor("style"),self.$attr_accessor("colspan"),self.$attr_accessor("rowspan"),$opal.defn(self,"$column",def.$parent),self.$attr_reader("inner_document"),def.$initialize=TMP_6=function(column,text,attributes,cursor){var $a,$b,$c,self=this,parent_doctitle=(TMP_6._p,nil),inner_document_lines=nil,unprocessed_lines=nil,processed_lines=nil;return null==attributes&&(attributes=$hash2([],{})),null==cursor&&(cursor=nil),TMP_6._p=null,$opal.find_super_dispatcher(self,"initialize",TMP_6,null).apply(self,[column,"cell"]),self.text=text,self.style=nil,self.colspan=nil,self.rowspan=nil,$b=column["$nil?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil&&(self.style=column.$attributes()["$[]"]("style"),self.$update_attributes(column.$attributes())),$b=attributes["$nil?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil&&(self.colspan=attributes.$delete("colspan"),self.rowspan=attributes.$delete("rowspan"),($a=attributes["$has_key?"]("style"))!==!1&&$a!==nil&&(self.style=attributes["$[]"]("style")),self.$update_attributes(attributes)),($a=($b=self.style["$=="]("asciidoc"))?($c=column.$table()["$header_row?"](),$c===nil||$c===!1):$b)!==!1&&$a!==nil?(parent_doctitle=self.document.$attributes().$delete("doctitle"),inner_document_lines=self.text.$split($scope.LINE_SPLIT),(($a=($b=inner_document_lines["$empty?"]())!==!1&&$b!==nil?$b:($c=inner_document_lines.$first()["$include?"]("::"),$c===nil||$c===!1))===!1||$a===nil)&&(unprocessed_lines=inner_document_lines["$[]"]($range(0,0,!1)),processed_lines=$scope.PreprocessorReader.$new(self.document,unprocessed_lines).$readlines(),$b=processed_lines["$=="](unprocessed_lines),($a=$b===nil||$b===!1)!=!1&&$a!==nil&&(inner_document_lines.$shift(),($a=inner_document_lines).$unshift.apply($a,[].concat(processed_lines)))),self.inner_document=$scope.Document.$new(inner_document_lines,$hash2(["header_footer","parent","cursor"],{header_footer:!1,parent:self.document,cursor:cursor})),($b=parent_doctitle["$nil?"]())!==!1&&$b!==nil?nil:self.document.$attributes()["$[]="]("doctitle",parent_doctitle)):nil},def.$text=function(){var self=this;return self.$apply_normal_subs(self.text).$strip()},def.$content=function(){var $a,$b,TMP_7,self=this;return self.style["$=="]("asciidoc")?self.inner_document.$render():($a=($b=self.$text().$split($scope.BLANK_LINE_PATTERN)).$map,$a._p=(TMP_7=function(p){var $a,$b,$c,self=TMP_7._s||this;return null==self.style&&(self.style=nil),null==p&&(p=nil),$c=self.style,($a=($b=$c===nil||$c===!1)!=!1&&$b!==nil?$b:self.style["$=="]("header"))!==!1&&$a!==nil?p:$scope.Inline.$new(self.$parent(),"quoted",p,$hash2(["type"],{type:self.style})).$render()},TMP_7._s=self,TMP_7),$a).call($b)},def.$to_s=TMP_8=function(){var $a,$zuper=$slice.call(arguments,0),self=this,$iter=TMP_8._p;return TMP_8._p=null,""+$opal.find_super_dispatcher(self,"to_s",TMP_8,$iter).apply(self,$zuper).$to_s()+" - [text: "+self.text+", colspan: "+(($a=self.colspan)!==!1&&$a!==nil?$a:1)+", rowspan: "+(($a=self.rowspan)!==!1&&$a!==nil?$a:1)+", attributes: "+self.attributes+"]"},nil}($scope.Table,$scope.AbstractNode),function($base,$super){function $ParserContext(){}var self=$ParserContext=$klass($base,$super,"ParserContext",$ParserContext),def=$ParserContext._proto,$scope=$ParserContext._scope;return def.format=def.delimiter=def.delimiter_re=def.buffer=def.cell_specs=def.cell_open=def.last_cursor=def.table=def.current_row=def.col_count=def.col_visits=def.active_rowspans=def.linenum=nil,self.$attr_accessor("table"),self.$attr_accessor("format"),self.$attr_reader("col_count"),self.$attr_accessor("buffer"),self.$attr_reader("delimiter"),self.$attr_reader("delimiter_re"),def.$initialize=function(reader,table,attributes){var $a,$b,$c,$d,self=this;
return null==attributes&&(attributes=$hash2([],{})),self.reader=reader,self.table=table,self.last_cursor=reader.$cursor(),($a=attributes["$has_key?"]("format"))!==!1&&$a!==nil?(self.format=attributes["$[]"]("format"),$b=$scope.Table._scope.DATA_FORMATS["$include?"](self.format),($a=$b===nil||$b===!1)!=!1&&$a!==nil&&self.$raise("Illegal table format: "+self.format)):self.format=$scope.Table._scope.DEFAULT_DATA_FORMAT,$b=($c=self.format["$=="]("psv"))?($d=attributes["$has_key?"]("separator"),$d===nil||$d===!1):$c,self.delimiter=($a=$b!==!1&&$b!==nil?table.$document()["$nested?"]():$b)!==!1&&$a!==nil?"!":attributes.$fetch("separator",$scope.Table._scope.DEFAULT_DELIMITERS["$[]"](self.format)),self.delimiter_re=new RegExp(""+$scope.Regexp.$escape(self.delimiter)),self.col_count=function(){return($a=table.$columns()["$empty?"]())!==!1&&$a!==nil?-1:table.$columns().$size()}(),self.buffer="",self.cell_specs=[],self.cell_open=!1,self.active_rowspans=[0],self.col_visits=0,self.current_row=[],self.linenum=-1},def["$starts_with_delimiter?"]=function(line){var self=this;return line["$start_with?"](self.delimiter)},def.$match_delimiter=function(line){var self=this;return line.$match(self.delimiter_re)},def.$skip_matched_delimiter=function(match,escaped){var self=this;return null==escaped&&(escaped=!1),self.buffer=""+self.buffer+function(){return escaped!==!1&&escaped!==nil?match.$pre_match().$chop():match.$pre_match()}()+self.delimiter,match.$post_match()},def["$buffer_has_unclosed_quotes?"]=function(append){var $a,$b,$c,self=this,record=nil;return null==append&&(append=nil),record=(""+self.buffer+append).$strip(),$b=record["$start_with?"]('"'),$a=$b!==!1&&$b!==nil?($c=record["$start_with?"]('""'),$c===nil||$c===!1):$b,$a!==!1&&$a!==nil?($b=record["$end_with?"]('"'),$b===nil||$b===!1):$a},def["$buffer_quoted?"]=function(){var $a,$b,self=this;return self.buffer=self.buffer.$lstrip(),$a=self.buffer["$start_with?"]('"'),$a!==!1&&$a!==nil?($b=self.buffer["$start_with?"]('""'),$b===nil||$b===!1):$a},def.$take_cell_spec=function(){var self=this;return self.cell_specs.$shift()},def.$push_cell_spec=function(cell_spec){var $a,self=this;return null==cell_spec&&(cell_spec=$hash2([],{})),self.cell_specs["$<<"](($a=cell_spec)!==!1&&$a!==nil?$a:$hash2([],{})),nil},def.$keep_cell_open=function(){var self=this;return self.cell_open=!0,nil},def.$mark_cell_closed=function(){var self=this;return self.cell_open=!1,nil},def["$cell_open?"]=function(){var self=this;return self.cell_open},def["$cell_closed?"]=function(){var $a,self=this;return $a=self.cell_open,$a===nil||$a===!1},def.$close_open_cell=function(next_cell_spec){var $a,self=this;return null==next_cell_spec&&(next_cell_spec=$hash2([],{})),self.$push_cell_spec(next_cell_spec),($a=self["$cell_open?"]())!==!1&&$a!==nil&&self.$close_cell(!0),self.$advance(),nil},def.$close_cell=function(eol){var $a,$b,$c,TMP_9,self=this,cell_text=nil,cell_spec=nil,repeat=nil;return null==eol&&(eol=!1),cell_text=self.buffer.$strip(),self.buffer="",self.$format()["$=="]("psv")?(cell_spec=self.$take_cell_spec(),($a=cell_spec["$nil?"]())!==!1&&$a!==nil?(self.$warn("asciidoctor: ERROR: "+self.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),cell_spec=$hash2([],{}),repeat=1):(repeat=cell_spec.$fetch("repeatcol",1),cell_spec.$delete("repeatcol"))):(cell_spec=nil,repeat=1,self.$format()["$=="]("csv")&&($c=cell_text["$empty?"](),$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?cell_text["$include?"]('"'):$b)!==!1&&$a!==nil&&($b=cell_text["$start_with?"]('"'),($a=$b!==!1&&$b!==nil?cell_text["$end_with?"]('"'):$b)!==!1&&$a!==nil&&(cell_text=cell_text["$[]"]($range(1,-2,!1)).$strip()),cell_text=cell_text.$tr_s('"','"')))),($a=($b=1).$upto,$a._p=(TMP_9=function(i){var $a,$b,$c,$d,$e,self=TMP_9._s||this,column=nil,cell=nil;return null==self.col_count&&(self.col_count=nil),null==self.table&&(self.table=nil),null==self.current_row&&(self.current_row=nil),null==self.last_cursor&&(self.last_cursor=nil),null==self.reader&&(self.reader=nil),null==self.col_visits&&(self.col_visits=nil),null==self.linenum&&(self.linenum=nil),null==i&&(i=nil),self.col_count["$=="](-1)?(self.table.$columns()["$<<"]($scope.Table._scope.Column.$new(self.table,self.current_row.$size()["$+"](i)["$-"](1))),column=self.table.$columns().$last()):column=self.table.$columns()["$[]"](self.current_row.$size()),cell=$scope.Table._scope.Cell.$new(column,cell_text,cell_spec,self.last_cursor),self.last_cursor=self.reader.$cursor(),(($a=($b=cell.$rowspan()["$nil?"]())!==!1&&$b!==nil?$b:cell.$rowspan()["$=="](1))===!1||$a===nil)&&self.$activate_rowspan(cell.$rowspan(),($a=cell.$colspan())!==!1&&$a!==nil?$a:1),self.col_visits=self.col_visits["$+"](($a=cell.$colspan())!==!1&&$a!==nil?$a:1),self.current_row["$<<"](cell),$b=self["$end_of_row?"](),($a=$b!==!1&&$b!==nil?($e=self.col_count["$=="](-1),($c=($d=$e===nil||$e===!1)!=!1&&$d!==nil?$d:self.linenum["$>"](0))!==!1&&$c!==nil?$c:($d=eol!==!1&&eol!==nil)?i["$=="](repeat):$d):$b)!==!1&&$a!==nil?self.$close_row():nil},TMP_9._s=self,TMP_9),$a).call($b,repeat),self.open_cell=!1,nil},def.$close_row=function(){var $a,$b,$c,self=this;return self.table.$rows().$body()["$<<"](self.current_row),self.col_count["$=="](-1)&&(self.col_count=self.col_visits),self.col_visits=0,self.current_row=[],self.active_rowspans.$shift(),$a=0,$b=self.active_rowspans,($c=$b["$[]"]($a))!==!1&&$c!==nil?$c:$b["$[]="]($a,0),nil},def.$activate_rowspan=function(rowspan,colspan){var $a,$b,TMP_10,self=this;return($a=($b=1..$upto(rowspan["$-"](1))).$each,$a._p=(TMP_10=function(i){var $a,self=TMP_10._s||this;return null==self.active_rowspans&&(self.active_rowspans=nil),null==i&&(i=nil),self.active_rowspans["$[]="](i,(($a=self.active_rowspans["$[]"](i))!==!1&&$a!==nil?$a:0)["$+"](colspan))},TMP_10._s=self,TMP_10),$a).call($b),nil},def["$end_of_row?"]=function(){var $a,self=this;return($a=self.col_count["$=="](-1))!==!1&&$a!==nil?$a:self.$effective_col_visits()["$=="](self.col_count)},def.$effective_col_visits=function(){var self=this;return self.col_visits["$+"](self.active_rowspans.$first())},def.$advance=function(){var self=this;return self.linenum=self.linenum["$+"](1)},nil}($scope.Table,null)}(self)}(Opal),function($opal){var self=$opal.top,nil=$opal.nil,$klass=($opal.breaker,$opal.slice,$opal.klass),$hash2=$opal.hash2;return function($base,$super){function $Template(){}var TMP_1,self=$Template=$klass($base,$super,"Template",$Template),def=$Template._proto,$scope=$Template._scope;return def.name=def.body=nil,self._cache=$hash2([],{}),$opal.defs(self,"$[]",function(name){var self=this;return null==self._cache&&(self._cache=nil),self._cache["$[]"](name)}),$opal.defs(self,"$[]=",function(name,instance){var self=this;return null==self._cache&&(self._cache=nil),self._cache["$[]="](name,instance)}),$opal.defs(self,"$paths",function(){var self=this;return null==self._cache&&(self._cache=nil),self._cache.$keys()}),self.$attr_reader("body"),def.$initialize=TMP_1=function(name){var $a,self=this,$iter=TMP_1._p,body=$iter||nil;return TMP_1._p=null,$a=[name,body],self.name=$a[0],self.body=$a[1],$scope.Template["$[]="](name,self)},def.$inspect=function(){var self=this;return"#<Template: '"+self.name+"'>"},def.$render=function(ctx){var $a,$b,self=this;return null==ctx&&(ctx=self),($a=($b=ctx).$instance_exec,$a._p=self.body.$to_proc(),$a).call($b,$scope.OutputBuffer.$new())},function($base,$super){function $OutputBuffer(){}{var def=($OutputBuffer=$klass($base,$super,"OutputBuffer",$OutputBuffer),$OutputBuffer._proto);$OutputBuffer._scope}return def.buffer=nil,def.$initialize=function(){var self=this;return self.buffer=[]},def.$append=function(str){var self=this;return self.buffer["$<<"](str)},def["$append="]=function(content){var self=this;return self.buffer["$<<"](content)},def.$join=function(){var self=this;return self.buffer.$join()},nil}(self,null)}(self,null)}(Opal),function($opal){var self=$opal.top,$klass=($opal.nil,$opal.breaker,$opal.slice,$opal.klass),$module=$opal.module;return function($base,$super){function $ERB(){}{var self=$ERB=$klass($base,$super,"ERB",$ERB);$ERB._proto,$ERB._scope}return function($base){var self=$module($base,"Util"),def=self._proto,escapes=(self._scope,{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),escape_regexp=/[&<>"']/g;def.$html_escape=function(str){return(""+str).replace(escape_regexp,function(m){return escapes[m]})},$opal.defn(self,"$h",def.$html_escape),self.$module_function("h"),self.$module_function("html_escape"),$opal.donate(self,["$html_escape","$h"])}(self)}(self,null)}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$*","$compact","$attr","$role","$attr?","$icon_uri","$title?","$title","$content","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,self=TMP_1._s||this;return null==self.id&&(self.id=nil),null==self.document&&(self.document=nil),null==self.caption&&(self.caption=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append("<div"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["admonitionblock",self.$attr("name"),self.$role()].$compact()["$*"](" ")),output_buffer.$append('">\n<table>\n<tr>\n<td class="icon">'),($a=self.document["$attr?"]("icons","font"))!==!1&&$a!==nil?(output_buffer.$append('\n<i class="icon-'),output_buffer["$append="](self.$attr("name")),output_buffer.$append('" title="'),output_buffer["$append="](self.caption),output_buffer.$append('"></i>')):($a=self.document["$attr?"]("icons"))!==!1&&$a!==nil?(output_buffer.$append('\n<img src="'),output_buffer["$append="](self.$icon_uri(self.$attr("name"))),output_buffer.$append('" alt="'),output_buffer["$append="](self.caption),output_buffer.$append('">')):(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.caption),output_buffer.$append("</div>")),output_buffer.$append('\n</td>\n<td class="content">'),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.$title()),output_buffer.$append("</div>")),output_buffer.$append("\n"),output_buffer["$append="](self.$content()),output_buffer.$append("\n</td>\n</tr>\n</table>\n</div>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_admonition")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$captioned_title","$media_uri","$attr","$option?","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,self=TMP_1._s||this;return null==self.id&&(self.id=nil),null==self.style&&(self.style=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append("<div"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["audioblock",self.style,self.$role()].$compact()["$*"](" ")),output_buffer.$append('">'),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.$captioned_title()),output_buffer.$append("</div>")),output_buffer.$append('\n<div class="content">\n<audio src="'),output_buffer["$append="](self.$media_uri(self.$attr("target"))),output_buffer.$append('"'),($a=self["$option?"]("autoplay"))!==!1&&$a!==nil&&output_buffer.$append(" autoplay"),(($a=self["$option?"]("nocontrols"))===!1||$a===nil)&&output_buffer.$append(" controls"),($a=self["$option?"]("loop"))!==!1&&$a!==nil&&output_buffer.$append(" loop"),output_buffer.$append(">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_audio")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$title","$attr?","$each_with_index","$+","$icon_uri","$text","$items","$each","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,TMP_2,$c,TMP_3,self=TMP_1._s||this,font_icons=nil;return null==self.id&&(self.id=nil),null==self.style&&(self.style=nil),null==self.document&&(self.document=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append("<div"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["colist",self.style,self.$role()].$compact()["$*"](" ")),output_buffer.$append('">'),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.$title()),output_buffer.$append("</div>")),($a=self.document["$attr?"]("icons"))!==!1&&$a!==nil?(font_icons=self.document["$attr?"]("icons","font"),output_buffer.$append("\n<table>"),($a=($b=self.$items()).$each_with_index,$a._p=(TMP_2=function(item,i){var self=TMP_2._s||this,num=nil;return null==item&&(item=nil),null==i&&(i=nil),num=i["$+"](1),output_buffer.$append("\n<tr>\n<td>"),font_icons!==!1&&font_icons!==nil?(output_buffer.$append('<i class="conum" data-value="'),output_buffer["$append="](num),output_buffer.$append('"></i><b>'),output_buffer["$append="](num),output_buffer.$append("</b>")):(output_buffer.$append('<img src="'),output_buffer["$append="](self.$icon_uri("callouts/"+num)),output_buffer.$append('" alt="'),output_buffer["$append="](num),output_buffer.$append('">')),output_buffer.$append("</td>\n<td>"),output_buffer["$append="](item.$text()),output_buffer.$append("</td>\n</tr>")},TMP_2._s=self,TMP_2),$a).call($b),output_buffer.$append("\n</table>")):(output_buffer.$append("\n<ol>"),($a=($c=self.$items()).$each,$a._p=(TMP_3=function(item){TMP_3._s||this;return null==item&&(item=nil),output_buffer.$append("\n<li>\n<p>"),output_buffer["$append="](item.$text()),output_buffer.$append("</p>\n</li>")},TMP_3._s=self,TMP_3),$a).call($c),output_buffer.$append("\n</ol>")),output_buffer.$append("\n</div>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_colist")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$===","$append=","$*","$compact","$role","$title?","$title","$each","$text","$nil?","$text?","$blocks?","$content","$dd","$items","$attr?","$chomp","$attr","$option?","$last","$==","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,TMP_2,$c,TMP_4,$d,TMP_6,self=TMP_1._s||this,$case=nil;return null==self.style&&(self.style=nil),null==self.id&&(self.id=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append(""),$case=self.style,"qanda"["$==="]($case)?(output_buffer.$append("<div"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["qlist","qanda",self.$role()].$compact()["$*"](" ")),output_buffer.$append('">'),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.$title()),output_buffer.$append("</div>")),output_buffer.$append("\n<ol>"),($a=($b=self.$items()).$each,$a._p=(TMP_2=function(questions,answer){var $a,$b,TMP_3,self=TMP_2._s||this;return null==questions&&(questions=nil),null==answer&&(answer=nil),output_buffer.$append("\n<li>"),($a=($b=[].concat(questions)).$each,$a._p=(TMP_3=function(question){TMP_3._s||this;return null==question&&(question=nil),output_buffer.$append("\n<p><em>"),output_buffer["$append="](question.$text()),output_buffer.$append("</em></p>")},TMP_3._s=self,TMP_3),$a).call($b),(($a=answer["$nil?"]())===!1||$a===nil)&&(($a=answer["$text?"]())!==!1&&$a!==nil&&(output_buffer.$append("\n<p>"),output_buffer["$append="](answer.$text()),output_buffer.$append("</p>")),($a=answer["$blocks?"]())!==!1&&$a!==nil&&(output_buffer.$append("\n"),output_buffer["$append="](self.$dd().$content()),output_buffer.$append(""))),output_buffer.$append("\n</li>")},TMP_2._s=self,TMP_2),$a).call($b),output_buffer.$append("\n</ol>\n</div>")):"horizontal"["$==="]($case)?(output_buffer.$append("<div"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["hdlist",self.$role()].$compact()["$*"](" ")),output_buffer.$append('">'),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.$title()),output_buffer.$append("</div>")),output_buffer.$append("\n<table>"),($a=($c=self["$attr?"]("labelwidth"))!==!1&&$c!==nil?$c:self["$attr?"]("itemwidth"))!==!1&&$a!==nil&&(output_buffer.$append("\n<colgroup>\n<col"),output_buffer["$append="](function(){return($a=self["$attr?"]("labelwidth"))!==!1&&$a!==nil?' style="width: '+self.$attr("labelwidth").$chomp("%")+'%;"':nil}()),output_buffer.$append(">\n<col"),output_buffer["$append="](function(){return($a=self["$attr?"]("itemwidth"))!==!1&&$a!==nil?' style="width: '+self.$attr("itemwidth").$chomp("%")+'%;"':nil}()),output_buffer.$append(">\n</colgroup>")),($a=($c=self.$items()).$each,$a._p=(TMP_4=function(terms,dd){var $a,$b,TMP_5,self=TMP_4._s||this,last_term=nil;return null==terms&&(terms=nil),null==dd&&(dd=nil),output_buffer.$append('\n<tr>\n<td class="hdlist1'),output_buffer["$append="](function(){return($a=self["$option?"]("strong"))!==!1&&$a!==nil?" strong":nil}()),output_buffer.$append('">'),terms=[].concat(terms),last_term=terms.$last(),($a=($b=terms).$each,$a._p=(TMP_5=function(dt){{var $a,$b;TMP_5._s||this}return null==dt&&(dt=nil),output_buffer.$append("\n"),output_buffer["$append="](dt.$text()),output_buffer.$append(""),$b=dt["$=="](last_term),($a=$b===nil||$b===!1)!=!1&&$a!==nil?output_buffer.$append("\n<br>"):nil},TMP_5._s=self,TMP_5),$a).call($b),output_buffer.$append('\n</td>\n<td class="hdlist2">'),(($a=dd["$nil?"]())===!1||$a===nil)&&(($a=dd["$text?"]())!==!1&&$a!==nil&&(output_buffer.$append("\n<p>"),output_buffer["$append="](dd.$text()),output_buffer.$append("</p>")),($a=dd["$blocks?"]())!==!1&&$a!==nil&&(output_buffer.$append("\n"),output_buffer["$append="](dd.$content()),output_buffer.$append(""))),output_buffer.$append("\n</td>\n</tr>")},TMP_4._s=self,TMP_4),$a).call($c),output_buffer.$append("\n</table>\n</div>")):(output_buffer.$append("<div"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["dlist",self.style,self.$role()].$compact()["$*"](" ")),output_buffer.$append('">'),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.$title()),output_buffer.$append("</div>")),output_buffer.$append("\n<dl>"),($a=($d=self.$items()).$each,$a._p=(TMP_6=function(terms,dd){var $a,$b,TMP_7,self=TMP_6._s||this;return null==terms&&(terms=nil),null==dd&&(dd=nil),($a=($b=[].concat(terms)).$each,$a._p=(TMP_7=function(dt){var $a,$b,self=TMP_7._s||this;return null==self.style&&(self.style=nil),null==dt&&(dt=nil),output_buffer.$append("\n<dt"),output_buffer["$append="](function(){return $b=self.style,($a=$b===nil||$b===!1)!=!1&&$a!==nil?' class="hdlist1"':nil}()),output_buffer.$append(">"),output_buffer["$append="](dt.$text()),output_buffer.$append("</dt>")},TMP_7._s=self,TMP_7),$a).call($b),($a=dd["$nil?"]())!==!1&&$a!==nil?nil:(output_buffer.$append("\n<dd>"),($a=dd["$text?"]())!==!1&&$a!==nil&&(output_buffer.$append("\n<p>"),output_buffer["$append="](dd.$text()),output_buffer.$append("</p>")),($a=dd["$blocks?"]())!==!1&&$a!==nil&&(output_buffer.$append("\n"),output_buffer["$append="](dd.$content()),output_buffer.$append("")),output_buffer.$append("\n</dd>"))},TMP_6._s=self,TMP_6),$a).call($d),output_buffer.$append("\n</dl>\n</div>")),output_buffer.$append("\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_dlist")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$captioned_title","$content","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,self=TMP_1._s||this;return null==self.id&&(self.id=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append("<div"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["exampleblock",self.$role()].$compact()["$*"](" ")),output_buffer.$append('">'),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.$captioned_title()),output_buffer.$append("</div>")),output_buffer.$append('\n<div class="content">\n'),output_buffer["$append="](self.$content()),output_buffer.$append("\n</div>\n</div>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_example")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$+","$*","$compact","$role","$title","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,self=TMP_1._s||this;return null==self.level&&(self.level=nil),null==self.id&&(self.id=nil),null==self.style&&(self.style=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append(""),output_buffer["$append="]("<h"+self.level["$+"](1)+($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)+' class="'+[self.style,self.$role()].$compact()["$*"](" ")+'">'+self.$title()+"</h"+self.level["$+"](1)+">"),output_buffer.$append("\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_floating_title")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$*","$compact","$role","$attr?","$attr","$image_uri","$title?","$captioned_title","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,self=TMP_1._s||this;return null==self.id&&(self.id=nil),null==self.style&&(self.style=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append("<div"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["imageblock",self.style,self.$role()].$compact()["$*"](" ")),output_buffer.$append('"'),($a=($b=self["$attr?"]("align"))!==!1&&$b!==nil?$b:self["$attr?"]("float"))!==!1&&$a!==nil&&(output_buffer.$append(' style="'),output_buffer["$append="]([function(){return($a=self["$attr?"]("align"))!==!1&&$a!==nil?"text-align: "+self.$attr("align")+";":nil}(),function(){return($a=self["$attr?"]("float"))!==!1&&$a!==nil?"float: "+self.$attr("float")+";":nil}()].$compact()["$*"](" ")),output_buffer.$append('"')),output_buffer.$append('>\n<div class="content">'),($a=self["$attr?"]("link"))!==!1&&$a!==nil?(output_buffer.$append('\n<a class="image" href="'),output_buffer["$append="](self.$attr("link")),output_buffer.$append('"><img src="'),output_buffer["$append="](self.$image_uri(self.$attr("target"))),output_buffer.$append('" alt="'),output_buffer["$append="](self.$attr("alt")),output_buffer.$append('"'),output_buffer["$append="](function(){return($a=self["$attr?"]("width"))!==!1&&$a!==nil?' width="'+self.$attr("width")+'"':nil}()),output_buffer.$append(""),output_buffer["$append="](function(){return($a=self["$attr?"]("height"))!==!1&&$a!==nil?' height="'+self.$attr("height")+'"':nil}()),output_buffer.$append("></a>")):(output_buffer.$append('\n<img src="'),output_buffer["$append="](self.$image_uri(self.$attr("target"))),output_buffer.$append('" alt="'),output_buffer["$append="](self.$attr("alt")),output_buffer.$append('"'),output_buffer["$append="](function(){return($a=self["$attr?"]("width"))!==!1&&$a!==nil?' width="'+self.$attr("width")+'"':nil}()),output_buffer.$append(""),output_buffer["$append="](function(){return($a=self["$attr?"]("height"))!==!1&&$a!==nil?' height="'+self.$attr("height")+'"':nil}()),output_buffer.$append(">")),output_buffer.$append("\n</div>"),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.$captioned_title()),output_buffer.$append("</div>")),output_buffer.$append("\n</div>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_image")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$captioned_title","$attr?","$option?","$==","$attr","$===","$<<","$empty?","$content","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,self=TMP_1._s||this,nowrap=nil,language=nil,code_class=nil,pre_class=nil,pre_lang=nil,$case=nil;return null==self.id&&(self.id=nil),null==self.document&&(self.document=nil),null==self.style&&(self.style=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append("<div"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["listingblock",self.$role()].$compact()["$*"](" ")),output_buffer.$append('">'),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.$captioned_title()),output_buffer.$append("</div>")),output_buffer.$append('\n<div class="content">'),$b=self.document["$attr?"]("prewrap"),nowrap=($a=$b===nil||$b===!1)!=!1&&$a!==nil?$a:self["$option?"]("nowrap"),self.style["$=="]("source")?(language=self.$attr("language"),code_class=function(){return language!==!1&&language!==nil?[language,"language-"+language]:[]}(),pre_class=["highlight"],pre_lang=nil,$case=self.$attr("source-highlighter"),"coderay"["$==="]($case)?pre_class=["CodeRay"]:"pygments"["$==="]($case)?pre_class=["pygments","highlight"]:"prettify"["$==="]($case)?(pre_class=["prettyprint"],($a=self["$attr?"]("linenums"))!==!1&&$a!==nil&&pre_class["$<<"]("linenums"),language!==!1&&language!==nil&&pre_class["$<<"](language),language!==!1&&language!==nil&&pre_class["$<<"]("language-"+language),code_class=[]):"html-pipeline"["$==="]($case)&&(pre_lang=language,pre_class=code_class=[],nowrap=!1),nowrap!==!1&&nowrap!==nil&&pre_class["$<<"]("nowrap"),output_buffer.$append("\n<pre"),output_buffer["$append="](function(){return($a=pre_class["$empty?"]())!==!1&&$a!==nil?nil:' class="'+pre_class["$*"](" ")+'"'}()),output_buffer.$append(""),output_buffer["$append="](($a=pre_lang!==!1&&pre_lang!==nil)?' lang="'+pre_lang+'"':$a),output_buffer.$append("><code"),output_buffer["$append="](function(){return($a=code_class["$empty?"]())!==!1&&$a!==nil?nil:' class="'+code_class["$*"](" ")+'"'}()),output_buffer.$append(">"),output_buffer["$append="](self.$content()),output_buffer.$append("</code></pre>")):(output_buffer.$append("\n<pre"),output_buffer["$append="](function(){return nowrap!==!1&&nowrap!==nil?' class="nowrap"':nil}()),output_buffer.$append(">"),output_buffer["$append="](self.$content()),output_buffer.$append("</pre>")),output_buffer.$append("\n</div>\n</div>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_listing")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$title","$attr?","$option?","$content","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,$c,self=TMP_1._s||this;return null==self.id&&(self.id=nil),null==self.document&&(self.document=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append("<div"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["literalblock",self.$role()].$compact()["$*"](" ")),output_buffer.$append('">'),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.$title()),output_buffer.$append("</div>")),output_buffer.$append('\n<div class="content">\n<pre'),output_buffer["$append="](function(){return $c=self.document["$attr?"]("prewrap"),($a=($b=$c===nil||$c===!1)!=!1&&$b!==nil?$b:self["$option?"]("nowrap"))!==!1&&$a!==nil?' class="nowrap"':nil}()),output_buffer.$append(">"),output_buffer["$append="](self.$content()),output_buffer.$append("</pre>\n</div>\n</div>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_literal")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$title","$attr?","$attr","$list_marker_keyword","$each","$text","$blocks?","$content","$items","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,TMP_2,self=TMP_1._s||this,keyword=nil;return null==self.id&&(self.id=nil),null==self.style&&(self.style=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append("<div"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["olist",self.style,self.$role()].$compact()["$*"](" ")),output_buffer.$append('">'),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.$title()),output_buffer.$append("</div>")),output_buffer.$append('\n<ol class="'),output_buffer["$append="](self.style),output_buffer.$append('"'),output_buffer["$append="](function(){return($a=self["$attr?"]("start"))!==!1&&$a!==nil?' start="'+self.$attr("start")+'"':nil}()),output_buffer.$append(""),output_buffer["$append="](($a=keyword=self.$list_marker_keyword(),$a!==!1&&$a!==nil?' type="'+keyword+'"':$a)),output_buffer.$append(">"),($a=($b=self.$items()).$each,$a._p=(TMP_2=function(item){{var $a;TMP_2._s||this}return null==item&&(item=nil),output_buffer.$append("\n<li>\n<p>"),output_buffer["$append="](item.$text()),output_buffer.$append("</p>"),($a=item["$blocks?"]())!==!1&&$a!==nil&&(output_buffer.$append("\n"),output_buffer["$append="](item.$content()),output_buffer.$append("")),output_buffer.$append("\n</li>")},TMP_2._s=self,TMP_2),$a).call($b),output_buffer.$append("\n</ol>\n</div>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_olist")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$==","$doctype","$puts","$append=","$*","$compact","$role","$title?","$title","$content","$context","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,$c,$d,$e,self=TMP_1._s||this;return null==self.style&&(self.style=nil),null==self.parent&&(self.parent=nil),null==self.document&&(self.document=nil),null==self.id&&(self.id=nil),null==self.level&&(self.level=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append(""),self.style["$=="]("abstract")?($a=($b=self.parent["$=="](self.document))?self.document.$doctype()["$=="]("book"):$b)!==!1&&$a!==nil?self.$puts("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."):(output_buffer.$append("<div"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["quoteblock","abstract",self.$role()].$compact()["$*"](" ")),output_buffer.$append('">'),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.$title()),output_buffer.$append("</div>")),output_buffer.$append("\n<blockquote>\n"),output_buffer["$append="](self.$content()),output_buffer.$append("\n</blockquote>\n</div>")):($a=($b=self.style["$=="]("partintro"))?($e=self.level["$=="](0),($c=($d=$e===nil||$e===!1)!=!1&&$d!==nil?$d:($e=self.parent.$context()["$=="]("section"),$e===nil||$e===!1))!==!1&&$c!==nil?$c:($d=self.document.$doctype()["$=="]("book"),$d===nil||$d===!1)):$b)!==!1&&$a!==nil?self.$puts("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."):(output_buffer.$append("<div"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["openblock",function(){return self.style["$=="]("open")?nil:self.style
}(),self.$role()].$compact()["$*"](" ")),output_buffer.$append('">'),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.$title()),output_buffer.$append("</div>")),output_buffer.$append('\n<div class="content">\n'),output_buffer["$append="](self.$content()),output_buffer.$append("\n</div>\n</div>")),output_buffer.$append("\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_open")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){TMP_1._s||this;return null==output_buffer&&(output_buffer=nil),output_buffer.$append('<div style="page-break-after: always;"></div>\n'),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_page_break")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$title","$content","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,self=TMP_1._s||this;return null==self.id&&(self.id=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append("<div"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["paragraph",self.$role()].$compact()["$*"](" ")),output_buffer.$append('">'),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.$title()),output_buffer.$append("</div>")),output_buffer.$append("\n<p>"),output_buffer["$append="](self.$content()),output_buffer.$append("</p>\n</div>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_paragraph")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$content","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var self=TMP_1._s||this;return null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append(""),output_buffer["$append="](self.$content()),output_buffer.$append("\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_pass")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$content","$attr?","$attr","$outline","$to_i","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,self=TMP_1._s||this;return null==self.document&&(self.document=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append('<div id="preamble">\n<div class="sectionbody">\n'),output_buffer["$append="](self.$content()),output_buffer.$append("\n</div>"),$b=self["$attr?"]("toc"),($a=$b!==!1&&$b!==nil?self["$attr?"]("toc-placement","preamble"):$b)!==!1&&$a!==nil&&(output_buffer.$append('\n<div id="toc" class="'),output_buffer["$append="](self.$attr("toc-class","toc")),output_buffer.$append('">\n<div id="toctitle">'),output_buffer["$append="](self.$attr("toc-title")),output_buffer.$append("</div>\n"),output_buffer["$append="]((null==($a=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$a)._scope.HTML5._scope.DocumentTemplate.$outline(self.document,self.$attr("toclevels",2).$to_i())),output_buffer.$append("\n</div>")),output_buffer.$append("\n</div>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_preamble")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$title","$content","$attr?","$attr","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,self=TMP_1._s||this;return null==self.id&&(self.id=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append("<div"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["quoteblock",self.$role()].$compact()["$*"](" ")),output_buffer.$append('">'),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.$title()),output_buffer.$append("</div>")),output_buffer.$append("\n<blockquote>\n"),output_buffer["$append="](self.$content()),output_buffer.$append("\n</blockquote>"),($a=($b=self["$attr?"]("attribution"))!==!1&&$b!==nil?$b:self["$attr?"]("citetitle"))!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="attribution">'),($a=self["$attr?"]("citetitle"))!==!1&&$a!==nil&&(output_buffer.$append("\n<cite>"),output_buffer["$append="](self.$attr("citetitle")),output_buffer.$append("</cite>")),($a=self["$attr?"]("attribution"))!==!1&&$a!==nil&&(($a=self["$attr?"]("citetitle"))!==!1&&$a!==nil&&output_buffer.$append("<br>"),output_buffer.$append("\n"),output_buffer["$append="]("&#8212; "+self.$attr("attribution")),output_buffer.$append("")),output_buffer.$append("\n</div>")),output_buffer.$append("\n</div>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_quote")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){TMP_1._s||this;return null==output_buffer&&(output_buffer=nil),output_buffer.$append("<hr>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_ruler")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$title","$content","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,self=TMP_1._s||this;return null==self.id&&(self.id=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append("<div"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["sidebarblock",self.$role()].$compact()["$*"](" ")),output_buffer.$append('">\n<div class="content">'),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.$title()),output_buffer.$append("</div>")),output_buffer.$append("\n"),output_buffer["$append="](self.$content()),output_buffer.$append("\n</div>\n</div>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_sidebar")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$*","$compact","$attr","$role","$attr?","$option?","$title?","$captioned_title","$zero?","$times","$size","$each","$==","$text","$style","$===","$content","$colspan","$rowspan","$[]","$select","$empty?","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,$c,TMP_2,TMP_3,$d,TMP_4,$e,$f,TMP_9,self=TMP_1._s||this;return null==self.id&&(self.id=nil),null==self.columns&&(self.columns=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append("<table"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["tableblock","frame-"+self.$attr("frame","all"),"grid-"+self.$attr("grid","all"),self.$role()].$compact()["$*"](" ")),output_buffer.$append('"'),($a=($b=self["$attr?"]("float"))!==!1&&$b!==nil?$b:($c=self["$option?"]("autowidth"),$c===nil||$c===!1))!==!1&&$a!==nil&&(output_buffer.$append(' style="'),output_buffer["$append="]([function(){return($a=self["$option?"]("autowidth"))!==!1&&$a!==nil?nil:"width: "+self.$attr("tablepcwidth")+"%;"}(),function(){return($a=self["$attr?"]("float"))!==!1&&$a!==nil?"float: "+self.$attr("float")+";":nil}()].$compact()["$*"](" ")),output_buffer.$append('"')),output_buffer.$append(">"),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<caption class="title">'),output_buffer["$append="](self.$captioned_title()),output_buffer.$append("</caption>")),(($a=self.$attr("rowcount")["$zero?"]())===!1||$a===nil)&&(output_buffer.$append("\n<colgroup>"),($a=self["$option?"]("autowidth"))!==!1&&$a!==nil?($a=($b=self.columns.$size()).$times,$a._p=(TMP_2=function(){TMP_2._s||this;return output_buffer.$append("\n<col>")},TMP_2._s=self,TMP_2),$a).call($b):($a=($c=self.columns).$each,$a._p=(TMP_3=function(col){TMP_3._s||this;return null==col&&(col=nil),output_buffer.$append('\n<col style="width: '),output_buffer["$append="](col.$attr("colpcwidth")),output_buffer.$append('%;">')},TMP_3._s=self,TMP_3),$a).call($c),output_buffer.$append("\n</colgroup>"),($a=($d=($e=($f=["head","foot","body"]).$select,$e._p=(TMP_9=function(tsec){var $a,self=TMP_9._s||this;return null==self.rows&&(self.rows=nil),null==tsec&&(tsec=nil),$a=self.rows["$[]"](tsec)["$empty?"](),$a===nil||$a===!1},TMP_9._s=self,TMP_9),$e).call($f)).$each,$a._p=(TMP_4=function(tsec){var $a,$b,TMP_5,self=TMP_4._s||this;return null==self.rows&&(self.rows=nil),null==tsec&&(tsec=nil),output_buffer.$append("\n<t"),output_buffer["$append="](tsec),output_buffer.$append(">"),($a=($b=self.rows["$[]"](tsec)).$each,$a._p=(TMP_5=function(row){var $a,$b,TMP_6,self=TMP_5._s||this;return null==row&&(row=nil),output_buffer.$append("\n<tr>"),($a=($b=row).$each,$a._p=(TMP_6=function(cell){var $a,$b,TMP_7,$c,TMP_8,self=TMP_6._s||this,cell_content=nil,$case=nil,cell_css_style=nil;return null==self.document&&(self.document=nil),null==cell&&(cell=nil),tsec["$=="]("head")?cell_content=cell.$text():($case=cell.$style(),cell_content="verse"["$==="]($case)||"literal"["$==="]($case)?cell.$text():cell.$content()),cell_css_style=function(){return($a=self.document["$attr?"]("cellbgcolor"))!==!1&&$a!==nil?"background-color: "+self.document.$attr("cellbgcolor")+";":nil}(),output_buffer.$append("\n<"),output_buffer["$append="](function(){return tsec["$=="]("head")?"th":"td"}()),output_buffer.$append(' class="'),output_buffer["$append="](["tableblock","halign-"+cell.$attr("halign"),"valign-"+cell.$attr("valign")]["$*"](" ")),output_buffer.$append('"'),output_buffer["$append="](function(){return($a=cell.$colspan())!==!1&&$a!==nil?' colspan="'+cell.$colspan()+'"':nil}()),output_buffer.$append(""),output_buffer["$append="](function(){return($a=cell.$rowspan())!==!1&&$a!==nil?' rowspan="'+cell.$rowspan()+'"':nil}()),output_buffer.$append(""),output_buffer["$append="](function(){return cell_css_style!==!1&&cell_css_style!==nil?' style="'+cell_css_style+'"':nil}()),output_buffer.$append(">"),tsec["$=="]("head")?(output_buffer.$append(""),output_buffer["$append="](cell_content),output_buffer.$append("")):($case=cell.$style(),"asciidoc"["$==="]($case)?(output_buffer.$append("<div>"),output_buffer["$append="](cell_content),output_buffer.$append("</div>")):"verse"["$==="]($case)?(output_buffer.$append('<div class="verse">'),output_buffer["$append="](cell_content),output_buffer.$append("</div>")):"literal"["$==="]($case)?(output_buffer.$append('<div class="literal"><pre>'),output_buffer["$append="](cell_content),output_buffer.$append("</pre></div>")):"header"["$==="]($case)?($a=($b=cell_content).$each,$a._p=(TMP_7=function(text){TMP_7._s||this;return null==text&&(text=nil),output_buffer.$append('<p class="tableblock header">'),output_buffer["$append="](text),output_buffer.$append("</p>")},TMP_7._s=self,TMP_7),$a).call($b):($a=($c=cell_content).$each,$a._p=(TMP_8=function(text){TMP_8._s||this;return null==text&&(text=nil),output_buffer.$append('<p class="tableblock">'),output_buffer["$append="](text),output_buffer.$append("</p>")},TMP_8._s=self,TMP_8),$a).call($c)),output_buffer.$append("</"),output_buffer["$append="](function(){return tsec["$=="]("head")?"th":"td"}()),output_buffer.$append(">")},TMP_6._s=self,TMP_6),$a).call($b),output_buffer.$append("\n</tr>")},TMP_5._s=self,TMP_5),$a).call($b),output_buffer.$append("\n</t"),output_buffer["$append="](tsec),output_buffer.$append(">")},TMP_4._s=self,TMP_4),$a).call($d)),output_buffer.$append("\n</table>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_table")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$attr?","$attr","$title?","$title","$to_i","$embedded?","$append=","$outline","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,$c,$d,self=TMP_1._s||this,toc_id=nil,toc_role=nil,toc_title_id=nil,toc_title=nil,toc_levels=nil;return null==self.document&&(self.document=nil),null==self.id&&(self.id=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append(""),($a=self.document["$attr?"]("toc"))!==!1&&$a!==nil&&(toc_id=self.id,toc_role=self.$attr("role",self.document.$attr("toc-class","toc")),toc_title_id=nil,toc_title=function(){return($a=self["$title?"]())!==!1&&$a!==nil?self.$title():self.document.$attr("toc-title")}(),toc_levels=function(){return($a=self["$attr?"]("levels"))!==!1&&$a!==nil?self.$attr("levels").$to_i():self.document.$attr("toclevels",2).$to_i()}(),$c=toc_id,$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?($c=self.document["$embedded?"]())!==!1&&$c!==nil?$c:($d=self.document["$attr?"]("toc-placement"),$d===nil||$d===!1):$b)!==!1&&$a!==nil&&(toc_id="toc",toc_title_id="toctitle"),output_buffer.$append("<div"),output_buffer["$append="](($a=toc_id!==!1&&toc_id!==nil)?' id="'+toc_id+'"':$a),output_buffer.$append(' class="'),output_buffer["$append="](toc_role),output_buffer.$append('">'),toc_title!==!1&&toc_title!==nil&&(output_buffer.$append('\n<div class="title"'),output_buffer["$append="](($a=toc_title_id!==!1&&toc_title_id!==nil)?' id="'+toc_title_id+'"':$a),output_buffer.$append(">"),output_buffer["$append="](toc_title),output_buffer.$append("</div>")),output_buffer.$append("\n"),output_buffer["$append="]($scope.Asciidoctor._scope.HTML5._scope.DocumentTemplate.$outline(self.document,toc_levels)),output_buffer.$append("")),output_buffer.$append("\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_toc")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$option?","$attr?","$append=","$*","$compact","$role","$title?","$title","$each","$text","$blocks?","$content","$items","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,TMP_2,self=TMP_1._s||this,checklist=nil,marker_checked=nil,marker_unchecked=nil,style_class=nil;return null==self.document&&(self.document=nil),null==self.id&&(self.id=nil),null==self.style&&(self.style=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append(""),($a=checklist=function(){return($b=self["$option?"]("checklist"))!==!1&&$b!==nil?"checklist":nil}())!==!1&&$a!==nil&&(($a=self["$option?"]("interactive"))!==!1&&$a!==nil?(marker_checked='<input type="checkbox" data-item-complete="1" checked>',marker_unchecked='<input type="checkbox" data-item-complete="0">'):($a=self.document["$attr?"]("icons","font"))!==!1&&$a!==nil?(marker_checked='<i class="icon-check"></i>',marker_unchecked='<i class="icon-check-empty"></i>'):(marker_checked='<input type="checkbox" data-item-complete="1" checked disabled>',marker_unchecked='<input type="checkbox" data-item-complete="0" disabled>')),output_buffer.$append("<div"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["ulist",checklist,self.style,self.$role()].$compact()["$*"](" ")),output_buffer.$append('">'),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.$title()),output_buffer.$append("</div>")),output_buffer.$append("\n<ul"),output_buffer["$append="](function(){return($a=style_class=($b=checklist)!==!1&&$b!==nil?$b:self.style)!==!1&&$a!==nil?' class="'+style_class+'"':nil}()),output_buffer.$append(">"),($a=($b=self.$items()).$each,$a._p=(TMP_2=function(item){{var $a,$b;TMP_2._s||this}return null==item&&(item=nil),output_buffer.$append("\n<li>\n<p>"),($a=($b=checklist!==!1&&checklist!==nil)?item["$attr?"]("checkbox"):$b)!==!1&&$a!==nil?(output_buffer.$append(""),output_buffer["$append="](""+function(){return($a=item["$attr?"]("checked"))!==!1&&$a!==nil?marker_checked:marker_unchecked}()+" "+item.$text()),output_buffer.$append("")):(output_buffer.$append(""),output_buffer["$append="](item.$text()),output_buffer.$append("")),output_buffer.$append("</p>"),($a=item["$blocks?"]())!==!1&&$a!==nil&&(output_buffer.$append("\n"),output_buffer["$append="](item.$content()),output_buffer.$append("")),output_buffer.$append("\n</li>")},TMP_2._s=self,TMP_2),$a).call($b),output_buffer.$append("\n</ul>\n</div>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_ulist")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$title","$content","$attr?","$attr","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,self=TMP_1._s||this;return null==self.id&&(self.id=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append("<div"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["verseblock",self.$role()].$compact()["$*"](" ")),output_buffer.$append('">'),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.$title()),output_buffer.$append("</div>")),output_buffer.$append('\n<pre class="content">'),output_buffer["$append="](self.$content()),output_buffer.$append("</pre>"),($a=($b=self["$attr?"]("attribution"))!==!1&&$b!==nil?$b:self["$attr?"]("citetitle"))!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="attribution">'),($a=self["$attr?"]("citetitle"))!==!1&&$a!==nil&&(output_buffer.$append("\n<cite>"),output_buffer["$append="](self.$attr("citetitle")),output_buffer.$append("</cite>")),($a=self["$attr?"]("attribution"))!==!1&&$a!==nil&&(($a=self["$attr?"]("citetitle"))!==!1&&$a!==nil&&output_buffer.$append("<br>"),output_buffer.$append("\n"),output_buffer["$append="]("&#8212; "+self.$attr("attribution")),output_buffer.$append("")),output_buffer.$append("\n</div>")),output_buffer.$append("\n</div>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_verse")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$captioned_title","$attr","$===","$attr?","$option?","$<<","$media_uri","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,self=TMP_1._s||this,$case=nil,start_anchor=nil,delimiter=nil,autoplay_param=nil,loop_param=nil,src=nil,params=nil;return null==self.id&&(self.id=nil),null==self.style&&(self.style=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append("<div"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="](["videoblock",self.style,self.$role()].$compact()["$*"](" ")),output_buffer.$append('">'),($a=self["$title?"]())!==!1&&$a!==nil&&(output_buffer.$append('\n<div class="title">'),output_buffer["$append="](self.$captioned_title()),output_buffer.$append("</div>")),output_buffer.$append('\n<div class="content">'),$case=self.$attr("poster"),"vimeo"["$==="]($case)?(start_anchor=function(){return($a=self["$attr?"]("start"))!==!1&&$a!==nil?"#at="+self.$attr("start"):nil}(),delimiter="?",autoplay_param=function(){return($a=self["$option?"]("autoplay"))!==!1&&$a!==nil?""+delimiter+"autoplay=1":nil}(),autoplay_param!==!1&&autoplay_param!==nil&&(delimiter="&amp;"),loop_param=function(){return($a=self["$option?"]("loop"))!==!1&&$a!==nil?""+delimiter+"loop=1":nil}(),src="//player.vimeo.com/video/"+self.$attr("target")+start_anchor+autoplay_param+loop_param,output_buffer.$append("\n<iframe"),output_buffer["$append="](function(){return($a=self["$attr?"]("width"))!==!1&&$a!==nil?' width="'+self.$attr("width")+'"':nil}()),output_buffer.$append(""),output_buffer["$append="](function(){return($a=self["$attr?"]("height"))!==!1&&$a!==nil?' height="'+self.$attr("height")+'"':nil}()),output_buffer.$append(' src="'),output_buffer["$append="](src),output_buffer.$append('" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>')):"youtube"["$==="]($case)?(params=["rel=0"],($a=self["$attr?"]("start"))!==!1&&$a!==nil&&params["$<<"]("start="+self.$attr("start")),($a=self["$attr?"]("end"))!==!1&&$a!==nil&&params["$<<"]("end="+self.$attr("end")),($a=self["$option?"]("autoplay"))!==!1&&$a!==nil&&params["$<<"]("autoplay=1"),($a=self["$option?"]("loop"))!==!1&&$a!==nil&&params["$<<"]("loop=1"),($a=self["$option?"]("nocontrols"))!==!1&&$a!==nil&&params["$<<"]("controls=0"),src="//www.youtube.com/embed/"+self.$attr("target")+"?"+params["$*"]("&amp;"),output_buffer.$append("\n<iframe"),output_buffer["$append="](function(){return($a=self["$attr?"]("width"))!==!1&&$a!==nil?' width="'+self.$attr("width")+'"':nil}()),output_buffer.$append(""),output_buffer["$append="](function(){return($a=self["$attr?"]("height"))!==!1&&$a!==nil?' height="'+self.$attr("height")+'"':nil}()),output_buffer.$append(' src="'),output_buffer["$append="](src),output_buffer.$append('" frameborder="0"'),output_buffer["$append="](function(){return($a=self["$option?"]("nofullscreen"))!==!1&&$a!==nil?nil:" allowfullscreen"}()),output_buffer.$append("></iframe>")):(output_buffer.$append('\n<video src="'),output_buffer["$append="](self.$media_uri(self.$attr("target"))),output_buffer.$append('"'),output_buffer["$append="](function(){return($a=self["$attr?"]("width"))!==!1&&$a!==nil?' width="'+self.$attr("width")+'"':nil}()),output_buffer.$append(""),output_buffer["$append="](function(){return($a=self["$attr?"]("height"))!==!1&&$a!==nil?' height="'+self.$attr("height")+'"':nil}()),output_buffer.$append(""),($a=self["$attr?"]("poster"))!==!1&&$a!==nil&&(output_buffer.$append(' poster="'),output_buffer["$append="](self.$media_uri(self.$attr("poster"))),output_buffer.$append('"')),($a=self["$option?"]("autoplay"))!==!1&&$a!==nil&&output_buffer.$append(" autoplay"),(($a=self["$option?"]("nocontrols"))===!1||$a===nil)&&output_buffer.$append(" controls"),($a=self["$option?"]("loop"))!==!1&&$a!==nil&&output_buffer.$append(" loop"),output_buffer.$append(">\nYour browser does not support the video tag.\n</video>")),output_buffer.$append("\n</div>\n</div>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/block_video")}(Opal),function($opal){var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil,$hash2=($opal.breaker,$opal.slice,$opal.hash2),$range=$opal.range;return $opal.add_stubs(["$new","$append","$append=","$attr?","$attr","$each","$doctitle","$include?","$>=","$normalize_web_path","$default_asciidoctor_stylesheet","$read_asset","$normalize_system_path","$nil?","$===","$==","$default_coderay_stylesheet","$pygments_stylesheet","$[]","$empty?","$docinfo","$*","$compact","$noheader","$doctype","$outline","$to_i","$has_header?","$notitle","$title","$sub_macros","$>","$downcase","$content","$footnotes?","$index","$text","$footnotes","$nofooter","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,TMP_2,$c,$d,TMP_3,$e,TMP_4,self=TMP_1._s||this,$case=nil,docinfo_content=nil,authorcount=nil;return null==self.safe&&(self.safe=nil),null==self.id&&(self.id=nil),null==self.header&&(self.header=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append("<!DOCTYPE html>\n<html"),output_buffer["$append="](function(){return($a=self["$attr?"]("nolang"))!==!1&&$a!==nil?nil:' lang="'+self.$attr("lang","en")+'"'}()),output_buffer.$append('>\n<head>\n<meta http-equiv="Content-Type" content="text/html; charset='),output_buffer["$append="](self.$attr("encoding")),output_buffer.$append('">\n<meta name="generator" content="Asciidoctor '),output_buffer["$append="](self.$attr("asciidoctor-version")),output_buffer.$append('">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">'),($a=($b=["description","keywords","author","copyright"]).$each,$a._p=(TMP_2=function(key){var $a,self=TMP_2._s||this;return null==key&&(key=nil),($a=self["$attr?"](key))!==!1&&$a!==nil?(output_buffer.$append('\n<meta name="'),output_buffer["$append="](key),output_buffer.$append('" content="'),output_buffer["$append="](self.$attr(key)),output_buffer.$append('">')):nil},TMP_2._s=self,TMP_2),$a).call($b),output_buffer.$append("\n<title>"),output_buffer["$append="](($a=self.$doctitle($hash2(["sanitize"],{sanitize:!0})))!==!1&&$a!==nil?$a:self.$attr("untitled-label")),output_buffer.$append("</title>"),($a=(null==($c=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$c)._scope.DEFAULT_STYLESHEET_KEYS["$include?"](self.$attr("stylesheet")))!==!1&&$a!==nil?($a=($c=self.safe["$>="]((null==($d=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$d)._scope.SafeMode._scope.SECURE))!==!1&&$c!==nil?$c:self["$attr?"]("linkcss"))!==!1&&$a!==nil?(output_buffer.$append('\n<link rel="stylesheet" href="'),output_buffer["$append="](self.$normalize_web_path((null==($a=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$a)._scope.DEFAULT_STYLESHEET_NAME,self.$attr("stylesdir",""))),output_buffer.$append('">')):(output_buffer.$append("\n<style>\n"),output_buffer["$append="]((null==($a=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$a)._scope.HTML5.$default_asciidoctor_stylesheet()),output_buffer.$append("\n</style>")):($a=self["$attr?"]("stylesheet"))!==!1&&$a!==nil&&(($a=($c=self.safe["$>="]((null==($d=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$d)._scope.SafeMode._scope.SECURE))!==!1&&$c!==nil?$c:self["$attr?"]("linkcss"))!==!1&&$a!==nil?(output_buffer.$append('\n<link rel="stylesheet" href="'),output_buffer["$append="](self.$normalize_web_path(self.$attr("stylesheet"),self.$attr("stylesdir",""))),output_buffer.$append('">')):(output_buffer.$append("\n<style>\n"),output_buffer["$append="](self.$read_asset(self.$normalize_system_path(self.$attr("stylesheet"),self.$attr("stylesdir","")),!0)),output_buffer.$append("\n</style>"))),($a=self["$attr?"]("icons","font"))!==!1&&$a!==nil&&($c=self.$attr("iconfont-remote","")["$nil?"](),($a=$c===nil||$c===!1)!=!1&&$a!==nil?(output_buffer.$append('\n<link rel="stylesheet" href="'),output_buffer["$append="](self.$attr("iconfont-cdn","http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css")),output_buffer.$append('">')):(output_buffer.$append('\n<link rel="stylesheet" href="'),output_buffer["$append="](self.$normalize_web_path(""+self.$attr("iconfont-name","font-awesome")+".css",self.$attr("stylesdir",""))),output_buffer.$append('">'))),$case=self.$attr("source-highlighter"),"coderay"["$==="]($case)?self.$attr("coderay-css","class")["$=="]("class")&&(($a=($c=self.safe["$>="]((null==($d=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$d)._scope.SafeMode._scope.SECURE))!==!1&&$c!==nil?$c:self["$attr?"]("linkcss"))!==!1&&$a!==nil?(output_buffer.$append('\n<link rel="stylesheet" href="'),output_buffer["$append="](self.$normalize_web_path("asciidoctor-coderay.css",self.$attr("stylesdir",""))),output_buffer.$append('">')):(output_buffer.$append("\n<style>\n"),output_buffer["$append="]((null==($a=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$a)._scope.HTML5.$default_coderay_stylesheet()),output_buffer.$append("\n</style>"))):"pygments"["$==="]($case)?self.$attr("pygments-css","class")["$=="]("class")&&(($a=($c=self.safe["$>="]((null==($d=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$d)._scope.SafeMode._scope.SECURE))!==!1&&$c!==nil?$c:self["$attr?"]("linkcss"))!==!1&&$a!==nil?(output_buffer.$append('\n<link rel="stylesheet" href="'),output_buffer["$append="](self.$normalize_web_path("asciidoctor-pygments.css",self.$attr("stylesdir",""))),output_buffer.$append('">')):(output_buffer.$append("\n<style>\n"),output_buffer["$append="]((null==($a=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$a)._scope.HTML5.$pygments_stylesheet(self.$attr("pygments-style"))),output_buffer.$append("\n</style>"))):"highlightjs"["$==="]($case)?(output_buffer.$append('\n<link rel="stylesheet" href="'),output_buffer["$append="](self.$attr("highlightjsdir","http://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4")),output_buffer.$append("/styles/"),output_buffer["$append="](self.$attr("highlightjs-theme","googlecode")),output_buffer.$append('.min.css">\n<script src="'),output_buffer["$append="](self.$attr("highlightjsdir","http://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4")),output_buffer.$append('/highlight.min.js"></script>\n<script src="'),output_buffer["$append="](self.$attr("highlightjsdir","http://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4")),output_buffer.$append('/lang/common.min.js"></script>\n<script>hljs.initHighlightingOnLoad()</script>')):"prettify"["$==="]($case)&&(output_buffer.$append('\n<link rel="stylesheet" href="'),output_buffer["$append="](self.$attr("prettifydir","http://cdnjs.cloudflare.com/ajax/libs/prettify/r298")),output_buffer.$append("/"),output_buffer["$append="](self.$attr("prettify-theme","prettify")),output_buffer.$append('.min.css">\n<script src="'),output_buffer["$append="](self.$attr("prettifydir","http://cdnjs.cloudflare.com/ajax/libs/prettify/r298")),output_buffer.$append("/prettify.min.js\"></script>\n<script>document.addEventListener('DOMContentLoaded', prettyPrint)</script>")),($a=self["$attr?"]("math"))!==!1&&$a!==nil&&(output_buffer.$append('\n<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  tex2jax: {\n    inlineMath: ['),output_buffer["$append="]((null==($a=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$a)._scope.INLINE_MATH_DELIMITERS["$[]"]("latexmath")),output_buffer.$append("],\n    displayMath: ["),output_buffer["$append="]((null==($a=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$a)._scope.BLOCK_MATH_DELIMITERS["$[]"]("latexmath")),output_buffer.$append("],\n    ignoreClass: 'nomath|nolatexmath'\n  },\n  asciimath2jax: {\n    delimiters: ["),output_buffer["$append="]((null==($a=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$a)._scope.BLOCK_MATH_DELIMITERS["$[]"]("asciimath")),output_buffer.$append("],\n    ignoreClass: 'nomath|noasciimath'\n  }\n});\n</script>\n<script type=\"text/javascript\" src=\"http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_HTMLorMML\"></script>\n<script>document.addEventListener('DOMContentLoaded', MathJax.Hub.TypeSet)</script>")),output_buffer.$append(""),output_buffer["$append="](function(){return($a=(docinfo_content=self.$docinfo())["$empty?"]())!==!1&&$a!==nil?nil:"\n"+docinfo_content}()),output_buffer.$append("\n</head>\n<body"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="'),output_buffer["$append="]([self.$attr("doctype"),function(){return $d=self["$attr?"]("toc-class"),$c=$d!==!1&&$d!==nil?self["$attr?"]("toc"):$d,($a=$c!==!1&&$c!==nil?self["$attr?"]("toc-placement","auto"):$c)!==!1&&$a!==nil?""+self.$attr("toc-class")+" toc-"+self.$attr("toc-position","left"):nil
}()].$compact()["$*"](" ")),output_buffer.$append('"'),output_buffer["$append="](function(){return($a=self["$attr?"]("max-width"))!==!1&&$a!==nil?' style="max-width: '+self.$attr("max-width")+';"':nil}()),output_buffer.$append(">"),(($a=self.$noheader())===!1||$a===nil)&&(output_buffer.$append('\n<div id="header">'),self.$doctype()["$=="]("manpage")?(output_buffer.$append("\n<h1>"),output_buffer["$append="](self.$doctitle()),output_buffer.$append(" Manual Page</h1>"),$c=self["$attr?"]("toc"),($a=$c!==!1&&$c!==nil?self["$attr?"]("toc-placement","auto"):$c)!==!1&&$a!==nil&&(output_buffer.$append('\n<div id="toc" class="'),output_buffer["$append="](self.$attr("toc-class","toc")),output_buffer.$append('">\n<div id="toctitle">'),output_buffer["$append="](self.$attr("toc-title")),output_buffer.$append("</div>\n"),output_buffer["$append="]((null==($a=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$a)._scope.HTML5._scope.DocumentTemplate.$outline(self,self.$attr("toclevels",2).$to_i())),output_buffer.$append("\n</div>")),output_buffer.$append("\n<h2>"),output_buffer["$append="](self.$attr("manname-title")),output_buffer.$append('</h2>\n<div class="sectionbody">\n<p>'),output_buffer["$append="](""+self.$attr("manname")+" - "+self.$attr("manpurpose")),output_buffer.$append("</p>\n</div>")):(($a=self["$has_header?"]())!==!1&&$a!==nil&&((($a=self.$notitle())===!1||$a===nil)&&(output_buffer.$append("\n<h1>"),output_buffer["$append="](self.header.$title()),output_buffer.$append("</h1>")),($a=self["$attr?"]("author"))!==!1&&$a!==nil&&(output_buffer.$append('\n<span id="author" class="author">'),output_buffer["$append="](self.$attr("author")),output_buffer.$append("</span><br>"),($a=self["$attr?"]("email"))!==!1&&$a!==nil&&(output_buffer.$append('\n<span id="email" class="email">'),output_buffer["$append="](self.$sub_macros(self.$attr("email"))),output_buffer.$append("</span><br>")),(authorcount=self.$attr("authorcount").$to_i())["$>"](1)&&($a=($c=$range(2,authorcount,!1)).$each,$a._p=(TMP_3=function(idx){var $a,self=TMP_3._s||this;return null==idx&&(idx=nil),output_buffer.$append('\n<span id="author'),output_buffer["$append="](idx),output_buffer.$append('" class="author">'),output_buffer["$append="](self.$attr("author_"+idx)),output_buffer.$append("</span><br>"),($a=self["$attr?"]("email_"+idx))!==!1&&$a!==nil?(output_buffer.$append('\n<span id="email'),output_buffer["$append="](idx),output_buffer.$append('" class="email">'),output_buffer["$append="](self.$sub_macros(self.$attr("email_"+idx))),output_buffer.$append("</span><br>")):nil},TMP_3._s=self,TMP_3),$a).call($c)),($a=self["$attr?"]("revnumber"))!==!1&&$a!==nil&&(output_buffer.$append('\n<span id="revnumber">'),output_buffer["$append="]((($a=self.$attr("version-label"))!==!1&&$a!==nil?$a:"").$downcase()),output_buffer.$append(" "),output_buffer["$append="](self.$attr("revnumber")),output_buffer.$append(""),output_buffer["$append="](function(){return($a=self["$attr?"]("revdate"))!==!1&&$a!==nil?",":""}()),output_buffer.$append("</span>")),($a=self["$attr?"]("revdate"))!==!1&&$a!==nil&&(output_buffer.$append('\n<span id="revdate">'),output_buffer["$append="](self.$attr("revdate")),output_buffer.$append("</span>")),($a=self["$attr?"]("revremark"))!==!1&&$a!==nil&&(output_buffer.$append('\n<br>\n<span id="revremark">'),output_buffer["$append="](self.$attr("revremark")),output_buffer.$append("</span>"))),$d=self["$attr?"]("toc"),($a=$d!==!1&&$d!==nil?self["$attr?"]("toc-placement","auto"):$d)!==!1&&$a!==nil&&(output_buffer.$append('\n<div id="toc" class="'),output_buffer["$append="](self.$attr("toc-class","toc")),output_buffer.$append('">\n<div id="toctitle">'),output_buffer["$append="](self.$attr("toc-title")),output_buffer.$append("</div>\n"),output_buffer["$append="]((null==($a=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$a)._scope.HTML5._scope.DocumentTemplate.$outline(self,self.$attr("toclevels",2).$to_i())),output_buffer.$append("\n</div>"))),output_buffer.$append("\n</div>")),output_buffer.$append('\n<div id="content">\n'),output_buffer["$append="](self.$content()),output_buffer.$append("\n</div>"),$e=self["$footnotes?"](),(($a=($d=$e===nil||$e===!1)!=!1&&$d!==nil?$d:self["$attr?"]("nofootnotes"))===!1||$a===nil)&&(output_buffer.$append('\n<div id="footnotes">\n<hr>'),($a=($d=self.$footnotes()).$each,$a._p=(TMP_4=function(fn){TMP_4._s||this;return null==fn&&(fn=nil),output_buffer.$append('\n<div class="footnote" id="_footnote_'),output_buffer["$append="](fn.$index()),output_buffer.$append('">\n<a href="#_footnoteref_'),output_buffer["$append="](fn.$index()),output_buffer.$append('">'),output_buffer["$append="](fn.$index()),output_buffer.$append("</a>. "),output_buffer["$append="](fn.$text()),output_buffer.$append("\n</div>")},TMP_4._s=self,TMP_4),$a).call($d),output_buffer.$append("\n</div>")),output_buffer.$append(""),(($a=self.$nofooter())===!1||$a===nil)&&(output_buffer.$append('\n<div id="footer">\n<div id="footer-text">'),($a=self["$attr?"]("revnumber"))!==!1&&$a!==nil&&(output_buffer.$append("\n"),output_buffer["$append="](""+self.$attr("version-label")+" "+self.$attr("revnumber")),output_buffer.$append("<br>")),($a=self["$attr?"]("last-update-label"))!==!1&&$a!==nil&&(output_buffer.$append("\n"),output_buffer["$append="](""+self.$attr("last-update-label")+" "+self.$attr("docdatetime")),output_buffer.$append("")),output_buffer.$append(""),output_buffer["$append="](function(){return($a=(docinfo_content=self.$docinfo("footer"))["$empty?"]())!==!1&&$a!==nil?nil:"\n"+docinfo_content}()),output_buffer.$append("\n</div>\n</div>")),output_buffer.$append("\n</body>\n</html>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/document")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$notitle","$has_header?","$append=","$title","$content","$footnotes?","$attr?","$each","$index","$text","$footnotes","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,$c,TMP_2,self=TMP_1._s||this;return null==self.id&&(self.id=nil),null==self.header&&(self.header=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append(""),$c=self.$notitle(),$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?self["$has_header?"]():$b)!==!1&&$a!==nil&&(output_buffer.$append("<h1"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(">"),output_buffer["$append="](self.header.$title()),output_buffer.$append("</h1>")),output_buffer.$append(""),output_buffer["$append="](self.$content()),output_buffer.$append(""),$b=self["$footnotes?"](),($a=$b!==!1&&$b!==nil?($c=self["$attr?"]("nofootnotes"),$c===nil||$c===!1):$b)!==!1&&$a!==nil&&(output_buffer.$append('\n<div id="footnotes">\n<hr>'),($a=($b=self.$footnotes()).$each,$a._p=(TMP_2=function(fn){TMP_2._s||this;return null==fn&&(fn=nil),output_buffer.$append(""),output_buffer["$append="]('\n<div class="footnote" id="_footnote_'+fn.$index()+'">\n<a href="#_footnoteref_'+fn.$index()+'">'+fn.$index()+"</a>. "+fn.$text()+"\n</div>"),output_buffer.$append("")},TMP_2._s=self,TMP_2),$a).call($b),output_buffer.$append("\n</div>")),output_buffer.$append("\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/embedded")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$===","$attr","$append=","$tr_s","$fetch","$[]","$references","$role?","$role","$attr?","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,self=TMP_1._s||this,$case=nil,refid=nil;return null==self.type&&(self.type=nil),null==self.target&&(self.target=nil),null==self.text&&(self.text=nil),null==self.document&&(self.document=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append(""),$case=self.type,"xref"["$==="]($case)?(refid=($a=self.$attr("refid"))!==!1&&$a!==nil?$a:self.target,output_buffer.$append(""),output_buffer["$append="]('<a href="'+self.target+'">'+(($a=self.text)!==!1&&$a!==nil?$a:self.document.$references()["$[]"]("ids").$fetch(refid,"["+refid+"]").$tr_s("\n"," "))+"</a>"),output_buffer.$append("")):"ref"["$==="]($case)?(output_buffer.$append(""),output_buffer["$append="]('<a id="'+self.target+'"></a>'),output_buffer.$append("")):"bibref"["$==="]($case)?(output_buffer.$append(""),output_buffer["$append="]('<a id="'+self.target+'"></a>['+self.target+"]"),output_buffer.$append("")):(output_buffer.$append(""),output_buffer["$append="]('<a href="'+self.target+'"'+function(){return($a=self["$role?"]())!==!1&&$a!==nil?' class="'+self.$role()+'"':nil}()+function(){return($a=self["$attr?"]("window"))!==!1&&$a!==nil?' target="'+self.$attr("window")+'"':nil}()+">"+self.text+"</a>"),output_buffer.$append("")),output_buffer.$append("\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/inline_anchor")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var self=TMP_1._s||this;return null==self.text&&(self.text=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer["$append="](self.text),output_buffer.$append("<br>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/inline_break")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var self=TMP_1._s||this;return null==self.text&&(self.text=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append('<b class="button">'),output_buffer["$append="](self.text),output_buffer.$append("</b>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/inline_button")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$attr?","$append=","$icon_uri","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,self=TMP_1._s||this;return null==self.document&&(self.document=nil),null==self.text&&(self.text=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append(""),($a=self.document["$attr?"]("icons","font"))!==!1&&$a!==nil?(output_buffer.$append('<i class="conum" data-value="'),output_buffer["$append="](self.text),output_buffer.$append('"></i><b>('),output_buffer["$append="](self.text),output_buffer.$append(")</b>")):($a=self.document["$attr?"]("icons"))!==!1&&$a!==nil?(output_buffer.$append('<img src="'),output_buffer["$append="](self.$icon_uri("callouts/"+self.text)),output_buffer.$append('" alt="'),output_buffer["$append="](self.text),output_buffer.$append('">')):(output_buffer.$append("<b>("),output_buffer["$append="](self.text),output_buffer.$append(")</b>")),output_buffer.$append("\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/inline_callout")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$attr","$==","$append=","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,self=TMP_1._s||this,idx=nil;return null==self.type&&(self.type=nil),null==self.id&&(self.id=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append(""),idx=self.$attr("index"),self.type["$=="]("xref")?(output_buffer.$append(""),output_buffer["$append="]('<span class="footnoteref">[<a class="footnote" href="#_footnote_'+idx+'" title="View footnote.">'+idx+"</a>]</span>"),output_buffer.$append("")):(output_buffer.$append(""),output_buffer["$append="]('<span class="footnote"'+($a=self.id,$a!==!1&&$a!==nil?' id="_footnote_'+self.id+'"':$a)+'>[<a id="_footnoteref_'+idx+'" class="footnote" href="#_footnote_'+idx+'" title="View footnote.">'+idx+"</a>]</span>"),output_buffer.$append("")),output_buffer.$append("\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/inline_footnote")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$*","$compact","$role","$attr?","$attr","$==","$<<","$icon_uri","$image_uri","$join","$map"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,$c,TMP_2,self=TMP_1._s||this,style_class=nil,title_attr=nil,img=nil,img_src=nil,img_attrs=nil;return null==self.type&&(self.type=nil),null==self.document&&(self.document=nil),null==self.target&&(self.target=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append('<span class="'),output_buffer["$append="]([self.type,self.$role()].$compact()["$*"](" ")),output_buffer.$append('"'),output_buffer["$append="](function(){return($a=self["$attr?"]("float"))!==!1&&$a!==nil?' style="float: '+self.$attr("float")+';"':nil}()),output_buffer.$append(">"),($a=($b=self.type["$=="]("icon"))?self.document["$attr?"]("icons","font"):$b)!==!1&&$a!==nil?(style_class=["icon-"+self.target],($a=self["$attr?"]("size"))!==!1&&$a!==nil&&style_class["$<<"]("icon-"+self.$attr("size")),($a=self["$attr?"]("rotate"))!==!1&&$a!==nil&&style_class["$<<"]("icon-rotate-"+self.$attr("rotate")),($a=self["$attr?"]("flip"))!==!1&&$a!==nil&&style_class["$<<"]("icon-flip-"+self.$attr("flip")),title_attr=function(){return($a=self["$attr?"]("title"))!==!1&&$a!==nil?' title="'+self.$attr("title")+'"':nil}(),img='<i class="'+style_class["$*"](" ")+'"'+title_attr+"></i>"):($a=($b=self.type["$=="]("icon"))?($c=self.document["$attr?"]("icons"),$c===nil||$c===!1):$b)!==!1&&$a!==nil?img="["+self.$attr("alt")+"]":(img_src=function(){return self.type["$=="]("icon")?self.$icon_uri(self.target):self.$image_uri(self.target)}(),img_attrs=($a=($b=["alt","width","height","title"]).$map,$a._p=(TMP_2=function(name){var $a,self=TMP_2._s||this;return null==name&&(name=nil),($a=self["$attr?"](name))!==!1&&$a!==nil?" "+name+'="'+self.$attr(name)+'"':nil},TMP_2._s=self,TMP_2),$a).call($b).$join(),img='<img src="'+img_src+'"'+img_attrs+">"),($a=self["$attr?"]("link"))!==!1&&$a!==nil?(output_buffer.$append('<a class="image" href="'),output_buffer["$append="](self.$attr("link")),output_buffer.$append('"'),output_buffer["$append="](function(){return($a=self["$attr?"]("window"))!==!1&&$a!==nil?' target="'+self.$attr("window")+'"':nil}()),output_buffer.$append(">"),output_buffer["$append="](img),output_buffer.$append("</a>")):(output_buffer.$append(""),output_buffer["$append="](img),output_buffer.$append("")),output_buffer.$append("</span>\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/inline_image")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$==","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var self=TMP_1._s||this;return null==self.type&&(self.type=nil),null==self.text&&(self.text=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append(""),output_buffer["$append="](function(){return self.type["$=="]("visible")?self.text:nil}()),output_buffer.$append("\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/inline_indexterm")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$attr","$==","$size","$append=","$first","$map","$+","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,TMP_2,self=TMP_1._s||this,keys=nil,idx=nil;return null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append(""),keys=self.$attr("keys"),keys.$size()["$=="](1)?(output_buffer.$append("<kbd>"),output_buffer["$append="](keys.$first()),output_buffer.$append("</kbd>")):(output_buffer.$append('<kbd class="keyseq">'),idx=0,($a=($b=keys).$map,$a._p=(TMP_2=function(key){TMP_2._s||this;return null==key&&(key=nil),output_buffer.$append(""),output_buffer["$append="](function(){return(idx=idx["$+"](1))["$=="](1)?nil:"+"}()),output_buffer.$append("<kbd>"),output_buffer["$append="](key),output_buffer.$append("</kbd>")},TMP_2._s=self,TMP_2),$a).call($b),output_buffer.$append("</kbd>")),output_buffer.$append("\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/inline_kbd")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$attr","$empty?","$chop","$join","$map","$append=","$nil?"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,TMP_2,$c,self=TMP_1._s||this,menu=nil,submenus=nil,menuitem=nil,submenu_path=nil;return null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append(""),menu=self.$attr("menu"),submenus=self.$attr("submenus"),menuitem=self.$attr("menuitem"),$b=submenus["$empty?"](),($a=$b===nil||$b===!1)!=!1&&$a!==nil?(submenu_path=($a=($b=submenus).$map,$a._p=(TMP_2=function(submenu){TMP_2._s||this;return null==submenu&&(submenu=nil),'<span class="submenu">'+submenu+"</span>&#160;&#9656; "},TMP_2._s=self,TMP_2),$a).call($b).$join().$chop(),output_buffer.$append('<span class="menuseq"><span class="menu">'),output_buffer["$append="](menu),output_buffer.$append("</span>&#160;&#9656; "),output_buffer["$append="](submenu_path),output_buffer.$append(' <span class="menuitem">'),output_buffer["$append="](menuitem),output_buffer.$append("</span></span>")):($c=menuitem["$nil?"](),($a=$c===nil||$c===!1)!=!1&&$a!==nil?(output_buffer.$append('<span class="menuseq"><span class="menu">'),output_buffer["$append="](menu),output_buffer.$append('</span>&#160;&#9656; <span class="menuitem">'),output_buffer["$append="](menuitem),output_buffer.$append("</span></span>")):(output_buffer.$append('<span class="menu">'),output_buffer["$append="](menu),output_buffer.$append("</span>"))),output_buffer.$append("\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/inline_menu")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$append=","$role","$===","$[]","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,self=TMP_1._s||this,class_attr=nil,style_class=nil,$case=nil,open=nil,close=nil;return null==self.id&&(self.id=nil),null==self.type&&(self.type=nil),null==self.text&&(self.text=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append(""),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?'<a id="'+self.id+'"></a>':$a)),output_buffer.$append(""),class_attr=function(){return($a=style_class=self.$role())!==!1&&$a!==nil?' class="'+style_class+'"':nil}(),$case=self.type,"emphasis"["$==="]($case)?(output_buffer.$append(""),output_buffer["$append="]("<em"+class_attr+">"+self.text+"</em>"),output_buffer.$append("")):"strong"["$==="]($case)?(output_buffer.$append(""),output_buffer["$append="]("<strong"+class_attr+">"+self.text+"</strong>"),output_buffer.$append("")):"monospaced"["$==="]($case)?(output_buffer.$append(""),output_buffer["$append="]("<code"+class_attr+">"+self.text+"</code>"),output_buffer.$append("")):"superscript"["$==="]($case)?(output_buffer.$append(""),output_buffer["$append="]("<sup"+class_attr+">"+self.text+"</sup>"),output_buffer.$append("")):"subscript"["$==="]($case)?(output_buffer.$append(""),output_buffer["$append="]("<sub"+class_attr+">"+self.text+"</sub>"),output_buffer.$append("")):"double"["$==="]($case)?(output_buffer.$append(""),output_buffer["$append="](function(){return class_attr!==!1&&class_attr!==nil?"<span"+class_attr+">&#8220;"+self.text+"&#8221;</span>":"&#8220;"+self.text+"&#8221;"}()),output_buffer.$append("")):"single"["$==="]($case)?(output_buffer.$append(""),output_buffer["$append="](function(){return class_attr!==!1&&class_attr!==nil?"<span"+class_attr+">&#8216;"+self.text+"&#8217;</span>":"&#8216;"+self.text+"&#8217;"}()),output_buffer.$append("")):"asciimath"["$==="]($case)||"latexmath"["$==="]($case)?($a=$opal.to_ary((null==($b=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$b)._scope.INLINE_MATH_DELIMITERS["$[]"](self.type)),open=null==$a[0]?nil:$a[0],close=null==$a[1]?nil:$a[1],output_buffer.$append(""),output_buffer["$append="](""+open+self.text+close),output_buffer.$append("")):(output_buffer.$append(""),output_buffer["$append="](function(){return class_attr!==!1&&class_attr!==nil?"<span"+class_attr+">"+self.text+"</span>":self.text}()),output_buffer.$append("")),output_buffer.$append("\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/inline_quoted")}(Opal),function($opal){{var $a,$b,TMP_1,self=$opal.top,$scope=$opal,nil=$opal.nil;$opal.breaker,$opal.slice}return $opal.add_stubs(["$new","$append","$zero?","$attr?","$append=","$title","$content","$nil?","$<=","$to_i","$attr","$sectnum","$+","$*","$compact","$role","$captioned_title","$==","$join"]),($a=($b=$scope.Template).$new,$a._p=(TMP_1=function(output_buffer){var $a,$b,$c,self=TMP_1._s||this,slevel=nil,anchor=nil,link_start=nil,link_end=nil,snum=nil,hlevel=nil;return null==self.level&&(self.level=nil),null==self.special&&(self.special=nil),null==self.id&&(self.id=nil),null==self.document&&(self.document=nil),null==self.numbered&&(self.numbered=nil),null==self.caption&&(self.caption=nil),null==output_buffer&&(output_buffer=nil),output_buffer.$append(""),output_buffer.$append(""),slevel=function(){return $b=self.level["$zero?"](),($a=$b!==!1&&$b!==nil?self.special:$b)!==!1&&$a!==nil?1:self.level}(),anchor=link_start=link_end=nil,($a=self.id)!==!1&&$a!==nil&&(($a=self.document["$attr?"]("sectanchors"))!==!1&&$a!==nil?anchor='<a class="anchor" href="#'+self.id+'"></a>':($a=self.document["$attr?"]("sectlinks"))!==!1&&$a!==nil&&(link_start='<a class="link" href="#'+self.id+'">',link_end="</a>")),($a=slevel["$zero?"]())!==!1&&$a!==nil?(output_buffer.$append("<h1"),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(' class="sect0">'),output_buffer["$append="](""+anchor+link_start+self.$title()+link_end),output_buffer.$append("</h1>\n"),output_buffer["$append="](self.$content()),output_buffer.$append("")):(snum=function(){return $c=self.numbered,$b=$c!==!1&&$c!==nil?self.caption["$nil?"]():$c,($a=$b!==!1&&$b!==nil?slevel["$<="](self.document.$attr("sectnumlevels",3).$to_i()):$b)!==!1&&$a!==nil?""+self.$sectnum()+" ":nil}(),hlevel=slevel["$+"](1),output_buffer.$append('<div class="'),output_buffer["$append="](["sect"+slevel,self.$role()].$compact()["$*"](" ")),output_buffer.$append('">\n<h'),output_buffer["$append="](hlevel),output_buffer.$append(""),output_buffer["$append="](($a=self.id,$a!==!1&&$a!==nil?' id="'+self.id+'"':$a)),output_buffer.$append(">"),output_buffer["$append="](""+anchor+link_start+snum+self.$captioned_title()+link_end),output_buffer.$append("</h"),output_buffer["$append="](hlevel),output_buffer.$append(">"),slevel["$=="](1)?(output_buffer.$append('\n<div class="sectionbody">\n'),output_buffer["$append="](self.$content()),output_buffer.$append("\n</div>")):(output_buffer.$append("\n"),output_buffer["$append="](self.$content()),output_buffer.$append("")),output_buffer.$append("\n</div>")),output_buffer.$append("\n"),output_buffer.$join()},TMP_1._s=self,TMP_1),$a).call($b,"asciidoctor/backends/erb/html5/section")}(Opal),function($opal){$opal.top,$opal.nil,$opal.breaker,$opal.slice;return!0}(Opal),function($opal){var $a,self=$opal.top,$scope=$opal,nil=$opal.nil,$gvars=($opal.breaker,$opal.slice,$opal.gvars),$module=$opal.module,$hash2=$opal.hash2,$range=$opal.range;return(($a=null!=$scope.RUBY_ENGINE)==!1||$a===nil)&&$opal.cdecl($scope,"RUBY_ENGINE","unknown"),$opal.cdecl($scope,"RUBY_ENGINE_OPAL",$scope.RUBY_ENGINE["$=="]("opal")),$opal.cdecl($scope,"RUBY_ENGINE_JRUBY",$scope.RUBY_ENGINE["$=="]("jruby")),($a=$scope.RUBY_ENGINE_OPAL)!==!1&&$a!==nil,$gvars[":"].$unshift($scope.File.$dirname("asciidoctor")),function($base){var $a,$b,$c,TMP_1,TMP_2,$d,self=$module($base,"Asciidoctor"),$scope=(self._proto,self._scope);($a=null==($b=$opal.Object._scope.RUBY_ENGINE_OPAL)?$opal.cm("RUBY_ENGINE_OPAL"):$b)===!1||$a===nil,function($base){var self=$module($base,"SafeMode"),$scope=(self._proto,self._scope);$opal.cdecl($scope,"UNSAFE",0),$opal.cdecl($scope,"SAFE",1),$opal.cdecl($scope,"SERVER",10),$opal.cdecl($scope,"SECURE",20)}(self),function($base){{var self=$module($base,"Compliance");self._proto,self._scope}self.block_terminates_paragraph=!0,function(self){self._scope,self._proto;return self.$attr_accessor("block_terminates_paragraph")}(self.$singleton_class()),self.strict_verbatim_paragraphs=!0,function(self){self._scope,self._proto;return self.$attr_accessor("strict_verbatim_paragraphs")}(self.$singleton_class()),self.underline_style_section_titles=!0,function(self){self._scope,self._proto;return self.$attr_accessor("underline_style_section_titles")}(self.$singleton_class()),self.unwrap_standalone_preamble=!0,function(self){self._scope,self._proto;return self.$attr_accessor("unwrap_standalone_preamble")}(self.$singleton_class()),self.attribute_missing="skip",function(self){self._scope,self._proto;return self.$attr_accessor("attribute_missing")}(self.$singleton_class()),self.attribute_undefined="drop-line",function(self){self._scope,self._proto;return self.$attr_accessor("attribute_undefined")}(self.$singleton_class()),self.markdown_syntax=!0,function(self){self._scope,self._proto;return self.$attr_accessor("markdown_syntax")}(self.$singleton_class())}(self),$opal.cdecl($scope,"LIB_PATH",(null==($a=$opal.Object._scope.File)?$opal.cm("File"):$a).$expand_path((null==($a=$opal.Object._scope.File)?$opal.cm("File"):$a).$dirname("asciidoctor"))),$opal.cdecl($scope,"ROOT_PATH",(null==($a=$opal.Object._scope.File)?$opal.cm("File"):$a).$dirname($scope.LIB_PATH)),$opal.cdecl($scope,"USER_HOME",function(){return(null==($a=$opal.Object._scope.RUBY_VERSION)?$opal.cm("RUBY_VERSION"):$a)["$>="]("1.9")?(null==($a=$opal.Object._scope.Dir)?$opal.cm("Dir"):$a).$home():$scope.ENV["$[]"]("HOME")}()),$opal.cdecl($scope,"COERCE_ENCODING",($b=null==($c=$opal.Object._scope.RUBY_ENGINE_OPAL)?$opal.cm("RUBY_ENGINE_OPAL"):$c,$a=$b===nil||$b===!1,$a!==!1&&$a!==nil?(null==($b=$opal.Object._scope.RUBY_VERSION)?$opal.cm("RUBY_VERSION"):$b)["$>="]("1.9"):$a)),$opal.cdecl($scope,"FORCE_ENCODING",($a=$scope.COERCE_ENCODING,$a!==!1&&$a!==nil?($b=(null==($c=$opal.Object._scope.Encoding)?$opal.cm("Encoding"):$c).$default_external()["$=="]((null==($c=$opal.Object._scope.Encoding)?$opal.cm("Encoding"):$c)._scope.UTF_8),$b===nil||$b===!1):$a)),$opal.cdecl($scope,"BOM_BYTES_UTF_8","xefxbbxbf".$bytes().$to_a()),$opal.cdecl($scope,"BOM_BYTES_UTF_16LE","xffxfe".$bytes().$to_a()),$opal.cdecl($scope,"BOM_BYTES_UTF_16BE","xfexff".$bytes().$to_a()),$opal.cdecl($scope,"FORCE_UNICODE_LINE_LENGTH",(null==($a=$opal.Object._scope.RUBY_VERSION)?$opal.cm("RUBY_VERSION"):$a)["$<"]("1.9")),$opal.cdecl($scope,"EOL","\n"),$opal.cdecl($scope,"LINE_SPLIT",/\n/),$opal.cdecl($scope,"DEFAULT_DOCTYPE","article"),$opal.cdecl($scope,"DEFAULT_BACKEND","html5"),$opal.cdecl($scope,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),$opal.cdecl($scope,"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),$opal.cdecl($scope,"BACKEND_ALIASES",$hash2(["html","docbook"],{html:"html5",docbook:"docbook45"})),$opal.cdecl($scope,"DEFAULT_PAGE_WIDTHS",$hash2(["docbook"],{docbook:425})),$opal.cdecl($scope,"DEFAULT_EXTENSIONS",$hash2(["html","docbook","asciidoc","markdown"],{html:".html",docbook:".xml",asciidoc:".ad",markdown:".md"})),$opal.cdecl($scope,"ASCIIDOC_EXTENSIONS",$hash2([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0})),$opal.cdecl($scope,"SECTION_LEVELS",$hash2(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),$opal.cdecl($scope,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),$opal.cdecl($scope,"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),$opal.cdecl($scope,"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),$opal.cdecl($scope,"DELIMITED_BLOCKS",$hash2(["--","----","....","====","****","____",'""',"++++","|===",",===",":===","!===","////","```","~~~"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",(null==($a=$opal.Object._scope.Set)?$opal.cm("Set"):$a).$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["math","latexmath","asciimath"].$to_set()],"|===":["table",(null==($a=$opal.Object._scope.Set)?$opal.cm("Set"):$a).$new()],",===":["table",(null==($a=$opal.Object._scope.Set)?$opal.cm("Set"):$a).$new()],":===":["table",(null==($a=$opal.Object._scope.Set)?$opal.cm("Set"):$a).$new()],"!===":["table",(null==($a=$opal.Object._scope.Set)?$opal.cm("Set"):$a).$new()],"////":["comment",(null==($a=$opal.Object._scope.Set)?$opal.cm("Set"):$a).$new()],"```":["fenced_code",(null==($a=$opal.Object._scope.Set)?$opal.cm("Set"):$a).$new()],"~~~":["fenced_code",(null==($a=$opal.Object._scope.Set)?$opal.cm("Set"):$a).$new()]})),$opal.cdecl($scope,"DELIMITED_BLOCK_LEADERS",($a=($b=$scope.DELIMITED_BLOCKS.$keys()).$map,$a._p=(TMP_1=function(key){TMP_1._s||this;return null==key&&(key=nil),key["$[]"]($range(0,1,!1))},TMP_1._s=self,TMP_1),$a).call($b).$to_set()),$opal.cdecl($scope,"BREAK_LINES",$hash2(["'","-","*","_","<"],{"'":"ruler","-":"ruler","*":"ruler",_:"ruler","<":"page_break"})),$opal.cdecl($scope,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),$opal.cdecl($scope,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),$opal.cdecl($scope,"ORDERED_LIST_MARKER_PATTERNS",$hash2(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),$opal.cdecl($scope,"ORDERED_LIST_KEYWORDS",$hash2(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),$opal.cdecl($scope,"LIST_CONTINUATION","+"),$opal.cdecl($scope,"LINE_BREAK"," +"),$opal.cdecl($scope,"LINE_FEED_ENTITY","&#10;"),$opal.cdecl($scope,"BLOCK_MATH_DELIMITERS",$hash2(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),$opal.cdecl($scope,"INLINE_MATH_DELIMITERS",$hash2(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),$opal.cdecl($scope,"FLEXIBLE_ATTRIBUTES",["numbered"]),($a=null==($c=$opal.Object._scope.RUBY_ENGINE_OPAL)?$opal.cm("RUBY_ENGINE_OPAL"):$c)!==!1&&$a!==nil?($opal.cdecl($scope,"CC_ALPHA","a-zA-Z"),$opal.cdecl($scope,"CC_ALNUM","a-zA-Z0-9"),$opal.cdecl($scope,"CC_BLANK","[ 	]"),$opal.cdecl($scope,"CC_GRAPH","[x21-x7E]"),$opal.cdecl($scope,"CC_EOL","(?=\n|$)")):($opal.cdecl($scope,"CC_ALPHA","[:alpha:]"),$opal.cdecl($scope,"CC_ALNUM","[:alnum:]"),$opal.cdecl($scope,"CC_BLANK","[[:blank:]]"),$opal.cdecl($scope,"CC_GRAPH","[[:graph:]]"),$opal.cdecl($scope,"CC_EOL","$")),$opal.cdecl($scope,"BLANK_LINE_PATTERN",new RegExp("^"+$scope.CC_BLANK+"*\\n")),$opal.cdecl($scope,"PASS_PLACEHOLDER",$hash2(["start","end","match","match_syn"],{start:function(){return($a=null==($c=$opal.Object._scope.RUBY_ENGINE_OPAL)?$opal.cm("RUBY_ENGINE_OPAL"):$c)!==!1&&$a!==nil?150..$chr():"u0096"
}(),end:function(){return($a=null==($c=$opal.Object._scope.RUBY_ENGINE_OPAL)?$opal.cm("RUBY_ENGINE_OPAL"):$c)!==!1&&$a!==nil?151..$chr():"u0097"}(),match:/\u0096(\d+)\u0097/,match_syn:/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/})),$opal.cdecl($scope,"REGEXP",$hash2(["admonition_inline","anchor","anchor_embedded","anchor_macro","any_blk","any_list","attr_entry","blk_attr_list","attr_line","attr_ref","author_info","biblio_macro","callout_render","callout_quick_scan","callout_scan","colist","comment_blk","comment","ssv_or_csv_delim","space_delim","kbd_delim","escaped_space","digits","dlist","dlist_siblings","illegal_sectid_chars","footnote_macro","generic_blk_macro","kbd_btn_macro","menu_macro","menu_inline_macro","media_blk_macro","image_macro","indexterm_macro","leading_blanks","leading_parent_dirs","line_break","link_inline","link_macro","email_inline","lit_par","olist","break_line","break_line_plus","pass_macro","inline_math_macro","pass_macro_basic","pass_lit","revision_info","single_quote_esc","illegal_attr_name_chars","table_colspec","table_cellspec","trailing_digit","blk_title","dbl_quoted","m_dbl_quoted","section_float_style","section_title","section_name","section_underline","toc","ulist","xref_macro","ifdef_macro","eval_expr","include_macro","uri_sniff","uri_encode_chars","mantitle_manvolnum","manname_manpurpose"],{admonition_inline:new RegExp("^("+$scope.ADMONITION_STYLES.$to_a()["$*"]("|")+"):"+$scope.CC_BLANK),anchor:new RegExp("^\\[\\[(?:|(["+$scope.CC_ALPHA+":_][\\w:.-]*)(?:,"+$scope.CC_BLANK+"*(\\S.*))?)\\]\\]$"),anchor_embedded:new RegExp("^(.*?)"+$scope.CC_BLANK+"+(\\\\)?\\[\\[(["+$scope.CC_ALPHA+":_][\\w:.-]*)(?:,"+$scope.CC_BLANK+"*(\\S.*?))?\\]\\]$"),anchor_macro:new RegExp("\\\\?(?:\\[\\[(["+$scope.CC_ALPHA+":_][\\w:.-]*)(?:,"+$scope.CC_BLANK+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])"),any_blk:/^(?:(?:-|\.|=|\*|_|\+|\/){4,}|[\|,;!]={3,}|(?:`|~){3,}.*)$/,any_list:new RegExp("^(?:<?\\d+>"+$scope.CC_BLANK+"+"+$scope.CC_GRAPH+"|"+$scope.CC_BLANK+"*(?:-|(?:\\*|\\.){1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+$scope.CC_BLANK+"+"+$scope.CC_GRAPH+"|"+$scope.CC_BLANK+"*.*?(?::{2,4}|;;)(?:"+$scope.CC_BLANK+"+"+$scope.CC_GRAPH+"|$))"),attr_entry:new RegExp("^:(!?\\w.*?):(?:"+$scope.CC_BLANK+"+(.*))?$"),blk_attr_list:new RegExp("^\\[(|"+$scope.CC_BLANK+"*[\\w\\{,.#\"'%].*)\\]$"),attr_line:new RegExp("^\\[(|"+$scope.CC_BLANK+"*[\\w\\{,.#\"'%].*|\\[(?:|["+$scope.CC_ALPHA+":_][\\w:.-]*(?:,"+$scope.CC_BLANK+"*\\S.*)?)\\])\\]$"),attr_ref:/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/,author_info:/^(\w[\w\-'.]*)(?: +(\w[\w\-'.]*))?(?: +(\w[\w\-'.]*))?(?: +<([^>]+)>)?$/,biblio_macro:/\\?\[\[\[([\w:][\w:.-]*?)\]\]\]/,callout_render:new RegExp("(?:(?:\\/\\/|#|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+$scope.CC_EOL+")"),callout_quick_scan:new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+$scope.CC_EOL+")"),callout_scan:new RegExp("(?:(?:\\/\\/|#|;;) ?)?(\\\\)?<!?(--|)(\\d+)\\2>(?=(?: ?\\\\?<!?\\2\\d+\\2>)*"+$scope.CC_EOL+")"),colist:new RegExp("^<?(\\d+)>"+$scope.CC_BLANK+"+(.*)"),comment_blk:/^\/{4,}$/,comment:/^\/\/(?:[^\/]|$)/,ssv_or_csv_delim:/,|;/,space_delim:new RegExp("([^\\\\])"+$scope.CC_BLANK+"+"),kbd_delim:new RegExp("(?:\\+|,)(?="+$scope.CC_BLANK+"*[^\\1])"),escaped_space:new RegExp("\\\\("+$scope.CC_BLANK+")"),digits:/^\d+$/,dlist:new RegExp("^(?!\\/\\/)"+$scope.CC_BLANK+"*(.*?)(:{2,4}|;;)(?:"+$scope.CC_BLANK+"+(.*))?$"),dlist_siblings:$hash2(["::",":::","::::",";;"],{"::":new RegExp("^(?!\\/\\/)"+$scope.CC_BLANK+"*((?:.*[^:])?)(::)(?:"+$scope.CC_BLANK+"+(.*))?$"),":::":new RegExp("^(?!\\/\\/)"+$scope.CC_BLANK+"*((?:.*[^:])?)(:::)(?:"+$scope.CC_BLANK+"+(.*))?$"),"::::":new RegExp("^(?!\\/\\/)"+$scope.CC_BLANK+"*((?:.*[^:])?)(::::)(?:"+$scope.CC_BLANK+"+(.*))?$"),";;":new RegExp("^(?!\\/\\/)"+$scope.CC_BLANK+"*(.*)(;;)(?:"+$scope.CC_BLANK+"+(.*))?$")}),illegal_sectid_chars:/&(?:[a-zA-Z]{2,}|#\d{2,4}|#x[a-fA-F0-9]{2,4});|\W+?/,footnote_macro:/\\?(footnote(?:ref)?):\[(.*?[^\\])\]/i,generic_blk_macro:/^(\w[\w\-]*)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/,kbd_btn_macro:/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/,menu_macro:new RegExp("\\\\?menu:(\\w|\\w.*?\\S)\\["+$scope.CC_BLANK+"*(.+?)?\\]"),menu_inline_macro:new RegExp('\\\\?"(\\w[^"]*?'+$scope.CC_BLANK+"*&gt;"+$scope.CC_BLANK+'*[^" \\t][^"]*)"'),media_blk_macro:/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/,image_macro:/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/,indexterm_macro:/\\?(?:(indexterm2?):\[(.*?[^\\])\]|\(\((.+?)\)\)(?!\)))/i,leading_blanks:new RegExp("^("+$scope.CC_BLANK+"*)"),leading_parent_dirs:/^(?:\.\.\/)*/,line_break:new RegExp("^(.*)"+$scope.CC_BLANK+"\\+"+$scope.CC_EOL),link_inline:/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/,link_macro:/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/,email_inline:new RegExp("[\\\\>:]?\\w[\\w.%+-]*@["+$scope.CC_ALNUM+"]["+$scope.CC_ALNUM+".-]*\\.["+$scope.CC_ALPHA+"]{2,4}\\b"),lit_par:new RegExp("^("+$scope.CC_BLANK+"+.*)$"),olist:new RegExp("^"+$scope.CC_BLANK+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+$scope.CC_BLANK+"+(.*)$"),break_line:/^('|<){3,}$/,break_line_plus:/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/,pass_macro:/\\?(?:(\+{3}|\${2})(.*?)\1|pass:([a-z,]*)\[(.*?[^\\])\])/i,inline_math_macro:/\\?((?:latex|ascii)?math):([a-z,]*)\[(.*?[^\\])\]/i,pass_macro_basic:/^pass:([a-z,]*)\[(.*)\]$/,pass_lit:/(^|[^`\w])(?:\[([^\]]+?)\])?(\\?`([^`\s]|[^`\s].*?\S)`)(?![`\w])/i,revision_info:/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/,single_quote_esc:/(\w)\\'(\w)/,illegal_attr_name_chars:/[^\w\-]/,table_colspec:/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/,table_cellspec:$hash2(["start","end"],{start:new RegExp("^"+$scope.CC_BLANK+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?\\|"),end:new RegExp(""+$scope.CC_BLANK+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$")}),trailing_digit:/\d+$/,blk_title:/^\.([^\s.].*)$/,dbl_quoted:/^("|)(.*)\1$/,m_dbl_quoted:/^("|)(.*)\1$/i,section_float_style:/^(?:float|discrete)\b/,section_title:new RegExp("^((?:=|#){1,6})"+$scope.CC_BLANK+"+(\\S.*?)(?:"+$scope.CC_BLANK+"+\\1)?$"),section_name:/^((?=.*\w+.*)[^.].*?)$/,section_underline:/^(?:=|-|~|\^|\+)+$/,toc:/^toc::\[(.*?)\]$/,ulist:new RegExp("^"+$scope.CC_BLANK+"*(-|\\*{1,5})"+$scope.CC_BLANK+"+(.*)$"),xref_macro:/\\?(?:&lt;&lt;([\w":].*?)&gt;&gt;|xref:([\w":].*?)\[(.*?)\])/i,ifdef_macro:/^[\\]?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/,eval_expr:new RegExp("^(\\S.*?)"+$scope.CC_BLANK+"*(==|!=|<=|>=|<|>)"+$scope.CC_BLANK+"*(\\S.*)$"),include_macro:/^\\?include::([^\[]+)\[(.*?)\]$/,uri_sniff:new RegExp("^["+$scope.CC_ALPHA+"]["+$scope.CC_ALNUM+".+-]*:/{0,2}"),uri_encode_chars:/[^\w\-.!~*';:@=+$,()\[\]]/,mantitle_manvolnum:/^(.*)\((.*)\)$/,manname_manpurpose:new RegExp("^(.*?)"+$scope.CC_BLANK+"+-"+$scope.CC_BLANK+"+(.*)$")})),$opal.cdecl($scope,"INTRINSICS",($a=($c=null==($d=$opal.Object._scope.Hash)?$opal.cm("Hash"):$d).$new,$a._p=(TMP_2=function(h,k){TMP_2._s||this;return null==h&&(h=nil),null==k&&(k=nil),$scope.STDERR.$puts("Missing intrinsic: "+k.$inspect()),"{"+k+"}"},TMP_2._s=self,TMP_2),$a).call($c).$merge($hash2(["startsb","endsb","vbar","caret","asterisk","tilde","plus","apostrophe","backslash","backtick","empty","sp","space","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",apostrophe:"'",backslash:"\\",backtick:"`",empty:"",sp:" ",space:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",amp:"&",lt:"<",gt:">"}))),$opal.cdecl($scope,"SPECIAL_CHARS",$hash2(["<",">","&"],{"<":"&lt;",">":"&gt;","&":"&amp;"})),$opal.cdecl($scope,"SPECIAL_CHARS_PATTERN",new RegExp("["+$scope.SPECIAL_CHARS.$keys().$join()+"]")),$opal.cdecl($scope,"QUOTE_SUBS",[["strong","unconstrained",/\\?(?:\[([^\]]+?)\])?\*\*(.+?)\*\*/i],["strong","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?\*(\S|\S.*?\S)\*(?=\W|$)/i],["double","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?``(\S|\S.*?\S)''(?=\W|$)/i],["emphasis","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?'(\S|\S.*?\S)'(?=\W|$)/i],["single","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?`(\S|\S.*?\S)'(?=\W|$)/i],["monospaced","unconstrained",/\\?(?:\[([^\]]+?)\])?\+\+(.+?)\+\+/i],["monospaced","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?\+(\S|\S.*?\S)\+(?=\W|$)/i],["emphasis","unconstrained",/\\?(?:\[([^\]]+?)\])?\_\_(.+?)\_\_/i],["emphasis","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?_(\S|\S.*?\S)_(?=\W|$)/i],["none","unconstrained",/\\?(?:\[([^\]]+?)\])?##(.+?)##/i],["none","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?#(\S|\S.*?\S)#(?=\W|$)/i],["superscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\^(.+?)\^/i],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\~(.+?)\~/i]]),$opal.cdecl($scope,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[/(\w)\\?--(?=\w)/,"&#8212;","leading"],[/\\?\.\.\./,"&#8230;","leading"],[new RegExp("(["+$scope.CC_ALPHA+"])\\\\?'(?!')"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]+|#\d{2,4}|#x[a-fA-F0-9]{2,4});)/,"","bounding"]]),$opal.defs(self,"$load",function(input,options){var $a,$b,$c,$d,TMP_3,TMP_4,TMP_5,$e,self=this,monitor=nil,start=nil,attrs=nil,original_attrs=nil,lines=nil,input_mtime=nil,input_path=nil,docdate=nil,doctime=nil,read_time=nil,doc=nil,parse_time=nil;if(null==options&&(options=$hash2([],{})),($a=monitor=options.$fetch("monitor",!1))!==!1&&$a!==nil&&(start=(null==($a=$opal.Object._scope.Time)?$opal.cm("Time"):$a).$now().$to_f()),$a="attributes",$b=options,attrs=($c=$b["$[]"]($a))!==!1&&$c!==nil?$c:$b["$[]="]($a,$hash2([],{})),(($a=($b=attrs["$is_a?"](null==($c=$opal.Object._scope.Hash)?$opal.cm("Hash"):$c))!==!1&&$b!==nil?$b:($c=null==($d=$opal.Object._scope.RUBY_ENGINE_JRUBY)?$opal.cm("RUBY_ENGINE_JRUBY"):$d,$c!==!1&&$c!==nil?attrs["$is_a?"]((null==($d=$opal.Object._scope.Java)?$opal.cm("Java"):$d)._scope.JavaUtil._scope.Map):$c))===!1||$a===nil)&&(($a=attrs["$is_a?"](null==($b=$opal.Object._scope.Array)?$opal.cm("Array"):$b))!==!1&&$a!==nil?attrs=options["$[]="]("attributes",($a=($b=attrs).$inject,$a._p=(TMP_3=function(accum,entry){var $a,k=(TMP_3._s||this,nil),v=nil;return null==accum&&(accum=nil),null==entry&&(entry=nil),$a=$opal.to_ary(entry.$split("=",2)),k=null==$a[0]?nil:$a[0],v=null==$a[1]?nil:$a[1],accum["$[]="](k,($a=v)!==!1&&$a!==nil?$a:""),accum},TMP_3._s=self,TMP_3),$a).call($b,$hash2([],{}))):($a=attrs["$is_a?"](null==($c=$opal.Object._scope.String)?$opal.cm("String"):$c))!==!1&&$a!==nil?(attrs=attrs.$gsub($scope.REGEXP["$[]"]("space_delim"),"\\10").$gsub($scope.REGEXP["$[]"]("escaped_space"),"1"),attrs=options["$[]="]("attributes",($a=($c=attrs.$split("0")).$inject,$a._p=(TMP_4=function(accum,entry){var $a,k=(TMP_4._s||this,nil),v=nil;return null==accum&&(accum=nil),null==entry&&(entry=nil),$a=$opal.to_ary(entry.$split("=",2)),k=null==$a[0]?nil:$a[0],v=null==$a[1]?nil:$a[1],accum["$[]="](k,($a=v)!==!1&&$a!==nil?$a:""),accum},TMP_4._s=self,TMP_4),$a).call($c,$hash2([],{})))):($d=attrs["$respond_to?"]("keys"),($a=$d!==!1&&$d!==nil?attrs["$respond_to?"]("[]"):$d)!==!1&&$a!==nil?(original_attrs=attrs,attrs=options["$[]="]("attributes",$hash2([],{})),($a=($d=original_attrs.$keys()).$each,$a._p=(TMP_5=function(key){TMP_5._s||this;return null==key&&(key=nil),attrs["$[]="](key,original_attrs["$[]"](key))},TMP_5._s=self,TMP_5),$a).call($d)):self.$raise(null==($a=$opal.Object._scope.ArgumentError)?$opal.cm("ArgumentError"):$a,"illegal type for attributes option: "+attrs.$class().$ancestors()))),lines=nil,($a=input["$is_a?"](null==($e=$opal.Object._scope.File)?$opal.cm("File"):$e))!==!1&&$a!==nil)lines=input.$readlines(),input_mtime=input.$mtime(),input_path=(null==($a=$opal.Object._scope.File)?$opal.cm("File"):$a).$expand_path(input.$path()),attrs["$[]="]("docfile",input_path),attrs["$[]="]("docdir",(null==($a=$opal.Object._scope.File)?$opal.cm("File"):$a).$dirname(input_path)),attrs["$[]="]("docname",(null==($a=$opal.Object._scope.File)?$opal.cm("File"):$a).$basename(input_path,(null==($a=$opal.Object._scope.File)?$opal.cm("File"):$a).$extname(input_path))),attrs["$[]="]("docdate",docdate=input_mtime.$strftime("%Y-%m-%d")),attrs["$[]="]("doctime",doctime=input_mtime.$strftime("%H:%M:%S %Z")),attrs["$[]="]("docdatetime",""+docdate+" "+doctime);else if(($a=input["$respond_to?"]("readlines"))!==!1&&$a!==nil){try{input.$rewind()}catch($err){}lines=input.$readlines()}else($a=input["$is_a?"](null==($e=$opal.Object._scope.String)?$opal.cm("String"):$e))!==!1&&$a!==nil?lines=input.$lines().$entries():($a=input["$is_a?"](null==($e=$opal.Object._scope.Array)?$opal.cm("Array"):$e))!==!1&&$a!==nil?lines=input.$dup():self.$raise(null==($a=$opal.Object._scope.ArgumentError)?$opal.cm("ArgumentError"):$a,"Unsupported input type: "+input.$class());return monitor!==!1&&monitor!==nil&&(read_time=(null==($a=$opal.Object._scope.Time)?$opal.cm("Time"):$a).$now().$to_f()["$-"](start),start=(null==($a=$opal.Object._scope.Time)?$opal.cm("Time"):$a).$now().$to_f()),doc=$scope.Document.$new(lines,options),monitor!==!1&&monitor!==nil&&(parse_time=(null==($a=$opal.Object._scope.Time)?$opal.cm("Time"):$a).$now().$to_f()["$-"](start),monitor["$[]="]("read",read_time),monitor["$[]="]("parse",parse_time),monitor["$[]="]("load",read_time["$+"](parse_time))),doc}),$opal.defs(self,"$load_file",function(filename,options){var $a;return null==options&&(options=$hash2([],{})),(null==($a=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$a).$load((null==($a=$opal.Object._scope.File)?$opal.cm("File"):$a).$new(filename),options)}),$opal.defs(self,"$render",function(input,options){var $a,$b,$c,TMP_6,$d,$e,$f,$g,TMP_7,TMP_8,TMP_9,TMP_10,self=this,in_place=nil,to_file=nil,to_dir=nil,mkdirs=nil,monitor=nil,write_in_place=nil,write_to_target=nil,stream_output=nil,doc=nil,working_dir=nil,jail=nil,start=nil,output=nil,render_time=nil,outfile=nil,write_time=nil,copy_asciidoctor_stylesheet=nil,stylesheet=nil,copy_user_stylesheet=nil,copy_coderay_stylesheet=nil,copy_pygments_stylesheet=nil,outdir=nil,stylesoutdir=nil,stylesheet_src=nil,stylesheet_dst=nil,stylesheet_content=nil;return null==options&&(options=$hash2([],{})),in_place=($a=options.$delete("in_place"))!==!1&&$a!==nil?$a:!1,to_file=options.$delete("to_file"),to_dir=options.$delete("to_dir"),mkdirs=($a=options.$delete("mkdirs"))!==!1&&$a!==nil?$a:!1,monitor=options.$fetch("monitor",!1),write_in_place=($a=in_place!==!1&&in_place!==nil)?input["$is_a?"](null==($b=$opal.Object._scope.File)?$opal.cm("File"):$b):$a,write_to_target=($a=to_file)!==!1&&$a!==nil?$a:to_dir,$b=to_file["$nil?"](),$a=$b===nil||$b===!1,stream_output=$a!==!1&&$a!==nil?to_file["$respond_to?"]("write"):$a,($a=($b=write_in_place!==!1&&write_in_place!==nil)?write_to_target:$b)!==!1&&$a!==nil&&self.$raise(null==($a=$opal.Object._scope.ArgumentError)?$opal.cm("ArgumentError"):$a,"the option :in_place cannot be used with either the :to_dir or :to_file option"),$c=options["$has_key?"]("header_footer"),$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?($c=write_in_place)!==!1&&$c!==nil?$c:write_to_target:$b)!==!1&&$a!==nil&&options["$[]="]("header_footer",!0),doc=(null==($a=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$a).$load(input,options),to_file["$=="]("/dev/null")?doc:(write_in_place!==!1&&write_in_place!==nil?to_file=(null==($a=$opal.Object._scope.File)?$opal.cm("File"):$a).$join((null==($a=$opal.Object._scope.File)?$opal.cm("File"):$a).$dirname(input.$path()),""+doc.$attributes()["$[]"]("docname")+doc.$attributes()["$[]"]("outfilesuffix")):($c=stream_output,$b=$c===nil||$c===!1,($a=$b!==!1&&$b!==nil?write_to_target:$b)!==!1&&$a!==nil&&(working_dir=function(){return(null==($a=$opal.Object._scope.File)?$opal.cm("File"):$a).$expand_path(($a=options["$has_key?"]("base_dir"))!==!1&&$a!==nil?options["$[]"]("base_dir"):(null==($a=$opal.Object._scope.Dir)?$opal.cm("Dir"):$a).$pwd())}(),jail=function(){return doc.$safe()["$>="]($scope.SafeMode._scope.SAFE)?working_dir:nil}(),to_dir!==!1&&to_dir!==nil?(to_dir=doc.$normalize_system_path(to_dir,working_dir,jail,$hash2(["target_name","recover"],{target_name:"to_dir",recover:!1})),to_file!==!1&&to_file!==nil?(to_file=doc.$normalize_system_path(to_file,to_dir,nil,$hash2(["target_name","recover"],{target_name:"to_dir",recover:!1})),to_dir=(null==($a=$opal.Object._scope.File)?$opal.cm("File"):$a).$dirname(to_file)):to_file=(null==($a=$opal.Object._scope.File)?$opal.cm("File"):$a).$join(to_dir,""+doc.$attributes()["$[]"]("docname")+doc.$attributes()["$[]"]("outfilesuffix"))):to_file!==!1&&to_file!==nil&&(to_file=doc.$normalize_system_path(to_file,working_dir,jail,$hash2(["target_name","recover"],{target_name:"to_dir",recover:!1})),to_dir=(null==($a=$opal.Object._scope.File)?$opal.cm("File"):$a).$dirname(to_file)),$b=(null==($c=$opal.Object._scope.File)?$opal.cm("File"):$c)["$directory?"](to_dir),($a=$b===nil||$b===!1)!=!1&&$a!==nil&&(mkdirs!==!1&&mkdirs!==nil?(null==($a=$opal.Object._scope.FileUtils)?$opal.cm("FileUtils"):$a).$mkdir_p(to_dir):self.$raise(null==($a=$opal.Object._scope.IOError)?$opal.cm("IOError"):$a,"target directory does not exist: "+to_dir)))),monitor!==!1&&monitor!==nil&&(start=(null==($a=$opal.Object._scope.Time)?$opal.cm("Time"):$a).$now().$to_f()),output=doc.$render(),monitor!==!1&&monitor!==nil&&(render_time=(null==($a=$opal.Object._scope.Time)?$opal.cm("Time"):$a).$now().$to_f()["$-"](start),monitor["$[]="]("render",render_time),monitor["$[]="]("load_render",monitor["$[]"]("load")["$+"](render_time))),to_file!==!1&&to_file!==nil?(monitor!==!1&&monitor!==nil&&(start=(null==($a=$opal.Object._scope.Time)?$opal.cm("Time"):$a).$now().$to_f()),stream_output!==!1&&stream_output!==nil?(to_file.$write(output.$rstrip()),to_file.$write($scope.EOL)):(($a=($b=null==($c=$opal.Object._scope.File)?$opal.cm("File"):$c).$open,$a._p=(TMP_6=function(file){TMP_6._s||this;return null==file&&(file=nil),file.$write(output)},TMP_6._s=self,TMP_6),$a).call($b,to_file,"w"),doc.$attributes()["$[]="]("outfile",outfile=(null==($a=$opal.Object._scope.File)?$opal.cm("File"):$a).$expand_path(to_file)),doc.$attributes()["$[]="]("outdir",(null==($a=$opal.Object._scope.File)?$opal.cm("File"):$a).$dirname(outfile))),monitor!==!1&&monitor!==nil&&(write_time=(null==($a=$opal.Object._scope.Time)?$opal.cm("Time"):$a).$now().$to_f()["$-"](start),monitor["$[]="]("write",write_time),monitor["$[]="]("total",monitor["$[]"]("load_render")["$+"](write_time))),$g=stream_output,$f=$g===nil||$g===!1,$e=$f!==!1&&$f!==nil?doc.$safe()["$<"]($scope.SafeMode._scope.SECURE):$f,$d=$e!==!1&&$e!==nil?doc["$attr?"]("basebackend-html"):$e,$c=$d!==!1&&$d!==nil?doc["$attr?"]("linkcss"):$d,($a=$c!==!1&&$c!==nil?doc["$attr?"]("copycss"):$c)!==!1&&$a!==nil&&(copy_asciidoctor_stylesheet=$scope.DEFAULT_STYLESHEET_KEYS["$include?"](stylesheet=doc.$attr("stylesheet")),$c=copy_asciidoctor_stylesheet,$a=$c===nil||$c===!1,copy_user_stylesheet=$a!==!1&&$a!==nil?($c=stylesheet.$to_s()["$empty?"](),$c===nil||$c===!1):$a,$a=doc["$attr?"]("source-highlighter","coderay"),copy_coderay_stylesheet=$a!==!1&&$a!==nil?doc.$attr("coderay-css","class")["$=="]("class"):$a,$a=doc["$attr?"]("source-highlighter","pygments"),copy_pygments_stylesheet=$a!==!1&&$a!==nil?doc.$attr("pygments-css","class")["$=="]("class"):$a,($a=($c=($d=($e=copy_asciidoctor_stylesheet)!==!1&&$e!==nil?$e:copy_user_stylesheet)!==!1&&$d!==nil?$d:copy_coderay_stylesheet)!==!1&&$c!==nil?$c:copy_pygments_stylesheet)!==!1&&$a!==nil&&(outdir=doc.$attr("outdir"),stylesoutdir=doc.$normalize_system_path(doc.$attr("stylesdir"),outdir,function(){return doc.$safe()["$>="]($scope.SafeMode._scope.SAFE)?outdir:nil}()),mkdirs!==!1&&mkdirs!==nil&&$scope.Helpers.$mkdir_p(stylesoutdir),copy_asciidoctor_stylesheet!==!1&&copy_asciidoctor_stylesheet!==nil&&($a=($c=null==($d=$opal.Object._scope.File)?$opal.cm("File"):$d).$open,$a._p=(TMP_7=function(f){TMP_7._s||this;return null==f&&(f=nil),f.$write($scope.HTML5.$default_asciidoctor_stylesheet())},TMP_7._s=self,TMP_7),$a).call($c,(null==($d=$opal.Object._scope.File)?$opal.cm("File"):$d).$join(stylesoutdir,$scope.DEFAULT_STYLESHEET_NAME),"w"),copy_user_stylesheet!==!1&&copy_user_stylesheet!==nil&&(stylesheet_src=doc.$normalize_system_path(($a=(stylesheet_src=doc.$attr("copycss"))["$empty?"]())!==!1&&$a!==nil?stylesheet:stylesheet_src),stylesheet_dst=doc.$normalize_system_path(stylesheet,stylesoutdir,function(){return doc.$safe()["$>="]($scope.SafeMode._scope.SAFE)?outdir:nil}()),(($a=($d=stylesheet_src["$=="](stylesheet_dst))!==!1&&$d!==nil?$d:(stylesheet_content=doc.$read_asset(stylesheet_src))["$nil?"]())===!1||$a===nil)&&($a=($d=null==($e=$opal.Object._scope.File)?$opal.cm("File"):$e).$open,$a._p=(TMP_8=function(f){TMP_8._s||this;return null==f&&(f=nil),f.$write(stylesheet_content)},TMP_8._s=self,TMP_8),$a).call($d,stylesheet_dst,"w")),copy_coderay_stylesheet!==!1&&copy_coderay_stylesheet!==nil&&($a=($e=null==($f=$opal.Object._scope.File)?$opal.cm("File"):$f).$open,$a._p=(TMP_9=function(f){TMP_9._s||this;return null==f&&(f=nil),f.$write($scope.HTML5.$default_coderay_stylesheet())},TMP_9._s=self,TMP_9),$a).call($e,(null==($f=$opal.Object._scope.File)?$opal.cm("File"):$f).$join(stylesoutdir,"asciidoctor-coderay.css"),"w"),copy_pygments_stylesheet!==!1&&copy_pygments_stylesheet!==nil&&($a=($f=null==($g=$opal.Object._scope.File)?$opal.cm("File"):$g).$open,$a._p=(TMP_10=function(f){TMP_10._s||this;return null==f&&(f=nil),f.$write($scope.HTML5.$pygments_stylesheet(doc.$attr("pygments-style")))},TMP_10._s=self,TMP_10),$a).call($f,(null==($g=$opal.Object._scope.File)?$opal.cm("File"):$g).$join(stylesoutdir,"asciidoctor-pygments.css"),"w"))),doc):output)}),$opal.defs(self,"$render_file",function(filename,options){var $a;return null==options&&(options=$hash2([],{})),(null==($a=$opal.Object._scope.Asciidoctor)?$opal.cm("Asciidoctor"):$a).$render((null==($a=$opal.Object._scope.File)?$opal.cm("File"):$a).$new(filename),options)}),($a=null==($d=$opal.Object._scope.RUBY_ENGINE_OPAL)?$opal.cm("RUBY_ENGINE_OPAL"):$d)===!1||$a===nil,($a=null==($d=$opal.Object._scope.RUBY_ENGINE_OPAL)?$opal.cm("RUBY_ENGINE_OPAL"):$d)!==!1&&$a!==nil}(self)}(Opal),!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function s(a){var b=a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}function D(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+Math.random()}function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}function jb(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function kb(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function lb(a){var b=gb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function mb(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function nb(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function ob(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pb(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function sb(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function tb(a){var b=l,c=rb[a];return c||(c=sb(a,b),"none"!==c&&c||(qb=(qb||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qb[0].contentDocument,b.write(),b.close(),c=sb(a,b),qb.detach()),rb[a]=c),c}function xb(a,b,c){var d,e,f,g,h=a.style;return c=c||wb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),vb.test(g)&&ub.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function yb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function Fb(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Eb.length;e--;)if(b=Eb[e]+c,b in a)return b;return d}function Gb(a,b,c){var d=Ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Hb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ib(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wb(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xb(a,b,f),(0>e||null==e)&&(e=a.style[b]),vb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Hb(a,b,c||(g?"border":"content"),d,f)+"px"}function Jb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",tb(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Kb(a,b,c,d,e){return new Kb.prototype.init(a,b,c,d,e)}function Sb(){return setTimeout(function(){Lb=void 0}),Lb=n.now()}function Tb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ub(a,b,c){for(var d,e=(Rb[b]||[]).concat(Rb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Vb(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||tb(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Nb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?tb(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ub(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xb(a,b,c){var d,e,f=0,g=Qb.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Lb||Sb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Lb||Sb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wb(k,j.opts.specialEasing);g>f;f++)if(d=Qb[f].call(j,a,k,j.opts))return d;return n.map(k,Ub,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function rc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function sc(a,b,c,d){function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}var e={},f=a===oc;return g(b.dataTypes[0])||!e["*"]&&g("*")}function tc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function uc(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function vc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function Bc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||xc.test(a)?d(a,e):Bc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)
});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Bc(a+"["+e+"]",b[e],c,d)}function Kc(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.1",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g)for(;f>e&&(d=b.apply(a[e],c),d!==!1);e++);else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g)for(;f>e&&(d=b.call(a[e],e,a[e]),d!==!1);e++);else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});var t=function(a){function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||"string"!=typeof a)return d;if(1!==(k=b.nodeType)&&9!==k)return[];if(p&&!e){if(f=_.exec(a))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return I.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return I.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){for(o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;l--;)o[l]=s+qb(o[l]);w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(",")}if(x)try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function gb(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){for(var c=a.split("|"),e=a.length;e--;)d.attrHandle[c[e]]=b}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}function pb(){}function qb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function sb(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++)fb(a,b[d],c);return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=ub(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++)if(c=d.relative[a[i].type])m=[rb(sb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e&&!d.relative[a[e].type];e++);return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){for(m=0;o=a[m++];)if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){for(m=0;o=b[m++];)o(r,s,g,h);if(f){if(p>0)for(;q--;)r[q]||s[q]||(s[q]=G.call(i));s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+-new Date,v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C="undefined",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=N.replace("w","w#"),P="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",Q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),S=new RegExp("^"+M+"*,"+M+"*"),T=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),V=new RegExp(Q),W=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){m()},!1):g.attachEvent&&g.attachEvent("onunload",function(){m()})),c.attributes=ib(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&q.push("[*^$]="+M+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+M+"*(?:value|"+L+")"),a.querySelectorAll(":checked").length||q.push(":checked")}),ib(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+M+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",Q)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0;if(f===g)return kb(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){for(;b=a[f++];)b===a[f]&&(e=d.push(f));for(;e--;)a.splice(d[e],1)}return k=null,a},e=fb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else for(;b=a[d++];)c+=e(b);return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+M+")"+a+"("+M+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[u]||(l[u]={}))[a]=[w,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?hb(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||"")||fb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=lb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=mb(b);return pb.prototype=d.filters=d.pseudos,d.setFilters=new pb,g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=d.preFilter;h;){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fb.error(a):z(a,i).slice(0)},h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){for(b||(b=g(a)),c=b.length;c--;)f=wb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}for(i=X.needsContext.test(a)?0:j.length;i--&&(k=j[i],!d.relative[l=k.type]);)if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a)return I.apply(e,f),e;break}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ib(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||jb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||jb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute("disabled")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){for(var c;(c=n.inArray(b,h,c))>-1;)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var i,j,k,b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}};if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}}),n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()
},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;j--;)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){for(b=(b||"").match(E)||[""],j=b.length;j--;)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){for(l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=p[f++])&&!b.isPropagationStopped();)b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=n.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,c=0;(g=f.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bb=/<([\w:]+)/,cb=/<|&#?\w+;/,db=/<(?:script|style|link)/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/^$|\/(?:java|ecma)script/i,gb=/^true\/(.*)/,hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ib={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td,n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=ob(h),f=ob(a),d=0,e=f.length;e>d;d++)pb(f[d],g[d]);if(b)if(c)for(f=f||ob(a),g=g||ob(h),d=0,e=f.length;e>d;d++)nb(f[d],g[d]);else nb(a,h);return g=ob(h,"script"),g.length>0&&mb(g,!i&&ob(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(cb.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(bb.exec(e)||["",""])[1].toLowerCase(),h=ib[g]||ib._default,f.innerHTML=h[1]+e.replace(ab,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=ob(k.appendChild(e),"script"),i&&mb(f),c))for(j=0;e=f[j++];)fb.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(ob(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&mb(ob(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(ob(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!db.test(a)&&!ib[(bb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(ab,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(ob(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(ob(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&eb.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(ob(c,"script"),kb),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,ob(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,lb),j=0;g>j;j++)h=f[j],fb.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(hb,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qb,rb={},ub=/^margin/,vb=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};!function(){function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");f.style&&(f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f),a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),b}}))}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp("^("+Q+")(.*)$","i"),Bb=new RegExp("^([+-])=("+Q+")","i"),Cb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:"0",fontWeight:"400"},Eb=["Webkit","O","Moz","ms"];n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Bb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),void(null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c))))}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xb(a,b,d)),"normal"===e&&b in Db&&(e=Db[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?zb.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Cb,function(){return Ib(a,b,d)}):Ib(a,b,d):void 0},set:function(a,c,d){var e=d&&wb(a);return Gb(a,c,d?Hb(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=yb(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xb,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ub.test(a)||(n.cssHooks[a+b].set=Gb)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}}),n.Tween=Kb,Kb.prototype={constructor:Kb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Kb.propHooks[this.prop];return a&&a.get?a.get(this):Kb.propHooks._default.get(this)},run:function(a){var b,c=Kb.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Kb.prototype.init,n.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pb=/queueHooks$/,Qb=[Vb],Rb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ob.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Ob.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};n.Animation=n.extend(Xb,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Rb[c]=Rb[c]||[],Rb[c].unshift(b)},prefilter:function(a,b){b?Qb.unshift(a):Qb.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xb(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Tb(b,!0),a,d,e)}}),n.each({slideDown:Tb("show"),slideUp:Tb("hide"),slideToggle:Tb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Lb=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Lb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Mb||(Mb=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Mb),Mb=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Yb,Zb,$b=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;return a&&3!==f&&8!==f&&2!==f?typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Zb:Yb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b)):void 0},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)for(;c=f[e++];)d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Zb={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$b[b]||n.find.attr;$b[b]=function(a,b,d){var e,f;return d||(f=$b[b],$b[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$b[b]=f),e}});var _b=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;return a&&3!==g&&8!==g&&2!==g?(f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]):void 0},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_b.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ac=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=n(this),f=a.match(E)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ac," ").indexOf(b)>=0)return!0;return!1}});var bc=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bc,""):null==c?"":c)):void 0}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=n.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cc=n.now(),dc=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var ec,fc,gc=/#.*$/,hc=/([?&])_=[^&]*/,ic=/^(.*?):[ \t]*([^\r\n]*)$/gm,jc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kc=/^(?:GET|HEAD)$/,lc=/^\/\//,mc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,nc={},oc={},pc="*/".concat("*");try{fc=location.href}catch(qc){fc=l.createElement("a"),fc.href="",fc=fc.href}ec=mc.exec(fc.toLowerCase())||[],n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fc,type:"GET",isLocal:jc.test(ec[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?tc(tc(a,n.ajaxSettings),b):tc(n.ajaxSettings,a)},ajaxPrefilter:rc(nc),ajaxTransport:rc(oc),ajax:function(a,b){function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=uc(k,v,f)),u=vc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;
if(2===t){if(!f)for(f={};b=ic.exec(e);)f[b[1].toLowerCase()]=b[2];b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||fc)+"").replace(gc,"").replace(lc,ec[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=mc.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===ec[1]&&h[2]===ec[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(ec[3]||("http:"===ec[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),sc(nc,k,b,v),2===t)return v;i=k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!kc.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(dc.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=hc.test(d)?d.replace(hc,"$1_="+cc++):d+(dc.test(d)?"&":"?")+"_="+cc++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+pc+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=sc(oc,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var wc=/%20/g,xc=/\[\]$/,yc=/\r?\n/g,zc=/^(?:submit|button|image|reset|file)$/i,Ac=/^(?:input|select|textarea|keygen)/i;n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Bc(c,a[c],b,e);return d.join("&").replace(wc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Ac.test(this.nodeName)&&!zc.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(yc,"\r\n")}}):{name:b.name,value:c.replace(yc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cc=0,Dc={},Ec={0:200,1223:204},Fc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on("unload",function(){for(var a in Dc)Dc[a]()}),k.cors=!!Fc&&"withCredentials"in Fc,k.ajax=Fc=!!Fc,n.ajaxTransport(function(a){var b;return k.cors||Fc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Dc[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Ec[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Dc[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gc=[],Hc=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Gc.pop()||n.expando+"_"+cc++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hc,"$1"+e):b.jsonp!==!1&&(b.url+=(dc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Ic=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Ic)return Ic.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Jc=a.document.documentElement;n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;return f?(b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Kc(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e):void 0},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Jc;a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position");)a=a.offsetParent;return a||Jc})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Kc(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=yb(k.pixelPosition,function(a,c){return c?(c=xb(a,b),vb.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Lc=a.jQuery,Mc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Mc),b&&a.jQuery===n&&(a.jQuery=Lc),n},typeof b===U&&(a.jQuery=a.$=n),n}),function($,undefined){function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();return"area"===nodeName?(map=element.parentNode,mapName=map.name,element.href&&mapName&&"map"===map.nodeName.toLowerCase()?(img=$("img[usemap=#"+mapName+"]")[0],!!img&&visible(img)):!1):(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element)}function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return"hidden"===$.css(this,"visibility")}).length}var uuid=0,runiqueId=/^ui-id-\d+$/;$.ui=$.ui||{},$.extend($.ui,{version:"@VERSION",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),$.fn.extend({focus:function(orig){return function(delay,fn){return"number"==typeof delay?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus(),fn&&fn.call(elem)},delay)}):orig.apply(this,arguments)}}($.fn.focus),scrollParent:function(){var scrollParent;return scrollParent=$.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test($.css(this,"position"))&&/(auto|scroll)/.test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!scrollParent.length?$(document):scrollParent},zIndex:function(zIndex){if(zIndex!==undefined)return this.css("zIndex",zIndex);if(this.length)for(var position,value,elem=$(this[0]);elem.length&&elem[0]!==document;){if(position=elem.css("position"),("absolute"===position||"relative"===position||"fixed"===position)&&(value=parseInt(elem.css("zIndex"),10),!isNaN(value)&&0!==value))return value;elem=elem.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++uuid)})},removeUniqueId:function(){return this.each(function(){runiqueId.test(this.id)&&$(this).removeAttr("id")})}}),$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName)}}):function(elem,i,match){return!!$.data(elem,match[3])},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")))},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN)}}),$("<a>").outerWidth(1).jquery||$.each(["Width","Height"],function(i,name){function reduce(elem,size,border,margin){return $.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0,border&&(size-=parseFloat($.css(elem,"border"+this+"Width"))||0),margin&&(size-=parseFloat($.css(elem,"margin"+this))||0)}),size}var side="Width"===name?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};$.fn["inner"+name]=function(size){return size===undefined?orig["inner"+name].call(this):this.each(function(){$(this).css(type,reduce(this,size)+"px")})},$.fn["outer"+name]=function(size,margin){return"number"!=typeof size?orig["outer"+name].call(this,size):this.each(function(){$(this).css(type,reduce(this,size,!0,margin)+"px")})}}),$.fn.addBack||($.fn.addBack=function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}),$("<a>").data("a-b","a").removeData("a-b").data("a-b")&&($.fn.removeData=function(removeData){return function(key){return arguments.length?removeData.call(this,$.camelCase(key)):removeData.call(this)}}($.fn.removeData)),$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),$.support.selectstart="onselectstart"in document.createElement("div"),$.fn.extend({disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(event){event.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),$.extend($.ui,{plugin:{add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set)proto.plugins[i]=proto.plugins[i]||[],proto.plugins[i].push([option,set[i]])},call:function(instance,name,args){var i,set=instance.plugins[name];if(set&&instance.element[0].parentNode&&11!==instance.element[0].parentNode.nodeType)for(i=0;i<set.length;i++)instance.options[set[i][0]]&&set[i][1].apply(instance.element,args)}},hasScroll:function(el,a){if("hidden"===$(el).css("overflow"))return!1;var scroll=a&&"left"===a?"scrollLeft":"scrollTop",has=!1;return el[scroll]>0?!0:(el[scroll]=1,has=el[scroll]>0,el[scroll]=0,has)}})}(jQuery),function($,undefined){var uuid=0,slice=Array.prototype.slice,_cleanData=$.cleanData;$.cleanData=function(elems){for(var elem,i=0;null!=(elem=elems[i]);i++)try{$(elem).triggerHandler("remove")}catch(e){}_cleanData(elems)},$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];name=name.split(".")[1],fullName=namespace+"-"+name,prototype||(prototype=base,base=$.Widget),$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName)},$[namespace]=$[namespace]||{},existingConstructor=$[namespace][name],constructor=$[namespace][name]=function(options,element){return this._createWidget?void(arguments.length&&this._createWidget(options,element)):new constructor(options,element)},$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]}),basePrototype=new base,basePrototype.options=$.widget.extend({},basePrototype.options),$.each(prototype,function(prop,value){return $.isFunction(value)?void(proxiedPrototype[prop]=function(){var _super=function(){return base.prototype[prop].apply(this,arguments)},_superApply=function(args){return base.prototype[prop].apply(this,args)};return function(){var returnValue,__super=this._super,__superApply=this._superApply;return this._super=_super,this._superApply=_superApply,returnValue=value.apply(this,arguments),this._super=__super,this._superApply=__superApply,returnValue}}()):void(proxiedPrototype[prop]=value)}),constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix:name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName}),existingConstructor?($.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto)}),delete existingConstructor._childConstructors):base._childConstructors.push(constructor),$.widget.bridge(name,constructor)},$.widget.extend=function(target){for(var key,value,input=slice.call(arguments,1),inputIndex=0,inputLength=input.length;inputLength>inputIndex;inputIndex++)for(key in input[inputIndex])value=input[inputIndex][key],input[inputIndex].hasOwnProperty(key)&&value!==undefined&&(target[key]=$.isPlainObject(value)?$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value):value);return target},$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall="string"==typeof options,args=slice.call(arguments,1),returnValue=this;return options=!isMethodCall&&args.length?$.widget.extend.apply(null,[options].concat(args)):options,this.each(isMethodCall?function(){var methodValue,instance=$.data(this,fullName);return instance?$.isFunction(instance[options])&&"_"!==options.charAt(0)?(methodValue=instance[options].apply(instance,args),methodValue!==instance&&methodValue!==undefined?(returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue,!1):void 0):$.error("no such method '"+options+"' for "+name+" widget instance"):$.error("cannot call methods on "+name+" prior to initialization; attempted to call method '"+options+"'")}:function(){var instance=$.data(this,fullName);instance?instance.option(options||{})._init():$.data(this,fullName,new object(options,this))}),returnValue}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0],this.element=$(element),this.uuid=uuid++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=$.widget.extend({},this.options,this._getCreateOptions(),options),this.bindings=$(),this.hoverable=$(),this.focusable=$(),element!==this&&($.data(element,this.widgetFullName,this),this._on(!0,this.element,{remove:function(event){event.target===element&&this.destroy()}}),this.document=$(element.style?element.ownerDocument:element.document||element),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(key,value){var parts,curOption,i,options=key;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof key)if(options={},parts=key.split("."),key=parts.shift(),parts.length){for(curOption=options[key]=$.widget.extend({},this.options[key]),i=0;i<parts.length-1;i++)curOption[parts[i]]=curOption[parts[i]]||{},curOption=curOption[parts[i]];if(key=parts.pop(),value===undefined)return curOption[key]===undefined?null:curOption[key];curOption[key]=value}else{if(value===undefined)return this.options[key]===undefined?null:this.options[key];options[key]=value}return this._setOptions(options),this},_setOptions:function(options){var key;for(key in options)this._setOption(key,options[key]);return this},_setOption:function(key,value){return this.options[key]=value,"disabled"===key&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!value).attr("aria-disabled",value),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;"boolean"!=typeof suppressDisabledCheck&&(handlers=element,element=suppressDisabledCheck,suppressDisabledCheck=!1),handlers?(element=delegateElement=$(element),this.bindings=this.bindings.add(element)):(handlers=element,element=this.element,delegateElement=this.widget()),$.each(handlers,function(event,handler){function handlerProxy(){return suppressDisabledCheck||instance.options.disabled!==!0&&!$(this).hasClass("ui-state-disabled")?("string"==typeof handler?instance[handler]:handler).apply(instance,arguments):void 0}"string"!=typeof handler&&(handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++);var match=event.match(/^(\w+)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];selector?delegateElement.delegate(selector,eventName,handlerProxy):element.bind(eventName,handlerProxy)})},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,element.unbind(eventName).undelegate(eventName)},_delay:function(handler,delay){function handlerProxy(){return("string"==typeof handler?instance[handler]:handler).apply(instance,arguments)}var instance=this;return setTimeout(handlerProxy,delay||0)},_hoverable:function(element){this.hoverable=this.hoverable.add(element),this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover")},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(element){this.focusable=this.focusable.add(element),this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus")},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];if(data=data||{},event=$.Event(event),event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase(),event.target=this.element[0],orig=event.originalEvent)for(prop in orig)prop in event||(event[prop]=orig[prop]);return this.element.trigger(event,data),!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===!1||event.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){"string"==typeof options&&(options={effect:options});var hasOptions,effectName=options?options===!0||"number"==typeof options?defaultEffect:options.effect||defaultEffect:method;options=options||{},"number"==typeof options&&(options={duration:options}),hasOptions=!$.isEmptyObject(options),options.complete=callback,options.delay&&element.delay(options.delay),hasOptions&&$.effects&&$.effects.effect[effectName]?element[method](options):effectName!==method&&element[effectName]?element[effectName](options.duration,options.easing,callback):element.queue(function(next){$(this)[method](),callback&&callback.call(element[0]),next()})}})}(jQuery),function($){var mouseHandled=!1;$(document).mouseup(function(){mouseHandled=!1}),$.widget("ui.mouse",{version:"@VERSION",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.bind("mousedown."+this.widgetName,function(event){return that._mouseDown(event)}).bind("click."+this.widgetName,function(event){return!0===$.data(event.target,that.widgetName+".preventClickEvent")?($.removeData(event.target,that.widgetName+".preventClickEvent"),event.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(event){if(!mouseHandled){this._mouseStarted&&this._mouseUp(event),this._mouseDownEvent=event;var that=this,btnIsLeft=1===event.which,elIsCancel="string"==typeof this.options.cancel&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:!1;return btnIsLeft&&!elIsCancel&&this._mouseCapture(event)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(event)&&this._mouseDelayMet(event)&&(this._mouseStarted=this._mouseStart(event)!==!1,!this._mouseStarted)?(event.preventDefault(),!0):(!0===$.data(event.target,this.widgetName+".preventClickEvent")&&$.removeData(event.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(event){return that._mouseMove(event)},this._mouseUpDelegate=function(event){return that._mouseUp(event)},$(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),event.preventDefault(),mouseHandled=!0,!0)):!0}},_mouseMove:function(event){return $.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button?this._mouseUp(event):this._mouseStarted?(this._mouseDrag(event),event.preventDefault()):(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,event)!==!1,this._mouseStarted?this._mouseDrag(event):this._mouseUp(event)),!this._mouseStarted)},_mouseUp:function(event){return $(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,event.target===this._mouseDownEvent.target&&$.data(event.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(event)),!1},_mouseDistanceMet:function(event){return Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function($){function num(v){return parseInt(v,10)||0}function isNumber(value){return!isNaN(parseInt(value,10))}$.widget("ui.resizable",$.ui.mouse,{version:"@VERSION",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var n,i,handle,axis,hname,that=this,o=this.options;if(this.element.addClass("ui-resizable"),$.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||($(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},i=0;i<n.length;i++)handle=$.trim(n[i]),hname="ui-resizable-"+handle,axis=$("<div class='ui-resizable-handle "+hname+"'></div>"),axis.css({zIndex:o.zIndex}),"se"===handle&&axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[handle]=".ui-resizable-"+handle,this.element.append(axis);this._renderAxis=function(target){var i,axis,padPos,padWrapper;target=target||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=$(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(axis=$(this.handles[i],this.element),padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth(),padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),target.css(padPos,padWrapper),this._proportionallyResize()),$(this.handles[i]).length},this._renderAxis(this.element),this._handles=$(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){that.resizing||(this.className&&(axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),that.axis=axis&&axis[1]?axis[1]:"se")}),o.autoHide&&(this._handles.hide(),$(this.element).addClass("ui-resizable-autohide").mouseenter(function(){o.disabled||($(this).removeClass("ui-resizable-autohide"),that._handles.show())}).mouseleave(function(){o.disabled||that.resizing||($(this).addClass("ui-resizable-autohide"),that._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var wrapper,_destroy=function(exp){$(exp).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(_destroy(this.element),wrapper=this.element,this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),left:wrapper.css("left")}).insertAfter(wrapper),wrapper.remove()),this.originalElement.css("resize",this.originalResizeStyle),_destroy(this.originalElement),this
},_mouseCapture:function(event){var i,handle,capture=!1;for(i in this.handles)handle=$(this.handles[i])[0],(handle===event.target||$.contains(handle,event.target))&&(capture=!0);return!this.options.disabled&&capture},_mouseStart:function(event){var curleft,curtop,cursor,o=this.options,iniPos=this.element.position(),el=this.element;return this.resizing=!0,/absolute/.test(el.css("position"))?el.css({position:"absolute",top:el.css("top"),left:el.css("left")}):el.is(".ui-draggable")&&el.css({position:"absolute",top:iniPos.top,left:iniPos.left}),this._renderProxy(),curleft=num(this.helper.css("left")),curtop=num(this.helper.css("top")),o.containment&&(curleft+=$(o.containment).scrollLeft()||0,curtop+=$(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:curleft,top:curtop},this.size=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()},this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()},this.originalPosition={left:curleft,top:curtop},this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()},this.originalMousePosition={left:event.pageX,top:event.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,cursor=$(".ui-resizable-"+this.axis).css("cursor"),$("body").css("cursor","auto"===cursor?this.axis+"-resize":cursor),el.addClass("ui-resizable-resizing"),this._propagate("start",event),!0},_mouseDrag:function(event){var data,el=this.helper,props={},smp=this.originalMousePosition,a=this.axis,prevTop=this.position.top,prevLeft=this.position.left,prevWidth=this.size.width,prevHeight=this.size.height,dx=event.pageX-smp.left||0,dy=event.pageY-smp.top||0,trigger=this._change[a];return trigger?(data=trigger.apply(this,[event,dx,dy]),this._updateVirtualBoundaries(event.shiftKey),(this._aspectRatio||event.shiftKey)&&(data=this._updateRatio(data,event)),data=this._respectSize(data,event),this._updateCache(data),this._propagate("resize",event),this.position.top!==prevTop&&(props.top=this.position.top+"px"),this.position.left!==prevLeft&&(props.left=this.position.left+"px"),this.size.width!==prevWidth&&(props.width=this.size.width+"px"),this.size.height!==prevHeight&&(props.height=this.size.height+"px"),el.css(props),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),$.isEmptyObject(props)||this._trigger("resize",event,this.ui()),!1):!1},_mouseStop:function(event){this.resizing=!1;var pr,ista,soffseth,soffsetw,s,left,top,o=this.options,that=this;return this._helper&&(pr=this._proportionallyResizeElements,ista=pr.length&&/textarea/i.test(pr[0].nodeName),soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,s={width:that.helper.width()-soffsetw,height:that.helper.height()-soffseth},left=parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left)||null,top=parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top)||null,o.animate||this.element.css($.extend(s,{top:top,left:left})),that.helper.height(that.size.height),that.helper.width(that.size.width),this._helper&&!o.animate&&this._proportionallyResize()),$("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",event),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:isNumber(o.minWidth)?o.minWidth:0,maxWidth:isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:isNumber(o.minHeight)?o.minHeight:0,maxHeight:isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||forceAspectRatio)&&(pMinWidth=b.minHeight*this.aspectRatio,pMinHeight=b.minWidth/this.aspectRatio,pMaxWidth=b.maxHeight*this.aspectRatio,pMaxHeight=b.maxWidth/this.aspectRatio,pMinWidth>b.minWidth&&(b.minWidth=pMinWidth),pMinHeight>b.minHeight&&(b.minHeight=pMinHeight),pMaxWidth<b.maxWidth&&(b.maxWidth=pMaxWidth),pMaxHeight<b.maxHeight&&(b.maxHeight=pMaxHeight)),this._vBoundaries=b},_updateCache:function(data){this.offset=this.helper.offset(),isNumber(data.left)&&(this.position.left=data.left),isNumber(data.top)&&(this.position.top=data.top),isNumber(data.height)&&(this.size.height=data.height),isNumber(data.width)&&(this.size.width=data.width)},_updateRatio:function(data){var cpos=this.position,csize=this.size,a=this.axis;return isNumber(data.height)?data.width=data.height*this.aspectRatio:isNumber(data.width)&&(data.height=data.width/this.aspectRatio),"sw"===a&&(data.left=cpos.left+(csize.width-data.width),data.top=null),"nw"===a&&(data.top=cpos.top+(csize.height-data.height),data.left=cpos.left+(csize.width-data.width)),data},_respectSize:function(data){var o=this._vBoundaries,a=this.axis,ismaxw=isNumber(data.width)&&o.maxWidth&&o.maxWidth<data.width,ismaxh=isNumber(data.height)&&o.maxHeight&&o.maxHeight<data.height,isminw=isNumber(data.width)&&o.minWidth&&o.minWidth>data.width,isminh=isNumber(data.height)&&o.minHeight&&o.minHeight>data.height,dw=this.originalPosition.left+this.originalSize.width,dh=this.position.top+this.size.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);return isminw&&(data.width=o.minWidth),isminh&&(data.height=o.minHeight),ismaxw&&(data.width=o.maxWidth),ismaxh&&(data.height=o.maxHeight),isminw&&cw&&(data.left=dw-o.minWidth),ismaxw&&cw&&(data.left=dw-o.maxWidth),isminh&&ch&&(data.top=dh-o.minHeight),ismaxh&&ch&&(data.top=dh-o.maxHeight),data.width||data.height||data.left||!data.top?data.width||data.height||data.top||!data.left||(data.left=null):data.top=null,data},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var i,j,borders,paddings,prel,element=this.helper||this.element;for(i=0;i<this._proportionallyResizeElements.length;i++){if(prel=this._proportionallyResizeElements[i],!this.borderDif)for(this.borderDif=[],borders=[prel.css("borderTopWidth"),prel.css("borderRightWidth"),prel.css("borderBottomWidth"),prel.css("borderLeftWidth")],paddings=[prel.css("paddingTop"),prel.css("paddingRight"),prel.css("paddingBottom"),prel.css("paddingLeft")],j=0;j<borders.length;j++)this.borderDif[j]=(parseInt(borders[j],10)||0)+(parseInt(paddings[j],10)||0);prel.css({height:element.height()-this.borderDif[0]-this.borderDif[2]||0,width:element.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var el=this.element,o=this.options;this.elementOffset=el.offset(),this._helper?(this.helper=this.helper||$("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(event,dx){return{width:this.originalSize.width+dx}},w:function(event,dx){var cs=this.originalSize,sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx}},n:function(event,dx,dy){var cs=this.originalSize,sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy}},s:function(event,dx,dy){return{height:this.originalSize.height+dy}},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]),"resize"!==n&&this._trigger(n,event,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),$.ui.plugin.add("resizable","animate",{stop:function(event){var that=$(this).data("ui-resizable"),o=that.options,pr=that._proportionallyResizeElements,ista=pr.length&&/textarea/i.test(pr[0].nodeName),soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,style={width:that.size.width-soffsetw,height:that.size.height-soffseth},left=parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left)||null,top=parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top)||null;that.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseInt(that.element.css("width"),10),height:parseInt(that.element.css("height"),10),top:parseInt(that.element.css("top"),10),left:parseInt(that.element.css("left"),10)};pr&&pr.length&&$(pr[0]).css({width:data.width,height:data.height}),that._updateCache(data),that._propagate("resize",event)}})}}),$.ui.plugin.add("resizable","containment",{start:function(){var element,p,co,ch,cw,width,height,that=$(this).data("ui-resizable"),o=that.options,el=that.element,oc=o.containment,ce=oc instanceof $?oc.get(0):/parent/.test(oc)?el.parent().get(0):oc;ce&&(that.containerElement=$(ce),/document/.test(oc)||oc===document?(that.containerOffset={left:0,top:0},that.containerPosition={left:0,top:0},that.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight}):(element=$(ce),p=[],$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=num(element.css("padding"+name))}),that.containerOffset=element.offset(),that.containerPosition=element.position(),that.containerSize={height:element.innerHeight()-p[3],width:element.innerWidth()-p[1]},co=that.containerOffset,ch=that.containerSize.height,cw=that.containerSize.width,width=$.ui.hasScroll(ce,"left")?ce.scrollWidth:cw,height=$.ui.hasScroll(ce)?ce.scrollHeight:ch,that.parentData={element:ce,left:co.left,top:co.top,width:width,height:height}))},resize:function(event){var woset,hoset,isParent,isOffsetRelative,that=$(this).data("ui-resizable"),o=that.options,co=that.containerOffset,cp=that.position,pRatio=that._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=that.containerElement;ce[0]!==document&&/static/.test(ce.css("position"))&&(cop=co),cp.left<(that._helper?co.left:0)&&(that.size.width=that.size.width+(that._helper?that.position.left-co.left:that.position.left-cop.left),pRatio&&(that.size.height=that.size.width/that.aspectRatio),that.position.left=o.helper?co.left:0),cp.top<(that._helper?co.top:0)&&(that.size.height=that.size.height+(that._helper?that.position.top-co.top:that.position.top),pRatio&&(that.size.width=that.size.height*that.aspectRatio),that.position.top=that._helper?co.top:0),that.offset.left=that.parentData.left+that.position.left,that.offset.top=that.parentData.top+that.position.top,woset=Math.abs((that._helper?that.offset.left-cop.left:that.offset.left-cop.left)+that.sizeDiff.width),hoset=Math.abs((that._helper?that.offset.top-cop.top:that.offset.top-co.top)+that.sizeDiff.height),isParent=that.containerElement.get(0)===that.element.parent().get(0),isOffsetRelative=/relative|absolute/.test(that.containerElement.css("position")),isParent&&isOffsetRelative&&(woset-=that.parentData.left),woset+that.size.width>=that.parentData.width&&(that.size.width=that.parentData.width-woset,pRatio&&(that.size.height=that.size.width/that.aspectRatio)),hoset+that.size.height>=that.parentData.height&&(that.size.height=that.parentData.height-hoset,pRatio&&(that.size.width=that.size.height*that.aspectRatio))},stop:function(){var that=$(this).data("ui-resizable"),o=that.options,co=that.containerOffset,cop=that.containerPosition,ce=that.containerElement,helper=$(that.helper),ho=helper.offset(),w=helper.outerWidth()-that.sizeDiff.width,h=helper.outerHeight()-that.sizeDiff.height;that._helper&&!o.animate&&/relative/.test(ce.css("position"))&&$(this).css({left:ho.left-cop.left-co.left,width:w,height:h}),that._helper&&!o.animate&&/static/.test(ce.css("position"))&&$(this).css({left:ho.left-cop.left-co.left,width:w,height:h})}}),$.ui.plugin.add("resizable","alsoResize",{start:function(){var that=$(this).data("ui-resizable"),o=that.options,_store=function(exp){$(exp).each(function(){var el=$(this);el.data("ui-resizable-alsoresize",{width:parseInt(el.width(),10),height:parseInt(el.height(),10),left:parseInt(el.css("left"),10),top:parseInt(el.css("top"),10)})})};"object"!=typeof o.alsoResize||o.alsoResize.parentNode?_store(o.alsoResize):o.alsoResize.length?(o.alsoResize=o.alsoResize[0],_store(o.alsoResize)):$.each(o.alsoResize,function(exp){_store(exp)})},resize:function(event,ui){var that=$(this).data("ui-resizable"),o=that.options,os=that.originalSize,op=that.originalPosition,delta={height:that.size.height-os.height||0,width:that.size.width-os.width||0,top:that.position.top-op.top||0,left:that.position.left-op.left||0},_alsoResize=function(exp,c){$(exp).each(function(){var el=$(this),start=$(this).data("ui-resizable-alsoresize"),style={},css=c&&c.length?c:el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);sum&&sum>=0&&(style[prop]=sum||null)}),el.css(style)})};"object"!=typeof o.alsoResize||o.alsoResize.nodeType?_alsoResize(o.alsoResize):$.each(o.alsoResize,function(exp,c){_alsoResize(exp,c)})},stop:function(){$(this).removeData("resizable-alsoresize")}}),$.ui.plugin.add("resizable","ghost",{start:function(){var that=$(this).data("ui-resizable"),o=that.options,cs=that.size;that.ghost=that.originalElement.clone(),that.ghost.css({opacity:.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof o.ghost?o.ghost:""),that.ghost.appendTo(that.helper)},resize:function(){var that=$(this).data("ui-resizable");that.ghost&&that.ghost.css({position:"relative",height:that.size.height,width:that.size.width})},stop:function(){var that=$(this).data("ui-resizable");that.ghost&&that.helper&&that.helper.get(0).removeChild(that.ghost.get(0))}}),$.ui.plugin.add("resizable","grid",{resize:function(){var that=$(this).data("ui-resizable"),o=that.options,cs=that.size,os=that.originalSize,op=that.originalPosition,a=that.axis,grid="number"==typeof o.grid?[o.grid,o.grid]:o.grid,gridX=grid[0]||1,gridY=grid[1]||1,ox=Math.round((cs.width-os.width)/gridX)*gridX,oy=Math.round((cs.height-os.height)/gridY)*gridY,newWidth=os.width+ox,newHeight=os.height+oy,isMaxWidth=o.maxWidth&&o.maxWidth<newWidth,isMaxHeight=o.maxHeight&&o.maxHeight<newHeight,isMinWidth=o.minWidth&&o.minWidth>newWidth,isMinHeight=o.minHeight&&o.minHeight>newHeight;o.grid=grid,isMinWidth&&(newWidth+=gridX),isMinHeight&&(newHeight+=gridY),isMaxWidth&&(newWidth-=gridX),isMaxHeight&&(newHeight-=gridY),/^(se|s|e)$/.test(a)?(that.size.width=newWidth,that.size.height=newHeight):/^(ne)$/.test(a)?(that.size.width=newWidth,that.size.height=newHeight,that.position.top=op.top-oy):/^(sw)$/.test(a)?(that.size.width=newWidth,that.size.height=newHeight,that.position.left=op.left-ox):(that.size.width=newWidth,that.size.height=newHeight,that.position.top=op.top-oy,that.position.left=op.left-ox)}})}(jQuery),function($){mutate_event_stack=[{name:"width",handler:function(elem){return n={el:elem},$(n.el).data("mutate-width")||$(n.el).data("mutate-width",$(n.el).width()),$(n.el).data("mutate-width")&&$(n.el).width()!=$(n.el).data("mutate-width")?($(n.el).data("mutate-width",$(n.el).width()),!0):!1}},{name:"height",handler:function(n){return element=n,$(element).data("mutate-height")||$(element).data("mutate-height",$(element).height()),$(element).data("mutate-height")&&$(element).height()!=$(element).data("mutate-height")?($(element).data("mutate-height",$(element).height()),!0):void 0}},{name:"top",handler:function(n){return $(n).data("mutate-top")||$(n).data("mutate-top",$(n).css("top")),$(n).data("mutate-top")&&$(n).css("top")!=$(n).data("mutate-top")?($(n).data("mutate-top",$(n).css("top")),!0):void 0}},{name:"bottom",handler:function(n){return $(n).data("mutate-bottom")||$(n).data("mutate-bottom",$(n).css("bottom")),$(n).data("mutate-bottom")&&$(n).css("bottom")!=$(n).data("mutate-bottom")?($(n).data("mutate-bottom",$(n).css("bottom")),!0):void 0}},{name:"right",handler:function(n){return $(n).data("mutate-right")||$(n).data("mutate-right",$(n).css("right")),$(n).data("mutate-right")&&$(n).css("right")!=$(n).data("mutate-right")?($(n).data("mutate-right",$(n).css("right")),!0):void 0}},{name:"left",handler:function(n){return $(n).data("mutate-left")||$(n).data("mutate-left",$(n).css("left")),$(n).data("mutate-left")&&$(n).css("left")!=$(n).data("mutate-left")?($(n).data("mutate-left",$(n).css("left")),!0):void 0}},{name:"hide",handler:function(n){return $(n).is(":hidden")?!0:void 0}},{name:"show",handler:function(n){return $(n).is(":visible")?!0:void 0}},{name:"scrollHeight",handler:function(n){return $(n).data("prev-scrollHeight")||$(n).data("prev-scrollHeight",$(n)[0].scrollHeight),$(n).data("prev-scrollHeight")&&$(n)[0].scrollHeight!=$(n).data("prev-scrollHeight")?($(n).data("prev-scrollHeight",$(n)[0].scrollHeight),!0):void 0}},{name:"scrollWidth",handler:function(n){return $(n).data("prev-scrollWidth")||$(n).data("prev-scrollWidth",$(n)[0].scrollWidth),$(n).data("prev-scrollWidth")&&$(n)[0].scrollWidth!=$(n).data("prev-scrollWidth")?($(n).data("prev-scrollWidth",$(n)[0].scrollWidth),!0):void 0}},{name:"scrollTop",handler:function(n){return $(n).data("prev-scrollTop")||$(n).data("prev-scrollTop",$(n)[0].scrollTop()),$(n).data("prev-scrollTop")&&$(n)[0].scrollTop()!=$(n).data("prev-scrollTop")?($(n).data("prev-scrollTop",$(n)[0].scrollTop()),!0):void 0}},{name:"scrollLeft",handler:function(n){return $(n).data("prev-scrollLeft")||$(n).data("prev-scrollLeft",$(n)[0].scrollLeft()),$(n).data("prev-scrollLeft")&&$(n)[0].scrollLeft()!=$(n).data("prev-scrollLeft")?($(n).data("prev-scrollLeft",$(n)[0].scrollLeft()),!0):void 0}}]}(jQuery),function($){function reset(){var parent=mutate;"undefined"!=parent.event_stack&&parent.event_stack.length&&$.each(parent.event_stack,function(j,k){mutate.add_event(k)}),parent.event_stack=[],$.each(parent.stack,function(i,n){$(n.selector).each(function(a,b){parent.events[n.event_name](b)===!0?n.callback&&n.callback(b,n):n.false_callback&&n.false_callback(b,n)})}),setTimeout(reset,mutate.speed)}mutate={speed:1,event_stack:mutate_event_stack,stack:[],events:{},add_event:function(evt){mutate.events[evt.name]=evt.handler},add:function(event_name,selector,callback,false_callback){mutate.stack[mutate.stack.length]={event_name:event_name,selector:selector,callback:callback,false_callback:false_callback}}},reset(),$.fn.extend({mutate:function(){var event_name=!1,callback=arguments[1],selector=this,false_callback=arguments[2]?arguments[2]:function(){};return"extend"==arguments[0].toLowerCase()?(mutate.add_event(callback),this):($.each($.trim(arguments[0]).split(" "),function(i,n){event_name=n,mutate.add(event_name,selector,callback,false_callback)}),this)}})}(jQuery),!function(){function n(n,t){return t>n?-1:n>t?1:n>=t?0:0/0}function t(n){return null!=n&&!isNaN(n)}function e(n){return{left:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)<0?r=i+1:u=i}return r},right:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var i=r+u>>>1;n(t[i],e)>0?u=i:r=i+1}return r}}}function r(n){return n.length}function u(n){for(var t=1;n*t%1;)t*=10;return t}function i(n,t){try{for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}catch(r){n.prototype=t}}function o(){}function a(n){return ia+n in this}function c(n){return n=ia+n,n in this&&delete this[n]}function s(){var n=[];return this.forEach(function(t){n.push(t)}),n}function l(){var n=0;for(var t in this)t.charCodeAt(0)===oa&&++n;return n}function f(){for(var n in this)if(n.charCodeAt(0)===oa)return!1;return!0}function h(){}function g(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function p(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.substring(1);for(var e=0,r=aa.length;r>e;++e){var u=aa[e]+t;if(u in n)return u}}function v(){}function d(){}function m(n){function t(){for(var t,r=e,u=-1,i=r.length;++u<i;)(t=r[u].on)&&t.apply(this,arguments);return n}var e=[],r=new o;return t.on=function(t,u){var i,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,i=e.indexOf(o)).concat(e.slice(i+1)),r.remove(t)),u&&e.push(r.set(t,{on:u})),n)},t}function y(){Zo.event.preventDefault()}function x(){for(var n,t=Zo.event;n=t.sourceEvent;)t=n;return t}function M(n){for(var t=new d,e=0,r=arguments.length;++e<r;)t[arguments[e]]=m(t);return t.of=function(e,r){return function(u){try{var i=u.sourceEvent=Zo.event;u.target=n,Zo.event=u,t[u.type].apply(e,r)}finally{Zo.event=i}}},t}function _(n){return sa(n,pa),n}function b(n){return"function"==typeof n?n:function(){return la(n,this)}}function w(n){return"function"==typeof n?n:function(){return fa(n,this)}}function S(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function u(){this.setAttribute(n,t)}function i(){this.setAttributeNS(n.space,n.local,t)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=Zo.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?a:o:n.local?i:u}function k(n){return n.trim().replace(/\s+/g," ")}function E(n){return new RegExp("(?:^|\\s+)"+Zo.requote(n)+"(?:\\s+|$)","g")}function A(n){return(n+"").trim().split(/^|\s+/)}function C(n,t){function e(){for(var e=-1;++e<u;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<u;)n[e](this,r)}n=A(n).map(N);var u=n.length;return"function"==typeof t?r:e}function N(n){var t=E(n);return function(e,r){if(u=e.classList)return r?u.add(n):u.remove(n);var u=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(u)||e.setAttribute("class",k(u+" "+n))):e.setAttribute("class",k(u.replace(t," ")))}}function z(n,t,e){function r(){this.style.removeProperty(n)}function u(){this.style.setProperty(n,t,e)}function i(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?i:u}function L(n,t){function e(){delete this[n]}function r(){this[n]=t}function u(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?u:r}function T(n){return"function"==typeof n?n:(n=Zo.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,n)}}function q(n){return{__data__:n}}function R(n){return function(){return ga(this,n)}}function D(t){return arguments.length||(t=n),function(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}}function P(n,t){for(var e=0,r=n.length;r>e;e++)for(var u,i=n[e],o=0,a=i.length;a>o;o++)(u=i[o])&&t(u,o,e);return n}function U(n){return sa(n,da),n}function j(n){var t,e;return function(r,u,i){var o,a=n[i].update,c=a.length;for(i!=e&&(e=i,t=0),u>=t&&(t=u+1);!(o=a[t])&&++t<c;);return o}}function H(){var n=this.__transition__;n&&++n.active}function F(n,t,e){function r(){var t=this[o];t&&(this.removeEventListener(n,t,t.$),delete this[o])}function u(){var u=c(t,Xo(arguments));r.call(this),this.addEventListener(n,this[o]=u,u.$=e),u._=t}function i(){var t,e=new RegExp("^__on([^.]+)"+Zo.requote(n)+"$");for(var r in this)if(t=r.match(e)){var u=this[r];this.removeEventListener(t[1],u,u.$),delete this[r]}}var o="__on"+n,a=n.indexOf("."),c=O;a>0&&(n=n.substring(0,a));var s=ya.get(n);return s&&(n=s,c=Y),a?t?u:r:t?v:i}function O(n,t){return function(e){var r=Zo.event;Zo.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{Zo.event=r}}}function Y(n,t){var e=O(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function I(){var n=".dragsuppress-"+ ++Ma,t="click"+n,e=Zo.select(Wo).on("touchmove"+n,y).on("dragstart"+n,y).on("selectstart"+n,y);if(xa){var r=Bo.style,u=r[xa];r[xa]="none"}return function(i){function o(){e.on(t,null)}e.on(n,null),xa&&(r[xa]=u),i&&(e.on(t,function(){y(),o()},!0),setTimeout(o,0))}}function Z(n,t){t.changedTouches&&(t=t.changedTouches[0]);var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();if(0>_a&&(Wo.scrollX||Wo.scrollY)){e=Zo.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var u=e[0][0].getScreenCTM();_a=!(u.f||u.e),e.remove()}return _a?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}function V(){return Zo.event.changedTouches[0].identifier}function X(){return Zo.event.target}function $(){return Wo}function B(n){return n>0?1:0>n?-1:0}function W(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function J(n){return n>1?0:-1>n?ba:Math.acos(n)}function G(n){return n>1?Sa:-1>n?-Sa:Math.asin(n)}function K(n){return((n=Math.exp(n))-1/n)/2}function Q(n){return((n=Math.exp(n))+1/n)/2}function nt(n){return((n=Math.exp(2*n))-1)/(n+1)}function tt(n){return(n=Math.sin(n/2))*n}function et(){}function rt(n,t,e){return this instanceof rt?(this.h=+n,this.s=+t,void(this.l=+e)):arguments.length<2?n instanceof rt?new rt(n.h,n.s,n.l):mt(""+n,yt,rt):new rt(n,t,e)}function ut(n,t,e){function r(n){return n>360?n-=360:0>n&&(n+=360),60>n?i+(o-i)*n/60:180>n?o:240>n?i+(o-i)*(240-n)/60:i}function u(n){return Math.round(255*r(n))}var i,o;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:0>t?0:t>1?1:t,e=0>e?0:e>1?1:e,o=.5>=e?e*(1+t):e+t-e*t,i=2*e-o,new gt(u(n+120),u(n),u(n-120))}function it(n,t,e){return this instanceof it?(this.h=+n,this.c=+t,void(this.l=+e)):arguments.length<2?n instanceof it?new it(n.h,n.c,n.l):n instanceof at?st(n.l,n.a,n.b):st((n=xt((n=Zo.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new it(n,t,e)}function ot(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new at(e,Math.cos(n*=Aa)*t,Math.sin(n)*t)}function at(n,t,e){return this instanceof at?(this.l=+n,this.a=+t,void(this.b=+e)):arguments.length<2?n instanceof at?new at(n.l,n.a,n.b):n instanceof it?ot(n.l,n.c,n.h):xt((n=gt(n)).r,n.g,n.b):new at(n,t,e)}function ct(n,t,e){var r=(n+16)/116,u=r+t/500,i=r-e/200;return u=lt(u)*ja,r=lt(r)*Ha,i=lt(i)*Fa,new gt(ht(3.2404542*u-1.5371385*r-.4985314*i),ht(-.969266*u+1.8760108*r+.041556*i),ht(.0556434*u-.2040259*r+1.0572252*i))}function st(n,t,e){return n>0?new it(Math.atan2(e,t)*Ca,Math.sqrt(t*t+e*e),n):new it(0/0,0/0,n)}function lt(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function ft(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function ht(n){return Math.round(255*(.00304>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function gt(n,t,e){return this instanceof gt?(this.r=~~n,this.g=~~t,void(this.b=~~e)):arguments.length<2?n instanceof gt?new gt(n.r,n.g,n.b):mt(""+n,gt,ut):new gt(n,t,e)}function pt(n){return new gt(n>>16,255&n>>8,255&n)}function vt(n){return pt(n)+""}function dt(n){return 16>n?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function mt(n,t,e){var r,u,i,o=0,a=0,c=0;if(r=/([a-z]+)\((.*)\)/i.exec(n))switch(u=r[2].split(","),r[1]){case"hsl":return e(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(_t(u[0]),_t(u[1]),_t(u[2]))}return(i=Ia.get(n))?t(i.r,i.g,i.b):(null==n||"#"!==n.charAt(0)||isNaN(i=parseInt(n.substring(1),16))||(4===n.length?(o=(3840&i)>>4,o=o>>4|o,a=240&i,a=a>>4|a,c=15&i,c=c<<4|c):7===n.length&&(o=(16711680&i)>>16,a=(65280&i)>>8,c=255&i)),t(o,a,c))}function yt(n,t,e){var r,u,i=Math.min(n/=255,t/=255,e/=255),o=Math.max(n,t,e),a=o-i,c=(o+i)/2;return a?(u=.5>c?a/(o+i):a/(2-o-i),r=n==o?(t-e)/a+(e>t?6:0):t==o?(e-n)/a+2:(n-t)/a+4,r*=60):(r=0/0,u=c>0&&1>c?0:r),new rt(r,u,c)}function xt(n,t,e){n=Mt(n),t=Mt(t),e=Mt(e);var r=ft((.4124564*n+.3575761*t+.1804375*e)/ja),u=ft((.2126729*n+.7151522*t+.072175*e)/Ha),i=ft((.0193339*n+.119192*t+.9503041*e)/Fa);return at(116*u-16,500*(r-u),200*(u-i))}function Mt(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function _t(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function bt(n){return"function"==typeof n?n:function(){return n}}function wt(n){return n}function St(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),kt(t,e,n,r)}}function kt(n,t,e,r){function u(){var n,t=c.status;if(!t&&c.responseText||t>=200&&300>t||304===t){try{n=e.call(i,c)}catch(r){return void o.error.call(i,r)}o.load.call(i,n)}else o.error.call(i,c)}var i={},o=Zo.dispatch("beforesend","progress","load","error"),a={},c=new XMLHttpRequest,s=null;return!Wo.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(n)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=u:c.onreadystatechange=function(){c.readyState>3&&u()},c.onprogress=function(n){var t=Zo.event;Zo.event=n;try{o.progress.call(i,c)}finally{Zo.event=t}},i.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?a[n]:(null==t?delete a[n]:a[n]=t+"",i)},i.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",i):t},i.responseType=function(n){return arguments.length?(s=n,i):s},i.response=function(n){return e=n,i},["get","post"].forEach(function(n){i[n]=function(){return i.send.apply(i,[n].concat(Xo(arguments)))}}),i.send=function(e,r,u){if(2===arguments.length&&"function"==typeof r&&(u=r,r=null),c.open(e,n,!0),null==t||"accept"in a||(a.accept=t+",*/*"),c.setRequestHeader)for(var l in a)c.setRequestHeader(l,a[l]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=s&&(c.responseType=s),null!=u&&i.on("error",u).on("load",function(n){u(null,n)}),o.beforesend.call(i,c),c.send(null==r?null:r),i},i.abort=function(){return c.abort(),i},Zo.rebind(i,o,"on"),null==r?i:i.get(Et(r))}function Et(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function At(){var n=Ct(),t=Nt()-n;t>24?(isFinite(t)&&(clearTimeout($a),$a=setTimeout(At,t)),Xa=0):(Xa=1,Wa(At))}function Ct(){var n=Date.now();for(Ba=Za;Ba;)n>=Ba.t&&(Ba.f=Ba.c(n-Ba.t)),Ba=Ba.n;return n}function Nt(){for(var n,t=Za,e=1/0;t;)t.f?t=n?n.n=t.n:Za=t.n:(t.t<e&&(e=t.t),t=(n=t).n);return Va=n,e}function zt(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function Lt(n,t){var e=Math.pow(10,3*ua(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function Tt(n){var t=n.decimal,e=n.thousands,r=n.grouping,u=n.currency,i=r?function(n){for(var t=n.length,u=[],i=0,o=r[0];t>0&&o>0;)u.push(n.substring(t-=o,t+o)),o=r[i=(i+1)%r.length];return u.reverse().join(e)}:wt;return function(n){var e=Ga.exec(n),r=e[1]||" ",o=e[2]||">",a=e[3]||"",c=e[4]||"",s=e[5],l=+e[6],f=e[7],h=e[8],g=e[9],p=1,v="",d="",m=!1;switch(h&&(h=+h.substring(1)),(s||"0"===r&&"="===o)&&(s=r="0",o="=",f&&(l-=Math.floor((l-1)/4))),g){case"n":f=!0,g="g";break;case"%":p=100,d="%",g="f";break;case"p":p=100,d="%",g="r";break;case"b":case"o":case"x":case"X":"#"===c&&(v="0"+g.toLowerCase());case"c":case"d":m=!0,h=0;break;case"s":p=-1,g="r"}"$"===c&&(v=u[0],d=u[1]),"r"!=g||h||(g="g"),null!=h&&("g"==g?h=Math.max(1,Math.min(21,h)):("e"==g||"f"==g)&&(h=Math.max(0,Math.min(20,h)))),g=Ka.get(g)||qt;var y=s&&f;return function(n){var e=d;if(m&&n%1)return"";var u=0>n||0===n&&0>1/n?(n=-n,"-"):a;if(0>p){var c=Zo.formatPrefix(n,h);n=c.scale(n),e=c.symbol+d}else n*=p;n=g(n,h);var x=n.lastIndexOf("."),M=0>x?n:n.substring(0,x),_=0>x?"":t+n.substring(x+1);!s&&f&&(M=i(M));
var b=v.length+M.length+_.length+(y?0:u.length),w=l>b?new Array(b=l-b+1).join(r):"";return y&&(M=i(w+M)),u+=v,n=M+_,("<"===o?u+n+w:">"===o?w+u+n:"^"===o?w.substring(0,b>>=1)+u+n+w.substring(b):u+(y?n:w+n))+e}}}function qt(n){return n+""}function Rt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Dt(n,t,e){function r(t){var e=n(t),r=i(e,1);return r-t>t-e?e:r}function u(e){return t(e=n(new nc(e-1)),1),e}function i(n,e){return t(n=new nc(+n),e),n}function o(n,r,i){var o=u(n),a=[];if(i>1)for(;r>o;)e(o)%i||a.push(new Date(+o)),t(o,1);else for(;r>o;)a.push(new Date(+o)),t(o,1);return a}function a(n,t,e){try{nc=Rt;var r=new Rt;return r._=n,o(r,t,e)}finally{nc=Date}}n.floor=n,n.round=r,n.ceil=u,n.offset=i,n.range=o;var c=n.utc=Pt(n);return c.floor=c,c.round=Pt(r),c.ceil=Pt(u),c.offset=Pt(i),c.range=a,n}function Pt(n){return function(t,e){try{nc=Rt;var r=new Rt;return r._=t,n(r,e)._}finally{nc=Date}}}function Ut(n){function t(n){function t(t){for(var e,u,i,o=[],a=-1,c=0;++a<r;)37===n.charCodeAt(a)&&(o.push(n.substring(c,a)),null!=(u=ec[e=n.charAt(++a)])&&(e=n.charAt(++a)),(i=C[e])&&(e=i(t,null==u?"e"===e?" ":"0":u)),o.push(e),c=a+1);return o.push(n.substring(c,a)),o.join("")}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},u=e(r,n,t,0);if(u!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&nc!==Rt,o=new(i?Rt:nc);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+Math.floor(r.Z/100),r.M+r.Z%100,r.S,r.L),i?o._:o},t.toString=function(){return n},t}function e(n,t,e,r){for(var u,i,o,a=0,c=t.length,s=e.length;c>a;){if(r>=s)return-1;if(u=t.charCodeAt(a++),37===u){if(o=t.charAt(a++),i=N[o in ec?t.charAt(a++):o],!i||(r=i(n,e,r))<0)return-1}else if(u!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){b.lastIndex=0;var r=b.exec(t.substring(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){M.lastIndex=0;var r=M.exec(t.substring(e));return r?(n.w=_.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){E.lastIndex=0;var r=E.exec(t.substring(e));return r?(n.m=A.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,e){S.lastIndex=0;var r=S.exec(t.substring(e));return r?(n.m=k.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,r){return e(n,C.c.toString(),t,r)}function c(n,t,r){return e(n,C.x.toString(),t,r)}function s(n,t,r){return e(n,C.X.toString(),t,r)}function l(n,t,e){var r=x.get(t.substring(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var f=n.dateTime,h=n.date,g=n.time,p=n.periods,v=n.days,d=n.shortDays,m=n.months,y=n.shortMonths;t.utc=function(n){function e(n){try{nc=Rt;var t=new nc;return t._=n,r(t)}finally{nc=Date}}var r=t(n);return e.parse=function(n){try{nc=Rt;var t=r.parse(n);return t&&t._}finally{nc=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=re;var x=Zo.map(),M=Ht(v),_=Ft(v),b=Ht(d),w=Ft(d),S=Ht(m),k=Ft(m),E=Ht(y),A=Ft(y);p.forEach(function(n,t){x.set(n.toLowerCase(),t)});var C={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return y[n.getMonth()]},B:function(n){return m[n.getMonth()]},c:t(f),d:function(n,t){return jt(n.getDate(),t,2)},e:function(n,t){return jt(n.getDate(),t,2)},H:function(n,t){return jt(n.getHours(),t,2)},I:function(n,t){return jt(n.getHours()%12||12,t,2)},j:function(n,t){return jt(1+Qa.dayOfYear(n),t,3)},L:function(n,t){return jt(n.getMilliseconds(),t,3)},m:function(n,t){return jt(n.getMonth()+1,t,2)},M:function(n,t){return jt(n.getMinutes(),t,2)},p:function(n){return p[+(n.getHours()>=12)]},S:function(n,t){return jt(n.getSeconds(),t,2)},U:function(n,t){return jt(Qa.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return jt(Qa.mondayOfYear(n),t,2)},x:t(h),X:t(g),y:function(n,t){return jt(n.getFullYear()%100,t,2)},Y:function(n,t){return jt(n.getFullYear()%1e4,t,4)},Z:te,"%":function(){return"%"}},N={a:r,A:u,b:i,B:o,c:a,d:Wt,e:Wt,H:Gt,I:Gt,j:Jt,L:ne,m:Bt,M:Kt,p:l,S:Qt,U:Yt,w:Ot,W:It,x:c,X:s,y:Vt,Y:Zt,Z:Xt,"%":ee};return t}function jt(n,t,e){var r=0>n?"-":"",u=(r?-n:n)+"",i=u.length;return r+(e>i?new Array(e-i+1).join(t)+u:u)}function Ht(n){return new RegExp("^(?:"+n.map(Zo.requote).join("|")+")","i")}function Ft(n){for(var t=new o,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function Ot(n,t,e){rc.lastIndex=0;var r=rc.exec(t.substring(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Yt(n,t,e){rc.lastIndex=0;var r=rc.exec(t.substring(e));return r?(n.U=+r[0],e+r[0].length):-1}function It(n,t,e){rc.lastIndex=0;var r=rc.exec(t.substring(e));return r?(n.W=+r[0],e+r[0].length):-1}function Zt(n,t,e){rc.lastIndex=0;var r=rc.exec(t.substring(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Vt(n,t,e){rc.lastIndex=0;var r=rc.exec(t.substring(e,e+2));return r?(n.y=$t(+r[0]),e+r[0].length):-1}function Xt(n,t,e){return/^[+-]\d{4}$/.test(t=t.substring(e,e+5))?(n.Z=-t,e+5):-1}function $t(n){return n+(n>68?1900:2e3)}function Bt(n,t,e){rc.lastIndex=0;var r=rc.exec(t.substring(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function Wt(n,t,e){rc.lastIndex=0;var r=rc.exec(t.substring(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function Jt(n,t,e){rc.lastIndex=0;var r=rc.exec(t.substring(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function Gt(n,t,e){rc.lastIndex=0;var r=rc.exec(t.substring(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function Kt(n,t,e){rc.lastIndex=0;var r=rc.exec(t.substring(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function Qt(n,t,e){rc.lastIndex=0;var r=rc.exec(t.substring(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function ne(n,t,e){rc.lastIndex=0;var r=rc.exec(t.substring(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function te(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=~~(ua(t)/60),u=ua(t)%60;return e+jt(r,"0",2)+jt(u,"0",2)}function ee(n,t,e){uc.lastIndex=0;var r=uc.exec(t.substring(e,e+1));return r?e+r[0].length:-1}function re(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function ue(){}function ie(n,t,e){var r=e.s=n+t,u=r-n,i=r-u;e.t=n-i+(t-u)}function oe(n,t){n&&cc.hasOwnProperty(n.type)&&cc[n.type](n,t)}function ae(n,t,e){var r,u=-1,i=n.length-e;for(t.lineStart();++u<i;)r=n[u],t.point(r[0],r[1],r[2]);t.lineEnd()}function ce(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)ae(n[e],t,1);t.polygonEnd()}function se(){function n(n,t){n*=Aa,t=t*Aa/2+ba/4;var e=n-r,o=e>=0?1:-1,a=o*e,c=Math.cos(t),s=Math.sin(t),l=i*s,f=u*c+l*Math.cos(a),h=l*o*Math.sin(a);lc.add(Math.atan2(h,f)),r=n,u=c,i=s}var t,e,r,u,i;fc.point=function(o,a){fc.point=n,r=(t=o)*Aa,u=Math.cos(a=(e=a)*Aa/2+ba/4),i=Math.sin(a)},fc.lineEnd=function(){n(t,e)}}function le(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function fe(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function he(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function ge(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function pe(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function ve(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function de(n){return[Math.atan2(n[1],n[0]),G(n[2])]}function me(n,t){return ua(n[0]-t[0])<ka&&ua(n[1]-t[1])<ka}function ye(n,t){n*=Aa;var e=Math.cos(t*=Aa);xe(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function xe(n,t,e){++hc,pc+=(n-pc)/hc,vc+=(t-vc)/hc,dc+=(e-dc)/hc}function Me(){function n(n,u){n*=Aa;var i=Math.cos(u*=Aa),o=i*Math.cos(n),a=i*Math.sin(n),c=Math.sin(u),s=Math.atan2(Math.sqrt((s=e*c-r*a)*s+(s=r*o-t*c)*s+(s=t*a-e*o)*s),t*o+e*a+r*c);gc+=s,mc+=s*(t+(t=o)),yc+=s*(e+(e=a)),xc+=s*(r+(r=c)),xe(t,e,r)}var t,e,r;wc.point=function(u,i){u*=Aa;var o=Math.cos(i*=Aa);t=o*Math.cos(u),e=o*Math.sin(u),r=Math.sin(i),wc.point=n,xe(t,e,r)}}function _e(){wc.point=ye}function be(){function n(n,t){n*=Aa;var e=Math.cos(t*=Aa),o=e*Math.cos(n),a=e*Math.sin(n),c=Math.sin(t),s=u*c-i*a,l=i*o-r*c,f=r*a-u*o,h=Math.sqrt(s*s+l*l+f*f),g=r*o+u*a+i*c,p=h&&-J(g)/h,v=Math.atan2(h,g);Mc+=p*s,_c+=p*l,bc+=p*f,gc+=v,mc+=v*(r+(r=o)),yc+=v*(u+(u=a)),xc+=v*(i+(i=c)),xe(r,u,i)}var t,e,r,u,i;wc.point=function(o,a){t=o,e=a,wc.point=n,o*=Aa;var c=Math.cos(a*=Aa);r=c*Math.cos(o),u=c*Math.sin(o),i=Math.sin(a),xe(r,u,i)},wc.lineEnd=function(){n(t,e),wc.lineEnd=_e,wc.point=ye}}function we(){return!0}function Se(n,t,e,r,u){var i=[],o=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(me(e,r)){u.lineStart();for(var a=0;t>a;++a)u.point((e=n[a])[0],e[1]);return void u.lineEnd()}var c=new Ee(e,n,null,!0),s=new Ee(e,null,c,!1);c.o=s,i.push(c),o.push(s),c=new Ee(r,n,null,!1),s=new Ee(r,null,c,!0),c.o=s,i.push(c),o.push(s)}}),o.sort(t),ke(i),ke(o),i.length){for(var a=0,c=e,s=o.length;s>a;++a)o[a].e=c=!c;for(var l,f,h=i[0];;){for(var g=h,p=!0;g.v;)if((g=g.n)===h)return;l=g.z,u.lineStart();do{if(g.v=g.o.v=!0,g.e){if(p)for(var a=0,s=l.length;s>a;++a)u.point((f=l[a])[0],f[1]);else r(g.x,g.n.x,1,u);g=g.n}else{if(p){l=g.p.z;for(var a=l.length-1;a>=0;--a)u.point((f=l[a])[0],f[1])}else r(g.x,g.p.x,-1,u);g=g.p}g=g.o,l=g.z,p=!p}while(!g.v);u.lineEnd()}}}function ke(n){if(t=n.length){for(var t,e,r=0,u=n[0];++r<t;)u.n=e=n[r],e.p=u,u=e;u.n=e=n[0],e.p=u}}function Ee(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Ae(n,t,e,r){return function(u,i){function o(t,e){var r=u(t,e);n(t=r[0],e=r[1])&&i.point(t,e)}function a(n,t){var e=u(n,t);d.point(e[0],e[1])}function c(){y.point=a,d.lineStart()}function s(){y.point=o,d.lineEnd()}function l(n,t){v.push([n,t]);var e=u(n,t);M.point(e[0],e[1])}function f(){M.lineStart(),v=[]}function h(){l(v[0][0],v[0][1]),M.lineEnd();var n,t=M.clean(),e=x.buffer(),r=e.length;if(v.pop(),p.push(v),v=null,r)if(1&t){n=e[0];var u,r=n.length-1,o=-1;if(r>0){for(_||(i.polygonStart(),_=!0),i.lineStart();++o<r;)i.point((u=n[o])[0],u[1]);i.lineEnd()}}else r>1&&2&t&&e.push(e.pop().concat(e.shift())),g.push(e.filter(Ce))}var g,p,v,d=t(i),m=u.invert(r[0],r[1]),y={point:o,lineStart:c,lineEnd:s,polygonStart:function(){y.point=l,y.lineStart=f,y.lineEnd=h,g=[],p=[]},polygonEnd:function(){y.point=o,y.lineStart=c,y.lineEnd=s,g=Zo.merge(g);var n=Le(m,p);g.length?(_||(i.polygonStart(),_=!0),Se(g,ze,n,e,i)):n&&(_||(i.polygonStart(),_=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),_&&(i.polygonEnd(),_=!1),g=p=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}},x=Ne(),M=t(x),_=!1;return y}}function Ce(n){return n.length>1}function Ne(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:v,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function ze(n,t){return((n=n.x)[0]<0?n[1]-Sa-ka:Sa-n[1])-((t=t.x)[0]<0?t[1]-Sa-ka:Sa-t[1])}function Le(n,t){var e=n[0],r=n[1],u=[Math.sin(e),-Math.cos(e),0],i=0,o=0;lc.reset();for(var a=0,c=t.length;c>a;++a){var s=t[a],l=s.length;if(l)for(var f=s[0],h=f[0],g=f[1]/2+ba/4,p=Math.sin(g),v=Math.cos(g),d=1;;){d===l&&(d=0),n=s[d];var m=n[0],y=n[1]/2+ba/4,x=Math.sin(y),M=Math.cos(y),_=m-h,b=_>=0?1:-1,w=b*_,S=w>ba,k=p*x;if(lc.add(Math.atan2(k*b*Math.sin(w),v*M+k*Math.cos(w))),i+=S?_+b*wa:_,S^h>=e^m>=e){var E=he(le(f),le(n));ve(E);var A=he(u,E);ve(A);var C=(S^_>=0?-1:1)*G(A[2]);(r>C||r===C&&(E[0]||E[1]))&&(o+=S^_>=0?1:-1)}if(!d++)break;h=m,p=x,v=M,f=n}}return(-ka>i||ka>i&&0>lc)^1&o}function Te(n){var t,e=0/0,r=0/0,u=0/0;return{lineStart:function(){n.lineStart(),t=1},point:function(i,o){var a=i>0?ba:-ba,c=ua(i-e);ua(c-ba)<ka?(n.point(e,r=(r+o)/2>0?Sa:-Sa),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(i,r),t=0):u!==a&&c>=ba&&(ua(e-u)<ka&&(e-=u*ka),ua(i-a)<ka&&(i-=a*ka),r=qe(e,r,i,o),n.point(u,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=i,r=o),u=a},lineEnd:function(){n.lineEnd(),e=r=0/0},clean:function(){return 2-t}}}function qe(n,t,e,r){var u,i,o=Math.sin(n-e);return ua(o)>ka?Math.atan((Math.sin(t)*(i=Math.cos(r))*Math.sin(e)-Math.sin(r)*(u=Math.cos(t))*Math.sin(n))/(u*i*o)):(t+r)/2}function Re(n,t,e,r){var u;if(null==n)u=e*Sa,r.point(-ba,u),r.point(0,u),r.point(ba,u),r.point(ba,0),r.point(ba,-u),r.point(0,-u),r.point(-ba,-u),r.point(-ba,0),r.point(-ba,u);else if(ua(n[0]-t[0])>ka){var i=n[0]<t[0]?ba:-ba;u=e*i/2,r.point(-i,u),r.point(0,u),r.point(i,u)}else r.point(t[0],t[1])}function De(n){function t(n,t){return Math.cos(n)*Math.cos(t)>i}function e(n){var e,i,c,s,l;return{lineStart:function(){s=c=!1,l=1},point:function(f,h){var g,p=[f,h],v=t(f,h),d=o?v?0:u(f,h):v?u(f+(0>f?ba:-ba),h):0;if(!e&&(s=c=v)&&n.lineStart(),v!==c&&(g=r(e,p),(me(e,g)||me(p,g))&&(p[0]+=ka,p[1]+=ka,v=t(p[0],p[1]))),v!==c)l=0,v?(n.lineStart(),g=r(p,e),n.point(g[0],g[1])):(g=r(e,p),n.point(g[0],g[1]),n.lineEnd()),e=g;else if(a&&e&&o^v){var m;d&i||!(m=r(p,e,!0))||(l=0,o?(n.lineStart(),n.point(m[0][0],m[0][1]),n.point(m[1][0],m[1][1]),n.lineEnd()):(n.point(m[1][0],m[1][1]),n.lineEnd(),n.lineStart(),n.point(m[0][0],m[0][1])))}!v||e&&me(e,p)||n.point(p[0],p[1]),e=p,c=v,i=d},lineEnd:function(){c&&n.lineEnd(),e=null},clean:function(){return l|(s&&c)<<1}}}function r(n,t,e){var r=le(n),u=le(t),o=[1,0,0],a=he(r,u),c=fe(a,a),s=a[0],l=c-s*s;if(!l)return!e&&n;var f=i*c/l,h=-i*s/l,g=he(o,a),p=pe(o,f),v=pe(a,h);ge(p,v);var d=g,m=fe(p,d),y=fe(d,d),x=m*m-y*(fe(p,p)-1);if(!(0>x)){var M=Math.sqrt(x),_=pe(d,(-m-M)/y);if(ge(_,p),_=de(_),!e)return _;var b,w=n[0],S=t[0],k=n[1],E=t[1];w>S&&(b=w,w=S,S=b);var A=S-w,C=ua(A-ba)<ka,N=C||ka>A;if(!C&&k>E&&(b=k,k=E,E=b),N?C?k+E>0^_[1]<(ua(_[0]-w)<ka?k:E):k<=_[1]&&_[1]<=E:A>ba^(w<=_[0]&&_[0]<=S)){var z=pe(d,(-m+M)/y);return ge(z,p),[_,de(z)]}}}function u(t,e){var r=o?n:ba-n,u=0;return-r>t?u|=1:t>r&&(u|=2),-r>e?u|=4:e>r&&(u|=8),u}var i=Math.cos(n),o=i>0,a=ua(i)>ka,c=sr(n,6*Aa);return Ae(t,e,c,o?[0,-n]:[-ba,n-ba])}function Pe(n,t,e,r){return function(u){var i,o=u.a,a=u.b,c=o.x,s=o.y,l=a.x,f=a.y,h=0,g=1,p=l-c,v=f-s;if(i=n-c,p||!(i>0)){if(i/=p,0>p){if(h>i)return;g>i&&(g=i)}else if(p>0){if(i>g)return;i>h&&(h=i)}if(i=e-c,p||!(0>i)){if(i/=p,0>p){if(i>g)return;i>h&&(h=i)}else if(p>0){if(h>i)return;g>i&&(g=i)}if(i=t-s,v||!(i>0)){if(i/=v,0>v){if(h>i)return;g>i&&(g=i)}else if(v>0){if(i>g)return;i>h&&(h=i)}if(i=r-s,v||!(0>i)){if(i/=v,0>v){if(i>g)return;i>h&&(h=i)}else if(v>0){if(h>i)return;g>i&&(g=i)}return h>0&&(u.a={x:c+h*p,y:s+h*v}),1>g&&(u.b={x:c+g*p,y:s+g*v}),u}}}}}}function Ue(n,t,e,r){function u(r,u){return ua(r[0]-n)<ka?u>0?0:3:ua(r[0]-e)<ka?u>0?2:1:ua(r[1]-t)<ka?u>0?1:0:u>0?3:2}function i(n,t){return o(n.x,t.x)}function o(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){function c(n){for(var t=0,e=d.length,r=n[1],u=0;e>u;++u)for(var i,o=1,a=d[u],c=a.length,s=a[0];c>o;++o)i=a[o],s[1]<=r?i[1]>r&&W(s,i,n)>0&&++t:i[1]<=r&&W(s,i,n)<0&&--t,s=i;return 0!==t}function s(i,a,c,s){var l=0,f=0;if(null==i||(l=u(i,c))!==(f=u(a,c))||o(i,a)<0^c>0){do s.point(0===l||3===l?n:e,l>1?r:t);while((l=(l+c+4)%4)!==f)}else s.point(a[0],a[1])}function l(u,i){return u>=n&&e>=u&&i>=t&&r>=i}function f(n,t){l(n,t)&&a.point(n,t)}function h(){N.point=p,d&&d.push(m=[]),S=!0,w=!1,_=b=0/0}function g(){v&&(p(y,x),M&&w&&A.rejoin(),v.push(A.buffer())),N.point=f,w&&a.lineEnd()}function p(n,t){n=Math.max(-kc,Math.min(kc,n)),t=Math.max(-kc,Math.min(kc,t));var e=l(n,t);if(d&&m.push([n,t]),S)y=n,x=t,M=e,S=!1,e&&(a.lineStart(),a.point(n,t));else if(e&&w)a.point(n,t);else{var r={a:{x:_,y:b},b:{x:n,y:t}};C(r)?(w||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),k=!1):e&&(a.lineStart(),a.point(n,t),k=!1)}_=n,b=t,w=e}var v,d,m,y,x,M,_,b,w,S,k,E=a,A=Ne(),C=Pe(n,t,e,r),N={point:f,lineStart:h,lineEnd:g,polygonStart:function(){a=A,v=[],d=[],k=!0},polygonEnd:function(){a=E,v=Zo.merge(v);var t=c([n,r]),e=k&&t,u=v.length;(e||u)&&(a.polygonStart(),e&&(a.lineStart(),s(null,null,1,a),a.lineEnd()),u&&Se(v,i,t,s,a),a.polygonEnd()),v=d=m=null}};return N}}function je(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function He(n){var t=0,e=ba/3,r=tr(n),u=r(t,e);return u.parallels=function(n){return arguments.length?r(t=n[0]*ba/180,e=n[1]*ba/180):[180*(t/ba),180*(e/ba)]},u}function Fe(n,t){function e(n,t){var e=Math.sqrt(i-2*u*Math.sin(t))/u;return[e*Math.sin(n*=u),o-e*Math.cos(n)]}var r=Math.sin(n),u=(r+Math.sin(t))/2,i=1+r*(2*u-r),o=Math.sqrt(i)/u;return e.invert=function(n,t){var e=o-t;return[Math.atan2(n,e)/u,G((i-(n*n+e*e)*u*u)/(2*u))]},e}function Oe(){function n(n,t){Ac+=u*n-r*t,r=n,u=t}var t,e,r,u;Tc.point=function(i,o){Tc.point=n,t=r=i,e=u=o},Tc.lineEnd=function(){n(t,e)}}function Ye(n,t){Cc>n&&(Cc=n),n>zc&&(zc=n),Nc>t&&(Nc=t),t>Lc&&(Lc=t)}function Ie(){function n(n,t){o.push("M",n,",",t,i)}function t(n,t){o.push("M",n,",",t),a.point=e}function e(n,t){o.push("L",n,",",t)}function r(){a.point=n}function u(){o.push("Z")}var i=Ze(4.5),o=[],a={point:n,lineStart:function(){a.point=t},lineEnd:r,polygonStart:function(){a.lineEnd=u},polygonEnd:function(){a.lineEnd=r,a.point=n},pointRadius:function(n){return i=Ze(n),a},result:function(){if(o.length){var n=o.join("");return o=[],n}}};return a}function Ze(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Ve(n,t){pc+=n,vc+=t,++dc}function Xe(){function n(n,r){var u=n-t,i=r-e,o=Math.sqrt(u*u+i*i);mc+=o*(t+n)/2,yc+=o*(e+r)/2,xc+=o,Ve(t=n,e=r)}var t,e;Rc.point=function(r,u){Rc.point=n,Ve(t=r,e=u)}}function $e(){Rc.point=Ve}function Be(){function n(n,t){var e=n-r,i=t-u,o=Math.sqrt(e*e+i*i);mc+=o*(r+n)/2,yc+=o*(u+t)/2,xc+=o,o=u*n-r*t,Mc+=o*(r+n),_c+=o*(u+t),bc+=3*o,Ve(r=n,u=t)}var t,e,r,u;Rc.point=function(i,o){Rc.point=n,Ve(t=r=i,e=u=o)},Rc.lineEnd=function(){n(t,e)}}function We(n){function t(t,e){n.moveTo(t,e),n.arc(t,e,o,0,wa)}function e(t,e){n.moveTo(t,e),a.point=r}function r(t,e){n.lineTo(t,e)}function u(){a.point=t}function i(){n.closePath()}var o=4.5,a={point:t,lineStart:function(){a.point=e},lineEnd:u,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=u,a.point=t},pointRadius:function(n){return o=n,a},result:v};return a}function Je(n){function t(n){return(a?r:e)(n)}function e(t){return Qe(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){x=0/0,S.point=i,t.lineStart()}function i(e,r){var i=le([e,r]),o=n(e,r);u(x,M,y,_,b,w,x=o[0],M=o[1],y=e,_=i[0],b=i[1],w=i[2],a,t),t.point(x,M)}function o(){S.point=e,t.lineEnd()}function c(){r(),S.point=s,S.lineEnd=l}function s(n,t){i(f=n,h=t),g=x,p=M,v=_,d=b,m=w,S.point=i}function l(){u(x,M,y,_,b,w,g,p,f,v,d,m,a,t),S.lineEnd=o,o()}var f,h,g,p,v,d,m,y,x,M,_,b,w,S={point:e,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),S.lineStart=c},polygonEnd:function(){t.polygonEnd(),S.lineStart=r}};return S}function u(t,e,r,a,c,s,l,f,h,g,p,v,d,m){var y=l-t,x=f-e,M=y*y+x*x;if(M>4*i&&d--){var _=a+g,b=c+p,w=s+v,S=Math.sqrt(_*_+b*b+w*w),k=Math.asin(w/=S),E=ua(ua(w)-1)<ka||ua(r-h)<ka?(r+h)/2:Math.atan2(b,_),A=n(E,k),C=A[0],N=A[1],z=C-t,L=N-e,T=x*z-y*L;(T*T/M>i||ua((y*z+x*L)/M-.5)>.3||o>a*g+c*p+s*v)&&(u(t,e,r,a,c,s,C,N,E,_/=S,b/=S,w,d,m),m.point(C,N),u(C,N,E,_,b,w,l,f,h,g,p,v,d,m))}}var i=.5,o=Math.cos(30*Aa),a=16;return t.precision=function(n){return arguments.length?(a=(i=n*n)>0&&16,t):Math.sqrt(i)},t}function Ge(n){var t=Je(function(t,e){return n([t*Ca,e*Ca])});return function(n){return er(t(n))}}function Ke(n){this.stream=n}function Qe(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function nr(n){return tr(function(){return n})()}function tr(n){function t(n){return n=a(n[0]*Aa,n[1]*Aa),[n[0]*h+c,s-n[1]*h]}function e(n){return n=a.invert((n[0]-c)/h,(s-n[1])/h),n&&[n[0]*Ca,n[1]*Ca]}function r(){a=je(o=ir(m,y,x),i);var n=i(v,d);return c=g-n[0]*h,s=p+n[1]*h,u()}function u(){return l&&(l.valid=!1,l=null),t}var i,o,a,c,s,l,f=Je(function(n,t){return n=i(n,t),[n[0]*h+c,s-n[1]*h]}),h=150,g=480,p=250,v=0,d=0,m=0,y=0,x=0,M=Sc,_=wt,b=null,w=null;return t.stream=function(n){return l&&(l.valid=!1),l=er(M(o,f(_(n)))),l.valid=!0,l},t.clipAngle=function(n){return arguments.length?(M=null==n?(b=n,Sc):De((b=+n)*Aa),u()):b},t.clipExtent=function(n){return arguments.length?(w=n,_=n?Ue(n[0][0],n[0][1],n[1][0],n[1][1]):wt,u()):w},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(g=+n[0],p=+n[1],r()):[g,p]},t.center=function(n){return arguments.length?(v=n[0]%360*Aa,d=n[1]%360*Aa,r()):[v*Ca,d*Ca]},t.rotate=function(n){return arguments.length?(m=n[0]%360*Aa,y=n[1]%360*Aa,x=n.length>2?n[2]%360*Aa:0,r()):[m*Ca,y*Ca,x*Ca]},Zo.rebind(t,f,"precision"),function(){return i=n.apply(this,arguments),t.invert=i.invert&&e,r()}}function er(n){return Qe(n,function(t,e){n.point(t*Aa,e*Aa)})}function rr(n,t){return[n,t]}function ur(n,t){return[n>ba?n-wa:-ba>n?n+wa:n,t]}function ir(n,t,e){return n?t||e?je(ar(n),cr(t,e)):ar(n):t||e?cr(t,e):ur}function or(n){return function(t,e){return t+=n,[t>ba?t-wa:-ba>t?t+wa:t,e]}}function ar(n){var t=or(n);return t.invert=or(-n),t}function cr(n,t){function e(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,s=Math.sin(t),l=s*r+a*u;return[Math.atan2(c*i-l*o,a*r-s*u),G(l*i+c*o)]}var r=Math.cos(n),u=Math.sin(n),i=Math.cos(t),o=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),a=Math.cos(n)*e,c=Math.sin(n)*e,s=Math.sin(t),l=s*i-c*o;return[Math.atan2(c*i+s*o,a*r+l*u),G(l*r-a*u)]},e}function sr(n,t){var e=Math.cos(n),r=Math.sin(n);return function(u,i,o,a){var c=o*t;null!=u?(u=lr(e,u),i=lr(e,i),(o>0?i>u:u>i)&&(u+=o*wa)):(u=n+o*wa,i=n-.5*c);for(var s,l=u;o>0?l>i:i>l;l-=c)a.point((s=de([e,-r*Math.cos(l),-r*Math.sin(l)]))[0],s[1])}}function lr(n,t){var e=le(t);e[0]-=n,ve(e);var r=J(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-ka)%(2*Math.PI)}function fr(n,t,e){var r=Zo.range(n,t-ka,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function hr(n,t,e){var r=Zo.range(n,t-ka,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function gr(n){return n.source}function pr(n){return n.target}function vr(n,t,e,r){var u=Math.cos(t),i=Math.sin(t),o=Math.cos(r),a=Math.sin(r),c=u*Math.cos(n),s=u*Math.sin(n),l=o*Math.cos(e),f=o*Math.sin(e),h=2*Math.asin(Math.sqrt(tt(r-t)+u*o*tt(e-n))),g=1/Math.sin(h),p=h?function(n){var t=Math.sin(n*=h)*g,e=Math.sin(h-n)*g,r=e*c+t*l,u=e*s+t*f,o=e*i+t*a;return[Math.atan2(u,r)*Ca,Math.atan2(o,Math.sqrt(r*r+u*u))*Ca]}:function(){return[n*Ca,t*Ca]};return p.distance=h,p}function dr(){function n(n,u){var i=Math.sin(u*=Aa),o=Math.cos(u),a=ua((n*=Aa)-t),c=Math.cos(a);Dc+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=r*i-e*o*c)*a),e*i+r*o*c),t=n,e=i,r=o}var t,e,r;Pc.point=function(u,i){t=u*Aa,e=Math.sin(i*=Aa),r=Math.cos(i),Pc.point=n},Pc.lineEnd=function(){Pc.point=Pc.lineEnd=v}}function mr(n,t){function e(t,e){var r=Math.cos(t),u=Math.cos(e),i=n(r*u);return[i*u*Math.sin(t),i*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),u=t(r),i=Math.sin(u),o=Math.cos(u);return[Math.atan2(n*i,r*o),Math.asin(r&&e*i/r)]},e}function yr(n,t){function e(n,t){o>0?-Sa+ka>t&&(t=-Sa+ka):t>Sa-ka&&(t=Sa-ka);var e=o/Math.pow(u(t),i);return[e*Math.sin(i*n),o-e*Math.cos(i*n)]}var r=Math.cos(n),u=function(n){return Math.tan(ba/4+n/2)},i=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(u(t)/u(n)),o=r*Math.pow(u(n),i)/i;return i?(e.invert=function(n,t){var e=o-t,r=B(i)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/i,2*Math.atan(Math.pow(o/r,1/i))-Sa]},e):Mr}function xr(n,t){function e(n,t){var e=i-t;return[e*Math.sin(u*n),i-e*Math.cos(u*n)]}var r=Math.cos(n),u=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),i=r/u+n;return ua(u)<ka?rr:(e.invert=function(n,t){var e=i-t;return[Math.atan2(n,e)/u,i-B(u)*Math.sqrt(n*n+e*e)]},e)}function Mr(n,t){return[n,Math.log(Math.tan(ba/4+t/2))]}function _r(n){var t,e=nr(n),r=e.scale,u=e.translate,i=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=u.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var o=i.apply(e,arguments);if(o===e){if(t=null==n){var a=ba*r(),c=u();i([[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]])}}else t&&(o=null);return o},e.clipExtent(null)}function br(n,t){return[Math.log(Math.tan(ba/4+t/2)),-n]}function wr(n){return n[0]}function Sr(n){return n[1]}function kr(n){for(var t=n.length,e=[0,1],r=2,u=2;t>u;u++){for(;r>1&&W(n[e[r-2]],n[e[r-1]],n[u])<=0;)--r;e[r++]=u}return e.slice(0,r)}function Er(n,t){return n[0]-t[0]||n[1]-t[1]}function Ar(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Cr(n,t,e,r){var u=n[0],i=e[0],o=t[0]-u,a=r[0]-i,c=n[1],s=e[1],l=t[1]-c,f=r[1]-s,h=(a*(c-s)-f*(u-i))/(f*o-a*l);return[u+h*o,c+h*l]}function Nr(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function zr(){Gr(this),this.edge=this.site=this.circle=null}function Lr(n){var t=Bc.pop()||new zr;return t.site=n,t}function Tr(n){Yr(n),Vc.remove(n),Bc.push(n),Gr(n)}function qr(n){var t=n.circle,e=t.x,r=t.cy,u={x:e,y:r},i=n.P,o=n.N,a=[n];Tr(n);for(var c=i;c.circle&&ua(e-c.circle.x)<ka&&ua(r-c.circle.cy)<ka;)i=c.P,a.unshift(c),Tr(c),c=i;a.unshift(c),Yr(c);for(var s=o;s.circle&&ua(e-s.circle.x)<ka&&ua(r-s.circle.cy)<ka;)o=s.N,a.push(s),Tr(s),s=o;a.push(s),Yr(s);var l,f=a.length;for(l=1;f>l;++l)s=a[l],c=a[l-1],Br(s.edge,c.site,s.site,u);c=a[0],s=a[f-1],s.edge=Xr(c.site,s.site,null,u),Or(c),Or(s)}function Rr(n){for(var t,e,r,u,i=n.x,o=n.y,a=Vc._;a;)if(r=Dr(a,o)-i,r>ka)a=a.L;else{if(u=i-Pr(a,o),!(u>ka)){r>-ka?(t=a.P,e=a):u>-ka?(t=a,e=a.N):t=e=a;break}if(!a.R){t=a;break}a=a.R}var c=Lr(n);if(Vc.insert(t,c),t||e){if(t===e)return Yr(t),e=Lr(t.site),Vc.insert(c,e),c.edge=e.edge=Xr(t.site,c.site),Or(t),void Or(e);if(!e)return void(c.edge=Xr(t.site,c.site));Yr(t),Yr(e);var s=t.site,l=s.x,f=s.y,h=n.x-l,g=n.y-f,p=e.site,v=p.x-l,d=p.y-f,m=2*(h*d-g*v),y=h*h+g*g,x=v*v+d*d,M={x:(d*y-g*x)/m+l,y:(h*x-v*y)/m+f};Br(e.edge,s,p,M),c.edge=Xr(s,n,null,M),e.edge=Xr(n,p,null,M),Or(t),Or(e)}}function Dr(n,t){var e=n.site,r=e.x,u=e.y,i=u-t;if(!i)return r;var o=n.P;if(!o)return-1/0;e=o.site;var a=e.x,c=e.y,s=c-t;if(!s)return a;var l=a-r,f=1/i-1/s,h=l/s;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*s)-c+s/2+u-i/2)))/f+r:(r+a)/2}function Pr(n,t){var e=n.N;if(e)return Dr(e,t);var r=n.site;return r.y===t?r.x:1/0}function Ur(n){this.site=n,this.edges=[]}function jr(n){for(var t,e,r,u,i,o,a,c,s,l,f=n[0][0],h=n[1][0],g=n[0][1],p=n[1][1],v=Zc,d=v.length;d--;)if(i=v[d],i&&i.prepare())for(a=i.edges,c=a.length,o=0;c>o;)l=a[o].end(),r=l.x,u=l.y,s=a[++o%c].start(),t=s.x,e=s.y,(ua(r-t)>ka||ua(u-e)>ka)&&(a.splice(o,0,new Wr($r(i.site,l,ua(r-f)<ka&&p-u>ka?{x:f,y:ua(t-f)<ka?e:p}:ua(u-p)<ka&&h-r>ka?{x:ua(e-p)<ka?t:h,y:p}:ua(r-h)<ka&&u-g>ka?{x:h,y:ua(t-h)<ka?e:g}:ua(u-g)<ka&&r-f>ka?{x:ua(e-g)<ka?t:f,y:g}:null),i.site,null)),++c)}function Hr(n,t){return t.angle-n.angle}function Fr(){Gr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Or(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,u=n.site,i=e.site;if(r!==i){var o=u.x,a=u.y,c=r.x-o,s=r.y-a,l=i.x-o,f=i.y-a,h=2*(c*f-s*l);if(!(h>=-Ea)){var g=c*c+s*s,p=l*l+f*f,v=(f*g-s*p)/h,d=(c*p-l*g)/h,f=d+a,m=Wc.pop()||new Fr;m.arc=n,m.site=u,m.x=v+o,m.y=f+Math.sqrt(v*v+d*d),m.cy=f,n.circle=m;for(var y=null,x=$c._;x;)if(m.y<x.y||m.y===x.y&&m.x<=x.x){if(!x.L){y=x.P;break}x=x.L}else{if(!x.R){y=x;break}x=x.R}$c.insert(y,m),y||(Xc=m)}}}}function Yr(n){var t=n.circle;t&&(t.P||(Xc=t.N),$c.remove(t),Wc.push(t),Gr(t),n.circle=null)}function Ir(n){for(var t,e=Ic,r=Pe(n[0][0],n[0][1],n[1][0],n[1][1]),u=e.length;u--;)t=e[u],(!Zr(t,n)||!r(t)||ua(t.a.x-t.b.x)<ka&&ua(t.a.y-t.b.y)<ka)&&(t.a=t.b=null,e.splice(u,1))}function Zr(n,t){var e=n.b;if(e)return!0;var r,u,i=n.a,o=t[0][0],a=t[1][0],c=t[0][1],s=t[1][1],l=n.l,f=n.r,h=l.x,g=l.y,p=f.x,v=f.y,d=(h+p)/2,m=(g+v)/2;if(v===g){if(o>d||d>=a)return;if(h>p){if(i){if(i.y>=s)return}else i={x:d,y:c};e={x:d,y:s}}else{if(i){if(i.y<c)return}else i={x:d,y:s};e={x:d,y:c}}}else if(r=(h-p)/(v-g),u=m-r*d,-1>r||r>1)if(h>p){if(i){if(i.y>=s)return}else i={x:(c-u)/r,y:c};e={x:(s-u)/r,y:s}}else{if(i){if(i.y<c)return}else i={x:(s-u)/r,y:s};e={x:(c-u)/r,y:c}}else if(v>g){if(i){if(i.x>=a)return}else i={x:o,y:r*o+u};e={x:a,y:r*a+u}}else{if(i){if(i.x<o)return}else i={x:a,y:r*a+u};e={x:o,y:r*o+u}}return n.a=i,n.b=e,!0}function Vr(n,t){this.l=n,this.r=t,this.a=this.b=null}function Xr(n,t,e,r){var u=new Vr(n,t);return Ic.push(u),e&&Br(u,n,t,e),r&&Br(u,t,n,r),Zc[n.i].edges.push(new Wr(u,n,t)),Zc[t.i].edges.push(new Wr(u,t,n)),u}function $r(n,t,e){var r=new Vr(n,null);return r.a=t,r.b=e,Ic.push(r),r}function Br(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function Wr(n,t,e){var r=n.a,u=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(u.x-r.x,r.y-u.y):Math.atan2(r.x-u.x,u.y-r.y)}function Jr(){this._=null}function Gr(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function Kr(n,t){var e=t,r=t.R,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function Qr(n,t){var e=t,r=t.L,u=e.U;u?u.L===e?u.L=r:u.R=r:n._=r,r.U=u,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function nu(n){for(;n.L;)n=n.L;return n}function tu(n,t){var e,r,u,i=n.sort(eu).pop();for(Ic=[],Zc=new Array(n.length),Vc=new Jr,$c=new Jr;;)if(u=Xc,i&&(!u||i.y<u.y||i.y===u.y&&i.x<u.x))(i.x!==e||i.y!==r)&&(Zc[i.i]=new Ur(i),Rr(i),e=i.x,r=i.y),i=n.pop();else{if(!u)break;qr(u.arc)}t&&(Ir(t),jr(t));var o={cells:Zc,edges:Ic};return Vc=$c=Ic=Zc=null,o}function eu(n,t){return t.y-n.y||t.x-n.x}function ru(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function uu(n){return n.x}function iu(n){return n.y}function ou(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function au(n,t,e,r,u,i){if(!n(t,e,r,u,i)){var o=.5*(e+u),a=.5*(r+i),c=t.nodes;c[0]&&au(n,c[0],e,r,o,a),c[1]&&au(n,c[1],o,r,u,a),c[2]&&au(n,c[2],e,a,o,i),c[3]&&au(n,c[3],o,a,u,i)}}function cu(n,t){n=Zo.rgb(n),t=Zo.rgb(t);var e=n.r,r=n.g,u=n.b,i=t.r-e,o=t.g-r,a=t.b-u;return function(n){return"#"+dt(Math.round(e+i*n))+dt(Math.round(r+o*n))+dt(Math.round(u+a*n))}}function su(n,t){var e,r={},u={};for(e in n)e in t?r[e]=hu(n[e],t[e]):u[e]=n[e];for(e in t)e in n||(u[e]=t[e]);return function(n){for(e in r)u[e]=r[e](n);return u}}function lu(n,t){return t-=n=+n,function(e){return n+t*e}}function fu(n,t){var e,r,u,i=Gc.lastIndex=Kc.lastIndex=0,o=-1,a=[],c=[];for(n+="",t+="";(e=Gc.exec(n))&&(r=Kc.exec(t));)(u=r.index)>i&&(u=t.substring(i,u),a[o]?a[o]+=u:a[++o]=u),(e=e[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,c.push({i:o,x:lu(e,r)})),i=Kc.lastIndex;return i<t.length&&(u=t.substring(i),a[o]?a[o]+=u:a[++o]=u),a.length<2?c[0]?(t=c[0].x,function(n){return t(n)+""}):function(){return t}:(t=c.length,function(n){for(var e,r=0;t>r;++r)a[(e=c[r]).i]=e.x(n);return a.join("")})}function hu(n,t){for(var e,r=Zo.interpolators.length;--r>=0&&!(e=Zo.interpolators[r](n,t)););return e}function gu(n,t){var e,r=[],u=[],i=n.length,o=t.length,a=Math.min(n.length,t.length);for(e=0;a>e;++e)r.push(hu(n[e],t[e]));for(;i>e;++e)u[e]=n[e];for(;o>e;++e)u[e]=t[e];return function(n){for(e=0;a>e;++e)u[e]=r[e](n);return u}}function pu(n){return function(t){return 0>=t?0:t>=1?1:n(t)}}function vu(n){return function(t){return 1-n(1-t)}}function du(n){return function(t){return.5*(.5>t?n(2*t):2-n(2-2*t))}}function mu(n){return n*n}function yu(n){return n*n*n}function xu(n){if(0>=n)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(.5>n?e:3*(n-t)+e-.75)}function Mu(n){return function(t){return Math.pow(t,n)}}function _u(n){return 1-Math.cos(n*Sa)}function bu(n){return Math.pow(2,10*(n-1))}function wu(n){return 1-Math.sqrt(1-n*n)}function Su(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/wa*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*wa/t)}}function ku(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)
}}function Eu(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Au(n,t){n=Zo.hcl(n),t=Zo.hcl(t);var e=n.h,r=n.c,u=n.l,i=t.h-e,o=t.c-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return ot(e+i*n,r+o*n,u+a*n)+""}}function Cu(n,t){n=Zo.hsl(n),t=Zo.hsl(t);var e=n.h,r=n.s,u=n.l,i=t.h-e,o=t.s-r,a=t.l-u;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(i)?(i=0,e=isNaN(e)?t.h:e):i>180?i-=360:-180>i&&(i+=360),function(n){return ut(e+i*n,r+o*n,u+a*n)+""}}function Nu(n,t){n=Zo.lab(n),t=Zo.lab(t);var e=n.l,r=n.a,u=n.b,i=t.l-e,o=t.a-r,a=t.b-u;return function(n){return ct(e+i*n,r+o*n,u+a*n)+""}}function zu(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function Lu(n){var t=[n.a,n.b],e=[n.c,n.d],r=qu(t),u=Tu(t,e),i=qu(Ru(e,t,-u))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,u*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Ca,this.translate=[n.e,n.f],this.scale=[r,i],this.skew=i?Math.atan2(u,i)*Ca:0}function Tu(n,t){return n[0]*t[0]+n[1]*t[1]}function qu(n){var t=Math.sqrt(Tu(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Ru(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Du(n,t){var e,r=[],u=[],i=Zo.transform(n),o=Zo.transform(t),a=i.translate,c=o.translate,s=i.rotate,l=o.rotate,f=i.skew,h=o.skew,g=i.scale,p=o.scale;return a[0]!=c[0]||a[1]!=c[1]?(r.push("translate(",null,",",null,")"),u.push({i:1,x:lu(a[0],c[0])},{i:3,x:lu(a[1],c[1])})):r.push(c[0]||c[1]?"translate("+c+")":""),s!=l?(s-l>180?l+=360:l-s>180&&(s+=360),u.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:lu(s,l)})):l&&r.push(r.pop()+"rotate("+l+")"),f!=h?u.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:lu(f,h)}):h&&r.push(r.pop()+"skewX("+h+")"),g[0]!=p[0]||g[1]!=p[1]?(e=r.push(r.pop()+"scale(",null,",",null,")"),u.push({i:e-4,x:lu(g[0],p[0])},{i:e-2,x:lu(g[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),e=u.length,function(n){for(var t,i=-1;++i<e;)r[(t=u[i]).i]=t.x(n);return r.join("")}}function Pu(n,t){return t=t-(n=+n)?1/(t-n):0,function(e){return(e-n)*t}}function Uu(n,t){return t=t-(n=+n)?1/(t-n):0,function(e){return Math.max(0,Math.min(1,(e-n)*t))}}function ju(n){for(var t=n.source,e=n.target,r=Fu(t,e),u=[t];t!==r;)t=t.parent,u.push(t);for(var i=u.length;e!==r;)u.splice(i,0,e),e=e.parent;return u}function Hu(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Fu(n,t){if(n===t)return n;for(var e=Hu(n),r=Hu(t),u=e.pop(),i=r.pop(),o=null;u===i;)o=u,u=e.pop(),i=r.pop();return o}function Ou(n){n.fixed|=2}function Yu(n){n.fixed&=-7}function Iu(n){n.fixed|=4,n.px=n.x,n.py=n.y}function Zu(n){n.fixed&=-5}function Vu(n,t,e){var r=0,u=0;if(n.charge=0,!n.leaf)for(var i,o=n.nodes,a=o.length,c=-1;++c<a;)i=o[c],null!=i&&(Vu(i,t,e),n.charge+=i.charge,r+=i.charge*i.cx,u+=i.charge*i.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var s=t*e[n.point.index];n.charge+=n.pointCharge=s,r+=s*n.point.x,u+=s*n.point.y}n.cx=r/n.charge,n.cy=u/n.charge}function Xu(n,t){return Zo.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=Ku,n}function $u(n,t){for(var e=[n];null!=(n=e.pop());)if(t(n),(u=n.children)&&(r=u.length))for(var r,u;--r>=0;)e.push(u[r])}function Bu(n,t){for(var e=[n],r=[];null!=(n=e.pop());)if(r.push(n),(i=n.children)&&(u=i.length))for(var u,i,o=-1;++o<u;)e.push(i[o]);for(;null!=(n=r.pop());)t(n)}function Wu(n){return n.children}function Ju(n){return n.value}function Gu(n,t){return t.value-n.value}function Ku(n){return Zo.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function Qu(n){return n.x}function ni(n){return n.y}function ti(n,t,e){n.y0=t,n.y=e}function ei(n){return Zo.range(n.length)}function ri(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function ui(n){for(var t,e=1,r=0,u=n[0][1],i=n.length;i>e;++e)(t=n[e][1])>u&&(r=e,u=t);return r}function ii(n){return n.reduce(oi,0)}function oi(n,t){return n+t[1]}function ai(n,t){return ci(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ci(n,t){for(var e=-1,r=+n[0],u=(n[1]-r)/t,i=[];++e<=t;)i[e]=u*e+r;return i}function si(n){return[Zo.min(n),Zo.max(n)]}function li(n,t){return n.value-t.value}function fi(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function hi(n,t){n._pack_next=t,t._pack_prev=n}function gi(n,t){var e=t.x-n.x,r=t.y-n.y,u=n.r+t.r;return.999*u*u>e*e+r*r}function pi(n){function t(n){l=Math.min(n.x-n.r,l),f=Math.max(n.x+n.r,f),h=Math.min(n.y-n.r,h),g=Math.max(n.y+n.r,g)}if((e=n.children)&&(s=e.length)){var e,r,u,i,o,a,c,s,l=1/0,f=-1/0,h=1/0,g=-1/0;if(e.forEach(vi),r=e[0],r.x=-r.r,r.y=0,t(r),s>1&&(u=e[1],u.x=u.r,u.y=0,t(u),s>2))for(i=e[2],yi(r,u,i),t(i),fi(r,i),r._pack_prev=i,fi(i,u),u=r._pack_next,o=3;s>o;o++){yi(r,u,i=e[o]);var p=0,v=1,d=1;for(a=u._pack_next;a!==u;a=a._pack_next,v++)if(gi(a,i)){p=1;break}if(1==p)for(c=r._pack_prev;c!==a._pack_prev&&!gi(c,i);c=c._pack_prev,d++);p?(d>v||v==d&&u.r<r.r?hi(r,u=a):hi(r=c,u),o--):(fi(r,i),u=i,t(i))}var m=(l+f)/2,y=(h+g)/2,x=0;for(o=0;s>o;o++)i=e[o],i.x-=m,i.y-=y,x=Math.max(x,i.r+Math.sqrt(i.x*i.x+i.y*i.y));n.r=x,e.forEach(di)}}function vi(n){n._pack_next=n._pack_prev=n}function di(n){delete n._pack_next,delete n._pack_prev}function mi(n,t,e,r){var u=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,u)for(var i=-1,o=u.length;++i<o;)mi(u[i],t,e,r)}function yi(n,t,e){var r=n.r+e.r,u=t.x-n.x,i=t.y-n.y;if(r&&(u||i)){var o=t.r+e.r,a=u*u+i*i;o*=o,r*=r;var c=.5+(r-o)/(2*a),s=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+c*u+s*i,e.y=n.y+c*i-s*u}else e.x=n.x+r,e.y=n.y}function xi(n,t){return n.parent==t.parent?1:2}function Mi(n){var t=n.children;return t.length?t[0]:n.t}function _i(n){var t,e=n.children;return(t=e.length)?e[t-1]:n.t}function bi(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function wi(n){for(var t,e=0,r=0,u=n.children,i=u.length;--i>=0;)t=u[i],t.z+=e,t.m+=e,e+=t.s+(r+=t.c)}function Si(n,t,e){return n.a.parent===t.parent?n.a:e}function ki(n){return 1+Zo.max(n,function(n){return n.y})}function Ei(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Ai(n){var t=n.children;return t&&t.length?Ai(t[0]):n}function Ci(n){var t,e=n.children;return e&&(t=e.length)?Ci(e[t-1]):n}function Ni(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function zi(n,t){var e=n.x+t[3],r=n.y+t[0],u=n.dx-t[1]-t[3],i=n.dy-t[0]-t[2];return 0>u&&(e+=u/2,u=0),0>i&&(r+=i/2,i=0),{x:e,y:r,dx:u,dy:i}}function Li(n){var t=n[0],e=n[n.length-1];return e>t?[t,e]:[e,t]}function Ti(n){return n.rangeExtent?n.rangeExtent():Li(n.range())}function qi(n,t,e,r){var u=e(n[0],n[1]),i=r(t[0],t[1]);return function(n){return i(u(n))}}function Ri(n,t){var e,r=0,u=n.length-1,i=n[r],o=n[u];return i>o&&(e=r,r=u,u=e,e=i,i=o,o=e),n[r]=t.floor(i),n[u]=t.ceil(o),n}function Di(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:ss}function Pi(n,t,e,r){var u=[],i=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=a;)u.push(e(n[o-1],n[o])),i.push(r(t[o-1],t[o]));return function(t){var e=Zo.bisect(n,t,1,a)-1;return i[e](u[e](t))}}function Ui(n,t,e,r){function u(){var u=Math.min(n.length,t.length)>2?Pi:qi,c=r?Uu:Pu;return o=u(n,t,c,e),a=u(t,n,c,hu),i}function i(n){return o(n)}var o,a;return i.invert=function(n){return a(n)},i.domain=function(t){return arguments.length?(n=t.map(Number),u()):n},i.range=function(n){return arguments.length?(t=n,u()):t},i.rangeRound=function(n){return i.range(n).interpolate(zu)},i.clamp=function(n){return arguments.length?(r=n,u()):r},i.interpolate=function(n){return arguments.length?(e=n,u()):e},i.ticks=function(t){return Oi(n,t)},i.tickFormat=function(t,e){return Yi(n,t,e)},i.nice=function(t){return Hi(n,t),u()},i.copy=function(){return Ui(n,t,e,r)},u()}function ji(n,t){return Zo.rebind(n,t,"range","rangeRound","interpolate","clamp")}function Hi(n,t){return Ri(n,Di(Fi(n,t)[2]))}function Fi(n,t){null==t&&(t=10);var e=Li(n),r=e[1]-e[0],u=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*u;return.15>=i?u*=10:.35>=i?u*=5:.75>=i&&(u*=2),e[0]=Math.ceil(e[0]/u)*u,e[1]=Math.floor(e[1]/u)*u+.5*u,e[2]=u,e}function Oi(n,t){return Zo.range.apply(Zo,Fi(n,t))}function Yi(n,t,e){var r=Fi(n,t);if(e){var u=Ga.exec(e);if(u.shift(),"s"===u[8]){var i=Zo.formatPrefix(Math.max(ua(r[0]),ua(r[1])));return u[7]||(u[7]="."+Ii(i.scale(r[2]))),u[8]="f",e=Zo.format(u.join("")),function(n){return e(i.scale(n))+i.symbol}}u[7]||(u[7]="."+Zi(u[8],r)),e=u.join("")}else e=",."+Ii(r[2])+"f";return Zo.format(e)}function Ii(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function Zi(n,t){var e=Ii(t[2]);return n in ls?Math.abs(e-Ii(Math.max(ua(t[0]),ua(t[1]))))+ +("e"!==n):e-2*("%"===n)}function Vi(n,t,e,r){function u(n){return(e?Math.log(0>n?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function i(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function o(t){return n(u(t))}return o.invert=function(t){return i(n.invert(t))},o.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(u)),o):r},o.base=function(e){return arguments.length?(t=+e,n.domain(r.map(u)),o):t},o.nice=function(){var t=Ri(r.map(u),e?Math:hs);return n.domain(t),r=t.map(i),o},o.ticks=function(){var n=Li(r),o=[],a=n[0],c=n[1],s=Math.floor(u(a)),l=Math.ceil(u(c)),f=t%1?2:t;if(isFinite(l-s)){if(e){for(;l>s;s++)for(var h=1;f>h;h++)o.push(i(s)*h);o.push(i(s))}else for(o.push(i(s));s++<l;)for(var h=f-1;h>0;h--)o.push(i(s)*h);for(s=0;o[s]<a;s++);for(l=o.length;o[l-1]>c;l--);o=o.slice(s,l)}return o},o.tickFormat=function(n,t){if(!arguments.length)return fs;arguments.length<2?t=fs:"function"!=typeof t&&(t=Zo.format(t));var r,a=Math.max(.1,n/o.ticks().length),c=e?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(n){return n/i(c(u(n)+r))<=a?t(n):""}},o.copy=function(){return Vi(n.copy(),t,e,r)},ji(o,n)}function Xi(n,t,e){function r(t){return n(u(t))}var u=$i(t),i=$i(1/t);return r.invert=function(t){return i(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(u)),r):e},r.ticks=function(n){return Oi(e,n)},r.tickFormat=function(n,t){return Yi(e,n,t)},r.nice=function(n){return r.domain(Hi(e,n))},r.exponent=function(o){return arguments.length?(u=$i(t=o),i=$i(1/t),n.domain(e.map(u)),r):t},r.copy=function(){return Xi(n.copy(),t,e)},ji(r,n)}function $i(n){return function(t){return 0>t?-Math.pow(-t,n):Math.pow(t,n)}}function Bi(n,t){function e(e){return i[((u.get(e)||("range"===t.t?u.set(e,n.push(e)):0/0))-1)%i.length]}function r(t,e){return Zo.range(n.length).map(function(n){return t+e*n})}var u,i,a;return e.domain=function(r){if(!arguments.length)return n;n=[],u=new o;for(var i,a=-1,c=r.length;++a<c;)u.has(i=r[a])||u.set(i,n.push(i));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(i=n,a=0,t={t:"range",a:arguments},e):i},e.rangePoints=function(u,o){arguments.length<2&&(o=0);var c=u[0],s=u[1],l=(s-c)/(Math.max(1,n.length-1)+o);return i=r(n.length<2?(c+s)/2:c+l*o/2,l),a=0,t={t:"rangePoints",a:arguments},e},e.rangeBands=function(u,o,c){arguments.length<2&&(o=0),arguments.length<3&&(c=o);var s=u[1]<u[0],l=u[s-0],f=u[1-s],h=(f-l)/(n.length-o+2*c);return i=r(l+h*c,h),s&&i.reverse(),a=h*(1-o),t={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(u,o,c){arguments.length<2&&(o=0),arguments.length<3&&(c=o);var s=u[1]<u[0],l=u[s-0],f=u[1-s],h=Math.floor((f-l)/(n.length-o+2*c)),g=f-l-(n.length-o)*h;return i=r(l+Math.round(g/2),h),s&&i.reverse(),a=Math.round(h*(1-o)),t={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return a},e.rangeExtent=function(){return Li(t.a[0])},e.copy=function(){return Bi(n,t)},e.domain(n)}function Wi(e,r){function u(){var n=0,t=r.length;for(o=[];++n<t;)o[n-1]=Zo.quantile(e,n/t);return i}function i(n){return isNaN(n=+n)?void 0:r[Zo.bisect(o,n)]}var o;return i.domain=function(r){return arguments.length?(e=r.filter(t).sort(n),u()):e},i.range=function(n){return arguments.length?(r=n,u()):r},i.quantiles=function(){return o},i.invertExtent=function(n){return n=r.indexOf(n),0>n?[0/0,0/0]:[n>0?o[n-1]:e[0],n<o.length?o[n]:e[e.length-1]]},i.copy=function(){return Wi(e,r)},u()}function Ji(n,t,e){function r(t){return e[Math.max(0,Math.min(o,Math.floor(i*(t-n))))]}function u(){return i=e.length/(t-n),o=e.length-1,r}var i,o;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],u()):[n,t]},r.range=function(n){return arguments.length?(e=n,u()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=0>t?0/0:t/i+n,[t,t+1/i]},r.copy=function(){return Ji(n,t,e)},u()}function Gi(n,t){function e(e){return e>=e?t[Zo.bisect(n,e)]:void 0}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return Gi(n,t)},e}function Ki(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return Oi(n,t)},t.tickFormat=function(t,e){return Yi(n,t,e)},t.copy=function(){return Ki(n)},t}function Qi(n){return n.innerRadius}function no(n){return n.outerRadius}function to(n){return n.startAngle}function eo(n){return n.endAngle}function ro(n){function t(t){function o(){s.push("M",i(n(l),a))}for(var c,s=[],l=[],f=-1,h=t.length,g=bt(e),p=bt(r);++f<h;)u.call(this,c=t[f],f)?l.push([+g.call(this,c,f),+p.call(this,c,f)]):l.length&&(o(),l=[]);return l.length&&o(),s.length?s.join(""):null}var e=wr,r=Sr,u=we,i=uo,o=i.key,a=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(u=n,t):u},t.interpolate=function(n){return arguments.length?(o="function"==typeof n?i=n:(i=xs.get(n)||uo).key,t):o},t.tension=function(n){return arguments.length?(a=n,t):a},t}function uo(n){return n.join("L")}function io(n){return uo(n)+"Z"}function oo(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&u.push("H",r[0]),u.join("")}function ao(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("V",(r=n[t])[1],"H",r[0]);return u.join("")}function co(n){for(var t=0,e=n.length,r=n[0],u=[r[0],",",r[1]];++t<e;)u.push("H",(r=n[t])[0],"V",r[1]);return u.join("")}function so(n,t){return n.length<4?uo(n):n[1]+ho(n.slice(1,n.length-1),go(n,t))}function lo(n,t){return n.length<3?uo(n):n[0]+ho((n.push(n[0]),n),go([n[n.length-2]].concat(n,[n[1]]),t))}function fo(n,t){return n.length<3?uo(n):n[0]+ho(n,go(n,t))}function ho(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return uo(n);var e=n.length!=t.length,r="",u=n[0],i=n[1],o=t[0],a=o,c=1;if(e&&(r+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],u=n[1],c=2),t.length>1){a=t[1],i=n[c],c++,r+="C"+(u[0]+o[0])+","+(u[1]+o[1])+","+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1];for(var s=2;s<t.length;s++,c++)i=n[c],a=t[s],r+="S"+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1]}if(e){var l=n[c];r+="Q"+(i[0]+2*a[0]/3)+","+(i[1]+2*a[1]/3)+","+l[0]+","+l[1]}return r}function go(n,t){for(var e,r=[],u=(1-t)/2,i=n[0],o=n[1],a=1,c=n.length;++a<c;)e=i,i=o,o=n[a],r.push([u*(o[0]-e[0]),u*(o[1]-e[1])]);return r}function po(n){if(n.length<3)return uo(n);var t=1,e=n.length,r=n[0],u=r[0],i=r[1],o=[u,u,u,(r=n[1])[0]],a=[i,i,i,r[1]],c=[u,",",i,"L",xo(bs,o),",",xo(bs,a)];for(n.push(n[e-1]);++t<=e;)r=n[t],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),Mo(c,o,a);return n.pop(),c.push("L",r),c.join("")}function vo(n){if(n.length<4)return uo(n);for(var t,e=[],r=-1,u=n.length,i=[0],o=[0];++r<3;)t=n[r],i.push(t[0]),o.push(t[1]);for(e.push(xo(bs,i)+","+xo(bs,o)),--r;++r<u;)t=n[r],i.shift(),i.push(t[0]),o.shift(),o.push(t[1]),Mo(e,i,o);return e.join("")}function mo(n){for(var t,e,r=-1,u=n.length,i=u+4,o=[],a=[];++r<4;)e=n[r%u],o.push(e[0]),a.push(e[1]);for(t=[xo(bs,o),",",xo(bs,a)],--r;++r<i;)e=n[r%u],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Mo(t,o,a);return t.join("")}function yo(n,t){var e=n.length-1;if(e)for(var r,u,i=n[0][0],o=n[0][1],a=n[e][0]-i,c=n[e][1]-o,s=-1;++s<=e;)r=n[s],u=s/e,r[0]=t*r[0]+(1-t)*(i+u*a),r[1]=t*r[1]+(1-t)*(o+u*c);return po(n)}function xo(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Mo(n,t,e){n.push("C",xo(Ms,t),",",xo(Ms,e),",",xo(_s,t),",",xo(_s,e),",",xo(bs,t),",",xo(bs,e))}function _o(n,t){return(t[1]-n[1])/(t[0]-n[0])}function bo(n){for(var t=0,e=n.length-1,r=[],u=n[0],i=n[1],o=r[0]=_o(u,i);++t<e;)r[t]=(o+(o=_o(u=i,i=n[t+1])))/2;return r[t]=o,r}function wo(n){for(var t,e,r,u,i=[],o=bo(n),a=-1,c=n.length-1;++a<c;)t=_o(n[a],n[a+1]),ua(t)<ka?o[a]=o[a+1]=0:(e=o[a]/t,r=o[a+1]/t,u=e*e+r*r,u>9&&(u=3*t/Math.sqrt(u),o[a]=u*e,o[a+1]=u*r));for(a=-1;++a<=c;)u=(n[Math.min(c,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),i.push([u||0,o[a]*u||0]);return i}function So(n){return n.length<3?uo(n):n[0]+ho(n,wo(n))}function ko(n){for(var t,e,r,u=-1,i=n.length;++u<i;)t=n[u],e=t[0],r=t[1]+ms,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function Eo(n){function t(t){function c(){v.push("M",a(n(m),f),l,s(n(d.reverse()),f),"Z")}for(var h,g,p,v=[],d=[],m=[],y=-1,x=t.length,M=bt(e),_=bt(u),b=e===r?function(){return g}:bt(r),w=u===i?function(){return p}:bt(i);++y<x;)o.call(this,h=t[y],y)?(d.push([g=+M.call(this,h,y),p=+_.call(this,h,y)]),m.push([+b.call(this,h,y),+w.call(this,h,y)])):d.length&&(c(),d=[],m=[]);return d.length&&c(),v.length?v.join(""):null}var e=wr,r=wr,u=0,i=Sr,o=we,a=uo,c=a.key,s=a,l="L",f=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(u=i=n,t):i},t.y0=function(n){return arguments.length?(u=n,t):u},t.y1=function(n){return arguments.length?(i=n,t):i},t.defined=function(n){return arguments.length?(o=n,t):o},t.interpolate=function(n){return arguments.length?(c="function"==typeof n?a=n:(a=xs.get(n)||uo).key,s=a.reverse||a,l=a.closed?"M":"L",t):c},t.tension=function(n){return arguments.length?(f=n,t):f},t}function Ao(n){return n.radius}function Co(n){return[n.x,n.y]}function No(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]+ms;return[e*Math.cos(r),e*Math.sin(r)]}}function zo(){return 64}function Lo(){return"circle"}function To(n){var t=Math.sqrt(n/ba);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function qo(n,t){return sa(n,Cs),n.id=t,n}function Ro(n,t,e,r){var u=n.id;return P(n,"function"==typeof e?function(n,i,o){n.__transition__[u].tween.set(t,r(e.call(n,n.__data__,i,o)))}:(e=r(e),function(n){n.__transition__[u].tween.set(t,e)}))}function Do(n){return null==n&&(n=""),function(){this.textContent=n}}function Po(n,t,e,r){var u=n.__transition__||(n.__transition__={active:0,count:0}),i=u[e];if(!i){var a=r.time;i=u[e]={tween:new o,time:a,ease:r.ease,delay:r.delay,duration:r.duration},++u.count,Zo.timer(function(r){function o(r){return u.active>e?s():(u.active=e,i.event&&i.event.start.call(n,l,t),i.tween.forEach(function(e,r){(r=r.call(n,l,t))&&v.push(r)}),void Zo.timer(function(){return p.c=c(r||1)?we:c,1},0,a))}function c(r){if(u.active!==e)return s();for(var o=r/g,a=f(o),c=v.length;c>0;)v[--c].call(n,a);return o>=1?(i.event&&i.event.end.call(n,l,t),s()):void 0}function s(){return--u.count?delete u[e]:delete n.__transition__,1}var l=n.__data__,f=i.ease,h=i.delay,g=i.duration,p=Ba,v=[];return p.t=h+a,r>=h?o(r-h):void(p.c=o)},0,a)}}function Uo(n,t){n.attr("transform",function(n){return"translate("+t(n)+",0)"})}function jo(n,t){n.attr("transform",function(n){return"translate(0,"+t(n)+")"})}function Ho(n){return n.toISOString()}function Fo(n,t,e){function r(t){return n(t)}function u(n,e){var r=n[1]-n[0],u=r/e,i=Zo.bisect(Us,u);return i==Us.length?[t.year,Fi(n.map(function(n){return n/31536e6}),e)[2]]:i?t[u/Us[i-1]<Us[i]/u?i-1:i]:[Fs,Fi(n,e)[2]]}return r.invert=function(t){return Oo(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(Oo)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,Oo(+e+1),t).length}var i=r.domain(),o=Li(i),a=null==n?u(o,10):"number"==typeof n&&u(o,n);return a&&(n=a[0],t=a[1]),r.domain(Ri(i,t>1?{floor:function(t){for(;e(t=n.floor(t));)t=Oo(t-1);return t},ceil:function(t){for(;e(t=n.ceil(t));)t=Oo(+t+1);return t}}:n))},r.ticks=function(n,t){var e=Li(r.domain()),i=null==n?u(e,10):"number"==typeof n?u(e,n):!n.range&&[{range:n},t];return i&&(n=i[0],t=i[1]),n.range(e[0],Oo(+e[1]+1),1>t?1:t)},r.tickFormat=function(){return e},r.copy=function(){return Fo(n.copy(),t,e)},ji(r,n)}function Oo(n){return new Date(n)}function Yo(n){return JSON.parse(n.responseText)}function Io(n){var t=$o.createRange();return t.selectNode($o.body),t.createContextualFragment(n.responseText)}var Zo={version:"3.4.11"};Date.now||(Date.now=function(){return+new Date});var Vo=[].slice,Xo=function(n){return Vo.call(n)},$o=document,Bo=$o.documentElement,Wo=window;try{Xo(Bo.childNodes)[0].nodeType}catch(Jo){Xo=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}try{$o.createElement("div").style.setProperty("opacity",0,"")}catch(Go){var Ko=Wo.Element.prototype,Qo=Ko.setAttribute,na=Ko.setAttributeNS,ta=Wo.CSSStyleDeclaration.prototype,ea=ta.setProperty;Ko.setAttribute=function(n,t){Qo.call(this,n,t+"")},Ko.setAttributeNS=function(n,t,e){na.call(this,n,t,e+"")},ta.setProperty=function(n,t,e){ea.call(this,n,t+"",e)}}Zo.ascending=n,Zo.descending=function(n,t){return n>t?-1:t>n?1:t>=n?0:0/0},Zo.min=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i&&!(null!=(e=n[u])&&e>=e);)e=void 0;for(;++u<i;)null!=(r=n[u])&&e>r&&(e=r)}else{for(;++u<i&&!(null!=(e=t.call(n,n[u],u))&&e>=e);)e=void 0;for(;++u<i;)null!=(r=t.call(n,n[u],u))&&e>r&&(e=r)}return e},Zo.max=function(n,t){var e,r,u=-1,i=n.length;if(1===arguments.length){for(;++u<i&&!(null!=(e=n[u])&&e>=e);)e=void 0;for(;++u<i;)null!=(r=n[u])&&r>e&&(e=r)}else{for(;++u<i&&!(null!=(e=t.call(n,n[u],u))&&e>=e);)e=void 0;for(;++u<i;)null!=(r=t.call(n,n[u],u))&&r>e&&(e=r)}return e},Zo.extent=function(n,t){var e,r,u,i=-1,o=n.length;if(1===arguments.length){for(;++i<o&&!(null!=(e=u=n[i])&&e>=e);)e=u=void 0;for(;++i<o;)null!=(r=n[i])&&(e>r&&(e=r),r>u&&(u=r))}else{for(;++i<o&&!(null!=(e=u=t.call(n,n[i],i))&&e>=e);)e=void 0;for(;++i<o;)null!=(r=t.call(n,n[i],i))&&(e>r&&(e=r),r>u&&(u=r))}return[e,u]},Zo.sum=function(n,t){var e,r=0,u=n.length,i=-1;if(1===arguments.length)for(;++i<u;)isNaN(e=+n[i])||(r+=e);else for(;++i<u;)isNaN(e=+t.call(n,n[i],i))||(r+=e);return r},Zo.mean=function(n,e){var r,u=0,i=n.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)t(r=n[o])?u+=r:--a;else for(;++o<i;)t(r=e.call(n,n[o],o))?u+=r:--a;return a?u/a:void 0},Zo.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),u=+n[r-1],i=e-r;return i?u+i*(n[r]-u):u},Zo.median=function(e,r){return arguments.length>1&&(e=e.map(r)),e=e.filter(t),e.length?Zo.quantile(e.sort(n),.5):void 0};var ra=e(n);Zo.bisectLeft=ra.left,Zo.bisect=Zo.bisectRight=ra.right,Zo.bisector=function(t){return e(1===t.length?function(e,r){return n(t(e),r)}:t)},Zo.shuffle=function(n){for(var t,e,r=n.length;r;)e=0|Math.random()*r--,t=n[r],n[r]=n[e],n[e]=t;return n},Zo.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},Zo.pairs=function(n){for(var t,e=0,r=n.length-1,u=n[0],i=new Array(0>r?0:r);r>e;)i[e]=[t=u,u=n[++e]];return i},Zo.zip=function(){if(!(u=arguments.length))return[];for(var n=-1,t=Zo.min(arguments,r),e=new Array(t);++n<t;)for(var u,i=-1,o=e[n]=new Array(u);++i<u;)o[i]=arguments[i][n];return e},Zo.transpose=function(n){return Zo.zip.apply(Zo,n)},Zo.keys=function(n){var t=[];for(var e in n)t.push(e);return t},Zo.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},Zo.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},Zo.merge=function(n){for(var t,e,r,u=n.length,i=-1,o=0;++i<u;)o+=n[i].length;for(e=new Array(o);--u>=0;)for(r=n[u],t=r.length;--t>=0;)e[--o]=r[t];return e};var ua=Math.abs;Zo.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),1/0===(t-n)/e)throw new Error("infinite range");var r,i=[],o=u(ua(e)),a=-1;if(n*=o,t*=o,e*=o,0>e)for(;(r=n+e*++a)>t;)i.push(r/o);else for(;(r=n+e*++a)<t;)i.push(r/o);return i},Zo.map=function(n){var t=new o;if(n instanceof o)n.forEach(function(n,e){t.set(n,e)});else for(var e in n)t.set(e,n[e]);return t},i(o,{has:a,get:function(n){return this[ia+n]},set:function(n,t){return this[ia+n]=t},remove:c,keys:s,values:function(){var n=[];return this.forEach(function(t,e){n.push(e)}),n},entries:function(){var n=[];return this.forEach(function(t,e){n.push({key:t,value:e})}),n},size:l,empty:f,forEach:function(n){for(var t in this)t.charCodeAt(0)===oa&&n.call(this,t.substring(1),this[t])}});var ia="\x00",oa=ia.charCodeAt(0);Zo.nest=function(){function n(t,a,c){if(c>=i.length)return r?r.call(u,a):e?a.sort(e):a;for(var s,l,f,h,g=-1,p=a.length,v=i[c++],d=new o;++g<p;)(h=d.get(s=v(l=a[g])))?h.push(l):d.set(s,[l]);return t?(l=t(),f=function(e,r){l.set(e,n(t,r,c))}):(l={},f=function(e,r){l[e]=n(t,r,c)}),d.forEach(f),l}function t(n,e){if(e>=i.length)return n;var r=[],u=a[e++];return n.forEach(function(n,u){r.push({key:n,values:t(u,e)})}),u?r.sort(function(n,t){return u(n.key,t.key)}):r}var e,r,u={},i=[],a=[];return u.map=function(t,e){return n(e,t,0)},u.entries=function(e){return t(n(Zo.map,e,0),0)},u.key=function(n){return i.push(n),u},u.sortKeys=function(n){return a[i.length-1]=n,u},u.sortValues=function(n){return e=n,u},u.rollup=function(n){return r=n,u},u},Zo.set=function(n){var t=new h;if(n)for(var e=0,r=n.length;r>e;++e)t.add(n[e]);return t},i(h,{has:a,add:function(n){return this[ia+n]=!0,n},remove:function(n){return n=ia+n,n in this&&delete this[n]},values:s,size:l,empty:f,forEach:function(n){for(var t in this)t.charCodeAt(0)===oa&&n.call(this,t.substring(1))}}),Zo.behavior={},Zo.rebind=function(n,t){for(var e,r=1,u=arguments.length;++r<u;)n[e=arguments[r]]=g(n,t,t[e]);return n};var aa=["webkit","ms","moz","Moz","o","O"];Zo.dispatch=function(){for(var n=new d,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=m(n);return n},d.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.substring(e+1),n=n.substring(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},Zo.event=null,Zo.requote=function(n){return n.replace(ca,"\\$&")};var ca=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,sa={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},la=function(n,t){return t.querySelector(n)},fa=function(n,t){return t.querySelectorAll(n)},ha=Bo.matches||Bo[p(Bo,"matchesSelector")],ga=function(n,t){return ha.call(n,t)};"function"==typeof Sizzle&&(la=function(n,t){return Sizzle(n,t)[0]||null},fa=Sizzle,ga=Sizzle.matchesSelector),Zo.selection=function(){return ma};var pa=Zo.selection.prototype=[];pa.select=function(n){var t,e,r,u,i=[];n=b(n);for(var o=-1,a=this.length;++o<a;){i.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var c=-1,s=r.length;++c<s;)(u=r[c])?(t.push(e=n.call(u,u.__data__,c,o)),e&&"__data__"in u&&(e.__data__=u.__data__)):t.push(null)}return _(i)},pa.selectAll=function(n){var t,e,r=[];n=w(n);for(var u=-1,i=this.length;++u<i;)for(var o=this[u],a=-1,c=o.length;++a<c;)(e=o[a])&&(r.push(t=Xo(n.call(e,e.__data__,a,u))),t.parentNode=e);return _(r)};var va={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Zo.ns={prefix:va,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&(e=n.substring(0,t),n=n.substring(t+1)),va.hasOwnProperty(e)?{space:va[e],local:n}:n}},pa.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return n=Zo.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(S(t,n[t]));return this}return this.each(S(n,t))},pa.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=A(n)).length,u=-1;if(t=e.classList){for(;++u<r;)if(!t.contains(n[u]))return!1}else for(t=e.getAttribute("class");++u<r;)if(!E(n[u]).test(t))return!1;return!0}for(t in n)this.each(C(t,n[t]));return this}return this.each(C(n,t))},pa.style=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t="");for(e in n)this.each(z(e,n[e],t));return this}if(2>r)return Wo.getComputedStyle(this.node(),null).getPropertyValue(n);e=""}return this.each(z(n,t,e))},pa.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(L(t,n[t]));return this}return this.each(L(n,t))},pa.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},pa.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},pa.append=function(n){return n=T(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},pa.insert=function(n,t){return n=T(n),t=b(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},pa.remove=function(){return this.each(function(){var n=this.parentNode;n&&n.removeChild(this)})},pa.data=function(n,t){function e(n,e){var r,u,i,a=n.length,f=e.length,h=Math.min(a,f),g=new Array(f),p=new Array(f),v=new Array(a);if(t){var d,m=new o,y=new o,x=[];for(r=-1;++r<a;)d=t.call(u=n[r],u.__data__,r),m.has(d)?v[r]=u:m.set(d,u),x.push(d);for(r=-1;++r<f;)d=t.call(e,i=e[r],r),(u=m.get(d))?(g[r]=u,u.__data__=i):y.has(d)||(p[r]=q(i)),y.set(d,i),m.remove(d);for(r=-1;++r<a;)m.has(x[r])&&(v[r]=n[r])}else{for(r=-1;++r<h;)u=n[r],i=e[r],u?(u.__data__=i,g[r]=u):p[r]=q(i);for(;f>r;++r)p[r]=q(e[r]);for(;a>r;++r)v[r]=n[r]}p.update=g,p.parentNode=g.parentNode=v.parentNode=n.parentNode,c.push(p),s.push(g),l.push(v)}var r,u,i=-1,a=this.length;if(!arguments.length){for(n=new Array(a=(r=this[0]).length);++i<a;)(u=r[i])&&(n[i]=u.__data__);return n}var c=U([]),s=_([]),l=_([]);if("function"==typeof n)for(;++i<a;)e(r=this[i],n.call(r,r.parentNode.__data__,i));else for(;++i<a;)e(r=this[i],n);return s.enter=function(){return c},s.exit=function(){return l},s},pa.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},pa.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=R(n));for(var i=0,o=this.length;o>i;i++){u.push(t=[]),t.parentNode=(e=this[i]).parentNode;for(var a=0,c=e.length;c>a;a++)(r=e[a])&&n.call(r,r.__data__,a,i)&&t.push(r)}return _(u)},pa.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e,r=this[n],u=r.length-1,i=r[u];--u>=0;)(e=r[u])&&(i&&i!==e.nextSibling&&i.parentNode.insertBefore(e,i),i=e);return this},pa.sort=function(n){n=D.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},pa.each=function(n){return P(this,function(t,e,r){n.call(t,t.__data__,e,r)})},pa.call=function(n){var t=Xo(arguments);return n.apply(t[0]=this,t),this},pa.empty=function(){return!this.node()},pa.node=function(){for(var n=0,t=this.length;t>n;n++)for(var e=this[n],r=0,u=e.length;u>r;r++){var i=e[r];if(i)return i}return null},pa.size=function(){var n=0;return this.each(function(){++n}),n};var da=[];Zo.selection.enter=U,Zo.selection.enter.prototype=da,da.append=pa.append,da.empty=pa.empty,da.node=pa.node,da.call=pa.call,da.size=pa.size,da.select=function(n){for(var t,e,r,u,i,o=[],a=-1,c=this.length;++a<c;){r=(u=this[a]).update,o.push(t=[]),t.parentNode=u.parentNode;for(var s=-1,l=u.length;++s<l;)(i=u[s])?(t.push(r[s]=e=n.call(u.parentNode,i.__data__,s,a)),e.__data__=i.__data__):t.push(null)
}return _(o)},da.insert=function(n,t){return arguments.length<2&&(t=j(this)),pa.insert.call(this,n,t)},pa.transition=function(){for(var n,t,e=Ss||++Ns,r=[],u=ks||{time:Date.now(),ease:xu,delay:0,duration:250},i=-1,o=this.length;++i<o;){r.push(n=[]);for(var a=this[i],c=-1,s=a.length;++c<s;)(t=a[c])&&Po(t,c,e,u),n.push(t)}return qo(r,e)},pa.interrupt=function(){return this.each(H)},Zo.select=function(n){var t=["string"==typeof n?la(n,$o):n];return t.parentNode=Bo,_([t])},Zo.selectAll=function(n){var t=Xo("string"==typeof n?fa(n,$o):n);return t.parentNode=Bo,_([t])};var ma=Zo.select(Bo);pa.on=function(n,t,e){var r=arguments.length;if(3>r){if("string"!=typeof n){2>r&&(t=!1);for(e in n)this.each(F(e,n[e],t));return this}if(2>r)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(F(n,t,e))};var ya=Zo.map({mouseenter:"mouseover",mouseleave:"mouseout"});ya.forEach(function(n){"on"+n in $o&&ya.remove(n)});var xa="onselectstart"in $o?null:p(Bo.style,"userSelect"),Ma=0;Zo.mouse=function(n){return Z(n,x())};var _a=/WebKit/.test(Wo.navigator.userAgent)?-1:0;Zo.touches=function(n,t){return arguments.length<2&&(t=x().touches),t?Xo(t).map(function(t){var e=Z(n,t);return e.identifier=t.identifier,e}):[]},Zo.behavior.drag=function(){function n(){this.on("mousedown.drag",u).on("touchstart.drag",i)}function t(n,t,u,i,o){return function(){function a(){var n,e,r=t(h,v);r&&(n=r[0]-x[0],e=r[1]-x[1],p|=n|e,x=r,g({type:"drag",x:r[0]+s[0],y:r[1]+s[1],dx:n,dy:e}))}function c(){t(h,v)&&(m.on(i+d,null).on(o+d,null),y(p&&Zo.event.target===f),g({type:"dragend"}))}var s,l=this,f=Zo.event.target,h=l.parentNode,g=e.of(l,arguments),p=0,v=n(),d=".drag"+(null==v?"":"-"+v),m=Zo.select(u()).on(i+d,a).on(o+d,c),y=I(),x=t(h,v);r?(s=r.apply(l,arguments),s=[s.x-x[0],s.y-x[1]]):s=[0,0],g({type:"dragstart"})}}var e=M(n,"drag","dragstart","dragend"),r=null,u=t(v,Zo.mouse,$,"mousemove","mouseup"),i=t(V,Zo.touch,X,"touchmove","touchend");return n.origin=function(t){return arguments.length?(r=t,n):r},Zo.rebind(n,e,"on")};var ba=Math.PI,wa=2*ba,Sa=ba/2,ka=1e-6,Ea=ka*ka,Aa=ba/180,Ca=180/ba,Na=Math.SQRT2,za=2,La=4;Zo.interpolateZoom=function(n,t){function e(n){var t=n*y;if(m){var e=Q(v),o=i/(za*h)*(e*nt(Na*t+v)-K(v));return[r+o*s,u+o*l,i*e/Q(Na*t+v)]}return[r+n*s,u+n*l,i*Math.exp(Na*t)]}var r=n[0],u=n[1],i=n[2],o=t[0],a=t[1],c=t[2],s=o-r,l=a-u,f=s*s+l*l,h=Math.sqrt(f),g=(c*c-i*i+La*f)/(2*i*za*h),p=(c*c-i*i-La*f)/(2*c*za*h),v=Math.log(Math.sqrt(g*g+1)-g),d=Math.log(Math.sqrt(p*p+1)-p),m=d-v,y=(m||Math.log(c/i))/Na;return e.duration=1e3*y,e},Zo.behavior.zoom=function(){function n(n){n.on(A,s).on(Ra+".zoom",f).on("dblclick.zoom",h).on(z,l)}function t(n){return[(n[0]-S.x)/S.k,(n[1]-S.y)/S.k]}function e(n){return[n[0]*S.k+S.x,n[1]*S.k+S.y]}function r(n){S.k=Math.max(E[0],Math.min(E[1],n))}function u(n,t){t=e(t),S.x+=n[0]-t[0],S.y+=n[1]-t[1]}function i(){_&&_.domain(x.range().map(function(n){return(n-S.x)/S.k}).map(x.invert)),w&&w.domain(b.range().map(function(n){return(n-S.y)/S.k}).map(b.invert))}function o(n){n({type:"zoomstart"})}function a(n){i(),n({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function c(n){n({type:"zoomend"})}function s(){function n(){l=1,u(Zo.mouse(r),h),a(s)}function e(){f.on(C,null).on(N,null),g(l&&Zo.event.target===i),c(s)}var r=this,i=Zo.event.target,s=L.of(r,arguments),l=0,f=Zo.select(Wo).on(C,n).on(N,e),h=t(Zo.mouse(r)),g=I();H.call(r),o(s)}function l(){function n(){var n=Zo.touches(g);return h=S.k,n.forEach(function(n){n.identifier in v&&(v[n.identifier]=t(n))}),n}function e(){var t=Zo.event.target;Zo.select(t).on(M,i).on(_,f),b.push(t);for(var e=Zo.event.changedTouches,o=0,c=e.length;c>o;++o)v[e[o].identifier]=null;var s=n(),l=Date.now();if(1===s.length){if(500>l-m){var h=s[0],g=v[h.identifier];r(2*S.k),u(h,g),y(),a(p)}m=l}else if(s.length>1){var h=s[0],x=s[1],w=h[0]-x[0],k=h[1]-x[1];d=w*w+k*k}}function i(){for(var n,t,e,i,o=Zo.touches(g),c=0,s=o.length;s>c;++c,i=null)if(e=o[c],i=v[e.identifier]){if(t)break;n=e,t=i}if(i){var l=(l=e[0]-n[0])*l+(l=e[1]-n[1])*l,f=d&&Math.sqrt(l/d);n=[(n[0]+e[0])/2,(n[1]+e[1])/2],t=[(t[0]+i[0])/2,(t[1]+i[1])/2],r(f*h)}m=null,u(n,t),a(p)}function f(){if(Zo.event.touches.length){for(var t=Zo.event.changedTouches,e=0,r=t.length;r>e;++e)delete v[t[e].identifier];for(var u in v)return void n()}Zo.selectAll(b).on(x,null),w.on(A,s).on(z,l),k(),c(p)}var h,g=this,p=L.of(g,arguments),v={},d=0,x=".zoom-"+Zo.event.changedTouches[0].identifier,M="touchmove"+x,_="touchend"+x,b=[],w=Zo.select(g).on(A,null).on(z,e),k=I();H.call(g),e(),o(p)}function f(){var n=L.of(this,arguments);d?clearTimeout(d):(g=t(p=v||Zo.mouse(this)),H.call(this),o(n)),d=setTimeout(function(){d=null,c(n)},50),y(),r(Math.pow(2,.002*Ta())*S.k),u(p,g),a(n)}function h(){var n=L.of(this,arguments),e=Zo.mouse(this),i=t(e),s=Math.log(S.k)/Math.LN2;o(n),r(Math.pow(2,Zo.event.shiftKey?Math.ceil(s)-1:Math.floor(s)+1)),u(e,i),a(n),c(n)}var g,p,v,d,m,x,_,b,w,S={x:0,y:0,k:1},k=[960,500],E=qa,A="mousedown.zoom",C="mousemove.zoom",N="mouseup.zoom",z="touchstart.zoom",L=M(n,"zoomstart","zoom","zoomend");return n.event=function(n){n.each(function(){var n=L.of(this,arguments),t=S;Ss?Zo.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},o(n)}).tween("zoom:zoom",function(){var e=k[0],r=k[1],u=e/2,i=r/2,o=Zo.interpolateZoom([(u-S.x)/S.k,(i-S.y)/S.k,e/S.k],[(u-t.x)/t.k,(i-t.y)/t.k,e/t.k]);return function(t){var r=o(t),c=e/r[2];this.__chart__=S={x:u-r[0]*c,y:i-r[1]*c,k:c},a(n)}}).each("end.zoom",function(){c(n)}):(this.__chart__=S,o(n),a(n),c(n))})},n.translate=function(t){return arguments.length?(S={x:+t[0],y:+t[1],k:S.k},i(),n):[S.x,S.y]},n.scale=function(t){return arguments.length?(S={x:S.x,y:S.y,k:+t},i(),n):S.k},n.scaleExtent=function(t){return arguments.length?(E=null==t?qa:[+t[0],+t[1]],n):E},n.center=function(t){return arguments.length?(v=t&&[+t[0],+t[1]],n):v},n.size=function(t){return arguments.length?(k=t&&[+t[0],+t[1]],n):k},n.x=function(t){return arguments.length?(_=t,x=t.copy(),S={x:0,y:0,k:1},n):_},n.y=function(t){return arguments.length?(w=t,b=t.copy(),S={x:0,y:0,k:1},n):w},Zo.rebind(n,L,"on")};var Ta,qa=[0,1/0],Ra="onwheel"in $o?(Ta=function(){return-Zo.event.deltaY*(Zo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in $o?(Ta=function(){return Zo.event.wheelDelta},"mousewheel"):(Ta=function(){return-Zo.event.detail},"MozMousePixelScroll");Zo.color=et,et.prototype.toString=function(){return this.rgb()+""},Zo.hsl=rt;var Da=rt.prototype=new et;Da.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new rt(this.h,this.s,this.l/n)},Da.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new rt(this.h,this.s,n*this.l)},Da.rgb=function(){return ut(this.h,this.s,this.l)},Zo.hcl=it;var Pa=it.prototype=new et;Pa.brighter=function(n){return new it(this.h,this.c,Math.min(100,this.l+Ua*(arguments.length?n:1)))},Pa.darker=function(n){return new it(this.h,this.c,Math.max(0,this.l-Ua*(arguments.length?n:1)))},Pa.rgb=function(){return ot(this.h,this.c,this.l).rgb()},Zo.lab=at;var Ua=18,ja=.95047,Ha=1,Fa=1.08883,Oa=at.prototype=new et;Oa.brighter=function(n){return new at(Math.min(100,this.l+Ua*(arguments.length?n:1)),this.a,this.b)},Oa.darker=function(n){return new at(Math.max(0,this.l-Ua*(arguments.length?n:1)),this.a,this.b)},Oa.rgb=function(){return ct(this.l,this.a,this.b)},Zo.rgb=gt;var Ya=gt.prototype=new et;Ya.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,u=30;return t||e||r?(t&&u>t&&(t=u),e&&u>e&&(e=u),r&&u>r&&(r=u),new gt(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new gt(u,u,u)},Ya.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new gt(n*this.r,n*this.g,n*this.b)},Ya.hsl=function(){return yt(this.r,this.g,this.b)},Ya.toString=function(){return"#"+dt(this.r)+dt(this.g)+dt(this.b)};var Ia=Zo.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Ia.forEach(function(n,t){Ia.set(n,pt(t))}),Zo.functor=bt,Zo.xhr=St(wt),Zo.dsv=function(n,t){function e(n,e,i){arguments.length<3&&(i=e,e=null);var o=kt(n,t,null==e?r:u(e),i);return o.row=function(n){return arguments.length?o.response(null==(e=n)?r:u(n)):e},o}function r(n){return e.parse(n.responseText)}function u(n){return function(t){return e.parse(t.responseText,n)}}function i(t){return t.map(o).join(n)}function o(n){return a.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var a=new RegExp('["'+n+"\n]"),c=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var u=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(u(n),e)}:u})},e.parseRows=function(n,t){function e(){if(l>=s)return o;if(u)return u=!1,i;var t=l;if(34===n.charCodeAt(t)){for(var e=t;e++<s;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}l=e+2;var r=n.charCodeAt(e+1);return 13===r?(u=!0,10===n.charCodeAt(e+2)&&++l):10===r&&(u=!0),n.substring(t+1,e).replace(/""/g,'"')}for(;s>l;){var r=n.charCodeAt(l++),a=1;if(10===r)u=!0;else if(13===r)u=!0,10===n.charCodeAt(l)&&(++l,++a);else if(r!==c)continue;return n.substring(t,l-a)}return n.substring(t)}for(var r,u,i={},o={},a=[],s=n.length,l=0,f=0;(r=e())!==o;){for(var h=[];r!==i&&r!==o;)h.push(r),r=e();(!t||(h=t(h,f++)))&&a.push(h)}return a},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new h,u=[];return t.forEach(function(n){for(var t in n)r.has(t)||u.push(r.add(t))}),[u.map(o).join(n)].concat(t.map(function(t){return u.map(function(n){return o(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(i).join("\n")},e},Zo.csv=Zo.dsv(",","text/csv"),Zo.tsv=Zo.dsv("	","text/tab-separated-values"),Zo.touch=function(n,t,e){if(arguments.length<3&&(e=t,t=x().changedTouches),t)for(var r,u=0,i=t.length;i>u;++u)if((r=t[u]).identifier===e)return Z(n,r)};var Za,Va,Xa,$a,Ba,Wa=Wo[p(Wo,"requestAnimationFrame")]||function(n){setTimeout(n,17)};Zo.timer=function(n,t,e){var r=arguments.length;2>r&&(t=0),3>r&&(e=Date.now());var u=e+t,i={c:n,t:u,f:!1,n:null};Va?Va.n=i:Za=i,Va=i,Xa||($a=clearTimeout($a),Xa=1,Wa(At))},Zo.timer.flush=function(){Ct(),Nt()},Zo.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var Ja=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Lt);Zo.formatPrefix=function(n,t){var e=0;return n&&(0>n&&(n*=-1),t&&(n=Zo.round(n,zt(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),Ja[8+e/3]};var Ga=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ka=Zo.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=Zo.round(n,zt(n,t))).toFixed(Math.max(0,Math.min(20,zt(n*(1+1e-15),t))))}}),Qa=Zo.time={},nc=Date;Rt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){tc.setUTCDate.apply(this._,arguments)},setDay:function(){tc.setUTCDay.apply(this._,arguments)},setFullYear:function(){tc.setUTCFullYear.apply(this._,arguments)},setHours:function(){tc.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){tc.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){tc.setUTCMinutes.apply(this._,arguments)},setMonth:function(){tc.setUTCMonth.apply(this._,arguments)},setSeconds:function(){tc.setUTCSeconds.apply(this._,arguments)},setTime:function(){tc.setTime.apply(this._,arguments)}};var tc=Date.prototype;Qa.year=Dt(function(n){return n=Qa.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),Qa.years=Qa.year.range,Qa.years.utc=Qa.year.utc.range,Qa.day=Dt(function(n){var t=new nc(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),Qa.days=Qa.day.range,Qa.days.utc=Qa.day.utc.range,Qa.dayOfYear=function(n){var t=Qa.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=Qa[n]=Dt(function(n){return(n=Qa.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=Qa.year(n).getDay();return Math.floor((Qa.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});Qa[n+"s"]=e.range,Qa[n+"s"].utc=e.utc.range,Qa[n+"OfYear"]=function(n){var e=Qa.year(n).getDay();return Math.floor((Qa.dayOfYear(n)+(e+t)%7)/7)}}),Qa.week=Qa.sunday,Qa.weeks=Qa.sunday.range,Qa.weeks.utc=Qa.sunday.utc.range,Qa.weekOfYear=Qa.sundayOfYear;var ec={"-":"",_:" ",0:"0"},rc=/^\s*\d+/,uc=/^%/;Zo.locale=function(n){return{numberFormat:Tt(n),timeFormat:Ut(n)}};var ic=Zo.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Zo.format=ic.numberFormat,Zo.geo={},ue.prototype={s:0,t:0,add:function(n){ie(n,this.t,oc),ie(oc.s,this.s,this),this.s?this.t+=oc.t:this.s=oc.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var oc=new ue;Zo.geo.stream=function(n,t){n&&ac.hasOwnProperty(n.type)?ac[n.type](n,t):oe(n,t)};var ac={Feature:function(n,t){oe(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,u=e.length;++r<u;)oe(e[r].geometry,t)}},cc={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){ae(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)ae(e[r],t,0)},Polygon:function(n,t){ce(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,u=e.length;++r<u;)ce(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,u=e.length;++r<u;)oe(e[r],t)}};Zo.geo.area=function(n){return sc=0,Zo.geo.stream(n,fc),sc};var sc,lc=new ue,fc={sphere:function(){sc+=4*ba},point:v,lineStart:v,lineEnd:v,polygonStart:function(){lc.reset(),fc.lineStart=se},polygonEnd:function(){var n=2*lc;sc+=0>n?4*ba+n:n,fc.lineStart=fc.lineEnd=fc.point=v}};Zo.geo.bounds=function(){function n(n,t){x.push(M=[l=n,h=n]),f>t&&(f=t),t>g&&(g=t)}function t(t,e){var r=le([t*Aa,e*Aa]);if(m){var u=he(m,r),i=[u[1],-u[0],0],o=he(i,u);ve(o),o=de(o);var c=t-p,s=c>0?1:-1,v=o[0]*Ca*s,d=ua(c)>180;if(d^(v>s*p&&s*t>v)){var y=o[1]*Ca;y>g&&(g=y)}else if(v=(v+360)%360-180,d^(v>s*p&&s*t>v)){var y=-o[1]*Ca;f>y&&(f=y)}else f>e&&(f=e),e>g&&(g=e);d?p>t?a(l,t)>a(l,h)&&(h=t):a(t,h)>a(l,h)&&(l=t):h>=l?(l>t&&(l=t),t>h&&(h=t)):t>p?a(l,t)>a(l,h)&&(h=t):a(t,h)>a(l,h)&&(l=t)}else n(t,e);m=r,p=t}function e(){_.point=t}function r(){M[0]=l,M[1]=h,_.point=n,m=null}function u(n,e){if(m){var r=n-p;y+=ua(r)>180?r+(r>0?360:-360):r}else v=n,d=e;fc.point(n,e),t(n,e)}function i(){fc.lineStart()}function o(){u(v,d),fc.lineEnd(),ua(y)>ka&&(l=-(h=180)),M[0]=l,M[1]=h,m=null}function a(n,t){return(t-=n)<0?t+360:t}function c(n,t){return n[0]-t[0]}function s(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var l,f,h,g,p,v,d,m,y,x,M,_={point:n,lineStart:e,lineEnd:r,polygonStart:function(){_.point=u,_.lineStart=i,_.lineEnd=o,y=0,fc.polygonStart()},polygonEnd:function(){fc.polygonEnd(),_.point=n,_.lineStart=e,_.lineEnd=r,0>lc?(l=-(h=180),f=-(g=90)):y>ka?g=90:-ka>y&&(f=-90),M[0]=l,M[1]=h}};return function(n){g=h=-(l=f=1/0),x=[],Zo.geo.stream(n,_);var t=x.length;if(t){x.sort(c);for(var e,r=1,u=x[0],i=[u];t>r;++r)e=x[r],s(e[0],u)||s(e[1],u)?(a(u[0],e[1])>a(u[0],u[1])&&(u[1]=e[1]),a(e[0],u[1])>a(u[0],u[1])&&(u[0]=e[0])):i.push(u=e);for(var o,e,p=-1/0,t=i.length-1,r=0,u=i[t];t>=r;u=e,++r)e=i[r],(o=a(u[1],e[0]))>p&&(p=o,l=e[0],h=u[1])}return x=M=null,1/0===l||1/0===f?[[0/0,0/0],[0/0,0/0]]:[[l,f],[h,g]]}}(),Zo.geo.centroid=function(n){hc=gc=pc=vc=dc=mc=yc=xc=Mc=_c=bc=0,Zo.geo.stream(n,wc);var t=Mc,e=_c,r=bc,u=t*t+e*e+r*r;return Ea>u&&(t=mc,e=yc,r=xc,ka>gc&&(t=pc,e=vc,r=dc),u=t*t+e*e+r*r,Ea>u)?[0/0,0/0]:[Math.atan2(e,t)*Ca,G(r/Math.sqrt(u))*Ca]};var hc,gc,pc,vc,dc,mc,yc,xc,Mc,_c,bc,wc={sphere:v,point:ye,lineStart:Me,lineEnd:_e,polygonStart:function(){wc.lineStart=be},polygonEnd:function(){wc.lineStart=Me}},Sc=Ae(we,Te,Re,[-ba,-ba/2]),kc=1e9;Zo.geo.clipExtent=function(){var n,t,e,r,u,i,o={stream:function(n){return u&&(u.valid=!1),u=i(n),u.valid=!0,u},extent:function(a){return arguments.length?(i=Ue(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]),u&&(u.valid=!1,u=null),o):[[n,t],[e,r]]}};return o.extent([[0,0],[960,500]])},(Zo.geo.conicEqualArea=function(){return He(Fe)}).raw=Fe,Zo.geo.albers=function(){return Zo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Zo.geo.albersUsa=function(){function n(n){var i=n[0],o=n[1];return t=null,e(i,o),t||(r(i,o),t)||u(i,o),t}var t,e,r,u,i=Zo.geo.albers(),o=Zo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=Zo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(n,e){t=[n,e]}};return n.invert=function(n){var t=i.scale(),e=i.translate(),r=(n[0]-e[0])/t,u=(n[1]-e[1])/t;return(u>=.12&&.234>u&&r>=-.425&&-.214>r?o:u>=.166&&.234>u&&r>=-.214&&-.115>r?a:i).invert(n)},n.stream=function(n){var t=i.stream(n),e=o.stream(n),r=a.stream(n);return{point:function(n,u){t.point(n,u),e.point(n,u),r.point(n,u)},sphere:function(){t.sphere(),e.sphere(),r.sphere()},lineStart:function(){t.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length?(i.precision(t),o.precision(t),a.precision(t),n):i.precision()},n.scale=function(t){return arguments.length?(i.scale(t),o.scale(.35*t),a.scale(t),n.translate(i.translate())):i.scale()},n.translate=function(t){if(!arguments.length)return i.translate();var s=i.scale(),l=+t[0],f=+t[1];return e=i.translate(t).clipExtent([[l-.455*s,f-.238*s],[l+.455*s,f+.238*s]]).stream(c).point,r=o.translate([l-.307*s,f+.201*s]).clipExtent([[l-.425*s+ka,f+.12*s+ka],[l-.214*s-ka,f+.234*s-ka]]).stream(c).point,u=a.translate([l-.205*s,f+.212*s]).clipExtent([[l-.214*s+ka,f+.166*s+ka],[l-.115*s-ka,f+.234*s-ka]]).stream(c).point,n},n.scale(1070)};var Ec,Ac,Cc,Nc,zc,Lc,Tc={point:v,lineStart:v,lineEnd:v,polygonStart:function(){Ac=0,Tc.lineStart=Oe},polygonEnd:function(){Tc.lineStart=Tc.lineEnd=Tc.point=v,Ec+=ua(Ac/2)}},qc={point:Ye,lineStart:v,lineEnd:v,polygonStart:v,polygonEnd:v},Rc={point:Ve,lineStart:Xe,lineEnd:$e,polygonStart:function(){Rc.lineStart=Be},polygonEnd:function(){Rc.point=Ve,Rc.lineStart=Xe,Rc.lineEnd=$e}};Zo.geo.path=function(){function n(n){return n&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=u(i)),Zo.geo.stream(n,o)),i.result()}function t(){return o=null,n}var e,r,u,i,o,a=4.5;return n.area=function(n){return Ec=0,Zo.geo.stream(n,u(Tc)),Ec},n.centroid=function(n){return pc=vc=dc=mc=yc=xc=Mc=_c=bc=0,Zo.geo.stream(n,u(Rc)),bc?[Mc/bc,_c/bc]:xc?[mc/xc,yc/xc]:dc?[pc/dc,vc/dc]:[0/0,0/0]},n.bounds=function(n){return zc=Lc=-(Cc=Nc=1/0),Zo.geo.stream(n,u(qc)),[[Cc,Nc],[zc,Lc]]},n.projection=function(n){return arguments.length?(u=(e=n)?n.stream||Ge(n):wt,t()):e},n.context=function(n){return arguments.length?(i=null==(r=n)?new Ie:new We(n),"function"!=typeof a&&i.pointRadius(a),t()):r},n.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(i.pointRadius(+t),+t),n):a},n.projection(Zo.geo.albersUsa()).context(null)},Zo.geo.transform=function(n){return{stream:function(t){var e=new Ke(t);for(var r in n)e[r]=n[r];return e}}},Ke.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Zo.geo.projection=nr,Zo.geo.projectionMutator=tr,(Zo.geo.equirectangular=function(){return nr(rr)}).raw=rr.invert=rr,Zo.geo.rotation=function(n){function t(t){return t=n(t[0]*Aa,t[1]*Aa),t[0]*=Ca,t[1]*=Ca,t}return n=ir(n[0]%360*Aa,n[1]*Aa,n.length>2?n[2]*Aa:0),t.invert=function(t){return t=n.invert(t[0]*Aa,t[1]*Aa),t[0]*=Ca,t[1]*=Ca,t},t},ur.invert=rr,Zo.geo.circle=function(){function n(){var n="function"==typeof r?r.apply(this,arguments):r,t=ir(-n[0]*Aa,-n[1]*Aa,0).invert,u=[];return e(null,null,1,{point:function(n,e){u.push(n=t(n,e)),n[0]*=Ca,n[1]*=Ca}}),{type:"Polygon",coordinates:[u]}}var t,e,r=[0,0],u=6;return n.origin=function(t){return arguments.length?(r=t,n):r},n.angle=function(r){return arguments.length?(e=sr((t=+r)*Aa,u*Aa),n):t},n.precision=function(r){return arguments.length?(e=sr(t*Aa,(u=+r)*Aa),n):u},n.angle(90)},Zo.geo.distance=function(n,t){var e,r=(t[0]-n[0])*Aa,u=n[1]*Aa,i=t[1]*Aa,o=Math.sin(r),a=Math.cos(r),c=Math.sin(u),s=Math.cos(u),l=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((e=f*o)*e+(e=s*l-c*f*a)*e),c*l+s*f*a)},Zo.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return Zo.range(Math.ceil(i/d)*d,u,d).map(h).concat(Zo.range(Math.ceil(s/m)*m,c,m).map(g)).concat(Zo.range(Math.ceil(r/p)*p,e,p).filter(function(n){return ua(n%d)>ka}).map(l)).concat(Zo.range(Math.ceil(a/v)*v,o,v).filter(function(n){return ua(n%m)>ka}).map(f))}var e,r,u,i,o,a,c,s,l,f,h,g,p=10,v=p,d=90,m=360,y=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(g(c).slice(1),h(u).reverse().slice(1),g(s).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(i=+t[0][0],u=+t[1][0],s=+t[0][1],c=+t[1][1],i>u&&(t=i,i=u,u=t),s>c&&(t=s,s=c,c=t),n.precision(y)):[[i,s],[u,c]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),a>o&&(t=a,a=o,o=t),n.precision(y)):[[r,a],[e,o]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],m=+t[1],n):[d,m]},n.minorStep=function(t){return arguments.length?(p=+t[0],v=+t[1],n):[p,v]},n.precision=function(t){return arguments.length?(y=+t,l=fr(a,o,90),f=hr(r,e,y),h=fr(s,c,90),g=hr(i,u,y),n):y},n.majorExtent([[-180,-90+ka],[180,90-ka]]).minorExtent([[-180,-80-ka],[180,80+ka]])},Zo.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||u.apply(this,arguments)]}}var t,e,r=gr,u=pr;return n.distance=function(){return Zo.geo.distance(t||r.apply(this,arguments),e||u.apply(this,arguments))},n.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,n):r},n.target=function(t){return arguments.length?(u=t,e="function"==typeof t?null:t,n):u},n.precision=function(){return arguments.length?n:0},n},Zo.geo.interpolate=function(n,t){return vr(n[0]*Aa,n[1]*Aa,t[0]*Aa,t[1]*Aa)},Zo.geo.length=function(n){return Dc=0,Zo.geo.stream(n,Pc),Dc};var Dc,Pc={sphere:v,point:v,lineStart:dr,lineEnd:v,polygonStart:v,polygonEnd:v},Uc=mr(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(Zo.geo.azimuthalEqualArea=function(){return nr(Uc)}).raw=Uc;var jc=mr(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},wt);(Zo.geo.azimuthalEquidistant=function(){return nr(jc)}).raw=jc,(Zo.geo.conicConformal=function(){return He(yr)}).raw=yr,(Zo.geo.conicEquidistant=function(){return He(xr)}).raw=xr;var Hc=mr(function(n){return 1/n},Math.atan);(Zo.geo.gnomonic=function(){return nr(Hc)}).raw=Hc,Mr.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Sa]},(Zo.geo.mercator=function(){return _r(Mr)}).raw=Mr;var Fc=mr(function(){return 1},Math.asin);(Zo.geo.orthographic=function(){return nr(Fc)}).raw=Fc;var Oc=mr(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(Zo.geo.stereographic=function(){return nr(Oc)}).raw=Oc,br.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-Sa]},(Zo.geo.transverseMercator=function(){var n=_r(br),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},e([0,0,90])}).raw=br,Zo.geom={},Zo.geom.hull=function(n){function t(n){if(n.length<3)return[];var t,u=bt(e),i=bt(r),o=n.length,a=[],c=[];for(t=0;o>t;t++)a.push([+u.call(this,n[t],t),+i.call(this,n[t],t),t]);for(a.sort(Er),t=0;o>t;t++)c.push([a[t][0],-a[t][1]]);var s=kr(a),l=kr(c),f=l[0]===s[0],h=l[l.length-1]===s[s.length-1],g=[];for(t=s.length-1;t>=0;--t)g.push(n[a[s[t]][2]]);for(t=+f;t<l.length-h;++t)g.push(n[a[l[t]][2]]);return g}var e=wr,r=Sr;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},Zo.geom.polygon=function(n){return sa(n,Yc),n};var Yc=Zo.geom.polygon.prototype=[];Yc.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],u=0;++t<e;)n=r,r=this[t],u+=n[1]*r[0]-n[0]*r[1];return.5*u},Yc.centroid=function(n){var t,e,r=-1,u=this.length,i=0,o=0,a=this[u-1];for(arguments.length||(n=-1/(6*this.area()));++r<u;)t=a,a=this[r],e=t[0]*a[1]-a[0]*t[1],i+=(t[0]+a[0])*e,o+=(t[1]+a[1])*e;return[i*n,o*n]},Yc.clip=function(n){for(var t,e,r,u,i,o,a=Nr(n),c=-1,s=this.length-Nr(this),l=this[s-1];++c<s;){for(t=n.slice(),n.length=0,u=this[c],i=t[(r=t.length-a)-1],e=-1;++e<r;)o=t[e],Ar(o,l,u)?(Ar(i,l,u)||n.push(Cr(i,o,l,u)),n.push(o)):Ar(i,l,u)&&n.push(Cr(i,o,l,u)),i=o;a&&n.push(n[0]),l=u}return n};var Ic,Zc,Vc,Xc,$c,Bc=[],Wc=[];Ur.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)n=t[e].edge,n.b&&n.a||t.splice(e,1);return t.sort(Hr),t.length},Wr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Jr.prototype={insert:function(n,t){var e,r,u;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=nu(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(u=r.R,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.R&&(Kr(this,e),n=e,e=n.U),e.C=!1,r.C=!0,Qr(this,r))):(u=r.L,u&&u.C?(e.C=u.C=!1,r.C=!0,n=r):(n===e.L&&(Qr(this,e),n=e,e=n.U),e.C=!1,r.C=!0,Kr(this,r))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,u=n.U,i=n.L,o=n.R;if(e=i?o?nu(o):i:o,u?u.L===n?u.L=e:u.R=e:this._=e,i&&o?(r=e.C,e.C=n.C,e.L=i,i.U=e,e!==o?(u=e.U,e.U=n.U,n=e.R,u.L=n,e.R=o,o.U=e):(e.U=u,u=e,n=e.R)):(r=n.C,n=e),n&&(n.U=u),!r){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===u.L){if(t=u.R,t.C&&(t.C=!1,u.C=!0,Kr(this,u),t=u.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Qr(this,t),t=u.R),t.C=u.C,u.C=t.R.C=!1,Kr(this,u),n=this._;break}}else if(t=u.L,t.C&&(t.C=!1,u.C=!0,Qr(this,u),t=u.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Kr(this,t),t=u.L),t.C=u.C,u.C=t.L.C=!1,Qr(this,u),n=this._;break}t.C=!0,n=u,u=u.U}while(!n.C);n&&(n.C=!1)}}},Zo.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=a[0][0],u=a[0][1],i=a[1][0],o=a[1][1];return tu(e(n),a).cells.forEach(function(e,a){var c=e.edges,s=e.site,l=t[a]=c.length?c.map(function(n){var t=n.start();return[t.x,t.y]}):s.x>=r&&s.x<=i&&s.y>=u&&s.y<=o?[[r,o],[i,o],[i,u],[r,u]]:[];l.point=n[a]}),t}function e(n){return n.map(function(n,t){return{x:Math.round(i(n,t)/ka)*ka,y:Math.round(o(n,t)/ka)*ka,i:t}})}var r=wr,u=Sr,i=r,o=u,a=Jc;return n?t(n):(t.links=function(n){return tu(e(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return tu(e(n)).cells.forEach(function(e,r){for(var u,i,o=e.site,a=e.edges.sort(Hr),c=-1,s=a.length,l=a[s-1].edge,f=l.l===o?l.r:l.l;++c<s;)u=l,i=f,l=a[c].edge,f=l.l===o?l.r:l.l,r<i.i&&r<f.i&&ru(o,i,f)<0&&t.push([n[r],n[i.i],n[f.i]])}),t},t.x=function(n){return arguments.length?(i=bt(r=n),t):r},t.y=function(n){return arguments.length?(o=bt(u=n),t):u},t.clipExtent=function(n){return arguments.length?(a=null==n?Jc:n,t):a===Jc?null:a},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):a===Jc?null:a&&a[1]
},t)};var Jc=[[-1e6,-1e6],[1e6,1e6]];Zo.geom.delaunay=function(n){return Zo.geom.voronoi().triangles(n)},Zo.geom.quadtree=function(n,t,e,r,u){function i(n){function i(n,t,e,r,u,i,o,a){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var c=n.x,l=n.y;if(null!=c)if(ua(c-e)+ua(l-r)<.01)s(n,t,e,r,u,i,o,a);else{var f=n.point;n.x=n.y=n.point=null,s(n,f,c,l,u,i,o,a),s(n,t,e,r,u,i,o,a)}else n.x=e,n.y=r,n.point=t}else s(n,t,e,r,u,i,o,a)}function s(n,t,e,r,u,o,a,c){var s=.5*(u+a),l=.5*(o+c),f=e>=s,h=r>=l,g=(h<<1)+f;n.leaf=!1,n=n.nodes[g]||(n.nodes[g]=ou()),f?u=s:a=s,h?o=l:c=l,i(n,t,e,r,u,o,a,c)}var l,f,h,g,p,v,d,m,y,x=bt(a),M=bt(c);if(null!=t)v=t,d=e,m=r,y=u;else if(m=y=-(v=d=1/0),f=[],h=[],p=n.length,o)for(g=0;p>g;++g)l=n[g],l.x<v&&(v=l.x),l.y<d&&(d=l.y),l.x>m&&(m=l.x),l.y>y&&(y=l.y),f.push(l.x),h.push(l.y);else for(g=0;p>g;++g){var _=+x(l=n[g],g),b=+M(l,g);v>_&&(v=_),d>b&&(d=b),_>m&&(m=_),b>y&&(y=b),f.push(_),h.push(b)}var w=m-v,S=y-d;w>S?y=d+w:m=v+S;var k=ou();if(k.add=function(n){i(k,n,+x(n,++g),+M(n,g),v,d,m,y)},k.visit=function(n){au(n,k,v,d,m,y)},g=-1,null==t){for(;++g<p;)i(k,n[g],f[g],h[g],v,d,m,y);--g}else n.forEach(k.add);return f=h=n=l=null,k}var o,a=wr,c=Sr;return(o=arguments.length)?(a=uu,c=iu,3===o&&(u=e,r=t,e=t=0),i(n)):(i.x=function(n){return arguments.length?(a=n,i):a},i.y=function(n){return arguments.length?(c=n,i):c},i.extent=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],u=+n[1][1]),i):null==t?null:[[t,e],[r,u]]},i.size=function(n){return arguments.length?(null==n?t=e=r=u=null:(t=e=0,r=+n[0],u=+n[1]),i):null==t?null:[r-t,u-e]},i)},Zo.interpolateRgb=cu,Zo.interpolateObject=su,Zo.interpolateNumber=lu,Zo.interpolateString=fu;var Gc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kc=new RegExp(Gc.source,"g");Zo.interpolate=hu,Zo.interpolators=[function(n,t){var e=typeof t;return("string"===e?Ia.has(t)||/^(#|rgb\(|hsl\()/.test(t)?cu:fu:t instanceof et?cu:Array.isArray(t)?gu:"object"===e&&isNaN(t)?su:lu)(n,t)}],Zo.interpolateArray=gu;var Qc=function(){return wt},ns=Zo.map({linear:Qc,poly:Mu,quad:function(){return mu},cubic:function(){return yu},sin:function(){return _u},exp:function(){return bu},circle:function(){return wu},elastic:Su,back:ku,bounce:function(){return Eu}}),ts=Zo.map({"in":wt,out:vu,"in-out":du,"out-in":function(n){return du(vu(n))}});Zo.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.substring(0,t):n,r=t>=0?n.substring(t+1):"in";return e=ns.get(e)||Qc,r=ts.get(r)||wt,pu(r(e.apply(null,Vo.call(arguments,1))))},Zo.interpolateHcl=Au,Zo.interpolateHsl=Cu,Zo.interpolateLab=Nu,Zo.interpolateRound=zu,Zo.transform=function(n){var t=$o.createElementNS(Zo.ns.prefix.svg,"g");return(Zo.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new Lu(e?e.matrix:es)})(n)},Lu.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var es={a:1,b:0,c:0,d:1,e:0,f:0};Zo.interpolateTransform=Du,Zo.layout={},Zo.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(ju(n[e]));return t}},Zo.layout.chord=function(){function n(){var n,s,f,h,g,p={},v=[],d=Zo.range(i),m=[];for(e=[],r=[],n=0,h=-1;++h<i;){for(s=0,g=-1;++g<i;)s+=u[h][g];v.push(s),m.push(Zo.range(i)),n+=s}for(o&&d.sort(function(n,t){return o(v[n],v[t])}),a&&m.forEach(function(n,t){n.sort(function(n,e){return a(u[t][n],u[t][e])})}),n=(wa-l*i)/n,s=0,h=-1;++h<i;){for(f=s,g=-1;++g<i;){var y=d[h],x=m[y][g],M=u[y][x],_=s,b=s+=M*n;p[y+"-"+x]={index:y,subindex:x,startAngle:_,endAngle:b,value:M}}r[y]={index:y,startAngle:f,endAngle:s,value:(s-f)/n},s+=l}for(h=-1;++h<i;)for(g=h-1;++g<i;){var w=p[h+"-"+g],S=p[g+"-"+h];(w.value||S.value)&&e.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}c&&t()}function t(){e.sort(function(n,t){return c((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e,r,u,i,o,a,c,s={},l=0;return s.matrix=function(n){return arguments.length?(i=(u=n)&&u.length,e=r=null,s):u},s.padding=function(n){return arguments.length?(l=n,e=r=null,s):l},s.sortGroups=function(n){return arguments.length?(o=n,e=r=null,s):o},s.sortSubgroups=function(n){return arguments.length?(a=n,e=null,s):a},s.sortChords=function(n){return arguments.length?(c=n,e&&t(),s):c},s.chords=function(){return e||n(),e},s.groups=function(){return r||n(),r},s},Zo.layout.force=function(){function n(n){return function(t,e,r,u){if(t.point!==n){var i=t.cx-n.x,o=t.cy-n.y,a=u-e,c=i*i+o*o;if(c>a*a/d){if(p>c){var s=t.charge/c;n.px-=i*s,n.py-=o*s}return!0}if(t.point&&c&&p>c){var s=t.pointCharge/c;n.px-=i*s,n.py-=o*s}}return!t.charge}}function t(n){n.px=Zo.event.x,n.py=Zo.event.y,a.resume()}var e,r,u,i,o,a={},c=Zo.dispatch("start","tick","end"),s=[1,1],l=.9,f=rs,h=us,g=-30,p=is,v=.1,d=.64,m=[],y=[];return a.tick=function(){if((r*=.99)<.005)return c.end({type:"end",alpha:r=0}),!0;var t,e,a,f,h,p,d,x,M,_=m.length,b=y.length;for(e=0;b>e;++e)a=y[e],f=a.source,h=a.target,x=h.x-f.x,M=h.y-f.y,(p=x*x+M*M)&&(p=r*i[e]*((p=Math.sqrt(p))-u[e])/p,x*=p,M*=p,h.x-=x*(d=f.weight/(h.weight+f.weight)),h.y-=M*d,f.x+=x*(d=1-d),f.y+=M*d);if((d=r*v)&&(x=s[0]/2,M=s[1]/2,e=-1,d))for(;++e<_;)a=m[e],a.x+=(x-a.x)*d,a.y+=(M-a.y)*d;if(g)for(Vu(t=Zo.geom.quadtree(m),r,o),e=-1;++e<_;)(a=m[e]).fixed||t.visit(n(a));for(e=-1;++e<_;)a=m[e],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*l,a.y-=(a.py-(a.py=a.y))*l);c.tick({type:"tick",alpha:r})},a.nodes=function(n){return arguments.length?(m=n,a):m},a.links=function(n){return arguments.length?(y=n,a):y},a.size=function(n){return arguments.length?(s=n,a):s},a.linkDistance=function(n){return arguments.length?(f="function"==typeof n?n:+n,a):f},a.distance=a.linkDistance,a.linkStrength=function(n){return arguments.length?(h="function"==typeof n?n:+n,a):h},a.friction=function(n){return arguments.length?(l=+n,a):l},a.charge=function(n){return arguments.length?(g="function"==typeof n?n:+n,a):g},a.chargeDistance=function(n){return arguments.length?(p=n*n,a):Math.sqrt(p)},a.gravity=function(n){return arguments.length?(v=+n,a):v},a.theta=function(n){return arguments.length?(d=n*n,a):Math.sqrt(d)},a.alpha=function(n){return arguments.length?(n=+n,r?r=n>0?n:0:n>0&&(c.start({type:"start",alpha:r=n}),Zo.timer(a.tick)),a):r},a.start=function(){function n(n,r){if(!e){for(e=new Array(c),a=0;c>a;++a)e[a]=[];for(a=0;s>a;++a){var u=y[a];e[u.source.index].push(u.target),e[u.target.index].push(u.source)}}for(var i,o=e[t],a=-1,s=o.length;++a<s;)if(!isNaN(i=o[a][n]))return i;return Math.random()*r}var t,e,r,c=m.length,l=y.length,p=s[0],v=s[1];for(t=0;c>t;++t)(r=m[t]).index=t,r.weight=0;for(t=0;l>t;++t)r=y[t],"number"==typeof r.source&&(r.source=m[r.source]),"number"==typeof r.target&&(r.target=m[r.target]),++r.source.weight,++r.target.weight;for(t=0;c>t;++t)r=m[t],isNaN(r.x)&&(r.x=n("x",p)),isNaN(r.y)&&(r.y=n("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(u=[],"function"==typeof f)for(t=0;l>t;++t)u[t]=+f.call(this,y[t],t);else for(t=0;l>t;++t)u[t]=f;if(i=[],"function"==typeof h)for(t=0;l>t;++t)i[t]=+h.call(this,y[t],t);else for(t=0;l>t;++t)i[t]=h;if(o=[],"function"==typeof g)for(t=0;c>t;++t)o[t]=+g.call(this,m[t],t);else for(t=0;c>t;++t)o[t]=g;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return e||(e=Zo.behavior.drag().origin(wt).on("dragstart.force",Ou).on("drag.force",t).on("dragend.force",Yu)),arguments.length?void this.on("mouseover.force",Iu).on("mouseout.force",Zu).call(e):e},Zo.rebind(a,c,"on")};var rs=20,us=1,is=1/0;Zo.layout.hierarchy=function(){function n(u){var i,o=[u],a=[];for(u.depth=0;null!=(i=o.pop());)if(a.push(i),(s=e.call(n,i,i.depth))&&(c=s.length)){for(var c,s,l;--c>=0;)o.push(l=s[c]),l.parent=i,l.depth=i.depth+1;r&&(i.value=0),i.children=s}else r&&(i.value=+r.call(n,i,i.depth)||0),delete i.children;return Bu(u,function(n){var e,u;t&&(e=n.children)&&e.sort(t),r&&(u=n.parent)&&(u.value+=n.value)}),a}var t=Gu,e=Wu,r=Ju;return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&($u(t,function(n){n.children&&(n.value=0)}),Bu(t,function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},n},Zo.layout.partition=function(){function n(t,e,r,u){var i=t.children;if(t.x=e,t.y=t.depth*u,t.dx=r,t.dy=u,i&&(o=i.length)){var o,a,c,s=-1;for(r=t.value?r/t.value:0;++s<o;)n(a=i[s],e,c=a.value*r,u),e+=c}}function t(n){var e=n.children,r=0;if(e&&(u=e.length))for(var u,i=-1;++i<u;)r=Math.max(r,t(e[i]));return 1+r}function e(e,i){var o=r.call(this,e,i);return n(o[0],0,u[0],u[1]/t(o[0])),o}var r=Zo.layout.hierarchy(),u=[1,1];return e.size=function(n){return arguments.length?(u=n,e):u},Xu(e,r)},Zo.layout.pie=function(){function n(i){var o=i.map(function(e,r){return+t.call(n,e,r)}),a=+("function"==typeof r?r.apply(this,arguments):r),c=(("function"==typeof u?u.apply(this,arguments):u)-a)/Zo.sum(o),s=Zo.range(i.length);null!=e&&s.sort(e===os?function(n,t){return o[t]-o[n]}:function(n,t){return e(i[n],i[t])});var l=[];return s.forEach(function(n){var t;l[n]={data:i[n],value:t=o[n],startAngle:a,endAngle:a+=t*c}}),l}var t=Number,e=os,r=0,u=wa;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(u=t,n):u},n};var os={};Zo.layout.stack=function(){function n(a,c){var s=a.map(function(e,r){return t.call(n,e,r)}),l=s.map(function(t){return t.map(function(t,e){return[i.call(n,t,e),o.call(n,t,e)]})}),f=e.call(n,l,c);s=Zo.permute(s,f),l=Zo.permute(l,f);var h,g,p,v=r.call(n,l,c),d=s.length,m=s[0].length;for(g=0;m>g;++g)for(u.call(n,s[0][g],p=v[g],l[0][g][1]),h=1;d>h;++h)u.call(n,s[h][g],p+=l[h-1][g][1],l[h][g][1]);return a}var t=wt,e=ei,r=ri,u=ti,i=Qu,o=ni;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:as.get(t)||ei,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:cs.get(t)||ri,n):r},n.x=function(t){return arguments.length?(i=t,n):i},n.y=function(t){return arguments.length?(o=t,n):o},n.out=function(t){return arguments.length?(u=t,n):u},n};var as=Zo.map({"inside-out":function(n){var t,e,r=n.length,u=n.map(ui),i=n.map(ii),o=Zo.range(r).sort(function(n,t){return u[n]-u[t]}),a=0,c=0,s=[],l=[];for(t=0;r>t;++t)e=o[t],c>a?(a+=i[e],s.push(e)):(c+=i[e],l.push(e));return l.reverse().concat(s)},reverse:function(n){return Zo.range(n.length).reverse()},"default":ei}),cs=Zo.map({silhouette:function(n){var t,e,r,u=n.length,i=n[0].length,o=[],a=0,c=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];r>a&&(a=r),o.push(r)}for(e=0;i>e;++e)c[e]=(a-o[e])/2;return c},wiggle:function(n){var t,e,r,u,i,o,a,c,s,l=n.length,f=n[0],h=f.length,g=[];for(g[0]=c=s=0,e=1;h>e;++e){for(t=0,u=0;l>t;++t)u+=n[t][e][1];for(t=0,i=0,a=f[e][0]-f[e-1][0];l>t;++t){for(r=0,o=(n[t][e][1]-n[t][e-1][1])/(2*a);t>r;++r)o+=(n[r][e][1]-n[r][e-1][1])/a;i+=o*n[t][e][1]}g[e]=c-=u?i/u*a:0,s>c&&(s=c)}for(e=0;h>e;++e)g[e]-=s;return g},expand:function(n){var t,e,r,u=n.length,i=n[0].length,o=1/u,a=[];for(e=0;i>e;++e){for(t=0,r=0;u>t;t++)r+=n[t][e][1];if(r)for(t=0;u>t;t++)n[t][e][1]/=r;else for(t=0;u>t;t++)n[t][e][1]=o}for(e=0;i>e;++e)a[e]=0;return a},zero:ri});Zo.layout.histogram=function(){function n(n,i){for(var o,a,c=[],s=n.map(e,this),l=r.call(this,s,i),f=u.call(this,l,s,i),i=-1,h=s.length,g=f.length-1,p=t?1:1/h;++i<g;)o=c[i]=[],o.dx=f[i+1]-(o.x=f[i]),o.y=0;if(g>0)for(i=-1;++i<h;)a=s[i],a>=l[0]&&a<=l[1]&&(o=c[Zo.bisect(f,a,1,g)-1],o.y+=p,o.push(n[i]));return c}var t=!0,e=Number,r=si,u=ai;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=bt(t),n):r},n.bins=function(t){return arguments.length?(u="number"==typeof t?function(n){return ci(n,t)}:bt(t),n):u},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},Zo.layout.pack=function(){function n(n,i){var o=e.call(this,n,i),a=o[0],c=u[0],s=u[1],l=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,Bu(a,function(n){n.r=+l(n.value)}),Bu(a,pi),r){var f=r*(t?1:Math.max(2*a.r/c,2*a.r/s))/2;Bu(a,function(n){n.r+=f}),Bu(a,pi),Bu(a,function(n){n.r-=f})}return mi(a,c/2,s/2,t?1:1/Math.max(2*a.r/c,2*a.r/s)),o}var t,e=Zo.layout.hierarchy().sort(li),r=0,u=[1,1];return n.size=function(t){return arguments.length?(u=t,n):u},n.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,n):t},n.padding=function(t){return arguments.length?(r=+t,n):r},Xu(n,e)},Zo.layout.tree=function(){function n(n,u){var l=o.call(this,n,u),f=l[0],h=t(f);if(Bu(h,e),h.parent.m=-h.z,$u(h,r),s)$u(f,i);else{var g=f,p=f,v=f;$u(f,function(n){n.x<g.x&&(g=n),n.x>p.x&&(p=n),n.depth>v.depth&&(v=n)});var d=a(g,p)/2-g.x,m=c[0]/(p.x+a(p,g)/2+d),y=c[1]/(v.depth||1);$u(f,function(n){n.x=(n.x+d)*m,n.y=n.depth*y})}return l}function t(n){for(var t,e={A:null,children:[n]},r=[e];null!=(t=r.pop());)for(var u,i=t.children,o=0,a=i.length;a>o;++o)r.push((i[o]=u={_:i[o],parent:t,children:(u=i[o].children)&&u.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=u);return e.children[0]}function e(n){var t=n.children,e=n.parent.children,r=n.i?e[n.i-1]:null;if(t.length){wi(n);var i=(t[0].z+t[t.length-1].z)/2;r?(n.z=r.z+a(n._,r._),n.m=n.z-i):n.z=i}else r&&(n.z=r.z+a(n._,r._));n.parent.A=u(n,r,n.parent.A||e[0])}function r(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function u(n,t,e){if(t){for(var r,u=n,i=n,o=t,c=u.parent.children[0],s=u.m,l=i.m,f=o.m,h=c.m;o=_i(o),u=Mi(u),o&&u;)c=Mi(c),i=_i(i),i.a=n,r=o.z+f-u.z-s+a(o._,u._),r>0&&(bi(Si(o,n,e),n,r),s+=r,l+=r),f+=o.m,s+=u.m,h+=c.m,l+=i.m;o&&!_i(i)&&(i.t=o,i.m+=f-l),u&&!Mi(c)&&(c.t=u,c.m+=s-h,e=n)}return e}function i(n){n.x*=c[0],n.y=n.depth*c[1]}var o=Zo.layout.hierarchy().sort(null).value(null),a=xi,c=[1,1],s=null;return n.separation=function(t){return arguments.length?(a=t,n):a},n.size=function(t){return arguments.length?(s=null==(c=t)?i:null,n):s?null:c},n.nodeSize=function(t){return arguments.length?(s=null==(c=t)?null:i,n):s?c:null},Xu(n,o)},Zo.layout.cluster=function(){function n(n,i){var o,a=t.call(this,n,i),c=a[0],s=0;Bu(c,function(n){var t=n.children;t&&t.length?(n.x=Ei(t),n.y=ki(t)):(n.x=o?s+=e(n,o):0,n.y=0,o=n)});var l=Ai(c),f=Ci(c),h=l.x-e(l,f)/2,g=f.x+e(f,l)/2;return Bu(c,u?function(n){n.x=(n.x-c.x)*r[0],n.y=(c.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(g-h)*r[0],n.y=(1-(c.y?n.y/c.y:1))*r[1]}),a}var t=Zo.layout.hierarchy().sort(null).value(null),e=xi,r=[1,1],u=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(u=null==(r=t),n):u?null:r},n.nodeSize=function(t){return arguments.length?(u=null!=(r=t),n):u?r:null},Xu(n,t)},Zo.layout.treemap=function(){function n(n,t){for(var e,r,u=-1,i=n.length;++u<i;)r=(e=n[u]).value*(0>t?0:t),e.area=isNaN(r)||0>=r?0:r}function t(e){var i=e.children;if(i&&i.length){var o,a,c,s=f(e),l=[],h=i.slice(),p=1/0,v="slice"===g?s.dx:"dice"===g?s.dy:"slice-dice"===g?1&e.depth?s.dy:s.dx:Math.min(s.dx,s.dy);for(n(h,s.dx*s.dy/e.value),l.area=0;(c=h.length)>0;)l.push(o=h[c-1]),l.area+=o.area,"squarify"!==g||(a=r(l,v))<=p?(h.pop(),p=a):(l.area-=l.pop().area,u(l,v,s,!1),v=Math.min(s.dx,s.dy),l.length=l.area=0,p=1/0);l.length&&(u(l,v,s,!0),l.length=l.area=0),i.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var i,o=f(t),a=r.slice(),c=[];for(n(a,o.dx*o.dy/t.value),c.area=0;i=a.pop();)c.push(i),c.area+=i.area,null!=i.z&&(u(c,i.z?o.dx:o.dy,o,!a.length),c.length=c.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,u=0,i=1/0,o=-1,a=n.length;++o<a;)(e=n[o].area)&&(i>e&&(i=e),e>u&&(u=e));return r*=r,t*=t,r?Math.max(t*u*p/r,r/(t*i*p)):1/0}function u(n,t,e,r){var u,i=-1,o=n.length,a=e.x,s=e.y,l=t?c(n.area/t):0;if(t==e.dx){for((r||l>e.dy)&&(l=e.dy);++i<o;)u=n[i],u.x=a,u.y=s,u.dy=l,a+=u.dx=Math.min(e.x+e.dx-a,l?c(u.area/l):0);u.z=!0,u.dx+=e.x+e.dx-a,e.y+=l,e.dy-=l}else{for((r||l>e.dx)&&(l=e.dx);++i<o;)u=n[i],u.x=a,u.y=s,u.dx=l,s+=u.dy=Math.min(e.y+e.dy-s,l?c(u.area/l):0);u.z=!1,u.dy+=e.y+e.dy-s,e.x+=l,e.dx-=l}}function i(r){var u=o||a(r),i=u[0];return i.x=0,i.y=0,i.dx=s[0],i.dy=s[1],o&&a.revalue(i),n([i],i.dx*i.dy/i.value),(o?e:t)(i),h&&(o=u),u}var o,a=Zo.layout.hierarchy(),c=Math.round,s=[1,1],l=null,f=Ni,h=!1,g="squarify",p=.5*(1+Math.sqrt(5));return i.size=function(n){return arguments.length?(s=n,i):s},i.padding=function(n){function t(t){var e=n.call(i,t,t.depth);return null==e?Ni(t):zi(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return zi(t,n)}if(!arguments.length)return l;var r;return f=null==(l=n)?Ni:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,i},i.round=function(n){return arguments.length?(c=n?Math.round:Number,i):c!=Number},i.sticky=function(n){return arguments.length?(h=n,o=null,i):h},i.ratio=function(n){return arguments.length?(p=n,i):p},i.mode=function(n){return arguments.length?(g=n+"",i):g},Xu(i,a)},Zo.random={normal:function(n,t){var e=arguments.length;return 2>e&&(t=1),1>e&&(n=0),function(){var e,r,u;do e=2*Math.random()-1,r=2*Math.random()-1,u=e*e+r*r;while(!u||u>1);return n+t*e*Math.sqrt(-2*Math.log(u)/u)}},logNormal:function(){var n=Zo.random.normal.apply(Zo,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=Zo.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,e=0;n>e;e++)t+=Math.random();return t}}},Zo.scale={};var ss={floor:wt,ceil:wt};Zo.scale.linear=function(){return Ui([0,1],[0,1],hu,!1)};var ls={s:1,g:1,p:1,r:1,e:1};Zo.scale.log=function(){return Vi(Zo.scale.linear().domain([0,1]),10,!0,[1,10])};var fs=Zo.format(".0e"),hs={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};Zo.scale.pow=function(){return Xi(Zo.scale.linear(),1,[0,1])},Zo.scale.sqrt=function(){return Zo.scale.pow().exponent(.5)},Zo.scale.ordinal=function(){return Bi([],{t:"range",a:[[]]})},Zo.scale.category10=function(){return Zo.scale.ordinal().range(gs)},Zo.scale.category20=function(){return Zo.scale.ordinal().range(ps)},Zo.scale.category20b=function(){return Zo.scale.ordinal().range(vs)},Zo.scale.category20c=function(){return Zo.scale.ordinal().range(ds)};var gs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(vt),ps=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(vt),vs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(vt),ds=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(vt);Zo.scale.quantile=function(){return Wi([],[])},Zo.scale.quantize=function(){return Ji(0,1,[0,1])},Zo.scale.threshold=function(){return Gi([.5],[0,1])},Zo.scale.identity=function(){return Ki([0,1])},Zo.svg={},Zo.svg.arc=function(){function n(){var n=t.apply(this,arguments),i=e.apply(this,arguments),o=r.apply(this,arguments)+ms,a=u.apply(this,arguments)+ms,c=(o>a&&(c=o,o=a,a=c),a-o),s=ba>c?"0":"1",l=Math.cos(o),f=Math.sin(o),h=Math.cos(a),g=Math.sin(a);return c>=ys?n?"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"M0,"+n+"A"+n+","+n+" 0 1,0 0,"+-n+"A"+n+","+n+" 0 1,0 0,"+n+"Z":"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"Z":n?"M"+i*l+","+i*f+"A"+i+","+i+" 0 "+s+",1 "+i*h+","+i*g+"L"+n*h+","+n*g+"A"+n+","+n+" 0 "+s+",0 "+n*l+","+n*f+"Z":"M"+i*l+","+i*f+"A"+i+","+i+" 0 "+s+",1 "+i*h+","+i*g+"L0,0Z"}var t=Qi,e=no,r=to,u=eo;return n.innerRadius=function(e){return arguments.length?(t=bt(e),n):t},n.outerRadius=function(t){return arguments.length?(e=bt(t),n):e},n.startAngle=function(t){return arguments.length?(r=bt(t),n):r},n.endAngle=function(t){return arguments.length?(u=bt(t),n):u},n.centroid=function(){var n=(t.apply(this,arguments)+e.apply(this,arguments))/2,i=(r.apply(this,arguments)+u.apply(this,arguments))/2+ms;return[Math.cos(i)*n,Math.sin(i)*n]},n};var ms=-Sa,ys=wa-ka;Zo.svg.line=function(){return ro(wt)};var xs=Zo.map({linear:uo,"linear-closed":io,step:oo,"step-before":ao,"step-after":co,basis:po,"basis-open":vo,"basis-closed":mo,bundle:yo,cardinal:fo,"cardinal-open":so,"cardinal-closed":lo,monotone:So});xs.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var Ms=[0,2/3,1/3,0],_s=[0,1/3,2/3,0],bs=[0,1/6,2/3,1/6];Zo.svg.line.radial=function(){var n=ro(ko);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},ao.reverse=co,co.reverse=ao,Zo.svg.area=function(){return Eo(wt)},Zo.svg.area.radial=function(){var n=Eo(ko);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},Zo.svg.chord=function(){function n(n,a){var c=t(this,i,n,a),s=t(this,o,n,a);return"M"+c.p0+r(c.r,c.p1,c.a1-c.a0)+(e(c,s)?u(c.r,c.p1,c.r,c.p0):u(c.r,c.p1,s.r,s.p0)+r(s.r,s.p1,s.a1-s.a0)+u(s.r,s.p1,c.r,c.p0))+"Z"}function t(n,t,e,r){var u=t.call(n,e,r),i=a.call(n,u,r),o=c.call(n,u,r)+ms,l=s.call(n,u,r)+ms;return{r:i,a0:o,a1:l,p0:[i*Math.cos(o),i*Math.sin(o)],p1:[i*Math.cos(l),i*Math.sin(l)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>ba)+",1 "+t}function u(n,t,e,r){return"Q 0,0 "+r}var i=gr,o=pr,a=Ao,c=to,s=eo;return n.radius=function(t){return arguments.length?(a=bt(t),n):a},n.source=function(t){return arguments.length?(i=bt(t),n):i},n.target=function(t){return arguments.length?(o=bt(t),n):o},n.startAngle=function(t){return arguments.length?(c=bt(t),n):c},n.endAngle=function(t){return arguments.length?(s=bt(t),n):s},n},Zo.svg.diagonal=function(){function n(n,u){var i=t.call(this,n,u),o=e.call(this,n,u),a=(i.y+o.y)/2,c=[i,{x:i.x,y:a},{x:o.x,y:a},o];return c=c.map(r),"M"+c[0]+"C"+c[1]+" "+c[2]+" "+c[3]}var t=gr,e=pr,r=Co;return n.source=function(e){return arguments.length?(t=bt(e),n):t},n.target=function(t){return arguments.length?(e=bt(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},Zo.svg.diagonal.radial=function(){var n=Zo.svg.diagonal(),t=Co,e=n.projection;return n.projection=function(n){return arguments.length?e(No(t=n)):t},n},Zo.svg.symbol=function(){function n(n,r){return(ws.get(t.call(this,n,r))||To)(e.call(this,n,r))}var t=Lo,e=zo;return n.type=function(e){return arguments.length?(t=bt(e),n):t},n.size=function(t){return arguments.length?(e=bt(t),n):e},n};var ws=Zo.map({circle:To,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*As)),e=t*As;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/Es),e=t*Es/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/Es),e=t*Es/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});Zo.svg.symbolTypes=ws.keys();var Ss,ks,Es=Math.sqrt(3),As=Math.tan(30*Aa),Cs=[],Ns=0;Cs.call=pa.call,Cs.empty=pa.empty,Cs.node=pa.node,Cs.size=pa.size,Zo.transition=function(n){return arguments.length?Ss?n.transition():n:ma.transition()},Zo.transition.prototype=Cs,Cs.select=function(n){var t,e,r,u=this.id,i=[];n=b(n);for(var o=-1,a=this.length;++o<a;){i.push(t=[]);for(var c=this[o],s=-1,l=c.length;++s<l;)(r=c[s])&&(e=n.call(r,r.__data__,s,o))?("__data__"in r&&(e.__data__=r.__data__),Po(e,s,u,r.__transition__[u]),t.push(e)):t.push(null)}return qo(i,u)},Cs.selectAll=function(n){var t,e,r,u,i,o=this.id,a=[];n=w(n);for(var c=-1,s=this.length;++c<s;)for(var l=this[c],f=-1,h=l.length;++f<h;)if(r=l[f]){i=r.__transition__[o],e=n.call(r,r.__data__,f,c),a.push(t=[]);for(var g=-1,p=e.length;++g<p;)(u=e[g])&&Po(u,g,o,i),t.push(u)}return qo(a,o)},Cs.filter=function(n){var t,e,r,u=[];"function"!=typeof n&&(n=R(n));for(var i=0,o=this.length;o>i;i++){u.push(t=[]);for(var e=this[i],a=0,c=e.length;c>a;a++)(r=e[a])&&n.call(r,r.__data__,a,i)&&t.push(r)}return qo(u,this.id)},Cs.tween=function(n,t){var e=this.id;return arguments.length<2?this.node().__transition__[e].tween.get(n):P(this,null==t?function(t){t.__transition__[e].tween.remove(n)}:function(r){r.__transition__[e].tween.set(n,t)})},Cs.attr=function(n,t){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function u(n){return null==n?e:(n+="",function(){var t,e=this.getAttribute(a);return e!==n&&(t=o(e,n),function(n){this.setAttribute(a,t(n))})})}function i(n){return null==n?r:(n+="",function(){var t,e=this.getAttributeNS(a.space,a.local);return e!==n&&(t=o(e,n),function(n){this.setAttributeNS(a.space,a.local,t(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var o="transform"==n?Du:hu,a=Zo.ns.qualify(n);return Ro(this,"attr."+n,t,a.local?i:u)},Cs.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(u));return r&&function(n){this.setAttribute(u,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(u.space,u.local));return r&&function(n){this.setAttributeNS(u.space,u.local,r(n))}}var u=Zo.ns.qualify(n);return this.tween("attr."+n,u.local?r:e)},Cs.style=function(n,t,e){function r(){this.style.removeProperty(n)}function u(t){return null==t?r:(t+="",function(){var r,u=Wo.getComputedStyle(this,null).getPropertyValue(n);return u!==t&&(r=hu(u,t),function(t){this.style.setProperty(n,r(t),e)})})}var i=arguments.length;if(3>i){if("string"!=typeof n){2>i&&(t="");for(e in n)this.style(e,n[e],t);return this}e=""}return Ro(this,"style."+n,t,u)},Cs.styleTween=function(n,t,e){function r(r,u){var i=t.call(this,r,u,Wo.getComputedStyle(this,null).getPropertyValue(n));return i&&function(t){this.style.setProperty(n,i(t),e)}}return arguments.length<3&&(e=""),this.tween("style."+n,r)},Cs.text=function(n){return Ro(this,"text",n,Do)},Cs.remove=function(){return this.each("end.transition",function(){var n;this.__transition__.count<2&&(n=this.parentNode)&&n.removeChild(this)})},Cs.ease=function(n){var t=this.id;return arguments.length<1?this.node().__transition__[t].ease:("function"!=typeof n&&(n=Zo.ease.apply(Zo,arguments)),P(this,function(e){e.__transition__[t].ease=n}))},Cs.delay=function(n){var t=this.id;return arguments.length<1?this.node().__transition__[t].delay:P(this,"function"==typeof n?function(e,r,u){e.__transition__[t].delay=+n.call(e,e.__data__,r,u)}:(n=+n,function(e){e.__transition__[t].delay=n}))},Cs.duration=function(n){var t=this.id;return arguments.length<1?this.node().__transition__[t].duration:P(this,"function"==typeof n?function(e,r,u){e.__transition__[t].duration=Math.max(1,n.call(e,e.__data__,r,u))}:(n=Math.max(1,n),function(e){e.__transition__[t].duration=n}))},Cs.each=function(n,t){var e=this.id;if(arguments.length<2){var r=ks,u=Ss;Ss=e,P(this,function(t,r,u){ks=t.__transition__[e],n.call(t,t.__data__,r,u)}),ks=r,Ss=u}else P(this,function(r){var u=r.__transition__[e];(u.event||(u.event=Zo.dispatch("start","end"))).on(n,t)});return this},Cs.transition=function(){for(var n,t,e,r,u=this.id,i=++Ns,o=[],a=0,c=this.length;c>a;a++){o.push(n=[]);for(var t=this[a],s=0,l=t.length;l>s;s++)(e=t[s])&&(r=Object.create(e.__transition__[u]),r.delay+=r.duration,Po(e,s,i,r)),n.push(e)}return qo(o,i)},Zo.svg.axis=function(){function n(n){n.each(function(){var n,s=Zo.select(this),l=this.__chart__||e,f=this.__chart__=e.copy(),h=null==c?f.ticks?f.ticks.apply(f,a):f.domain():c,g=null==t?f.tickFormat?f.tickFormat.apply(f,a):wt:t,p=s.selectAll(".tick").data(h,f),v=p.enter().insert("g",".domain").attr("class","tick").style("opacity",ka),d=Zo.transition(p.exit()).style("opacity",ka).remove(),m=Zo.transition(p.order()).style("opacity",1),y=Ti(f),x=s.selectAll(".domain").data([0]),M=(x.enter().append("path").attr("class","domain"),Zo.transition(x));v.append("line"),v.append("text");var _=v.select("line"),b=m.select("line"),w=p.select("text").text(g),S=v.select("text"),k=m.select("text");switch(r){case"bottom":n=Uo,_.attr("y2",u),S.attr("y",Math.max(u,0)+o),b.attr("x2",0).attr("y2",u),k.attr("x",0).attr("y",Math.max(u,0)+o),w.attr("dy",".71em").style("text-anchor","middle"),M.attr("d","M"+y[0]+","+i+"V0H"+y[1]+"V"+i);break;case"top":n=Uo,_.attr("y2",-u),S.attr("y",-(Math.max(u,0)+o)),b.attr("x2",0).attr("y2",-u),k.attr("x",0).attr("y",-(Math.max(u,0)+o)),w.attr("dy","0em").style("text-anchor","middle"),M.attr("d","M"+y[0]+","+-i+"V0H"+y[1]+"V"+-i);break;case"left":n=jo,_.attr("x2",-u),S.attr("x",-(Math.max(u,0)+o)),b.attr("x2",-u).attr("y2",0),k.attr("x",-(Math.max(u,0)+o)).attr("y",0),w.attr("dy",".32em").style("text-anchor","end"),M.attr("d","M"+-i+","+y[0]+"H0V"+y[1]+"H"+-i);break;case"right":n=jo,_.attr("x2",u),S.attr("x",Math.max(u,0)+o),b.attr("x2",u).attr("y2",0),k.attr("x",Math.max(u,0)+o).attr("y",0),w.attr("dy",".32em").style("text-anchor","start"),M.attr("d","M"+i+","+y[0]+"H0V"+y[1]+"H"+i)}if(f.rangeBand){var E=f,A=E.rangeBand()/2;l=f=function(n){return E(n)+A}}else l.rangeBand?l=f:d.call(n,f);v.call(n,l),m.call(n,f)})}var t,e=Zo.scale.linear(),r=zs,u=6,i=6,o=3,a=[10],c=null;return n.scale=function(t){return arguments.length?(e=t,n):e},n.orient=function(t){return arguments.length?(r=t in Ls?t+"":zs,n):r},n.ticks=function(){return arguments.length?(a=arguments,n):a},n.tickValues=function(t){return arguments.length?(c=t,n):c},n.tickFormat=function(e){return arguments.length?(t=e,n):t},n.tickSize=function(t){var e=arguments.length;return e?(u=+t,i=+arguments[e-1],n):u},n.innerTickSize=function(t){return arguments.length?(u=+t,n):u},n.outerTickSize=function(t){return arguments.length?(i=+t,n):i},n.tickPadding=function(t){return arguments.length?(o=+t,n):o},n.tickSubdivide=function(){return arguments.length&&n},n};var zs="bottom",Ls={top:1,right:1,bottom:1,left:1};Zo.svg.brush=function(){function n(i){i.each(function(){var i=Zo.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",u).on("touchstart.brush",u),o=i.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),i.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=i.selectAll(".resize").data(p,wt);a.exit().remove(),a.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return Ts[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",n.empty()?"none":null);var l,f=Zo.transition(i),h=Zo.transition(o);c&&(l=Ti(c),h.attr("x",l[0]).attr("width",l[1]-l[0]),e(f)),s&&(l=Ti(s),h.attr("y",l[0]).attr("height",l[1]-l[0]),r(f)),t(f)})}function t(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+l[+/e$/.test(n)]+","+f[+/^s/.test(n)]+")"})}function e(n){n.select(".extent").attr("x",l[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function r(n){n.select(".extent").attr("y",f[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function u(){function u(){32==Zo.event.keyCode&&(C||(x=null,z[0]-=l[1],z[1]-=f[1],C=2),y())}function p(){32==Zo.event.keyCode&&2==C&&(z[0]+=l[1],z[1]+=f[1],C=0,y())}function v(){var n=Zo.mouse(_),u=!1;M&&(n[0]+=M[0],n[1]+=M[1]),C||(Zo.event.altKey?(x||(x=[(l[0]+l[1])/2,(f[0]+f[1])/2]),z[0]=l[+(n[0]<x[0])],z[1]=f[+(n[1]<x[1])]):x=null),E&&d(n,c,0)&&(e(S),u=!0),A&&d(n,s,1)&&(r(S),u=!0),u&&(t(S),w({type:"brush",mode:C?"move":"resize"}))}function d(n,t,e){var r,u,a=Ti(t),c=a[0],s=a[1],p=z[e],v=e?f:l,d=v[1]-v[0];
return C&&(c-=p,s-=d+p),r=(e?g:h)?Math.max(c,Math.min(s,n[e])):n[e],C?u=(r+=p)+d:(x&&(p=Math.max(c,Math.min(s,2*x[e]-r))),r>p?(u=r,r=p):u=p),v[0]!=r||v[1]!=u?(e?o=null:i=null,v[0]=r,v[1]=u,!0):void 0}function m(){v(),S.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),Zo.select("body").style("cursor",null),L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),N(),w({type:"brushend"})}var x,M,_=this,b=Zo.select(Zo.event.target),w=a.of(_,arguments),S=Zo.select(_),k=b.datum(),E=!/^(n|s)$/.test(k)&&c,A=!/^(e|w)$/.test(k)&&s,C=b.classed("extent"),N=I(),z=Zo.mouse(_),L=Zo.select(Wo).on("keydown.brush",u).on("keyup.brush",p);if(Zo.event.changedTouches?L.on("touchmove.brush",v).on("touchend.brush",m):L.on("mousemove.brush",v).on("mouseup.brush",m),S.interrupt().selectAll("*").interrupt(),C)z[0]=l[0]-z[0],z[1]=f[0]-z[1];else if(k){var T=+/w$/.test(k),q=+/^n/.test(k);M=[l[1-T]-z[0],f[1-q]-z[1]],z[0]=l[T],z[1]=f[q]}else Zo.event.altKey&&(x=z.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),Zo.select("body").style("cursor",b.style("cursor")),w({type:"brushstart"}),v()}var i,o,a=M(n,"brushstart","brush","brushend"),c=null,s=null,l=[0,0],f=[0,0],h=!0,g=!0,p=qs[0];return n.event=function(n){n.each(function(){var n=a.of(this,arguments),t={x:l,y:f,i:i,j:o},e=this.__chart__||t;this.__chart__=t,Ss?Zo.select(this).transition().each("start.brush",function(){i=e.i,o=e.j,l=e.x,f=e.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=gu(l,t.x),r=gu(f,t.y);return i=o=null,function(u){l=t.x=e(u),f=t.y=r(u),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){i=t.i,o=t.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},n.x=function(t){return arguments.length?(c=t,p=qs[!c<<1|!s],n):c},n.y=function(t){return arguments.length?(s=t,p=qs[!c<<1|!s],n):s},n.clamp=function(t){return arguments.length?(c&&s?(h=!!t[0],g=!!t[1]):c?h=!!t:s&&(g=!!t),n):c&&s?[h,g]:c?h:s?g:null},n.extent=function(t){var e,r,u,a,h;return arguments.length?(c&&(e=t[0],r=t[1],s&&(e=e[0],r=r[0]),i=[e,r],c.invert&&(e=c(e),r=c(r)),e>r&&(h=e,e=r,r=h),(e!=l[0]||r!=l[1])&&(l=[e,r])),s&&(u=t[0],a=t[1],c&&(u=u[1],a=a[1]),o=[u,a],s.invert&&(u=s(u),a=s(a)),u>a&&(h=u,u=a,a=h),(u!=f[0]||a!=f[1])&&(f=[u,a])),n):(c&&(i?(e=i[0],r=i[1]):(e=l[0],r=l[1],c.invert&&(e=c.invert(e),r=c.invert(r)),e>r&&(h=e,e=r,r=h))),s&&(o?(u=o[0],a=o[1]):(u=f[0],a=f[1],s.invert&&(u=s.invert(u),a=s.invert(a)),u>a&&(h=u,u=a,a=h))),c&&s?[[e,u],[r,a]]:c?[e,r]:s&&[u,a])},n.clear=function(){return n.empty()||(l=[0,0],f=[0,0],i=o=null),n},n.empty=function(){return!!c&&l[0]==l[1]||!!s&&f[0]==f[1]},Zo.rebind(n,a,"on")};var Ts={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},qs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Rs=Qa.format=ic.timeFormat,Ds=Rs.utc,Ps=Ds("%Y-%m-%dT%H:%M:%S.%LZ");Rs.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ho:Ps,Ho.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},Ho.toString=Ps.toString,Qa.second=Dt(function(n){return new nc(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),Qa.seconds=Qa.second.range,Qa.seconds.utc=Qa.second.utc.range,Qa.minute=Dt(function(n){return new nc(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),Qa.minutes=Qa.minute.range,Qa.minutes.utc=Qa.minute.utc.range,Qa.hour=Dt(function(n){var t=n.getTimezoneOffset()/60;return new nc(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),Qa.hours=Qa.hour.range,Qa.hours.utc=Qa.hour.utc.range,Qa.month=Dt(function(n){return n=Qa.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),Qa.months=Qa.month.range,Qa.months.utc=Qa.month.utc.range;var Us=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],js=[[Qa.second,1],[Qa.second,5],[Qa.second,15],[Qa.second,30],[Qa.minute,1],[Qa.minute,5],[Qa.minute,15],[Qa.minute,30],[Qa.hour,1],[Qa.hour,3],[Qa.hour,6],[Qa.hour,12],[Qa.day,1],[Qa.day,2],[Qa.week,1],[Qa.month,1],[Qa.month,3],[Qa.year,1]],Hs=Rs.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",we]]),Fs={range:function(n,t,e){return Zo.range(Math.ceil(n/e)*e,+t,e).map(Oo)},floor:wt,ceil:wt};js.year=Qa.year,Qa.scale=function(){return Fo(Zo.scale.linear(),js,Hs)};var Os=js.map(function(n){return[n[0].utc,n[1]]}),Ys=Ds.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",we]]);Os.year=Qa.year.utc,Qa.scale.utc=function(){return Fo(Zo.scale.linear(),Os,Ys)},Zo.text=St(function(n){return n.responseText}),Zo.json=function(n,t){return kt(n,"application/json",Yo,t)},Zo.html=function(n,t){return kt(n,"text/html",Io,t)},Zo.xml=St(function(n){return n.responseXML}),"function"==typeof define&&define.amd?define(Zo):"object"==typeof module&&module.exports&&(module.exports=Zo),this.d3=Zo}(),document.getElementById&&document.childNodes&&document.createElement&&(window.MathJax&&MathJax.Hub||(window.MathJax=window.MathJax?{AuthorConfig:window.MathJax}:{},MathJax.isPacked=!0,MathJax.version="2.4.0",MathJax.fileversion="2.4.0",MathJax.cdnVersion="2.4-beta-2",MathJax.cdnFileVersions={},function(d){var b=window[d];b||(b=window[d]={});var e=[],c=function(f){var g=f.constructor;g||(g=function(){});for(var h in f)"constructor"!==h&&f.hasOwnProperty(h)&&(g[h]=f[h]);return g},a=function(){return function(){return arguments.callee.Init.call(this,arguments)}};b.Object=c({constructor:a(),Subclass:function(f,h){var g=a();return g.SUPER=this,g.Init=this.Init,g.Subclass=this.Subclass,g.Augment=this.Augment,g.protoFunction=this.protoFunction,g.can=this.can,g.has=this.has,g.isa=this.isa,g.prototype=new this(e),g.prototype.constructor=g,g.Augment(f,h),g},Init:function(f){var g=this;return 1===f.length&&f[0]===e?g:(g instanceof f.callee||(g=new f.callee(e)),g.Init.apply(g,f)||g)},Augment:function(f,g){var h;if(null!=f){for(h in f)f.hasOwnProperty(h)&&this.protoFunction(h,f[h]);f.toString!==this.prototype.toString&&f.toString!=={}.toString&&this.protoFunction("toString",f.toString)}if(null!=g)for(h in g)g.hasOwnProperty(h)&&(this[h]=g[h]);return this},protoFunction:function(g,f){this.prototype[g]=f,"function"==typeof f&&(f.SUPER=this.SUPER.prototype)},prototype:{Init:function(){},SUPER:function(f){return f.callee.SUPER},can:function(f){return"function"==typeof this[f]},has:function(f){return"undefined"!=typeof this[f]},isa:function(f){return f instanceof Object&&this instanceof f}},can:function(f){return this.prototype.can.call(this,f)},has:function(f){return this.prototype.has.call(this,f)},isa:function(g){for(var f=this;f;){if(f===g)return!0;f=f.SUPER}return!1},SimpleSUPER:c({constructor:function(f){return this.SimpleSUPER.define(f)},define:function(f){var h={};if(null!=f){for(var g in f)f.hasOwnProperty(g)&&(h[g]=this.wrap(g,f[g]));f.toString!==this.prototype.toString&&f.toString!=={}.toString&&(h.toString=this.wrap("toString",f.toString))}return h},wrap:function(i,h){if("function"!=typeof h||!h.toString().match(/\.\s*SUPER\s*\(/))return h;var g=function(){this.SUPER=g.SUPER[i];try{var f=h.apply(this,arguments)}catch(j){throw delete this.SUPER,j}return delete this.SUPER,f};return g.toString=function(){return h.toString.apply(h,arguments)},g}})})}("MathJax"),function(BASENAME){var BASE=window[BASENAME];BASE||(BASE=window[BASENAME]={});var CALLBACK=function(data){var cb=function(){return arguments.callee.execute.apply(arguments.callee,arguments)};for(var id in CALLBACK.prototype)CALLBACK.prototype.hasOwnProperty(id)&&(cb[id]="undefined"!=typeof data[id]?data[id]:CALLBACK.prototype[id]);return cb.toString=CALLBACK.prototype.toString,cb};CALLBACK.prototype={isCallback:!0,hook:function(){},data:[],object:window,execute:function(){return!this.called||this.autoReset?(this.called=!this.autoReset,this.hook.apply(this.object,this.data.concat([].slice.call(arguments,0)))):void 0},reset:function(){delete this.called},toString:function(){return this.hook.toString.apply(this.hook,arguments)}};var ISCALLBACK=function(f){return"function"==typeof f&&f.isCallback},EVAL=function(code){return eval.call(window,code)},TESTEVAL=function(){if(EVAL("var __TeSt_VaR__ = 1"),window.__TeSt_VaR__)try{delete window.__TeSt_VaR__}catch(error){window.__TeSt_VaR__=null}else EVAL=window.execScript?function(code){BASE.__code=code,code="try {"+BASENAME+".__result = eval("+BASENAME+".__code)} catch(err) {"+BASENAME+".__result = err}",window.execScript(code);var result=BASE.__result;if(delete BASE.__result,delete BASE.__code,result instanceof Error)throw result;return result}:function(code){BASE.__code=code,code="try {"+BASENAME+".__result = eval("+BASENAME+".__code)} catch(err) {"+BASENAME+".__result = err}";var head=document.getElementsByTagName("head")[0];head||(head=document.body);var script=document.createElement("script");script.appendChild(document.createTextNode(code)),head.appendChild(script),head.removeChild(script);var result=BASE.__result;if(delete BASE.__result,delete BASE.__code,result instanceof Error)throw result;return result};TESTEVAL=null},USING=function(args,i){if(arguments.length>1&&(args=2===arguments.length&&"function"!=typeof arguments[0]&&arguments[0]instanceof Object&&"number"==typeof arguments[1]?[].slice.call(args,i):[].slice.call(arguments,0)),args instanceof Array&&1===args.length&&(args=args[0]),"function"==typeof args)return args.execute===CALLBACK.prototype.execute?args:CALLBACK({hook:args});if(args instanceof Array){if("string"==typeof args[0]&&args[1]instanceof Object&&"function"==typeof args[1][args[0]])return CALLBACK({hook:args[1][args[0]],object:args[1],data:args.slice(2)});if("function"==typeof args[0])return CALLBACK({hook:args[0],data:args.slice(1)});if("function"==typeof args[1])return CALLBACK({hook:args[1],object:args[0],data:args.slice(2)})}else{if("string"==typeof args)return TESTEVAL&&TESTEVAL(),CALLBACK({hook:EVAL,data:[args]});if(args instanceof Object)return CALLBACK(args);if("undefined"==typeof args)return CALLBACK({})}throw Error("Can't make callback from given data")},DELAY=function(time,callback){return callback=USING(callback),callback.timeout=setTimeout(callback,time),callback},WAITFOR=function(callback,signal){callback=USING(callback),callback.called||(WAITSIGNAL(callback,signal),signal.pending++)},WAITEXECUTE=function(){var signals=this.signal;delete this.signal,this.execute=this.oldExecute,delete this.oldExecute;var result=this.execute.apply(this,arguments);if(ISCALLBACK(result)&&!result.called)WAITSIGNAL(result,signals);else for(var i=0,m=signals.length;m>i;i++)signals[i].pending--,signals[i].pending<=0&&signals[i].call()},WAITSIGNAL=function(callback,signals){signals instanceof Array||(signals=[signals]),callback.signal?1===signals.length?callback.signal.push(signals[0]):callback.signal=callback.signal.concat(signals):(callback.oldExecute=callback.execute,callback.execute=WAITEXECUTE,callback.signal=signals)},AFTER=function(callback){callback=USING(callback),callback.pending=0;for(var i=1,m=arguments.length;m>i;i++)arguments[i]&&WAITFOR(arguments[i],callback);if(0===callback.pending){var result=callback();ISCALLBACK(result)&&(callback=result)}return callback},HOOKS=MathJax.Object.Subclass({Init:function(reset){this.hooks=[],this.reset=reset},Add:function(hook,priority){null==priority&&(priority=10),ISCALLBACK(hook)||(hook=USING(hook)),hook.priority=priority;for(var i=this.hooks.length;i>0&&priority<this.hooks[i-1].priority;)i--;return this.hooks.splice(i,0,hook),hook},Remove:function(hook){for(var i=0,m=this.hooks.length;m>i;i++)if(this.hooks[i]===hook)return void this.hooks.splice(i,1)},Execute:function(){for(var callbacks=[{}],i=0,m=this.hooks.length;m>i;i++){this.reset&&this.hooks[i].reset();var result=this.hooks[i].apply(window,arguments);ISCALLBACK(result)&&!result.called&&callbacks.push(result)}return 1===callbacks.length?null:2===callbacks.length?callbacks[1]:AFTER.apply({},callbacks)}}),EXECUTEHOOKS=function(hooks,data,reset){if(!hooks)return null;hooks instanceof Array||(hooks=[hooks]),data instanceof Array||(data=null==data?[]:[data]);for(var handler=HOOKS(reset),i=0,m=hooks.length;m>i;i++)handler.Add(hooks[i]);return handler.Execute.apply(handler,data)},QUEUE=BASE.Object.Subclass({Init:function(){this.pending=0,this.running=0,this.queue=[],this.Push.apply(this,arguments)},Push:function(){for(var callback,i=0,m=arguments.length;m>i;i++)callback=USING(arguments[i]),callback!==arguments[i]||callback.called||(callback=USING(["wait",this,callback])),this.queue.push(callback);return this.running||this.pending||this.Process(),callback},Process:function(queue){for(;!this.running&&!this.pending&&this.queue.length;){var callback=this.queue[0];queue=this.queue.slice(1),this.queue=[],this.Suspend();var result=callback();this.Resume(),queue.length&&(this.queue=queue.concat(this.queue)),ISCALLBACK(result)&&!result.called&&WAITFOR(result,this)}},Suspend:function(){this.running++},Resume:function(){this.running&&this.running--},call:function(){this.Process.apply(this,arguments)},wait:function(callback){return callback}}),SIGNAL=QUEUE.Subclass({Init:function(name){QUEUE.prototype.Init.call(this),this.name=name,this.posted=[],this.listeners=HOOKS(!0)},Post:function(message,callback,forget){if(callback=USING(callback),this.posting||this.pending)this.Push(["Post",this,message,callback,forget]);else{this.callback=callback,callback.reset(),forget||this.posted.push(message),this.Suspend(),this.posting=!0;var result=this.listeners.Execute(message);ISCALLBACK(result)&&!result.called&&WAITFOR(result,this),this.Resume(),delete this.posting,this.pending||this.call()}return callback},Clear:function(callback){return callback=USING(callback),this.posting||this.pending?callback=this.Push(["Clear",this,callback]):(this.posted=[],callback()),callback},call:function(){this.callback(this),this.Process()},Interest:function(callback,ignorePast,priority){if(callback=USING(callback),this.listeners.Add(callback,priority),!ignorePast)for(var i=0,m=this.posted.length;m>i;i++){callback.reset();var result=callback(this.posted[i]);ISCALLBACK(result)&&i===this.posted.length-1&&WAITFOR(result,this)}return callback},NoInterest:function(callback){this.listeners.Remove(callback)},MessageHook:function(msg,callback,priority){callback=USING(callback),this.hooks||(this.hooks={},this.Interest(["ExecuteHooks",this])),this.hooks[msg]||(this.hooks[msg]=HOOKS(!0)),this.hooks[msg].Add(callback,priority);for(var i=0,m=this.posted.length;m>i;i++)this.posted[i]==msg&&(callback.reset(),callback(this.posted[i]));return callback},ExecuteHooks:function(msg){var type=msg instanceof Array?msg[0]:msg;return this.hooks[type]?this.hooks[type].Execute(msg):null}},{signals:{},find:function(name){return SIGNAL.signals[name]||(SIGNAL.signals[name]=new SIGNAL(name)),SIGNAL.signals[name]}});BASE.Callback=BASE.CallBack=USING,BASE.Callback.Delay=DELAY,BASE.Callback.After=AFTER,BASE.Callback.Queue=QUEUE,BASE.Callback.Signal=SIGNAL.find,BASE.Callback.Hooks=HOOKS,BASE.Callback.ExecuteHooks=EXECUTEHOOKS}("MathJax"),function(e){var a=window[e];a||(a=window[e]={});var d="Apple Computer, Inc."===navigator.vendor&&"undefined"==typeof navigator.vendorSub,g=0,h=function(i){return document.styleSheets&&document.styleSheets.length>g&&(g=document.styleSheets.length),i||(i=document.getElementsByTagName("head")[0],i||(i=document.body)),i},f=[],c=function(){for(var k=0,j=f.length;j>k;k++)a.Ajax.head.removeChild(f[k]);f=[]},b={};b[e]="",a.Ajax={loaded:{},loading:{},loadHooks:{},timeout:15e3,styleDelay:1,config:{root:"",path:b},STATUS:{OK:1,ERROR:-1},fileURL:function(j){var i=j.match(/^\[([-._a-z0-9]+)\]/i);return i&&i[1]in b&&(j=(b[i[1]]||this.config.root)+j.substr(i[1].length+2)),j},fileName:function(j){var i=this.config.root;if(j.substr(0,i.length)===i)j="["+e+"]"+j.substr(i.length);else for(var k in b)if(b.hasOwnProperty(k)&&b[k]&&j.substr(0,b[k].length)===b[k]){j="["+k+"]"+j.substr(b[k].length);break}return j},fileRev:function(){var i=a.cdnFileVersions[name]||a.cdnVersion;return i&&(i="?rev="+i),i},urlRev:function(i){return this.fileURL(i)+this.fileRev(i)},Require:function(k,n){n=a.Callback(n);var l;if(k instanceof Object)for(var j in k)k.hasOwnProperty(j)&&(l=j.toUpperCase(),k=k[j]);else l=k.split(/\./).pop().toUpperCase();if(k=this.fileURL(k),this.loaded[k])n(this.loaded[k]);else{var m={};m[l]=k,this.Load(m,n)}return n},Load:function(k,m){m=a.Callback(m);var l;if(k instanceof Object)for(var j in k)k.hasOwnProperty(j)&&(l=j.toUpperCase(),k=k[j]);else l=k.split(/\./).pop().toUpperCase();if(k=this.fileURL(k),this.loading[k])this.addHook(k,m);else{if(this.head=h(this.head),!this.loader[l])throw Error("Can't load files of type "+l);this.loader[l].call(this,k,m)}return m},LoadHook:function(l,m,k){if(m=a.Callback(m),l instanceof Object)for(var j in l)l.hasOwnProperty(j)&&(l=l[j]);return l=this.fileURL(l),this.loaded[l]?m(this.loaded[l]):this.addHook(l,m,k),m},addHook:function(j,k,i){this.loadHooks[j]||(this.loadHooks[j]=MathJax.Callback.Hooks()),this.loadHooks[j].Add(k,i)},Preloading:function(){for(var l=0,j=arguments.length;j>l;l++){var k=this.fileURL(arguments[l]);this.loading[k]||(this.loading[k]={preloaded:!0})}},loader:{JS:function(k,m){var j=this.fileName(k),i=document.createElement("script"),l=a.Callback(["loadTimeout",this,k]);this.loading[k]={callback:m,timeout:setTimeout(l,this.timeout),status:this.STATUS.OK,script:i},this.loading[k].message=a.Message.File(j),i.onerror=l,i.type="text/javascript",i.src=k+this.fileRev(j),this.head.appendChild(i)},CSS:function(j,l){var i=this.fileName(j),k=document.createElement("link");k.rel="stylesheet",k.type="text/css",k.href=j+this.fileRev(i),this.loading[j]={callback:l,message:a.Message.File(i),status:this.STATUS.OK},this.head.appendChild(k),this.timer.create.call(this,[this.timer.file,j],k)}},timer:{create:function(j,i){return j=a.Callback(j),"STYLE"===i.nodeName&&i.styleSheet&&"undefined"!=typeof i.styleSheet.cssText?j(this.STATUS.OK):window.chrome&&"LINK"===i.nodeName?j(this.STATUS.OK):d?this.timer.start(this,[this.timer.checkSafari2,g++,j],this.styleDelay):this.timer.start(this,[this.timer.checkLength,i,j],this.styleDelay),j},start:function(j,i,k,l){i=a.Callback(i),i.execute=this.execute,i.time=this.time,i.STATUS=j.STATUS,i.timeout=l||j.timeout,i.delay=i.total=k||0,k?setTimeout(i,k):i()},time:function(i){return this.total+=this.delay,this.delay=Math.floor(1.05*this.delay+5),this.total>=this.timeout?(i(this.STATUS.ERROR),1):0},file:function(j,i){0>i?a.Ajax.loadTimeout(j):a.Ajax.loadComplete(j)},execute:function(){this.hook.call(this.object,this,this.data[0],this.data[1])},checkSafari2:function(i,j,k){i.time(k)||(document.styleSheets.length>j&&document.styleSheets[j].cssRules&&document.styleSheets[j].cssRules.length?k(i.STATUS.OK):setTimeout(i,i.delay))},checkLength:function(i,l,n){if(!i.time(n)){var m=0,j=l.sheet||l.styleSheet;try{(j.cssRules||j.rules||[]).length>0&&(m=1)}catch(k){k.message.match(/protected variable|restricted URI/)?m=1:k.message.match(/Security error/)&&(m=1)}m?setTimeout(a.Callback([n,i.STATUS.OK]),0):setTimeout(i,i.delay)}}},loadComplete:function(i){i=this.fileURL(i);var j=this.loading[i];return j&&!j.preloaded?(a.Message.Clear(j.message),clearTimeout(j.timeout),j.script&&(0===f.length&&setTimeout(c,0),f.push(j.script)),this.loaded[i]=j.status,delete this.loading[i],this.addHook(i,j.callback)):(j&&delete this.loading[i],this.loaded[i]=this.STATUS.OK,j={status:this.STATUS.OK}),this.loadHooks[i]?this.loadHooks[i].Execute(j.status):null},loadTimeout:function(i){this.loading[i].timeout&&clearTimeout(this.loading[i].timeout),this.loading[i].status=this.STATUS.ERROR,this.loadError(i),this.loadComplete(i)},loadError:function(i){a.Message.Set(["LoadFailed","File failed to load: %1",i],null,2e3),a.Hub.signal.Post(["file load error",i])},Styles:function(k,l){var i=this.StyleString(k);if(""===i)(l=a.Callback(l))();else{var j=document.createElement("style");j.type="text/css",this.head=h(this.head),this.head.appendChild(j),j.styleSheet&&"undefined"!=typeof j.styleSheet.cssText?j.styleSheet.cssText=i:j.appendChild(document.createTextNode(i)),l=this.timer.create.call(this,l,j)}return l},StyleString:function(n){if("string"==typeof n)return n;var o,m,k="";for(o in n)if(n.hasOwnProperty(o))if("string"==typeof n[o])k+=o+" {"+n[o]+"}\n";else if(n[o]instanceof Array)for(var l=0;l<n[o].length;l++)m={},m[o]=n[o][l],k+=this.StyleString(m);else if("@media"===o.substr(0,6))k+=o+" {"+this.StyleString(n[o])+"}\n";else if(null!=n[o]){m=[];for(var j in n[o])n[o].hasOwnProperty(j)&&null!=n[o][j]&&(m[m.length]=j+": "+n[o][j]);k+=o+" {"+m.join("; ")+"}\n"}return k}}}("MathJax"),MathJax.HTML={Element:function(c,e,d){var f=document.createElement(c);if(e){if(e.style){var b=e.style;e.style={};for(var g in b)b.hasOwnProperty(g)&&(e.style[g.replace(/-([a-z])/g,this.ucMatch)]=b[g])}MathJax.Hub.Insert(f,e)}if(d){d instanceof Array||(d=[d]);for(var a=0;a<d.length;a++)d[a]instanceof Array?f.appendChild(this.Element(d[a][0],d[a][1],d[a][2])):"script"===c?this.setScript(f,d[a]):f.appendChild(document.createTextNode(d[a]))}return f},ucMatch:function(a,b){return b.toUpperCase()},addElement:function(b,a,d,c){return b.appendChild(this.Element(a,d,c))},TextNode:function(a){return document.createTextNode(a)},addText:function(a,b){return a.appendChild(this.TextNode(b))},setScript:function(a,b){if(this.setScriptBug)a.text=b;else{for(;a.firstChild;)a.removeChild(a.firstChild);this.addText(a,b)}},getScript:function(a){var b=""===a.text?a.innerHTML:a.text;return b.replace(/^\s+/,"").replace(/\s+$/,"")},Cookie:{prefix:"mjx",expires:365,Set:function(a,e){var d=[];if(e)for(var g in e)e.hasOwnProperty(g)&&d.push(g+":"+e[g].toString().replace(/&/g,"&&"));var b=this.prefix+"."+a+"="+escape(d.join("&;"));if(this.expires){var f=new Date;f.setDate(f.getDate()+this.expires),b+="; expires="+f.toGMTString()}try{document.cookie=b+"; path=/"}catch(c){}},Get:function(a,d){d||(d={});var f,g=new RegExp("(?:^|;\\s*)"+this.prefix+"\\."+a+"=([^;]*)(?:;|$)");try{f=g.exec(document.cookie)}catch(c){}if(f&&""!==f[1])for(var j=unescape(f[1]).split("&;"),e=0,b=j.length;b>e;e++){f=j[e].match(/([^:]+):(.*)/);var h=f[2].replace(/&&/g,"&");"true"===h?h=!0:"false"===h?h=!1:h.match(/^-?(\d+(\.\d+)?|\.\d+)$/)&&(h=parseFloat(h)),d[f[1]]=h}return d}}},MathJax.Localization={locale:"en",directory:"[MathJax]/localization",strings:{ast:{menuTitle:"asturianu"},br:{menuTitle:"brezhoneg"},ca:{menuTitle:"català"},cdo:{menuTitle:"Mìng-dĕ̤ng-ngṳ̄"},cs:{menuTitle:"čeština"},da:{menuTitle:"dansk"},de:{menuTitle:"Deutsch"},en:{menuTitle:"English",isLoaded:!0},eo:{menuTitle:"Esperanto"},es:{menuTitle:"español"},fa:{menuTitle:"فارسی"},fi:{menuTitle:"suomi"},fr:{menuTitle:"français"},gl:{menuTitle:"galego"},he:{menuTitle:"עברית"},ia:{menuTitle:"interlingua"},it:{menuTitle:"italiano"},ja:{menuTitle:"日本語"},kn:{menuTitle:"ಕನ್ನಡ"},ko:{menuTitle:"한국어"},lb:{menuTitle:"Lëtzebuergesch"},mk:{menuTitle:"македонски"},nl:{menuTitle:"Nederlands"},oc:{menuTitle:"occitan"},pl:{menuTitle:"polski"},pt:{menuTitle:"portugusê"},"pt-br":{menuTitle:"português do Brasil"},ru:{menuTitle:"русский"},sl:{menuTitle:"slovenščina"},sv:{menuTitle:"svenska"},tr:{menuTitle:"Türkçe"},uk:{menuTitle:"українська"},vi:{menuTitle:"Tiếng Việt"},"zh-hans":{menuTitle:"中文（简体）"}},pattern:/%(\d+|\{\d+\}|\{[a-z]+:\%\d+(?:\|(?:%\{\d+\}|%.|[^\}])*)+\}|.)/g,SPLIT:3==="axb".split(/(x)/).length?function(a,b){return a.split(b)}:function(c,e){var b,a=[],d=0;for(e.lastIndex=0;b=e.exec(c);)a.push(c.substr(d,b.index-d)),a.push.apply(a,b.slice(1)),d=b.index+b[0].length;return a.push(c.substr(d)),a},_:function(b,a){return a instanceof Array?this.processSnippet(b,a):this.processString(this.lookupPhrase(b,a),[].slice.call(arguments,2))},processString:function(l,o,g){var j,e;for(j=0,e=o.length;e>j;j++)g&&o[j]instanceof Array&&(o[j]=this.processSnippet(g,o[j]));var f=this.SPLIT(l,this.pattern);for(j=1,e=f.length;e>j;j+=2){var p=f[j].charAt(0);if(p>="0"&&"9">=p)f[j]=o[f[j]-1],"number"==typeof f[j]&&(f[j]=this.number(f[j]));else if("{"===p)if(p=f[j].substr(1),p>="0"&&"9">=p)f[j]=o[f[j].substr(1,f[j].length-2)-1],"number"==typeof f[j]&&(f[j]=this.number(f[j]));else{var k=f[j].match(/^\{([a-z]+):%(\d+)\|(.*)\}$/);if(k)if("plural"===k[1]){var d=o[k[2]-1];if("undefined"==typeof d)f[j]="???";else{d=this.plural(d)-1;var h=k[3].replace(/(^|[^%])(%%)*%\|/g,"$1$2%").split(/\|/);f[j]=d>=0&&d<h.length?this.processString(h[d].replace(/\uEFEF/g,"|"),o,g):"???"}}else f[j]="%"+f[j]}null==f[j]&&(f[j]="???")}if(!g)return f.join("");var a=[],b="";for(j=0;e>j;j++)b+=f[j],j++,e>j&&(f[j]instanceof Array?(a.push(b),a=a.concat(f[j]),b=""):b+=f[j]);return""!==b&&a.push(b),a},processSnippet:function(g,e){for(var c=[],d=0,b=e.length;b>d;d++)if(e[d]instanceof Array){var f=e[d];if("string"==typeof f[1]){var h=f[0];h instanceof Array||(h=[g,h]);var a=this.lookupPhrase(h,f[1]);c=c.concat(this.processMarkdown(a,f.slice(2),g))}else f[1]instanceof Array?c=c.concat(this.processSnippet.apply(this,f)):c.push(f.length>=3?[f[0],f[1],this.processSnippet(g,f[2])]:e[d])}else c.push(e[d]);return c},markdownPattern:/(%.)|(\*{1,3})((?:%.|.)+?)\2|(`+)((?:%.|.)+?)\4|\[((?:%.|.)+?)\]\(([^\s\)]+)\)/,processMarkdown:function(b,h,d){for(var e,j=[],c=b.split(this.markdownPattern),g=c[0],f=1,a=c.length;a>f;f+=8)c[f+1]?(e=this.processString(c[f+2],h,d),e instanceof Array||(e=[e]),e=[["b","i","i"][c[f+1].length-1],{},e],3===c[f+1].length&&(e=["b",{},e])):c[f+3]?(e=this.processString(c[f+4].replace(/^\s/,"").replace(/\s$/,""),h,d),e instanceof Array||(e=[e]),e=["code",{},e]):c[f+5]?(e=this.processString(c[f+5],h,d),e instanceof Array||(e=[e]),e=["a",{href:this.processString(c[f+6],h),target:"_blank"},e]):(g+=c[f],e=null),e&&(j=this.concatString(j,g,h,d),j.push(e),g=""),""!==c[f+7]&&(g+=c[f+7]);return j=this.concatString(j,g,h,d)},concatString:function(a,c,b,d){return""!=c&&(c=this.processString(c,b,d),c instanceof Array||(c=[c]),a=a.concat(c)),a},lookupPhrase:function(f,a,d){d||(d="_"),f instanceof Array&&(d=f[0]||"_",f=f[1]||"");var c=this.loadDomain(d);c&&MathJax.Hub.RestartAfter(c);var b=this.strings[this.locale];if(b&&b.domains&&d in b.domains){var e=b.domains[d];e.strings&&f in e.strings&&(a=e.strings[f])}return a},loadFile:function(b,d,e){if(e=MathJax.Callback(e),b=d.file||b,b.match(/\.js$/)||(b+=".js"),!b.match(/^([a-z]+:|\[MathJax\])/)){var a=this.strings[this.locale].directory||this.directory+"/"+this.locale||"[MathJax]/localization/"+this.locale;b=a+"/"+b}var c=MathJax.Ajax.Require(b,function(){return d.isLoaded=!0,e()});return c.called?null:c},loadDomain:function(c,e){var b,a=this.strings[this.locale];if(a){if(!a.isLoaded&&(b=this.loadFile(this.locale,a)))return MathJax.Callback.Queue(b,["loadDomain",this,c]).Push(e||{});if(a.domains&&c in a.domains){var d=a.domains[c];if(!d.isLoaded&&(b=this.loadFile(c,d)))return MathJax.Callback.Queue(b).Push(e)}}return MathJax.Callback(e)()},Try:function(a){a=MathJax.Callback(a),a.autoReset=!0;try{a()}catch(b){if(!b.restart)throw b;MathJax.Callback.After(["Try",this,a],b.restart)}},resetLocale:function(a){if(a){for(a=a.toLowerCase();!this.strings[a];){var c=a.lastIndexOf("-");if(-1===c)return;a=a.substring(0,c)}var b=this.strings[a].remap;this.locale=b?b:a}},setLocale:function(a){this.resetLocale(a),MathJax.Menu&&this.loadDomain("MathMenu")},addTranslation:function(b,e,c){var d=this.strings[b],a=!1;d||(d=this.strings[b]={},a=!0),d.domains||(d.domains={}),e&&(d.domains[e]||(d.domains[e]={}),d=d.domains[e]),MathJax.Hub.Insert(d,c),a&&MathJax.Menu.menu&&MathJax.Menu.CreateLocaleMenu()},setCSS:function(b){var a=this.strings[this.locale];return a&&(a.fontFamily&&(b.style.fontFamily=a.fontFamily),a.fontDirection&&(b.style.direction=a.fontDirection,"rtl"===a.fontDirection&&(b.style.textAlign="right"))),b},fontFamily:function(){var a=this.strings[this.locale];return a?a.fontFamily:null},fontDirection:function(){var a=this.strings[this.locale];return a?a.fontDirection:null},plural:function(b){var a=this.strings[this.locale];return a&&a.plural?a.plural(b):1==b?1:2},number:function(b){var a=this.strings[this.locale];return a&&a.number?a.number(b):b}},MathJax.Message={ready:!1,log:[{}],current:null,textNodeBug:"Apple Computer, Inc."===navigator.vendor&&"undefined"==typeof navigator.vendorSub||window.hasOwnProperty&&window.hasOwnProperty("konqueror"),styles:{"#MathJax_Message":{position:"fixed",left:"1px",bottom:"2px","background-color":"#E6E6E6",border:"1px solid #959595",margin:"0px",padding:"2px 8px","z-index":"102",color:"black","font-size":"80%",width:"auto","white-space":"nowrap"},"#MathJax_MSIE_Frame":{position:"absolute",top:0,left:0,width:"0px","z-index":101,border:"0px",margin:"0px",padding:"0px"}},browsers:{MSIE:function(){MathJax.Message.msieFixedPositionBug=(document.documentMode||0)<7,MathJax.Message.msieFixedPositionBug&&(MathJax.Hub.config.styles["#MathJax_Message"].position="absolute"),MathJax.Message.quirks="BackCompat"===document.compatMode},Chrome:function(){MathJax.Hub.config.styles["#MathJax_Message"].bottom="1.5em",MathJax.Hub.config.styles["#MathJax_Message"].left="1em"}},Init:function(a){if(a&&(this.ready=!0),!document.body||!this.ready)return!1;if(this.div&&null==this.div.parentNode&&(this.div=document.getElementById("MathJax_Message"),this.div&&(this.text=this.div.firstChild)),!this.div){var b=document.body;this.msieFixedPositionBug&&window.attachEvent&&(b=this.frame=this.addDiv(document.body),b.removeAttribute("id"),b.style.position="absolute",b.style.border=b.style.margin=b.style.padding="0px",b.style.zIndex="101",b.style.height="0px",b=this.addDiv(b),b.id="MathJax_MSIE_Frame",window.attachEvent("onscroll",this.MoveFrame),window.attachEvent("onresize",this.MoveFrame),this.MoveFrame()),this.div=this.addDiv(b),this.div.style.display="none",this.text=this.div.appendChild(document.createTextNode(""))}return!0},addDiv:function(a){var b=document.createElement("div");return b.id="MathJax_Message",a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b),b},MoveFrame:function(){var a=MathJax.Message.quirks?document.body:document.documentElement,b=MathJax.Message.frame;b.style.left=a.scrollLeft+"px",b.style.top=a.scrollTop+"px",b.style.width=a.clientWidth+"px",b=b.firstChild,b.style.height=a.clientHeight+"px"},localize:function(a){return MathJax.Localization._(a,a)},filterText:function(a,c,b){return"simple"===MathJax.Hub.config.messageStyle&&("LoadFile"===b?(this.loading||(this.loading=this.localize("Loading")+" "),a=this.loading,this.loading+="."):"ProcessMath"===b?(this.processing||(this.processing=this.localize("Processing")+" "),a=this.processing,this.processing+="."):"TypesetMath"===b&&(this.typesetting||(this.typesetting=this.localize("Typesetting")+" "),a=this.typesetting,this.typesetting+=".")),a},Set:function(c,e,b){null==e&&(e=this.log.length,this.log[e]={});var d="";if(c instanceof Array){d=c[0],d instanceof Array&&(d=d[1]);try{c=MathJax.Localization._.apply(MathJax.Localization,c)}catch(a){if(!a.restart)throw a;if(!a.restart.called)return null==this.log[e].restarted&&(this.log[e].restarted=0),this.log[e].restarted++,delete this.log[e].cleared,MathJax.Callback.After(["Set",this,c,e,b],a.restart),e
}}return this.timer&&(clearTimeout(this.timer),delete this.timer),this.log[e].text=c,this.log[e].filteredText=c=this.filterText(c,e,d),"undefined"==typeof this.log[e].next&&(this.log[e].next=this.current,null!=this.current&&(this.log[this.current].prev=e),this.current=e),this.current===e&&"none"!==MathJax.Hub.config.messageStyle&&(this.Init()?(this.textNodeBug?this.div.innerHTML=c:this.text.nodeValue=c,this.div.style.display="",this.status&&(window.status="",delete this.status)):(window.status=c,this.status=!0)),this.log[e].restarted&&(this.log[e].cleared&&(b=0),0===--this.log[e].restarted&&delete this.log[e].cleared),b?setTimeout(MathJax.Callback(["Clear",this,e]),b):0==b&&this.Clear(e,0),e},Clear:function(b,a){null!=this.log[b].prev&&(this.log[this.log[b].prev].next=this.log[b].next),null!=this.log[b].next&&(this.log[this.log[b].next].prev=this.log[b].prev),this.current===b&&(this.current=this.log[b].next,this.text?(null==this.div.parentNode&&this.Init(),null==this.current?(this.timer&&(clearTimeout(this.timer),delete this.timer),null==a&&(a=600),0===a?this.Remove():this.timer=setTimeout(MathJax.Callback(["Remove",this]),a)):"none"!==MathJax.Hub.config.messageStyle&&(this.textNodeBug?this.div.innerHTML=this.log[this.current].filteredText:this.text.nodeValue=this.log[this.current].filteredText),this.status&&(window.status="",delete this.status)):this.status&&(window.status=null==this.current?"":this.log[this.current].text)),delete this.log[b].next,delete this.log[b].prev,delete this.log[b].filteredText,this.log[b].restarted&&(this.log[b].cleared=!0)},Remove:function(){this.text.nodeValue="",this.div.style.display="none"},File:function(a){return this.Set(["LoadFile","Loading %1",a],null,null)},Log:function(){for(var b=[],c=1,a=this.log.length;a>c;c++)b[c]=this.log[c].text;return b.join("\n")}},MathJax.Hub={config:{root:"",config:[],styleSheets:[],styles:{".MathJax_Preview":{color:"#888"}},jax:[],extensions:[],preJax:null,postJax:null,displayAlign:"center",displayIndent:"0",preRemoveClass:"MathJax_Preview",showProcessingMessages:!0,messageStyle:"normal",delayStartupUntil:"none",skipStartupTypeset:!1,elements:[],positionToHash:!0,showMathMenu:!0,showMathMenuMSIE:!0,menuSettings:{zoom:"None",CTRL:!1,ALT:!1,CMD:!1,Shift:!1,discoverable:!1,zscale:"200%",renderer:"",font:"Auto",context:"MathJax",locale:"en",mpContext:!1,mpMouse:!1,texHints:!0,semantics:!1},errorSettings:{message:["[",["MathProcessingError","Math Processing Error"],"]"],style:{color:"#CC0000","font-style":"italic"}}},preProcessors:MathJax.Callback.Hooks(!0),inputJax:{},outputJax:{order:{}},processUpdateTime:250,processUpdateDelay:10,signal:MathJax.Callback.Signal("Hub"),Config:function(a){this.Insert(this.config,a),this.config.Augment&&this.Augment(this.config.Augment)},CombineConfig:function(c,f){var g,e,b=this.config;c=c.split(/\./);for(var d=0,a=c.length;a>d;d++)g=c[d],b[g]||(b[g]={}),e=b,b=b[g];return e[g]=b=this.Insert(f,b),b},Register:{PreProcessor:function(){MathJax.Hub.preProcessors.Add.apply(MathJax.Hub.preProcessors,arguments)},MessageHook:function(){return MathJax.Hub.signal.MessageHook.apply(MathJax.Hub.signal,arguments)},StartupHook:function(){return MathJax.Hub.Startup.signal.MessageHook.apply(MathJax.Hub.Startup.signal,arguments)},LoadHook:function(){return MathJax.Ajax.LoadHook.apply(MathJax.Ajax,arguments)}},getAllJax:function(e){for(var c=[],b=this.elementScripts(e),d=0,a=b.length;a>d;d++)b[d].MathJax&&b[d].MathJax.elementJax&&c.push(b[d].MathJax.elementJax);return c},getJaxByType:function(f,e){for(var c=[],b=this.elementScripts(e),d=0,a=b.length;a>d;d++)b[d].MathJax&&b[d].MathJax.elementJax&&b[d].MathJax.elementJax.mimeType===f&&c.push(b[d].MathJax.elementJax);return c},getJaxByInputType:function(f,e){for(var c=[],b=this.elementScripts(e),d=0,a=b.length;a>d;d++)b[d].MathJax&&b[d].MathJax.elementJax&&b[d].type&&b[d].type.replace(/ *;(.|\s)*/,"")===f&&c.push(b[d].MathJax.elementJax);return c},getJaxFor:function(a){if("string"==typeof a&&(a=document.getElementById(a)),a&&a.MathJax)return a.MathJax.elementJax;if(a&&a.isMathJax){for(;a&&!a.jaxID;)a=a.parentNode;if(a)return MathJax.OutputJax[a.jaxID].getJaxFromMath(a)}return null},isJax:function(a){if("string"==typeof a&&(a=document.getElementById(a)),a&&a.isMathJax)return 1;if(a&&null!=a.tagName&&"script"===a.tagName.toLowerCase()){if(a.MathJax)return a.MathJax.state===MathJax.ElementJax.STATE.PROCESSED?1:-1;if(a.type&&this.inputJax[a.type.replace(/ *;(.|\s)*/,"")])return-1}return 0},setRenderer:function(d,c){if(d){if(MathJax.OutputJax[d]){this.config.menuSettings.renderer=d,null==c&&(c="jax/mml");var a=this.outputJax;return a[c]&&a[c].length&&d!==a[c][0].id?(a[c].unshift(MathJax.OutputJax[d]),this.signal.Post(["Renderer Selected",d])):null}this.config.menuSettings.renderer="";var b="[MathJax]/jax/output/"+d+"/config.js";return MathJax.Ajax.Require(b,["setRenderer",this,d,c])}},Queue:function(){return this.queue.Push.apply(this.queue,arguments)},Typeset:function(e,f){if(!MathJax.isReady)return null;for(var c=this.elementCallback(e,f),b=MathJax.Callback.Queue(),d=0,a=c.elements.length;a>d;d++)c.elements[d]&&b.Push(["PreProcess",this,c.elements[d]],["Process",this,c.elements[d]]);return b.Push(c.callback)},PreProcess:function(e,f){for(var c=this.elementCallback(e,f),b=MathJax.Callback.Queue(),d=0,a=c.elements.length;a>d;d++)c.elements[d]&&b.Push(["Post",this.signal,["Begin PreProcess",c.elements[d]]],arguments.callee.disabled?{}:["Execute",this.preProcessors,c.elements[d]],["Post",this.signal,["End PreProcess",c.elements[d]]]);return b.Push(c.callback)},Process:function(a,b){return this.takeAction("Process",a,b)},Update:function(a,b){return this.takeAction("Update",a,b)},Reprocess:function(a,b){return this.takeAction("Reprocess",a,b)},Rerender:function(a,b){return this.takeAction("Rerender",a,b)},takeAction:function(g,e,h){for(var c=this.elementCallback(e,h),b=MathJax.Callback.Queue(["Clear",this.signal]),d=0,a=c.elements.length;a>d;d++)if(c.elements[d]){var f={scripts:[],start:(new Date).getTime(),i:0,j:0,jax:{},jaxIDs:[]};b.Push(["Post",this.signal,["Begin "+g,c.elements[d]]],["Post",this.signal,["Begin Math",c.elements[d],g]],["prepareScripts",this,g,c.elements[d],f],["Post",this.signal,["Begin Math Input",c.elements[d],g]],["processInput",this,f],["Post",this.signal,["End Math Input",c.elements[d],g]],["prepareOutput",this,f,"preProcess"],["Post",this.signal,["Begin Math Output",c.elements[d],g]],["processOutput",this,f],["Post",this.signal,["End Math Output",c.elements[d],g]],["prepareOutput",this,f,"postProcess"],["Post",this.signal,["End Math",c.elements[d],g]],["Post",this.signal,["End "+g,c.elements[d]]])}return b.Push(c.callback)},scriptAction:{Process:function(){},Update:function(b){var a=b.MathJax.elementJax;a&&a.needsUpdate()?(a.Remove(!0),b.MathJax.state=a.STATE.UPDATE):b.MathJax.state=a.STATE.PROCESSED},Reprocess:function(b){var a=b.MathJax.elementJax;a&&(a.Remove(!0),b.MathJax.state=a.STATE.UPDATE)},Rerender:function(b){var a=b.MathJax.elementJax;a&&(a.Remove(!0),b.MathJax.state=a.STATE.OUTPUT)}},prepareScripts:function(h,e,g){if(!arguments.callee.disabled)for(var b=this.elementScripts(e),f=MathJax.ElementJax.STATE,d=0,a=b.length;a>d;d++){var c=b[d];c.type&&this.inputJax[c.type.replace(/ *;(.|\n)*/,"")]&&(c.MathJax&&(c.MathJax.elementJax&&c.MathJax.elementJax.hover&&MathJax.Extension.MathEvents.Hover.ClearHover(c.MathJax.elementJax),c.MathJax.state!==f.PENDING&&this.scriptAction[h](c)),c.MathJax||(c.MathJax={state:f.PENDING}),c.MathJax.state!==f.PROCESSED&&g.scripts.push(c))}},checkScriptSiblings:function(a){if(!a.MathJax.checked){var b=this.config,f=a.previousSibling;if(f&&"#text"===f.nodeName){var d,e,c=a.nextSibling;c&&"#text"!==c.nodeName&&(c=null),b.preJax&&("string"==typeof b.preJax&&(b.preJax=new RegExp(b.preJax+"$")),d=f.nodeValue.match(b.preJax)),b.postJax&&c&&("string"==typeof b.postJax&&(b.postJax=new RegExp("^"+b.postJax)),e=c.nodeValue.match(b.postJax)),!d||b.postJax&&!e||(f.nodeValue=f.nodeValue.replace(b.preJax,d.length>1?d[1]:""),f=null),!e||b.preJax&&!d||(c.nodeValue=c.nodeValue.replace(b.postJax,e.length>1?e[1]:"")),f&&!f.nodeValue.match(/\S/)&&(f=f.previousSibling)}b.preRemoveClass&&f&&f.className===b.preRemoveClass&&(a.MathJax.preview=f),a.MathJax.checked=1}},processInput:function(a){var b,h,e,i=MathJax.ElementJax.STATE,d=a.scripts.length;try{for(;a.i<d;)if(h=a.scripts[a.i])if(e=h.previousSibling,e&&"MathJax_Error"===e.className&&e.parentNode.removeChild(e),h.MathJax&&h.MathJax.state!==i.PROCESSED){if(h.MathJax.elementJax&&h.MathJax.state!==i.UPDATE)h.MathJax.state===i.OUTPUT&&this.saveScript(h.MathJax.elementJax,a,h,i);else{this.checkScriptSiblings(h);var g=h.type.replace(/ *;(.|\s)*/,"");if(b=this.inputJax[g].Process(h,a),"function"==typeof b){if(b.called)continue;this.RestartAfter(b)}b.Attach(h,this.inputJax[g].id),this.saveScript(b,a,h,i)}a.i++;var c=(new Date).getTime();c-a.start>this.processUpdateTime&&a.i<a.scripts.length&&(a.start=c,this.RestartAfter(MathJax.Callback.Delay(1)))}else a.i++;else a.i++}catch(f){return this.processError(f,a,"Input")}return a.scripts.length&&this.config.showProcessingMessages&&MathJax.Message.Set(["ProcessMath","Processing math: %1%%",100],0),a.start=(new Date).getTime(),a.i=a.j=0,null},saveScript:function(a,d,b,c){if(!this.outputJax[a.mimeType])throw b.MathJax.state=c.UPDATE,Error("No output jax registered for "+a.mimeType);a.outputJax=this.outputJax[a.mimeType][0].id,d.jax[a.outputJax]||(0===d.jaxIDs.length?d.jax[a.outputJax]=d.scripts:(1===d.jaxIDs.length&&(d.jax[d.jaxIDs[0]]=d.scripts.slice(0,d.i)),d.jax[a.outputJax]=[]),d.jaxIDs.push(a.outputJax)),d.jaxIDs.length>1&&d.jax[a.outputJax].push(b),b.MathJax.state=c.OUTPUT},prepareOutput:function(c,f){for(;c.j<c.jaxIDs.length;){var e=c.jaxIDs[c.j],d=MathJax.OutputJax[e];if(d[f])try{var a=d[f](c);if("function"==typeof a){if(a.called)continue;this.RestartAfter(a)}}catch(b){return b.restart||(MathJax.Message.Set(["PrepError","Error preparing %1 output (%2)",e,f],null,600),MathJax.Hub.lastPrepError=b,c.j++),MathJax.Callback.After(["prepareOutput",this,c,f],b.restart)}c.j++}return null},processOutput:function(h){var b,d,g=MathJax.ElementJax.STATE,a=h.scripts.length;try{for(;h.i<a;)if(d=h.scripts[h.i],d&&d.MathJax&&!d.MathJax.error){var c=d.MathJax.elementJax;if(c){b=MathJax.OutputJax[c.outputJax].Process(d,h),d.MathJax.state=g.PROCESSED,h.i++,d.MathJax.preview&&(d.MathJax.preview.innerHTML=""),this.signal.Post(["New Math",c.inputID]);var e=(new Date).getTime();e-h.start>this.processUpdateTime&&h.i<h.scripts.length&&(h.start=e,this.RestartAfter(MathJax.Callback.Delay(this.processUpdateDelay)))}else h.i++}else h.i++}catch(f){return this.processError(f,h,"Output")}return h.scripts.length&&this.config.showProcessingMessages&&(MathJax.Message.Set(["TypesetMath","Typesetting math: %1%%",100],0),MathJax.Message.Clear(0)),h.i=h.j=0,null},processMessage:function(d,b){var a=Math.floor(d.i/d.scripts.length*100),c="Output"===b?["TypesetMath","Typesetting math: %1%%"]:["ProcessMath","Processing math: %1%%"];this.config.showProcessingMessages&&MathJax.Message.Set(c.concat(a),0)},processError:function(b,c,a){if(!b.restart){if(!this.config.errorSettings.message)throw b;this.formatError(c.scripts[c.i],b),c.i++}return this.processMessage(c,a),MathJax.Callback.After(["process"+a,this,c],b.restart)},formatError:function(b,e){var d="Error: "+e.message+"\n";e.sourceURL&&(d+="\nfile: "+e.sourceURL),e.line&&(d+="\nline: "+e.line),b.MathJax.error=MathJax.OutputJax.Error.Jax(d,b);var f=this.config.errorSettings,a=MathJax.Localization._(f.messageId,f.message),c=MathJax.HTML.Element("span",{className:"MathJax_Error",jaxID:"Error",isMathJax:!0},a);MathJax.Extension.MathEvents?(c.oncontextmenu=MathJax.Extension.MathEvents.Event.Menu,c.onmousedown=MathJax.Extension.MathEvents.Event.Mousedown):MathJax.Ajax.Require("[MathJax]/extensions/MathEvents.js",function(){c.oncontextmenu=MathJax.Extension.MathEvents.Event.Menu,c.onmousedown=MathJax.Extension.MathEvents.Event.Mousedown}),b.parentNode.insertBefore(c,b),b.MathJax.preview&&(b.MathJax.preview.innerHTML=""),this.lastError=e,this.signal.Post(["Math Processing Error",b,e])},RestartAfter:function(a){throw this.Insert(Error("restart"),{restart:MathJax.Callback(a)})},elementCallback:function(c,f){if(null==f&&(c instanceof Array||"function"==typeof c))try{MathJax.Callback(c),f=c,c=null}catch(d){}null==c&&(c=this.config.elements||[]),c instanceof Array||(c=[c]),c=[].concat(c);for(var b=0,a=c.length;a>b;b++)"string"==typeof c[b]&&(c[b]=document.getElementById(c[b]));return document.body||(document.body=document.getElementsByTagName("body")[0]),0==c.length&&c.push(document.body),f||(f={}),{elements:c,callback:f}},elementScripts:function(d){if(d instanceof Array){for(var b=[],c=0,a=d.length;a>c;c++)b.push.apply(b,this.elementScripts(d[c]));return b}return"string"==typeof d&&(d=document.getElementById(d)),document.body||(document.body=document.getElementsByTagName("body")[0]),null==d&&(d=document.body),null!=d.tagName&&"script"===d.tagName.toLowerCase()?[d]:d.getElementsByTagName("script")},Insert:function(c,a){for(var b in a)a.hasOwnProperty(b)&&("object"!=typeof a[b]||a[b]instanceof Array||"object"!=typeof c[b]&&"function"!=typeof c[b]?c[b]=a[b]:this.Insert(c[b],a[b]));return c},SplitList:"trim"in String.prototype?function(a){return a.trim().split(/\s+/)}:function(a){return a.replace(/^\s+/,"").replace(/\s+$/,"").split(/\s+/)}},MathJax.Hub.Insert(MathJax.Hub.config.styles,MathJax.Message.styles),MathJax.Hub.Insert(MathJax.Hub.config.styles,{".MathJax_Error":MathJax.Hub.config.errorSettings.style}),MathJax.Extension={},MathJax.Hub.Configured=MathJax.Callback({}),MathJax.Hub.Startup={script:"",queue:MathJax.Callback.Queue(),signal:MathJax.Callback.Signal("Startup"),params:{},Config:function(){if(this.queue.Push(["Post",this.signal,"Begin Config"]),this.params.locale&&(MathJax.Localization.resetLocale(this.params.locale),MathJax.Hub.config.menuSettings.locale=this.params.locale),this.params.config)for(var c=this.params.config.split(/,/),b=0,a=c.length;a>b;b++)c[b].match(/\.js$/)||(c[b]+=".js"),this.queue.Push(["Require",MathJax.Ajax,this.URL("config",c[b])]);this.queue.Push(["Config",MathJax.Hub,MathJax.AuthorConfig]),this.script.match(/\S/)&&this.queue.Push(this.script+";\n1;"),this.queue.Push(["ConfigDelay",this],["ConfigBlocks",this],[function(d){return d.loadArray(MathJax.Hub.config.config,"config",null,!0)},this],["Post",this.signal,"End Config"])},ConfigDelay:function(){var a=this.params.delayStartupUntil||MathJax.Hub.config.delayStartupUntil;return"onload"===a?this.onload:"configured"===a?MathJax.Hub.Configured:a},ConfigBlocks:function(){for(var c=document.getElementsByTagName("script"),f=null,b=MathJax.Callback.Queue(),d=0,a=c.length;a>d;d++){var e=String(c[d].type).replace(/ /g,"");e.match(/^text\/x-mathjax-config(;.*)?$/)&&!e.match(/;executed=true/)&&(c[d].type+=";executed=true",f=b.Push(c[d].innerHTML+";\n1;"))}return f},Cookie:function(){return this.queue.Push(["Post",this.signal,"Begin Cookie"],["Get",MathJax.HTML.Cookie,"menu",MathJax.Hub.config.menuSettings],[function(d){d.menuSettings.locale&&MathJax.Localization.resetLocale(d.menuSettings.locale);var f=d.menuSettings.renderer,b=d.jax;if(f){var c="output/"+f;b.sort();for(var e=0,a=b.length;a>e&&"output/"!==b[e].substr(0,7);e++);if(e==a-1)b.pop();else for(;a>e;){if(b[e]===c){b.splice(e,1);break}e++}b.unshift(c)}},MathJax.Hub.config],["Post",this.signal,"End Cookie"])},Styles:function(){return this.queue.Push(["Post",this.signal,"Begin Styles"],["loadArray",this,MathJax.Hub.config.styleSheets,"config"],["Styles",MathJax.Ajax,MathJax.Hub.config.styles],["Post",this.signal,"End Styles"])},Jax:function(){for(var f=MathJax.Hub.config,c=MathJax.Hub.outputJax,g=0,b=f.jax.length,d=0;b>g;g++){var e=f.jax[g].substr(7);"output/"===f.jax[g].substr(0,7)&&null==c.order[e]&&(c.order[e]=d,d++)}var a=MathJax.Callback.Queue();return a.Push(["Post",this.signal,"Begin Jax"],["loadArray",this,f.jax,"jax","config.js"],["Post",this.signal,"End Jax"])},Extensions:function(){var a=MathJax.Callback.Queue();return a.Push(["Post",this.signal,"Begin Extensions"],["loadArray",this,MathJax.Hub.config.extensions,"extensions"],["Post",this.signal,"End Extensions"])},Message:function(){MathJax.Message.Init(!0)},Menu:function(){var d,b=MathJax.Hub.config.menuSettings,a=MathJax.Hub.outputJax;for(var c in a)if(a.hasOwnProperty(c)&&a[c].length){d=a[c];break}d&&d.length&&(b.renderer&&b.renderer!==d[0].id&&d.unshift(MathJax.OutputJax[b.renderer]),b.renderer=d[0].id)},Hash:function(){if(MathJax.Hub.config.positionToHash&&document.location.hash&&document.body&&document.body.scrollIntoView){var d=document.location.hash.substr(1),f=document.getElementById(d);if(!f)for(var c=document.getElementsByTagName("a"),e=0,b=c.length;b>e;e++)if(c[e].name===d){f=c[e];break}if(f){for(;!f.scrollIntoView;)f=f.parentNode;f=this.HashCheck(f),f&&f.scrollIntoView&&setTimeout(function(){f.scrollIntoView(!0)},1)}}},HashCheck:function(b){if(b.isMathJax){var a=MathJax.Hub.getJaxFor(b);a&&MathJax.OutputJax[a.outputJax].hashCheck&&(b=MathJax.OutputJax[a.outputJax].hashCheck(b))}return b},MenuZoom:function(){MathJax.Hub.config.showMathMenu&&(MathJax.Extension.MathMenu?setTimeout(MathJax.Callback(["loadDomain",MathJax.Localization,"MathMenu"]),1e3):setTimeout(function(){MathJax.Callback.Queue(["Require",MathJax.Ajax,"[MathJax]/extensions/MathMenu.js",{}],["loadDomain",MathJax.Localization,"MathMenu"])},1e3),MathJax.Extension.MathZoom||setTimeout(MathJax.Callback(["Require",MathJax.Ajax,"[MathJax]/extensions/MathZoom.js",{}]),2e3))},onLoad:function(){var a=this.onload=MathJax.Callback(function(){MathJax.Hub.Startup.signal.Post("onLoad")});if(document.body&&document.readyState)if(MathJax.Hub.Browser.isMSIE){if("complete"===document.readyState)return[a]}else if("loading"!==document.readyState)return[a];return window.addEventListener?(window.addEventListener("load",a,!1),this.params.noDOMContentEvent||window.addEventListener("DOMContentLoaded",a,!1)):window.attachEvent?window.attachEvent("onload",a):window.onload=a,a},Typeset:function(a,b){return MathJax.Hub.config.skipStartupTypeset?function(){}:this.queue.Push(["Post",this.signal,"Begin Typeset"],["Typeset",MathJax.Hub,a,b],["Post",this.signal,"End Typeset"])},URL:function(b,a){return a.match(/^([a-z]+:\/\/|\[|\/)/)||(a="[MathJax]/"+b+"/"+a),a},loadArray:function(b,f,c,a){if(b&&(b instanceof Array||(b=[b]),b.length)){for(var e,h=MathJax.Callback.Queue(),j={},g=0,d=b.length;d>g;g++)e=this.URL(f,b[g]),c&&(e+="/"+c),h.Push(a?["Require",MathJax.Ajax,e,j]:MathJax.Ajax.Require(e,j));return h.Push({})}return null}},function(d){var b=window[d],e="["+d+"]",c=b.Hub,a=b.Ajax,f=b.Callback,g=MathJax.Object.Subclass({JAXFILE:"jax.js",require:null,config:{},Init:function(i,h){return 0===arguments.length?this:this.constructor.Subclass(i,h)()},Augment:function(k,j){var i=this.constructor,h={};if(null!=k){for(var l in k)k.hasOwnProperty(l)&&("function"==typeof k[l]?i.protoFunction(l,k[l]):h[l]=k[l]);k.toString!==i.prototype.toString&&k.toString!=={}.toString&&i.protoFunction("toString",k.toString)}return c.Insert(i.prototype,h),i.Augment(null,j),this},Translate:function(){throw Error(this.directory+"/"+this.JAXFILE+" failed to define the Translate() method")},Register:function(){},Config:function(){this.config=c.CombineConfig(this.id,this.config),this.config.Augment&&this.Augment(this.config.Augment)},Startup:function(){},loadComplete:function(i){if("config.js"===i)return a.loadComplete(this.directory+"/"+i);var h=f.Queue();return h.Push(c.Register.StartupHook("End Config",{}),["Post",c.Startup.signal,this.id+" Jax Config"],["Config",this],["Post",c.Startup.signal,this.id+" Jax Require"],[function(j){return MathJax.Hub.Startup.loadArray(j.require,this.directory)},this],[function(j,k){return MathJax.Hub.Startup.loadArray(j.extensions,"extensions/"+k)},this.config||{},this.id],["Post",c.Startup.signal,this.id+" Jax Startup"],["Startup",this],["Post",c.Startup.signal,this.id+" Jax Ready"]),this.copyTranslate&&h.Push([function(j){j.preProcess=j.preTranslate,j.Process=j.Translate,j.postProcess=j.postTranslate},this.constructor.prototype]),h.Push(["loadComplete",a,this.directory+"/"+i])}},{id:"Jax",version:"2.4.0",directory:e+"/jax",extensionDir:e+"/extensions"});b.InputJax=g.Subclass({elementJax:"mml",sourceMenuTitle:["Original","Original Form"],copyTranslate:!0,Process:function(){var o,j=f.Queue(),k=this.elementJax;k instanceof Array||(k=[k]);for(var n=0,h=k.length;h>n;n++)o=b.ElementJax.directory+"/"+k[n]+"/"+this.JAXFILE,this.require?this.require instanceof Array||(this.require=[this.require]):this.require=[],this.require.push(o),j.Push(a.Require(o));o=this.directory+"/"+this.JAXFILE;var p=j.Push(a.Require(o));return p.called||(this.constructor.prototype.Process=function(){if(!p.called)return p;throw Error(o+" failed to load properly")}),k=c.outputJax["jax/"+k[0]],k&&j.Push(a.Require(k[0].directory+"/"+this.JAXFILE)),j.Push({})},needsUpdate:function(h){var i=h.SourceElement();return h.originalText!==b.HTML.getScript(i)},Register:function(h){c.inputJax||(c.inputJax={}),c.inputJax[h]=this}},{id:"InputJax",version:"2.4.0",directory:g.directory+"/input",extensionDir:g.extensionDir}),b.OutputJax=g.Subclass({copyTranslate:!0,preProcess:function(){var i,h=this.directory+"/"+this.JAXFILE;return this.constructor.prototype.preProcess=function(){if(!i.called)return i;throw Error(h+" failed to load properly")},i=a.Require(h)},Register:function(i){var h=c.outputJax;h[i]||(h[i]=[]),h[i].length&&(this.id===c.config.menuSettings.renderer||(h.order[this.id]||0)<(h.order[h[i][0].id]||0))?h[i].unshift(this):h[i].push(this),this.require?this.require instanceof Array||(this.require=[this.require]):this.require=[],this.require.push(b.ElementJax.directory+"/"+i.split(/\//)[1]+"/"+this.JAXFILE)},Remove:function(){}},{id:"OutputJax",version:"2.4.0",directory:g.directory+"/output",extensionDir:g.extensionDir,fontDir:e+(b.isPacked?"":"/..")+"/fonts",imageDir:e+(b.isPacked?"":"/..")+"/images"}),b.ElementJax=g.Subclass({Init:function(i,h){return this.constructor.Subclass(i,h)},inputJax:null,outputJax:null,inputID:null,originalText:"",mimeType:"",sourceMenuTitle:["MathMLcode","MathML Code"],Text:function(i,j){var h=this.SourceElement();return b.HTML.setScript(h,i),h.MathJax.state=this.STATE.UPDATE,c.Update(h,j)},Reprocess:function(i){var h=this.SourceElement();return h.MathJax.state=this.STATE.UPDATE,c.Reprocess(h,i)},Update:function(h){return this.Rerender(h)},Rerender:function(i){var h=this.SourceElement();return h.MathJax.state=this.STATE.OUTPUT,c.Process(h,i)},Remove:function(h){this.hover&&this.hover.clear(this),b.OutputJax[this.outputJax].Remove(this),h||(c.signal.Post(["Remove Math",this.inputID]),this.Detach())},needsUpdate:function(){return b.InputJax[this.inputJax].needsUpdate(this)},SourceElement:function(){return document.getElementById(this.inputID)},Attach:function(i,j){var h=i.MathJax.elementJax;return i.MathJax.state===this.STATE.UPDATE?h.Clone(this):(h=i.MathJax.elementJax=this,i.id?this.inputID=i.id:(i.id=this.inputID=b.ElementJax.GetID(),this.newID=1)),h.originalText=b.HTML.getScript(i),h.inputJax=j,h.root&&(h.root.inputID=h.inputID),h},Detach:function(){var h=this.SourceElement();if(h){try{delete h.MathJax}catch(i){h.MathJax=null}this.newID&&(h.id="")}},Clone:function(h){var i;for(i in this)this.hasOwnProperty(i)&&"undefined"==typeof h[i]&&"newID"!==i&&delete this[i];for(i in h)h.hasOwnProperty(i)&&("undefined"==typeof this[i]||this[i]!==h[i]&&"inputID"!==i)&&(this[i]=h[i])}},{id:"ElementJax",version:"2.4.0",directory:g.directory+"/element",extensionDir:g.extensionDir,ID:0,STATE:{PENDING:1,PROCESSED:2,UPDATE:3,OUTPUT:4},GetID:function(){return this.ID++,"MathJax-Element-"+this.ID},Subclass:function(){var h=g.Subclass.apply(this,arguments);return h.loadComplete=this.prototype.loadComplete,h}}),b.ElementJax.prototype.STATE=b.ElementJax.STATE,b.OutputJax.Error={id:"Error",version:"2.4.0",config:{},ContextMenu:function(){return b.Extension.MathEvents.Event.ContextMenu.apply(b.Extension.MathEvents.Event,arguments)},Mousedown:function(){return b.Extension.MathEvents.Event.AltContextMenu.apply(b.Extension.MathEvents.Event,arguments)},getJaxFromMath:function(h){return(h.nextSibling.MathJax||{}).error},Jax:function(j,i){var h=MathJax.Hub.inputJax[i.type.replace(/ *;(.|\s)*/,"")];return{inputJax:(h||{id:"Error"}).id,outputJax:"Error",sourceMenuTitle:["ErrorMessage","Error Message"],sourceMenuFormat:"Error",originalText:MathJax.HTML.getScript(i),errorText:j}}},b.InputJax.Error={id:"Error",version:"2.4.0",config:{},sourceMenuTitle:["Original","Original Form"]}}("MathJax"),function(n){var g=window[n];g||(g=window[n]={});var c=g.Hub,r=c.Startup,v=c.config,f=document.getElementsByTagName("head")[0];f||(f=document.childNodes[0]);for(var b=(document.documentElement||document).getElementsByTagName("script"),e=new RegExp("(^|/)"+n+"\\.js(\\?.*)?$"),p=b.length-1;p>=0;p--)if((b[p].src||"").match(e)){if(r.script=b[p].innerHTML,RegExp.$2)for(var s=RegExp.$2.substr(1).split(/\&/),o=0,k=s.length;k>o;o++){var l=s[o].match(/(.*)=(.*)/);l&&(r.params[unescape(l[1])]=unescape(l[2]))}v.root=b[p].src.replace(/(^|\/)[^\/]*(\?.*)?$/,"").replace(/^(https?:)\/\/[0-9a-f]+(-[0-9a-f]+)?.ssl.cf1.rackcdn.com\//,"$1//cdn.mathjax.org/"),g.Ajax.config.root=v.root;break}var h=navigator.userAgent,a={isMac:"Mac"===navigator.platform.substr(0,3),isPC:"Win"===navigator.platform.substr(0,3),isMSIE:"ActiveXObject"in window&&"clipboardData"in window,isFirefox:h.match(/Gecko\//)&&!h.match(/like Gecko/),isSafari:null!=h.match(/ (Apple)?WebKit\//)&&(!window.chrome||null==window.chrome.loadTimes),isChrome:null!=window.chrome&&null!=window.chrome.loadTimes,isOpera:null!=window.opera&&null!=window.opera.version,isKonqueror:"konqueror"in window&&"KDE"==navigator.vendor,versionAtLeast:function(x){var w=this.version.split(".");x=new String(x).split(".");for(var y=0,j=x.length;j>y;y++)if(w[y]!=x[y])return parseInt(w[y]||"0")>=parseInt(x[y]);return!0},Select:function(j){var i=j[c.Browser];return i?i(c.Browser):null}},d=h.replace(/^Mozilla\/(\d+\.)+\d+ /,"").replace(/[a-z][-a-z0-9._: ]+\/\d+[^ ]*-[^ ]*\.([a-z][a-z])?\d+ /i,"").replace(/Gentoo |Ubuntu\/(\d+\.)*\d+ (\([^)]*\) )?/,"");c.Browser=c.Insert(c.Insert(new String("Unknown"),{version:"0.0"}),a);for(var u in a)if(a.hasOwnProperty(u)&&a[u]&&"is"===u.substr(0,2)){if(u=u.slice(2),"Mac"===u||"PC"===u)continue;c.Browser=c.Insert(new String(u),a);var q=new RegExp(".*(Version/| Trident/.*; rv:)((?:\\d+\\.)+\\d+)|.*("+u+")"+("MSIE"==u?" ":"/")+"((?:\\d+\\.)*\\d+)|(?:^|\\(| )([a-z][-a-z0-9._: ]+|(?:Apple)?WebKit)/((?:\\d+\\.)+\\d+)"),t=q.exec(d)||["","","","unknown","0.0"];c.Browser.name=""!=t[1]?u:t[3]||t[5],c.Browser.version=t[2]||t[4]||t[6];break}c.Browser.Select({Safari:function(j){var i=parseInt(String(j.version).split(".")[0]);i>85&&(j.webkit=j.version),i>=534?j.version="5.1":i>=533?j.version="5.0":i>=526?j.version="4.0":i>=525?j.version="3.1":i>500?j.version="3.0":i>400?j.version="2.0":i>85&&(j.version="1.0"),j.isMobile=null!=navigator.appVersion.match(/Mobile/i),j.noContextMenu=j.isMobile},Firefox:function(j){if(("0.0"===j.version||null==h.match(/Firefox/))&&"Gecko"===navigator.product){var m=h.match(/[\/ ]rv:(\d+\.\d.*?)[\) ]/);if(m)j.version=m[1];else{var i=(navigator.buildID||navigator.productSub||"0").substr(0,8);i>="20111220"?j.version="9.0":i>="20111120"?j.version="8.0":i>="20110927"?j.version="7.0":i>="20110816"?j.version="6.0":i>="20110621"?j.version="5.0":i>="20110320"?j.version="4.0":i>="20100121"?j.version="3.6":i>="20090630"?j.version="3.5":i>="20080617"?j.version="3.0":i>="20061024"&&(j.version="2.0")}}j.isMobile=null!=navigator.appVersion.match(/Android/i)||null!=h.match(/ Fennec\//)||null!=h.match(/Mobile/)},Opera:function(i){i.version=opera.version()},MSIE:function(j){j.isIE9=!(!document.documentMode||!window.performance&&!window.msPerformance),MathJax.HTML.setScriptBug=!j.isIE9||document.documentMode<9;var w=!1;try{new ActiveXObject("MathPlayer.Factory.1"),j.hasMathPlayer=w=!0}catch(m){}try{if(w&&!r.params.NoMathPlayer){var i=document.createElement("object");i.id="mathplayer",i.classid="clsid:32F66A20-7614-11D4-BD11-00104BD3F987",document.getElementsByTagName("head")[0].appendChild(i),document.namespaces.add("m","http://www.w3.org/1998/Math/MathML"),j.mpNamespace=!0,!document.readyState||"loading"!==document.readyState&&"interactive"!==document.readyState||(document.write('<?import namespace="m" implementation="#MathPlayer">'),j.mpImported=!0)}else document.namespaces.add("mjx_IE_fix","http://www.w3.org/1999/xlink")}catch(m){}}}),c.Browser.Select(MathJax.Message.browsers),g.AuthorConfig&&"function"==typeof g.AuthorConfig.AuthorInit&&g.AuthorConfig.AuthorInit(),c.queue=g.Callback.Queue(),c.queue.Push(["Post",r.signal,"Begin"],["Config",r],["Cookie",r],["Styles",r],["Message",r],function(){var i=g.Callback.Queue(r.Jax(),r.Extensions());return i.Push({})},["Menu",r],r.onLoad(),function(){MathJax.isReady=!0},["Typeset",r],["Hash",r],["MenuZoom",r],["Post",r.signal,"End"])}("MathJax"))),MathJax.Hub.Config({delayJaxRegistration:!0}),MathJax.Ajax.Preloading("[MathJax]/jax/input/TeX/config.js","[MathJax]/jax/input/MathML/config.js","[MathJax]/jax/output/HTML-CSS/config.js","[MathJax]/jax/output/NativeMML/config.js","[MathJax]/config/MMLorHTML.js","[MathJax]/extensions/tex2jax.js","[MathJax]/extensions/mml2jax.js","[MathJax]/extensions/MathEvents.js","[MathJax]/extensions/MathZoom.js","[MathJax]/extensions/MathMenu.js","[MathJax]/jax/element/mml/jax.js","[MathJax]/extensions/toMathML.js","[MathJax]/extensions/TeX/noErrors.js","[MathJax]/extensions/TeX/noUndefined.js","[MathJax]/jax/input/TeX/jax.js","[MathJax]/extensions/TeX/AMSmath.js","[MathJax]/extensions/TeX/AMSsymbols.js","[MathJax]/jax/input/MathML/jax.js"),MathJax.Hub.Config({"v1.0-compatible":!1}),MathJax.InputJax.TeX=MathJax.InputJax({id:"TeX",version:"2.4.0",directory:MathJax.InputJax.directory+"/TeX",extensionDir:MathJax.InputJax.extensionDir+"/TeX",config:{TagSide:"right",TagIndent:"0.8em",MultLineWidth:"85%",equationNumbers:{autoNumber:"none",formatNumber:function(a){return a},formatTag:function(a){return"("+a+")"},formatID:function(a){return"mjx-eqn-"+String(a).replace(/[:"'<>&]/g,"")},formatURL:function(a){return"#"+escape(a)},useLabelIds:!0}}}),MathJax.InputJax.TeX.Register("math/tex"),MathJax.InputJax.TeX.loadComplete("config.js"),MathJax.InputJax.MathML=MathJax.InputJax({id:"MathML",version:"2.4.0",directory:MathJax.InputJax.directory+"/MathML",extensionDir:MathJax.InputJax.extensionDir+"/MathML",entityDir:MathJax.InputJax.directory+"/MathML/entities",config:{useMathMLspacing:!1}}),MathJax.InputJax.MathML.Register("math/mml"),MathJax.InputJax.MathML.loadComplete("config.js"),MathJax.OutputJax["HTML-CSS"]=MathJax.OutputJax({id:"HTML-CSS",version:"2.4.0",directory:MathJax.OutputJax.directory+"/HTML-CSS",extensionDir:MathJax.OutputJax.extensionDir+"/HTML-CSS",autoloadDir:MathJax.OutputJax.directory+"/HTML-CSS/autoload",fontDir:MathJax.OutputJax.directory+"/HTML-CSS/fonts",webfontDir:MathJax.OutputJax.fontDir+"/HTML-CSS",config:{matchFontHeight:!0,scale:100,minScaleAdjust:50,availableFonts:["STIX","TeX"],preferredFont:"TeX",webFont:"TeX",imageFont:"TeX",undefinedFamily:"STIXGeneral,'Arial Unicode MS',serif",mtextFontInherit:!1,EqnChunk:MathJax.Hub.Browser.isMobile?10:50,EqnChunkFactor:1.5,EqnChunkDelay:100,linebreaks:{automatic:!1,width:"container"},styles:{".MathJax_Display":{"text-align":"center",margin:"1em 0em"},".MathJax .merror":{"background-color":"#FFFF88",color:"#CC0000",border:"1px solid #CC0000",padding:"1px 3px","font-style":"normal","font-size":"90%"},".MathJax .MJX-monospace":{"font-family":"monospace"},".MathJax .MJX-sans-serif":{"font-family":"sans-serif"},"#MathJax_Tooltip":{"background-color":"InfoBackground",color:"InfoText",border:"1px solid black","box-shadow":"2px 2px 5px #AAAAAA","-webkit-box-shadow":"2px 2px 5px #AAAAAA","-moz-box-shadow":"2px 2px 5px #AAAAAA","-khtml-box-shadow":"2px 2px 5px #AAAAAA",filter:"progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')",padding:"3px 4px","z-index":401}}}}),MathJax.Hub.Browser.isMSIE&&document.documentMode>=9&&delete MathJax.OutputJax["HTML-CSS"].config.styles["#MathJax_Tooltip"].filter,MathJax.Hub.config.delayJaxRegistration||MathJax.OutputJax["HTML-CSS"].Register("jax/mml"),MathJax.Hub.Register.StartupHook("End Config",[function(b,c){var a=b.Insert({minBrowserVersion:{Firefox:3,Opera:9.52,MSIE:6,Chrome:.3,Safari:2,Konqueror:4},inlineMathDelimiters:["$","$"],displayMathDelimiters:["$$","$$"],multilineDisplay:!0,minBrowserTranslate:function(f){var j,e=b.getJaxFor(f),k=["[Math]"],h=document.createElement("span",{className:"MathJax_Preview"});
"TeX"===e.inputJax&&(e.root.Get("displaystyle")?(j=a.displayMathDelimiters,k=[j[0]+e.originalText+j[1]],a.multilineDisplay&&(k=k[0].split(/\n/))):(j=a.inlineMathDelimiters,k=[j[0]+e.originalText.replace(/^\s+/,"").replace(/\s+$/,"")+j[1]]));for(var g=0,d=k.length;d>g;g++)h.appendChild(document.createTextNode(k[g])),d-1>g&&h.appendChild(document.createElement("br"));f.parentNode.insertBefore(h,f)}},b.config["HTML-CSS"]||{});"0.0"===b.Browser.version||b.Browser.versionAtLeast(a.minBrowserVersion[b.Browser]||0)||(c.Translate=a.minBrowserTranslate,b.Config({showProcessingMessages:!1}),MathJax.Message.Set(["MathJaxNotSupported","Your browser does not support MathJax"],null,4e3),b.Startup.signal.Post("MathJax not supported"))},MathJax.Hub,MathJax.OutputJax["HTML-CSS"]]),MathJax.OutputJax["HTML-CSS"].loadComplete("config.js"),MathJax.OutputJax.NativeMML=MathJax.OutputJax({id:"NativeMML",version:"2.4.0",directory:MathJax.OutputJax.directory+"/NativeMML",extensionDir:MathJax.OutputJax.extensionDir+"/NativeMML",config:{matchFontHeight:!0,scale:100,minScaleAdjust:50,styles:{"div.MathJax_MathML":{"text-align":"center",margin:".75em 0px"}}}}),MathJax.Hub.config.delayJaxRegistration||MathJax.OutputJax.NativeMML.Register("jax/mml"),MathJax.OutputJax.NativeMML.loadComplete("config.js"),function(c,g){var a=MathJax.Hub.CombineConfig("MMLorHTML",{prefer:{MSIE:"MML",Firefox:"HTML",Opera:"HTML",Chrome:"HTML",Safari:"HTML",other:"HTML"}}),e={Firefox:3,Opera:9.52,MSIE:6,Chrome:.3,Safari:2,Konqueror:4},b="0.0"===g.version||g.versionAtLeast(e[g]||0),d=g.isFirefox&&g.versionAtLeast("1.5")||g.isMSIE&&g.hasMathPlayer||g.isSafari&&g.versionAtLeast("5.0")||g.isOpera&&g.versionAtLeast("9.52");c.Register.StartupHook("End Config",function(){var h=a.prefer&&"object"==typeof a.prefer?a.prefer[MathJax.Hub.Browser]||a.prefer.other||"HTML":a.prefer;b||d?!d||"MML"!==h&&b?(MathJax.OutputJax["HTML-CSS"]?MathJax.OutputJax["HTML-CSS"].Register("jax/mml"):c.config.jax.unshift("output/HTML-CSS"),c.Startup.signal.Post("HTML-CSS output selected")):(MathJax.OutputJax.NativeMML?MathJax.OutputJax.NativeMML.Register("jax/mml"):c.config.jax.unshift("output/NativeMML"),c.Startup.signal.Post("NativeMML output selected")):(c.PreProcess.disabled=!0,c.prepareScripts.disabled=!0,MathJax.Message.Set(["MathJaxNotSupported","Your browser does not support MathJax"],null,4e3),c.Startup.signal.Post("MathJax not supported"))})}(MathJax.Hub,MathJax.Hub.Browser),MathJax.Ajax.loadComplete("[MathJax]/config/MMLorHTML.js"),MathJax.Extension.tex2jax={version:"2.4.0",config:{inlineMath:[["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],balanceBraces:!0,skipTags:["script","noscript","style","textarea","pre","code","annotation","annotation-xml"],ignoreClass:"tex2jax_ignore",processClass:"tex2jax_process",processEscapes:!1,processEnvironments:!0,processRefs:!0,preview:"TeX"},PreProcess:function(a){this.configured||(this.config=MathJax.Hub.CombineConfig("tex2jax",this.config),this.config.Augment&&MathJax.Hub.Insert(this,this.config.Augment),"undefined"==typeof this.config.previewTeX||this.config.previewTeX||(this.config.preview="none"),this.configured=!0),"string"==typeof a&&(a=document.getElementById(a)),a||(a=document.body),this.createPatterns()&&this.scanElement(a,a.nextSibling)},createPatterns:function(){var c,a,d=[],e=[],b=this.config;for(this.match={},c=0,a=b.inlineMath.length;a>c;c++)d.push(this.patternQuote(b.inlineMath[c][0])),this.match[b.inlineMath[c][0]]={mode:"",end:b.inlineMath[c][1],pattern:this.endPattern(b.inlineMath[c][1])};for(c=0,a=b.displayMath.length;a>c;c++)d.push(this.patternQuote(b.displayMath[c][0])),this.match[b.displayMath[c][0]]={mode:"; mode=display",end:b.displayMath[c][1],pattern:this.endPattern(b.displayMath[c][1])};d.length&&e.push(d.sort(this.sortLength).join("|")),b.processEnvironments&&e.push("\\\\begin\\{([^}]*)\\}"),b.processEscapes&&e.push("\\\\*\\\\\\$"),b.processRefs&&e.push("\\\\(eq)?ref\\{[^}]*\\}"),this.start=new RegExp(e.join("|"),"g"),this.skipTags=new RegExp("^("+b.skipTags.join("|")+")$","i");var f=[];return MathJax.Hub.config.preRemoveClass&&f.push(MathJax.Hub.config.preRemoveClass),b.ignoreClass&&f.push(b.ignoreClass),this.ignoreClass=f.length?new RegExp("(^| )("+f.join("|")+")( |$)"):/^$/,this.processClass=new RegExp("(^| )("+b.processClass+")( |$)"),e.length>0},patternQuote:function(a){return a.replace(/([\^$(){}+*?\-|\[\]\:\\])/g,"\\$1")},endPattern:function(a){return new RegExp(this.patternQuote(a)+"|\\\\.|[{}]","g")},sortLength:function(d,c){return d.length!==c.length?c.length-d.length:d==c?0:c>d?-1:1},scanElement:function(c,b,g){for(var a,e,d,f;c&&c!=b;)"#text"===c.nodeName.toLowerCase()?g||(c=this.scanText(c)):(a="undefined"==typeof c.className?"":c.className,e="undefined"==typeof c.tagName?"":c.tagName,"string"!=typeof a&&(a=String(a)),f=this.processClass.exec(a),!c.firstChild||a.match(/(^| )MathJax/)||!f&&this.skipTags.exec(e)||(d=(g||this.ignoreClass.exec(a))&&!f,this.scanElement(c.firstChild,b,d))),c&&(c=c.nextSibling)},scanText:function(b){if(""==b.nodeValue.replace(/\s+/,""))return b;var a,c;for(this.search={start:!0},this.pattern=this.start;b;){for(this.pattern.lastIndex=0;b&&"#text"===b.nodeName.toLowerCase()&&(a=this.pattern.exec(b.nodeValue));)b=this.search.start?this.startMatch(a,b):this.endMatch(a,b);if(this.search.matched&&(b=this.encloseMath(b)),b){do c=b,b=b.nextSibling;while(b&&("br"===b.nodeName.toLowerCase()||"#comment"===b.nodeName.toLowerCase()));if(!b||"#text"!==b.nodeName)return this.search.close?this.prevEndMatch():c}}return b},startMatch:function(a,b){var f=this.match[a[0]];if(null!=f)this.search={end:f.end,mode:f.mode,pcount:0,open:b,olen:a[0].length,opos:this.pattern.lastIndex-a[0].length},this.switchPattern(f.pattern);else if("\\begin"===a[0].substr(0,6))this.search={end:"\\end{"+a[1]+"}",mode:"; mode=display",pcount:0,open:b,olen:0,opos:this.pattern.lastIndex-a[0].length,isBeginEnd:!0},this.switchPattern(this.endPattern(this.search.end));else{if("\\ref"===a[0].substr(0,4)||"\\eqref"===a[0].substr(0,6))return this.search={mode:"",end:"",open:b,pcount:0,olen:0,opos:this.pattern.lastIndex-a[0].length},this.endMatch([""],b);var g,c,d=a[0].substr(0,a[0].length-1);d.length%2===0?(c=[d.replace(/\\\\/g,"\\")],g=1):(c=[d.substr(1).replace(/\\\\/g,"\\"),"$"],g=0),c=MathJax.HTML.Element("span",null,c);var e=MathJax.HTML.TextNode(b.nodeValue.substr(0,a.index));b.nodeValue=b.nodeValue.substr(a.index+a[0].length-g),b.parentNode.insertBefore(c,b),b.parentNode.insertBefore(e,c),this.pattern.lastIndex=g}return b},endMatch:function(a,c){var b=this.search;return a[0]==b.end?(b.close&&0!==b.pcount||(b.close=c,b.cpos=this.pattern.lastIndex,b.clen=b.isBeginEnd?0:a[0].length),0===b.pcount&&(b.matched=!0,c=this.encloseMath(c),this.switchPattern(this.start))):"{"===a[0]?b.pcount++:"}"===a[0]&&b.pcount&&b.pcount--,c},prevEndMatch:function(){this.search.matched=!0;var a=this.encloseMath(this.search.close);return this.switchPattern(this.start),a},switchPattern:function(a){a.lastIndex=this.pattern.lastIndex,this.pattern=a,this.search.start=a===this.start},encloseMath:function(){var e,c,a=this.search,f=a.close;for(f=a.cpos===f.length?f.nextSibling:f.splitText(a.cpos),f||(e=f=MathJax.HTML.addText(a.close.parentNode,"")),a.close=f,c=a.opos?a.open.splitText(a.opos):a.open;c.nextSibling&&c.nextSibling!==f;)c.nodeValue+=null!==c.nextSibling.nodeValue?"#comment"===c.nextSibling.nodeName?c.nextSibling.nodeValue.replace(/^\[CDATA\[((.|\n|\r)*)\]\]$/,"$1"):c.nextSibling.nodeValue:this.msieNewlineBug&&"br"===c.nextSibling.nodeName.toLowerCase()?"\n":" ",c.parentNode.removeChild(c.nextSibling);var d=c.nodeValue.substr(a.olen,c.nodeValue.length-a.olen-a.clen);return c.parentNode.removeChild(c),"none"!==this.config.preview&&this.createPreview(a.mode,d),c=this.createMathTag(a.mode,d),this.search={},this.pattern.lastIndex=0,e&&e.parentNode.removeChild(e),c},insertNode:function(b){var a=this.search;a.close.parentNode.insertBefore(b,a.close)},createPreview:function(c,a){var b=this.config.preview;"none"!==b&&("TeX"===b&&(b=[this.filterPreview(a)]),b&&(b=MathJax.HTML.Element("span",{className:MathJax.Hub.config.preRemoveClass},b),this.insertNode(b)))},createMathTag:function(c,b){var a=document.createElement("script");return a.type="math/tex"+c,MathJax.HTML.setScript(a,b),this.insertNode(a),a},filterPreview:function(a){return a},msieNewlineBug:MathJax.Hub.Browser.isMSIE&&document.documentMode<9},MathJax.Hub.Register.PreProcessor(["PreProcess",MathJax.Extension.tex2jax]),MathJax.Ajax.loadComplete("[MathJax]/extensions/tex2jax.js"),MathJax.Extension.mml2jax={version:"2.4.0",config:{preview:"mathml"},MMLnamespace:"http://www.w3.org/1998/Math/MathML",PreProcess:function(e){this.configured||(this.config=MathJax.Hub.CombineConfig("mml2jax",this.config),this.config.Augment&&MathJax.Hub.Insert(this,this.config.Augment),this.InitBrowser(),this.configured=!0),"string"==typeof e&&(e=document.getElementById(e)),e||(e=document.body);var h=[];this.PushMathElements(h,e,"math"),this.PushMathElements(h,e,"math",this.MMLnamespace);var d,b;if("undefined"!=typeof document.namespaces)try{for(d=0,b=document.namespaces.length;b>d;d++){var f=document.namespaces[d];f.urn===this.MMLnamespace&&this.PushMathElements(h,e,f.name+":math")}}catch(g){}else{var c=document.getElementsByTagName("html")[0];if(c)for(d=0,b=c.attributes.length;b>d;d++){var a=c.attributes[d];"xmlns:"===a.nodeName.substr(0,6)&&a.nodeValue===this.MMLnamespace&&this.PushMathElements(h,e,a.nodeName.substr(6)+":math")}}this.ProcessMathArray(h)},PushMathElements:function(f,d,a,c){var h,g=MathJax.Hub.config.preRemoveClass;if(c){if(!d.getElementsByTagNameNS)return;h=d.getElementsByTagNameNS(c,a)}else h=d.getElementsByTagName(a);for(var e=0,b=h.length;b>e;e++){var j=h[e].parentNode;j&&j.className!==g&&!h[e].prefix==!c&&f.push(h[e])}},ProcessMathArray:function(c){var b,a=c.length;if(a)if(this.MathTagBug)for(b=0;a>b;b++)"MATH"===c[b].nodeName?this.ProcessMathFlattened(c[b]):this.ProcessMath(c[b]);else for(b=0;a>b;b++)this.ProcessMath(c[b])},ProcessMath:function(e){var d=e.parentNode;if(d&&d.className!==MathJax.Hub.config.preRemoveClass){var a=document.createElement("script");if(a.type="math/mml",d.insertBefore(a,e),this.AttributeBug){var b=this.OuterHTML(e);this.CleanupHTML&&(b=b.replace(/<\?import .*?>/i,"").replace(/<\?xml:namespace .*?\/>/i,""),b=b.replace(/&nbsp;/g,"&#xA0;")),MathJax.HTML.setScript(a,b),d.removeChild(e)}else{var c=MathJax.HTML.Element("span");c.appendChild(e),MathJax.HTML.setScript(a,c.innerHTML)}"none"!==this.config.preview&&this.createPreview(e,a)}},ProcessMathFlattened:function(f){var d=f.parentNode;if(d&&d.className!==MathJax.Hub.config.preRemoveClass){var b=document.createElement("script");b.type="math/mml",d.insertBefore(b,f);for(var e,c="",a=f;f&&"/MATH"!==f.nodeName;)e=f,f=f.nextSibling,c+=this.NodeHTML(e),e.parentNode.removeChild(e);f&&"/MATH"===f.nodeName&&f.parentNode.removeChild(f),b.text=c+"</math>","none"!==this.config.preview&&this.createPreview(a,b)}},NodeHTML:function(e){var c,b,a;if("#text"===e.nodeName)c=this.quoteHTML(e.nodeValue);else if("#comment"===e.nodeName)c="<!--"+e.nodeValue+"-->";else{for(c="<"+e.nodeName.toLowerCase(),b=0,a=e.attributes.length;a>b;b++){var d=e.attributes[b];if(d.specified&&"_moz-math-"!==d.nodeName.substr(0,10)){c+=" "+d.nodeName.toLowerCase().replace(/xmlns:xmlns/,"xmlns")+"=";var f=d.nodeValue;null==f&&"style"===d.nodeName&&e.style&&(f=e.style.cssText),c+='"'+this.quoteHTML(f)+'"'}}if(c+=">",null!=e.outerHTML&&e.outerHTML.match(/(.<\/[A-Z]+>|\/>)$/)){for(b=0,a=e.childNodes.length;a>b;b++)c+=this.OuterHTML(e.childNodes[b]);c+="</"+e.nodeName.toLowerCase()+">"}}return c},OuterHTML:function(d){if("#"===d.nodeName.charAt(0))return this.NodeHTML(d);if(!this.AttributeBug)return d.outerHTML;for(var c=this.NodeHTML(d),b=0,a=d.childNodes.length;a>b;b++)c+=this.OuterHTML(d.childNodes[b]);return c+="</"+d.nodeName.toLowerCase()+">"},quoteHTML:function(a){return null==a&&(a=""),a.replace(/&/g,"&#x26;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;")},createPreview:function(f,b){var g=this.config.preview;if("none"!==g){var a=!1;if("mathml"===g&&(a=!0,g=this.MathTagBug?"alttext":f.cloneNode(!1)),"alttext"===g||"altimg"===g){a=!0;var c=this.filterPreview(f.getAttribute("alttext"));if("alttext"===g)g=null!=c?MathJax.HTML.TextNode(c):null;else{var h=f.getAttribute("altimg");if(null!=h){var e={width:f.getAttribute("altimg-width"),height:f.getAttribute("altimg-height")};g=MathJax.HTML.Element("img",{src:h,alt:c,style:e})}else g=null}}if(g){var d;a?(d=MathJax.HTML.Element("span",{className:MathJax.Hub.config.preRemoveClass}),d.appendChild(g)):d=MathJax.HTML.Element("span",{className:MathJax.Hub.config.preRemoveClass},g),b.parentNode.insertBefore(d,b)}}},filterPreview:function(a){return a},InitBrowser:function(){var b=MathJax.HTML.Element("span",{id:"<",className:"mathjax",innerHTML:"<math><mi>x</mi><mspace /></math>"}),a=b.outerHTML||"";this.AttributeBug=""!==a&&!(a.match(/id="&lt;"/)&&a.match(/class="mathjax"/)&&a.match(/<\/math>/)),this.MathTagBug=b.childNodes.length>1,this.CleanupHTML=MathJax.Hub.Browser.isMSIE}},MathJax.Hub.Register.PreProcessor(["PreProcess",MathJax.Extension.mml2jax],5),MathJax.Ajax.loadComplete("[MathJax]/extensions/mml2jax.js"),function(d,h,l,g,m,b,j){var q="2.4.0",i=MathJax.Extension,c=i.MathEvents={version:q},k=d.config.menuSettings,p={hover:500,frame:{x:3.5,y:5,bwidth:1,bcolor:"#A6D",hwidth:"15px",hcolor:"#83A"},button:{x:-4,y:-3,wx:-2,src:l.urlRev(b.imageDir+"/MenuArrow-15.png")},fadeinInc:.2,fadeoutInc:.05,fadeDelay:50,fadeoutStart:400,fadeoutDelay:15e3,styles:{".MathJax_Hover_Frame":{"border-radius":".25em","-webkit-border-radius":".25em","-moz-border-radius":".25em","-khtml-border-radius":".25em","box-shadow":"0px 0px 15px #83A","-webkit-box-shadow":"0px 0px 15px #83A","-moz-box-shadow":"0px 0px 15px #83A","-khtml-box-shadow":"0px 0px 15px #83A",border:"1px solid #A6D ! important",display:"inline-block",position:"absolute"},".MathJax_Hover_Arrow":{position:"absolute",width:"15px",height:"11px",cursor:"pointer"}}},n=c.Event={LEFTBUTTON:0,RIGHTBUTTON:2,MENUKEY:"altKey",Mousedown:function(r){return n.Handler(r,"Mousedown",this)},Mouseup:function(r){return n.Handler(r,"Mouseup",this)},Mousemove:function(r){return n.Handler(r,"Mousemove",this)},Mouseover:function(r){return n.Handler(r,"Mouseover",this)},Mouseout:function(r){return n.Handler(r,"Mouseout",this)},Click:function(r){return n.Handler(r,"Click",this)},DblClick:function(r){return n.Handler(r,"DblClick",this)},Menu:function(r){return n.Handler(r,"ContextMenu",this)},Handler:function(u,s,t){if(l.loadingMathMenu)return n.False(u);var r=b[t.jaxID];return u||(u=window.event),u.isContextMenu="ContextMenu"===s,r[s]?r[s](u,t):i.MathZoom?i.MathZoom.HandleEvent(u,s,t):void 0},False:function(r){return r||(r=window.event),r&&(r.preventDefault?r.preventDefault():r.returnValue=!1,r.stopPropagation&&r.stopPropagation(),r.cancelBubble=!0),!1},ContextMenu:function(u,F,x){var C=b[F.jaxID],w=C.getJaxFromMath(F),G=(null!=C.config.showMathMenu?C:d).config.showMathMenu;if(G&&("MathJax"===k.context||x)){c.msieEventBug&&(u=window.event||u),n.ClearSelection(),f.ClearHoverTimer(),w.hover&&(w.hover.remove&&(clearTimeout(w.hover.remove),delete w.hover.remove),w.hover.nofade=!0);var H,E,v=MathJax.Menu;if(v){if(v.loadingDomain)return n.False(u);if(H=m.loadDomain("MathMenu"),!H){v.jax=w;var s=v.menu.Find("Show Math As").menu;s.items[0].name=w.sourceMenuTitle,s.items[0].format=w.sourceMenuFormat||"MathML",s.items[1].name=j[w.inputJax].sourceMenuTitle,s.items[5].disabled=!j[w.inputJax].annotationEncoding;var B=s.items[2];B.disabled=!0;var r=B.menu.items;annotationList=MathJax.Hub.Config.semanticsAnnotations;for(var A=0,z=r.length;z>A;A++){var t=r[A].name[1];w.root&&null!==w.root.getAnnotation(t)?(B.disabled=!1,r[A].hidden=!1):r[A].hidden=!0}var y=v.menu.Find("Math Settings","MathPlayer");return y.hidden=!("NativeMML"===w.outputJax&&d.Browser.hasMathPlayer),v.menu.Post(u)}v.loadingDomain=!0,E=function(){delete v.loadingDomain}}else{if(l.loadingMathMenu)return n.False(u);l.loadingMathMenu=!0,H=l.Require("[MathJax]/extensions/MathMenu.js"),E=function(){delete l.loadingMathMenu,MathJax.Menu||(MathJax.Menu={})}}var D={pageX:u.pageX,pageY:u.pageY,clientX:u.clientX,clientY:u.clientY};return g.Queue(H,E,["ContextMenu",n,D,F,x]),n.False(u)}},AltContextMenu:function(t,s){var u=b[s.jaxID],r=(null!=u.config.showMathMenu?u:d).config.showMathMenu;if(r){if(r=(null!=u.config.showMathMenuMSIE?u:d).config.showMathMenuMSIE,"MathJax"===k.context&&!k.mpContext&&r){if(!c.noContextMenuBug||t.button!==n.RIGHTBUTTON)return}else if(!t[n.MENUKEY]||t.button!==n.LEFTBUTTON)return;return u.ContextMenu(t,s,!0)}},ClearSelection:function(){c.safariContextMenuBug&&setTimeout("window.getSelection().empty()",0),document.selection&&setTimeout("document.selection.empty()",0)},getBBox:function(t){t.appendChild(c.topImg);var s=c.topImg.offsetTop,u=t.offsetHeight-s,r=t.offsetWidth;return t.removeChild(c.topImg),{w:r,h:s,d:u}}},f=c.Hover={Mouseover:function(t,s){if(k.discoverable||"Hover"===k.zoom){var v=t.fromElement||t.relatedTarget,u=t.toElement||t.target;if(v&&u&&(v.isMathJax!=u.isMathJax||d.getJaxFor(v)!==d.getJaxFor(u))){var r=this.getJaxFromMath(s);return r.hover?f.ReHover(r):f.HoverTimer(r,s),n.False(t)}}},Mouseout:function(t,s){if(k.discoverable||"Hover"===k.zoom){var v=t.fromElement||t.relatedTarget,u=t.toElement||t.target;if(v&&u&&(v.isMathJax!=u.isMathJax||d.getJaxFor(v)!==d.getJaxFor(u))){var r=this.getJaxFromMath(s);return r.hover?f.UnHover(r):f.ClearHoverTimer(),n.False(t)}}},Mousemove:function(t,s){if(k.discoverable||"Hover"===k.zoom){var r=this.getJaxFromMath(s);if(r.hover)return;if(f.lastX==t.clientX&&f.lastY==t.clientY)return;return f.lastX=t.clientX,f.lastY=t.clientY,f.HoverTimer(r,s),n.False(t)}},HoverTimer:function(r,s){this.ClearHoverTimer(),this.hoverTimer=setTimeout(g(["Hover",this,r,s]),p.hover)},ClearHoverTimer:function(){this.hoverTimer&&(clearTimeout(this.hoverTimer),delete this.hoverTimer)},Hover:function(r,v){if(!i.MathZoom||!i.MathZoom.Hover({},v)){var u=b[r.outputJax],w=u.getHoverSpan(r,v),z=u.getHoverBBox(r,w,v),x=(null!=u.config.showMathMenu?u:d).config.showMathMenu,B=p.frame.x,A=p.frame.y,y=p.frame.bwidth;c.msieBorderWidthBug&&(y=0),r.hover={opacity:0,id:r.inputID+"-Hover"};var s=h.Element("span",{id:r.hover.id,isMathJax:!0,style:{display:"inline-block",width:0,height:0,position:"relative"}},[["span",{className:"MathJax_Hover_Frame",isMathJax:!0,style:{display:"inline-block",position:"absolute",top:this.Px(-z.h-A-y-(z.y||0)),left:this.Px(-B-y+(z.x||0)),width:this.Px(z.w+2*B),height:this.Px(z.h+z.d+2*A),opacity:0,filter:"alpha(opacity=0)"}}]]),t=h.Element("span",{isMathJax:!0,id:r.hover.id+"Menu",style:{display:"inline-block","z-index":1,width:0,height:0,position:"relative"}},[["img",{className:"MathJax_Hover_Arrow",isMathJax:!0,math:v,src:p.button.src,onclick:this.HoverMenu,jax:u.id,style:{left:this.Px(z.w+B+y+(z.x||0)+p.button.x),top:this.Px(-z.h-A-y-(z.y||0)-p.button.y),opacity:0,filter:"alpha(opacity=0)"}}]]);z.width&&(s.style.width=t.style.width=z.width,s.style.marginRight=t.style.marginRight="-"+z.width,s.firstChild.style.width=z.width,t.firstChild.style.left="",t.firstChild.style.right=this.Px(p.button.wx)),w.parentNode.insertBefore(s,w),x&&w.parentNode.insertBefore(t,w),w.style&&(w.style.position="relative"),this.ReHover(r)}},ReHover:function(r){r.hover.remove&&clearTimeout(r.hover.remove),r.hover.remove=setTimeout(g(["UnHover",this,r]),p.fadeoutDelay),this.HoverFadeTimer(r,p.fadeinInc)},UnHover:function(r){r.hover.nofade||this.HoverFadeTimer(r,-p.fadeoutInc,p.fadeoutStart)},HoverFade:function(r){delete r.hover.timer,r.hover.opacity=Math.max(0,Math.min(1,r.hover.opacity+r.hover.inc)),r.hover.opacity=Math.floor(1e3*r.hover.opacity)/1e3;var t=document.getElementById(r.hover.id),s=document.getElementById(r.hover.id+"Menu");if(t.firstChild.style.opacity=r.hover.opacity,t.firstChild.style.filter="alpha(opacity="+Math.floor(100*r.hover.opacity)+")",s&&(s.firstChild.style.opacity=r.hover.opacity,s.firstChild.style.filter=t.style.filter),1!==r.hover.opacity){if(r.hover.opacity>0)return void this.HoverFadeTimer(r,r.hover.inc);t.parentNode.removeChild(t),s&&s.parentNode.removeChild(s),r.hover.remove&&clearTimeout(r.hover.remove),delete r.hover}},HoverFadeTimer:function(r,t,s){r.hover.inc=t,r.hover.timer||(r.hover.timer=setTimeout(g(["HoverFade",this,r]),s||p.fadeDelay))},HoverMenu:function(r){return r||(r=window.event),b[this.jax].ContextMenu(r,this.math,!0)},ClearHover:function(r){r.hover.remove&&clearTimeout(r.hover.remove),r.hover.timer&&clearTimeout(r.hover.timer),f.ClearHoverTimer(),delete r.hover},Px:function(r){return Math.abs(r)<.006?"0px":r.toFixed(2).replace(/\.?0+$/,"")+"px"},getImages:function(){if(k.discoverable){var r=new Image;r.src=p.button.src}}},a=c.Touch={last:0,delay:500,start:function(s){var r=(new Date).getTime(),t=r-a.last<a.delay&&a.up;a.last=r,a.up=!1,t&&(a.timeout=setTimeout(a.menu,a.delay,s,this),s.preventDefault())},end:function(s){var r=(new Date).getTime();return a.up=r-a.last<a.delay,a.timeout?(clearTimeout(a.timeout),delete a.timeout,a.last=0,a.up=!1,s.preventDefault(),n.Handler(s.touches[0]||s.touch,"DblClick",this)):void 0},menu:function(s,r){return delete a.timeout,a.last=0,a.up=!1,n.Handler(s.touches[0]||s.touch,"ContextMenu",r)}};if(d.Browser.isMobile){var o=p.styles[".MathJax_Hover_Arrow"];o.width="25px",o.height="18px",p.button.x=-6}d.Browser.Select({MSIE:function(r){var t=document.documentMode||0,s=r.versionAtLeast("8.0");c.msieBorderWidthBug="BackCompat"===document.compatMode,c.msieEventBug=r.isIE9,c.msieAlignBug=!s||8>t,9>t&&(n.LEFTBUTTON=1)},Safari:function(){c.safariContextMenuBug=!0},Opera:function(){c.operaPositionBug=!0},Konqueror:function(){c.noContextMenuBug=!0}}),c.topImg=c.msieAlignBug?h.Element("img",{style:{width:0,height:0,position:"relative"},src:"about:blank"}):h.Element("span",{style:{width:0,height:0,display:"inline-block"}}),c.operaPositionBug&&(c.topImg.style.border="1px solid"),c.config=p=d.CombineConfig("MathEvents",p);var e=function(){var r=p.styles[".MathJax_Hover_Frame"];r.border=p.frame.bwidth+"px solid "+p.frame.bcolor+" ! important",r["box-shadow"]=r["-webkit-box-shadow"]=r["-moz-box-shadow"]=r["-khtml-box-shadow"]="0px 0px "+p.frame.hwidth+" "+p.frame.hcolor};g.Queue(d.Register.StartupHook("End Config",{}),[e],["getImages",f],["Styles",l,p.styles],["Post",d.Startup.signal,"MathEvents Ready"],["loadComplete",l,"[MathJax]/extensions/MathEvents.js"])}(MathJax.Hub,MathJax.HTML,MathJax.Ajax,MathJax.Callback,MathJax.Localization,MathJax.OutputJax,MathJax.InputJax),function(a,d,f){var e,b,g,k="2.4.0",i=a.CombineConfig("MathZoom",{styles:{"#MathJax_Zoom":{position:"absolute","background-color":"#F0F0F0",overflow:"auto",display:"block","z-index":301,padding:".5em",border:"1px solid black",margin:0,"font-weight":"normal","font-style":"normal","text-align":"left","text-indent":0,"text-transform":"none","line-height":"normal","letter-spacing":"normal","word-spacing":"normal","word-wrap":"normal","white-space":"nowrap","float":"none","box-shadow":"5px 5px 15px #AAAAAA","-webkit-box-shadow":"5px 5px 15px #AAAAAA","-moz-box-shadow":"5px 5px 15px #AAAAAA","-khtml-box-shadow":"5px 5px 15px #AAAAAA",filter:"progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')"},"#MathJax_ZoomOverlay":{position:"absolute",left:0,top:0,"z-index":300,display:"inline-block",width:"100%",height:"100%",border:0,padding:0,margin:0,"background-color":"white",opacity:0,filter:"alpha(opacity=0)"},"#MathJax_ZoomFrame":{position:"relative",display:"inline-block",height:0,width:0},"#MathJax_ZoomEventTrap":{position:"absolute",left:0,top:0,"z-index":302,display:"inline-block",border:0,padding:0,margin:0,"background-color":"white",opacity:0,filter:"alpha(opacity=0)"}}});MathJax.Hub.Register.StartupHook("MathEvents Ready",function(){g=MathJax.Extension.MathEvents.Event,e=MathJax.Extension.MathEvents.Event.False,b=MathJax.Extension.MathEvents.Hover});var h=MathJax.Extension.MathZoom={version:k,settings:a.config.menuSettings,scrollSize:18,HandleEvent:function(n,l,m){return h.settings.CTRL&&!n.ctrlKey?!0:h.settings.ALT&&!n.altKey?!0:h.settings.CMD&&!n.metaKey?!0:h.settings.Shift&&!n.shiftKey?!0:h[l]?h[l](n,m):!0},Click:function(m,l){return"Click"===this.settings.zoom?this.Zoom(m,l):void 0},DblClick:function(m,l){return"Double-Click"===this.settings.zoom||"DoubleClick"===this.settings.zoom?this.Zoom(m,l):void 0},Hover:function(m,l){return"Hover"===this.settings.zoom?(this.Zoom(m,l),!0):!1},Zoom:function(o,u){this.Remove(),b.ClearHoverTimer(),g.ClearSelection();var s=MathJax.OutputJax[u.jaxID],p=s.getJaxFromMath(u);p.hover&&b.UnHover(p);var q=this.findContainer(u),l=Math.floor(.85*q.clientWidth),t=Math.max(document.body.clientHeight,document.documentElement.clientHeight);"visible"!==this.getOverflow(q)&&(t=Math.min(q.clientHeight,t)),t=Math.floor(.85*t);var n=d.Element("span",{id:"MathJax_ZoomFrame"},[["span",{id:"MathJax_ZoomOverlay",onmousedown:this.Remove}],["span",{id:"MathJax_Zoom",onclick:this.Remove,style:{visibility:"hidden",fontSize:this.settings.zscale}},[["span",{style:{display:"inline-block","white-space":"nowrap"}}]]]]),z=n.lastChild,w=z.firstChild,r=n.firstChild;u.parentNode.insertBefore(n,u),u.parentNode.insertBefore(u,n),w.addEventListener&&w.addEventListener("mousedown",this.Remove,!0);var m=z.offsetWidth||z.clientWidth;if(l-=m,t-=m,z.style.maxWidth=l+"px",z.style.maxHeight=t+"px",this.msieTrapEventBug){var y=d.Element("span",{id:"MathJax_ZoomEventTrap",onmousedown:this.Remove});n.insertBefore(y,z)}if(this.msieZIndexBug){var v=d.addElement(document.body,"img",{src:"about:blank",id:"MathJax_ZoomTracker",width:0,height:0,style:{width:0,height:0,position:"relative"}});n.style.position="relative",n.style.zIndex=i.styles["#MathJax_ZoomOverlay"]["z-index"],n=v}var x=s.Zoom(p,w,u,l,t);return this.msiePositionBug&&(this.msieSizeBug&&(z.style.height=x.zH+"px",z.style.width=x.zW+"px"),z.offsetHeight>t&&(z.style.height=t+"px",z.style.width=x.zW+this.scrollSize+"px"),z.offsetWidth>l&&(z.style.width=l+"px",z.style.height=x.zH+this.scrollSize+"px")),this.operaPositionBug&&(z.style.width=Math.min(l,x.zW)+"px"),z.offsetWidth>m&&z.offsetWidth-m<l&&z.offsetHeight-m<t&&(z.style.overflow="visible"),this.Position(z,x),this.msieTrapEventBug&&(y.style.height=z.clientHeight+"px",y.style.width=z.clientWidth+"px",y.style.left=parseFloat(z.style.left)+z.clientLeft+"px",y.style.top=parseFloat(z.style.top)+z.clientTop+"px"),z.style.visibility="","Hover"===this.settings.zoom&&(r.onmouseover=this.Remove),window.addEventListener?addEventListener("resize",this.Resize,!1):window.attachEvent?attachEvent("onresize",this.Resize):(this.onresize=window.onresize,window.onresize=this.Resize),a.signal.Post(["math zoomed",p]),e(o)},Position:function(p,r){p.style.display="none";var q=this.Resize(),m=q.x,s=q.y,l=r.mW;p.style.display="";var o=-l-Math.floor((p.offsetWidth-l)/2),n=r.Y;p.style.left=Math.max(o,10-m)+"px",p.style.top=Math.max(n,10-s)+"px",h.msiePositionBug||h.SetWH()},Resize:function(m){h.onresize&&h.onresize(m);var q=document.getElementById("MathJax_ZoomFrame"),l=document.getElementById("MathJax_ZoomOverlay"),o=h.getXY(q),n=h.findContainer(q);if("visible"!==h.getOverflow(n)){l.scroll_parent=n;var p=h.getXY(n);o.x-=p.x,o.y-=p.y,p=h.getBorder(n),o.x-=p.x,o.y-=p.y}return l.style.left=-o.x+"px",l.style.top=-o.y+"px",h.msiePositionBug?setTimeout(h.SetWH,0):h.SetWH(),o},SetWH:function(){var l=document.getElementById("MathJax_ZoomOverlay");l.style.display="none";var m=l.scroll_parent||document.documentElement||document.body;l.style.width=m.scrollWidth+"px",l.style.height=Math.max(m.clientHeight,m.scrollHeight)+"px",l.style.display=""},findContainer:function(l){for(l=l.parentNode;l.parentNode&&l!==document.body&&"visible"===h.getOverflow(l);)l=l.parentNode;return l},getOverflow:window.getComputedStyle?function(l){return getComputedStyle(l).overflow}:function(l){return(l.currentStyle||{overflow:"visible"}).overflow},getBorder:function(o){var m={thin:1,medium:2,thick:3},n=window.getComputedStyle?getComputedStyle(o):o.currentStyle||{borderLeftWidth:0,borderTopWidth:0},l=n.borderLeftWidth,p=n.borderTopWidth;return l=m[l]?m[l]:parseInt(l),p=m[p]?m[p]:parseInt(p),{x:l,y:p}},getXY:function(o){var m,l=0,n=0;for(m=o;m.offsetParent;)l+=m.offsetLeft,m=m.offsetParent;for(h.operaPositionBug&&(o.style.border="1px solid"),m=o;m.offsetParent;)n+=m.offsetTop,m=m.offsetParent;return h.operaPositionBug&&(o.style.border=""),{x:l,y:n}},Remove:function(n){var p=document.getElementById("MathJax_ZoomFrame");if(p){var o=MathJax.OutputJax[p.previousSibling.jaxID],l=o.getJaxFromMath(p.previousSibling);if(a.signal.Post(["math unzoomed",l]),p.parentNode.removeChild(p),p=document.getElementById("MathJax_ZoomTracker"),p&&p.parentNode.removeChild(p),h.operaRefreshBug){var m=d.addElement(document.body,"div",{style:{position:"fixed",left:0,top:0,width:"100%",height:"100%",backgroundColor:"white",opacity:0},id:"MathJax_OperaDiv"});document.body.removeChild(m)}window.removeEventListener?removeEventListener("resize",h.Resize,!1):window.detachEvent?detachEvent("onresize",h.Resize):(window.onresize=h.onresize,delete h.onresize)}return e(n)}};a.Browser.Select({MSIE:function(l){var n=document.documentMode||0,m=n>=9;h.msiePositionBug=!m,h.msieSizeBug=l.versionAtLeast("7.0")&&(!document.documentMode||7===n||8===n),h.msieZIndexBug=7>=n,h.msieInlineBlockAlignBug=7>=n,h.msieTrapEventBug=!window.addEventListener,"BackCompat"===document.compatMode&&(h.scrollSize=52),m&&delete i.styles["#MathJax_Zoom"].filter},Opera:function(){h.operaPositionBug=!0,h.operaRefreshBug=!0}}),h.topImg=h.msieInlineBlockAlignBug?d.Element("img",{style:{width:0,height:0,position:"relative"},src:"about:blank"}):d.Element("span",{style:{width:0,height:0,display:"inline-block"}}),(h.operaPositionBug||h.msieTopBug)&&(h.topImg.style.border="1px solid"),MathJax.Callback.Queue(["StartupHook",MathJax.Hub.Register,"Begin Styles",{}],["Styles",f,i.styles],["Post",a.Startup.signal,"MathZoom Ready"],["loadComplete",f,"[MathJax]/extensions/MathZoom.js"])}(MathJax.Hub,MathJax.HTML,MathJax.Ajax,MathJax.OutputJax["HTML-CSS"],MathJax.OutputJax.NativeMML),function(c,g,k,f,b){var q="2.4.0",j=MathJax.Callback.Signal("menu");MathJax.Extension.MathMenu={version:q,signal:j};var h,d,o=function(r){return MathJax.Localization._.apply(MathJax.Localization,[["MathMenu",r]].concat([].slice.call(arguments,1)))},n=c.Browser.isPC,l=c.Browser.isMSIE,e=(document.documentMode||0)>8,i=n?null:"5px",p=c.CombineConfig("MathMenu",{delay:150,closeImg:k.urlRev(b.imageDir+"/CloseX-31.png"),showRenderer:!0,showMathPlayer:!0,showFontMenu:!1,showContext:!1,showDiscoverable:!1,showLocale:!0,showLocaleURL:!1,semanticsAnnotations:{TeX:["TeX","LaTeX","application/x-tex"],StarMath:["StarMath 5.0"],Maple:["Maple"],ContentMathML:["MathML-Content","application/mathml-content+xml"],OpenMath:["OpenMath"]},windowSettings:{status:"no",toolbar:"no",locationbar:"no",menubar:"no",directories:"no",personalbar:"no",resizable:"yes",scrollbars:"yes",width:400,height:300,left:Math.round((screen.width-400)/2),top:Math.round((screen.height-300)/3)},styles:{"#MathJax_About":{position:"fixed",left:"50%",width:"auto","text-align":"center",border:"3px outset",padding:"1em 2em","background-color":"#DDDDDD",color:"black",cursor:"default","font-family":"message-box","font-size":"120%","font-style":"normal","text-indent":0,"text-transform":"none","line-height":"normal","letter-spacing":"normal","word-spacing":"normal","word-wrap":"normal","white-space":"nowrap","float":"none","z-index":201,"border-radius":"15px","-webkit-border-radius":"15px","-moz-border-radius":"15px","-khtml-border-radius":"15px","box-shadow":"0px 10px 20px #808080","-webkit-box-shadow":"0px 10px 20px #808080","-moz-box-shadow":"0px 10px 20px #808080","-khtml-box-shadow":"0px 10px 20px #808080",filter:"progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')"},".MathJax_Menu":{position:"absolute","background-color":"white",color:"black",width:"auto",padding:n?"2px":"5px 0px",border:"1px solid #CCCCCC",margin:0,cursor:"default",font:"menu","text-align":"left","text-indent":0,"text-transform":"none","line-height":"normal","letter-spacing":"normal","word-spacing":"normal","word-wrap":"normal","white-space":"nowrap","float":"none","z-index":201,"border-radius":i,"-webkit-border-radius":i,"-moz-border-radius":i,"-khtml-border-radius":i,"box-shadow":"0px 10px 20px #808080","-webkit-box-shadow":"0px 10px 20px #808080","-moz-box-shadow":"0px 10px 20px #808080","-khtml-box-shadow":"0px 10px 20px #808080",filter:"progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')"},".MathJax_MenuItem":{padding:n?"2px 2em":"1px 2em",background:"transparent"},".MathJax_MenuArrow":{position:"absolute",right:".5em",color:"#666666","font-family":l?"'Arial unicode MS'":null},".MathJax_MenuActive .MathJax_MenuArrow":{color:"white"},".MathJax_MenuArrow.RTL":{left:".5em",right:"auto"},".MathJax_MenuCheck":{position:"absolute",left:".7em","font-family":l?"'Arial unicode MS'":null},".MathJax_MenuCheck.RTL":{right:".7em",left:"auto"},".MathJax_MenuRadioCheck":{position:"absolute",left:n?"1em":".7em"},".MathJax_MenuRadioCheck.RTL":{right:n?"1em":".7em",left:"auto"},".MathJax_MenuLabel":{padding:n?"2px 2em 4px 1.33em":"1px 2em 3px 1.33em","font-style":"italic"},".MathJax_MenuRule":{"border-top":n?"1px solid #CCCCCC":"1px solid #DDDDDD",margin:n?"4px 1px 0px":"4px 3px"},".MathJax_MenuDisabled":{color:"GrayText"},".MathJax_MenuActive":{"background-color":n?"Highlight":"#606872",color:n?"HighlightText":"white"},".MathJax_Menu_Close":{position:"absolute",width:"31px",height:"31px",top:"-15px",left:"-15px"}}});
c.Register.StartupHook("MathEvents Ready",function(){h=MathJax.Extension.MathEvents.Event.False,d=MathJax.Extension.MathEvents.Hover});var a=MathJax.Menu=MathJax.Object.Subclass({version:q,items:[],posted:!1,title:null,margin:5,Init:function(){this.items=[].slice.call(arguments,0)},With:function(r){return r&&c.Insert(this,r),this},Post:function(s,C,A){s||(s=window.event);var r=document.getElementById("MathJax_MenuFrame");r||(r=a.Background(this),delete m.lastItem,delete m.lastMenu,delete a.skipUp,j.Post(["post",a.jax]),a.isRTL="rtl"===MathJax.Localization.fontDirection());var t=g.Element("div",{onmouseup:a.Mouseup,ondblclick:h,ondragstart:h,onselectstart:h,oncontextmenu:h,menuItem:this,className:"MathJax_Menu"});A||MathJax.Localization.setCSS(t);for(var v=0,u=this.items.length;u>v;v++)this.items[v].Create(t);a.isMobile&&g.addElement(t,"span",{className:"MathJax_Menu_Close",menu:C,ontouchstart:a.Close,ontouchend:h,onmousedown:a.Close,onmouseup:h},[["img",{src:p.closeImg,style:{width:"100%",height:"100%"}}]]),r.appendChild(t),this.posted=!0,t.style.width=t.offsetWidth+2+"px";var B=s.pageX,z=s.pageY;if(B||z||(B=s.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,z=s.clientY+document.body.scrollTop+document.documentElement.scrollTop),C){var w="left",D=C.offsetWidth;for(B=a.isMobile?30:D-2,z=0;C&&C!==r;)B+=C.offsetLeft,z+=C.offsetTop,C=C.parentNode;a.isMobile||(a.isRTL&&B-D-t.offsetWidth>this.margin||!a.isRTL&&B+t.offsetWidth>document.body.offsetWidth-this.margin)&&(w="right",B=Math.max(this.margin,B-D-t.offsetWidth+6)),n||(t.style["borderRadiusTop"+w]=0,t.style["WebkitBorderRadiusTop"+w]=0,t.style["MozBorderRadiusTop"+w]=0,t.style["KhtmlBorderRadiusTop"+w]=0)}else B+t.offsetWidth>document.body.offsetWidth-this.margin&&(B=document.body.offsetWidth-t.offsetWidth-this.margin),a.isMobile&&(B=Math.max(5,B-Math.floor(t.offsetWidth/2)),z-=20),a.skipUp=s.isContextMenu;return t.style.left=B+"px",t.style.top=z+"px",document.selection&&document.selection.empty&&document.selection.empty(),h(s)},Remove:function(r){j.Post(["unpost",a.jax]);var t=document.getElementById("MathJax_MenuFrame");return t&&(t.parentNode.removeChild(t),this.msieFixedPositionBug&&detachEvent("onresize",a.Resize)),a.jax.hover&&(delete a.jax.hover.nofade,d.UnHover(a.jax)),h(r)},Find:function(r){return this.FindN(1,r,[].slice.call(arguments,1))},FindId:function(r){return this.FindN(0,r,[].slice.call(arguments,1))},FindN:function(v,s,u){for(var t=0,r=this.items.length;r>t;t++)if(this.items[t].name[v]===s)return u.length?this.items[t].menu?this.items[t].menu.FindN(v,u[0],u.slice(1)):null:this.items[t];return null},IndexOf:function(r){return this.IndexOfN(1,r)},IndexOfId:function(r){return this.IndexOfN(0,r)},IndexOfN:function(u,s){for(var t=0,r=this.items.length;r>t;t++)if(this.items[t].name[u]===s)return t;return null}},{config:p,div:null,Close:function(r){return a.Event(r,this.menu||this.parentNode,this.menu?"Touchend":"Remove")},Remove:function(r){return a.Event(r,this,"Remove")},Mouseover:function(r){return a.Event(r,this,"Mouseover")},Mouseout:function(r){return a.Event(r,this,"Mouseout")},Mousedown:function(r){return a.Event(r,this,"Mousedown")},Mouseup:function(r){return a.Event(r,this,"Mouseup")},Touchstart:function(r){return a.Event(r,this,"Touchstart")},Touchend:function(r){return a.Event(r,this,"Touchend")},Event:function(t,v,r,u){if(a.skipMouseover&&"Mouseover"===r&&!u)return h(t);if(a.skipUp){if(r.match(/Mouseup|Touchend/))return delete a.skipUp,h(t);("Touchstart"===r||"Mousedown"===r&&!a.skipMousedown)&&delete a.skipUp}t||(t=window.event);var s=v.menuItem;return s&&s[r]?s[r](t,v):null},BGSTYLE:{position:"absolute",left:0,top:0,"z-index":200,width:"100%",height:"100%",border:0,padding:0,margin:0},Background:function(s){var t=g.addElement(document.body,"div",{style:this.BGSTYLE,id:"MathJax_MenuFrame"},[["div",{style:this.BGSTYLE,menuItem:s,onmousedown:this.Remove}]]),r=t.firstChild;return a.msieBackgroundBug&&(r.style.backgroundColor="white",r.style.filter="alpha(opacity=0)"),a.msieFixedPositionBug?(t.width=t.height=0,this.Resize(),attachEvent("onresize",this.Resize)):r.style.position="fixed",t},Resize:function(){setTimeout(a.SetWH,0)},SetWH:function(){var r=document.getElementById("MathJax_MenuFrame");r&&(r=r.firstChild,r.style.width=r.style.height="1px",r.style.width=document.body.scrollWidth+"px",r.style.height=document.body.scrollHeight+"px")},saveCookie:function(){g.Cookie.Set("menu",this.cookie)},getCookie:function(){this.cookie=g.Cookie.Get("menu")},getImages:function(){if(a.isMobile){var r=new Image;r.src=p.closeImg}}}),m=a.ITEM=MathJax.Object.Subclass({name:"",Create:function(s){if(!this.hidden){var r={onmouseover:a.Mouseover,onmouseout:a.Mouseout,onmouseup:a.Mouseup,onmousedown:a.Mousedown,ondragstart:h,onselectstart:h,onselectend:h,ontouchstart:a.Touchstart,ontouchend:a.Touchend,className:"MathJax_MenuItem",menuItem:this};this.disabled&&(r.className+=" MathJax_MenuDisabled"),g.addElement(s,"div",r,this.Label(r,s))}},Name:function(){return o(this.name[0],this.name[1])},Mouseover:function(v,x){if(this.disabled||this.Activate(x),!this.menu||!this.menu.posted){for(var w=document.getElementById("MathJax_MenuFrame").childNodes,s=x.parentNode.childNodes,t=0,r=s.length;r>t;t++){var u=s[t].menuItem;u&&u.menu&&u.menu.posted&&u.Deactivate(s[t])}for(r=w.length-1;r>=0&&x.parentNode.menuItem!==w[r].menuItem;)w[r].menuItem.posted=!1,w[r].parentNode.removeChild(w[r]),r--;this.Timer&&!a.isMobile&&this.Timer(v,x)}},Mouseout:function(r,s){this.menu&&this.menu.posted||this.Deactivate(s),this.timer&&(clearTimeout(this.timer),delete this.timer)},Mouseup:function(r,s){return this.Remove(r,s)},Touchstart:function(r,s){return this.TouchEvent(r,s,"Mousedown")},Touchend:function(r,s){return this.TouchEvent(r,s,"Mouseup")},TouchEvent:function(s,t,r){return this!==m.lastItem&&(m.lastMenu&&a.Event(s,m.lastMenu,"Mouseout"),a.Event(s,t,"Mouseover",!0),m.lastItem=this,m.lastMenu=t),this.nativeTouch?null:(a.Event(s,t,r),!1)},Remove:function(r,s){return s=s.parentNode.menuItem,s.Remove(r,s)},Activate:function(r){this.Deactivate(r),r.className+=" MathJax_MenuActive"},Deactivate:function(r){r.className=r.className.replace(/ MathJax_MenuActive/,"")},With:function(r){return r&&c.Insert(this,r),this},isRTL:function(){return a.isRTL},rtlClass:function(){return this.isRTL()?" RTL":""}});a.ITEM.COMMAND=a.ITEM.Subclass({action:function(){},Init:function(r,t,s){r instanceof Array||(r=[r,r]),this.name=r,this.action=t,this.With(s)},Label:function(){return[this.Name()]},Mouseup:function(r,s){return this.disabled||(this.Remove(r,s),j.Post(["command",this]),this.action.call(this,r)),h(r)}}),a.ITEM.SUBMENU=a.ITEM.Subclass({menu:null,marker:n&&!c.Browser.isSafari?"▶":"▸",markerRTL:n&&!c.Browser.isSafari?"▰":"◂",Init:function(r,t){r instanceof Array||(r=[r,r]),this.name=r;var s=1;t instanceof a.ITEM||(this.With(t),s++),this.menu=a.apply(a,[].slice.call(arguments,s))},Label:function(){return this.menu.posted=!1,[this.Name()+" ",["span",{className:"MathJax_MenuArrow"+this.rtlClass()},[this.isRTL()?this.markerRTL:this.marker]]]},Timer:function(r,s){this.timer&&clearTimeout(this.timer),r={clientX:r.clientX,clientY:r.clientY},this.timer=setTimeout(f(["Mouseup",this,r,s]),p.delay)},Touchend:function(s,u){var t=this.menu.posted,r=this.SUPER(arguments).Touchend.apply(this,arguments);return t&&(this.Deactivate(u),delete m.lastItem,delete m.lastMenu),r},Mouseup:function(s,u){if(!this.disabled)if(this.menu.posted)for(var t=document.getElementById("MathJax_MenuFrame").childNodes,r=t.length-1;r>=0;){var v=t[r];if(v.menuItem.posted=!1,v.parentNode.removeChild(v),v.menuItem===this.menu)break;r--}else this.timer&&(clearTimeout(this.timer),delete this.timer),this.menu.Post(s,u,this.ltr);return h(s)}}),a.ITEM.RADIO=a.ITEM.Subclass({variable:null,marker:n?"●":"✓",Init:function(s,r,t){s instanceof Array||(s=[s,s]),this.name=s,this.variable=r,this.With(t),null==this.value&&(this.value=this.name[0])},Label:function(){var r={className:"MathJax_MenuRadioCheck"+this.rtlClass()};return p.settings[this.variable]!==this.value&&(r={style:{display:"none"}}),[["span",r,[this.marker]]," "+this.Name()]},Mouseup:function(u,v){if(!this.disabled){for(var w=v.parentNode.childNodes,s=0,r=w.length;r>s;s++){var t=w[s].menuItem;t&&t.variable===this.variable&&(w[s].firstChild.style.display="none")}v.firstChild.display="",p.settings[this.variable]=this.value,a.cookie[this.variable]=p.settings[this.variable],a.saveCookie(),j.Post(["radio button",this])}return this.Remove(u,v),this.action&&!this.disabled&&this.action.call(a,this),h(u)}}),a.ITEM.CHECKBOX=a.ITEM.Subclass({variable:null,marker:"✓",Init:function(s,r,t){s instanceof Array||(s=[s,s]),this.name=s,this.variable=r,this.With(t)},Label:function(){var r={className:"MathJax_MenuCheck"+this.rtlClass()};return p.settings[this.variable]||(r={style:{display:"none"}}),[["span",r,[this.marker]]," "+this.Name()]},Mouseup:function(r,s){return this.disabled||(s.firstChild.display=p.settings[this.variable]?"none":"",p.settings[this.variable]=!p.settings[this.variable],a.cookie[this.variable]=p.settings[this.variable],a.saveCookie(),j.Post(["checkbox",this])),this.Remove(r,s),this.action&&!this.disabled&&this.action.call(a,this),h(r)}}),a.ITEM.LABEL=a.ITEM.Subclass({Init:function(r,s){r instanceof Array||(r=[r,r]),this.name=r,this.With(s)},Label:function(r){return delete r.onmouseover,delete r.onmouseout,delete r.onmousedown,r.className+=" MathJax_MenuLabel",[this.Name()]}}),a.ITEM.RULE=a.ITEM.Subclass({Label:function(r){return delete r.onmouseover,delete r.onmouseout,delete r.onmousedown,r.className+=" MathJax_MenuRule",null}}),a.About=function(){var t=b["HTML-CSS"]||{},s=(t.imgFonts?"image":t.fontInUse?(t.webFonts?"web":"local")+" "+t.fontInUse:b.SVG?"web SVG":"generic")+" fonts",x=!t.webFonts||t.imgFonts?null:t.allowWebFonts.replace(/otf/,"woff or otf")+" fonts",r=["MathJax.js v"+MathJax.fileversion,["br"]];r.push(["div",{style:{"border-top":"groove 2px",margin:".25em 0"}}]),a.About.GetJax(r,MathJax.InputJax,["InputJax","%1 Input Jax v%2"]),a.About.GetJax(r,MathJax.OutputJax,["OutputJax","%1 Output Jax v%2"]),a.About.GetJax(r,MathJax.ElementJax,["ElementJax","%1 Element Jax v%2"]),r.push(["div",{style:{"border-top":"groove 2px",margin:".25em 0"}}]),a.About.GetJax(r,MathJax.Extension,["Extension","%1 Extension v%2"],!0),r.push(["div",{style:{"border-top":"groove 2px",margin:".25em 0"}}],["center",{},[c.Browser+" v"+c.Browser.version+(x?" — "+o(x.replace(/ /g,""),x):"")]]),a.About.div=a.Background(a.About);var v=g.addElement(a.About.div,"div",{id:"MathJax_About"},[["b",{style:{fontSize:"120%"}},["MathJax"]]," v"+MathJax.version,["br"],o(s.replace(/ /g,""),"using "+s),["br"],["br"],["span",{style:{display:"inline-block","text-align":"left","font-size":"80%","max-height":"20em",overflow:"auto","background-color":"#E4E4E4",padding:".4em .6em",border:"1px inset"}},r],["br"],["br"],["a",{href:"http://www.mathjax.org/"},["www.mathjax.org"]],["img",{src:p.closeImg,style:{width:"21px",height:"21px",position:"absolute",top:".2em",right:".2em"},onclick:a.About.Remove}]]);MathJax.Localization.setCSS(v);var w=document.documentElement||{},u=window.innerHeight||w.clientHeight||w.scrollHeight||0;a.prototype.msieAboutBug?(v.style.width="20em",v.style.position="absolute",v.style.left=Math.floor((document.documentElement.scrollWidth-v.offsetWidth)/2)+"px",v.style.top=Math.floor((u-v.offsetHeight)/3)+document.body.scrollTop+"px"):(v.style.marginLeft=Math.floor(-v.offsetWidth/2)+"px",v.style.top=Math.floor((u-v.offsetHeight)/3)+"px")},a.About.Remove=function(){a.About.div&&(document.body.removeChild(a.About.div),delete a.About.div)},a.About.GetJax=function(s,x,v,u){var w=[];for(var y in x)x.hasOwnProperty(y)&&x[y]&&(u&&x[y].version||x[y].isa&&x[y].isa(x))&&w.push(o(v[0],v[1],x[y].id||y,x[y].version));w.sort();for(var t=0,r=w.length;r>t;t++)s.push(w[t],["br"]);return s},a.Help=function(){k.Require("[MathJax]/extensions/HelpDialog.js",function(){MathJax.Extension.Help.Dialog()})},a.ShowSource=function(v){v||(v=window.event);var u={screenX:v.screenX,screenY:v.screenY};if(a.jax)if("MathML"===this.format){var s=MathJax.ElementJax.mml;if(s&&"undefined"!=typeof s.mbase.prototype.toMathML)try{a.ShowSource.Text(a.jax.root.toMathML("",a.jax),v)}catch(t){if(!t.restart)throw t;f.After([this,a.ShowSource,u],t.restart)}else if(!k.loadingToMathML)return k.loadingToMathML=!0,a.ShowSource.Window(v),void f.Queue(k.Require("[MathJax]/extensions/toMathML.js"),function(){delete k.loadingToMathML,s.mbase.prototype.toMathML||(s.mbase.prototype.toMathML=function(){})},[this,a.ShowSource,u])}else if("Error"===this.format)a.ShowSource.Text(a.jax.errorText,v);else if(p.semanticsAnnotations[this.format]){var r=a.jax.root.getAnnotation(this.format);r.data[0]&&a.ShowSource.Text(r.data[0].toString())}else{if(null==a.jax.originalText)return void alert(o("NoOriginalForm","No original form available"));a.ShowSource.Text(a.jax.originalText,v)}},a.ShowSource.Window=function(){if(!a.ShowSource.w){var t=[],r=p.windowSettings;for(var u in r)r.hasOwnProperty(u)&&t.push(u+"="+r[u]);a.ShowSource.w=window.open("","_blank",t.join(","))}return a.ShowSource.w},a.ShowSource.Text=function(v,t){var r=a.ShowSource.Window(t);delete a.ShowSource.w,v=v.replace(/^\s*/,"").replace(/\s*$/,""),v=v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");var u=o("EqSource","MathJax Equation Source");if(a.isMobile)r.document.open(),r.document.write("<html><head><meta name='viewport' content='width=device-width, initial-scale=1.0' /><title>"+u+"</title></head><body style='font-size:85%'>"),r.document.write("<pre>"+v+"</pre>"),r.document.write("<hr><input type='button' value='"+o("Close","Close")+"' onclick='window.close()' />"),r.document.write("</body></html>"),r.document.close();else{r.document.open(),r.document.write("<html><head><title>"+u+"</title></head><body style='font-size:85%'>"),r.document.write("<table><tr><td><pre>"+v+"</pre></td></tr></table>"),r.document.write("</body></html>"),r.document.close();var s=r.document.body.firstChild;setTimeout(function(){var w,D,A=r.outerHeight-r.innerHeight||30,z=r.outerWidth-r.innerWidth||30;z=Math.max(100,Math.min(Math.floor(.5*screen.width),s.offsetWidth+z+25)),A=Math.max(40,Math.min(Math.floor(.5*screen.height),s.offsetHeight+A+25)),a.prototype.msieHeightBug&&(A+=35),r.resizeTo(z,A);var C;try{C=t.screenX}catch(B){}t&&null!=C&&(w=Math.max(0,Math.min(t.screenX-Math.floor(z/2),screen.width-z-20)),D=Math.max(0,Math.min(t.screenY-Math.floor(A/2),screen.height-A-20)),r.moveTo(w,D))},50)}},a.Scale=function(){var s=b["HTML-CSS"],r=b.NativeMML,v=b.SVG,u=(s||r||v||{config:{scale:100}}).config.scale,t=prompt(o("ScaleMath","Scale all mathematics (compared to surrounding text) by"),u+"%");t&&(t.match(/^\s*\d+(\.\d*)?\s*%?\s*$/)?(t=parseFloat(t),t?t!==u&&(s&&(s.config.scale=t),r&&(r.config.scale=t),v&&(v.config.scale=t),a.cookie.scale=t,a.saveCookie(),c.Reprocess()):alert(o("NonZeroScale","The scale should not be zero"))):alert(o("PercentScale","The scale should be a percentage (e.g., 120%%)")))},a.Zoom=function(){MathJax.Extension.MathZoom||k.Require("[MathJax]/extensions/MathZoom.js")},a.Renderer=function(){var s=c.outputJax["jax/mml"];if(s[0]!==p.settings.renderer){var u,t,v=c.Browser,r=a.Renderer.Messages;switch(p.settings.renderer){case"NativeMML":p.settings.warnedMML||(v.isChrome&&"24."!==v.version.substr(0,3)?u=r.MML.WebKit:v.isSafari&&!v.versionAtLeast("5.0")?u=r.MML.WebKit:v.isMSIE?v.hasMathPlayer||(u=r.MML.MSIE):u=r.MML[v],t="warnedMML");break;case"SVG":p.settings.warnedSVG||v.isMSIE&&!e&&(u=r.SVG.MSIE)}if(u){if(u=o(u[0],u[1]),u+="\n\n",u+=o("SwitchAnyway","Switch the renderer anyway?\n\n(Press OK to switch, CANCEL to continue with the current renderer)"),a.cookie.renderer=s[0].id,a.saveCookie(),!confirm(u))return a.cookie.renderer=p.settings.renderer=g.Cookie.Get("menu").renderer,void a.saveCookie();t&&(a.cookie.warned=p.settings.warned=!0),a.cookie.renderer=p.settings.renderer,a.saveCookie()}c.Queue(["setRenderer",c,p.settings.renderer,"jax/mml"],["Rerender",c])}},a.Renderer.Messages={MML:{WebKit:["WebkitNativeMMLWarning","Your browser doesn't seem to support MathML natively, so switching to MathML output may cause the mathematics on the page to become unreadable."],MSIE:["MSIENativeMMLWarning","Internet Explorer requires the MathPlayer plugin in order to process MathML output."],Opera:["OperaNativeMMLWarning","Opera's support for MathML is limited, so switching to MathML output may cause some expressions to render poorly."],Safari:["SafariNativeMMLWarning","Your browser's native MathML does not implement all the features used by MathJax, so some expressions may not render properly."],Firefox:["FirefoxNativeMMLWarning","Your browser's native MathML does not implement all the features used by MathJax, so some expressions may not render properly."]},SVG:{MSIE:["MSIESVGWarning","SVG is not implemented in Internet Explorer prior to IE9 or when it is emulating IE8 or below. Switching to SVG output will cause the mathematics to not display properly."]}},a.Font=function(){var r=b["HTML-CSS"];r&&document.location.reload()},a.Locale=function(){MathJax.Localization.setLocale(p.settings.locale),MathJax.Hub.Queue(["Reprocess",MathJax.Hub])},a.LoadLocale=function(){var r=prompt(o("LoadURL","Load translation data from this URL:"));r&&(r.match(/\.js$/)||alert(o("BadURL","The URL should be for a javascript file that defines MathJax translation data.  Javascript file names should end with '.js'")),k.Require(r,function(s){s!=k.STATUS.OK&&alert(o("BadData","Failed to load translation data from %1",r))}))},a.MPEvents=function(t){var s=p.settings.discoverable,r=a.MPEvents.Messages;if(e)!s&&"Menu Events"===t.name[1]&&p.settings.mpContext&&alert(o.apply(o,r.IE9warning));else{if(p.settings.mpMouse&&!confirm(o.apply(o,r.IE8warning)))return delete a.cookie.mpContext,delete p.settings.mpContext,delete a.cookie.mpMouse,delete p.settings.mpMouse,void a.saveCookie();p.settings.mpContext=p.settings.mpMouse,a.cookie.mpContext=a.cookie.mpMouse=p.settings.mpMouse,a.saveCookie(),MathJax.Hub.Queue(["Rerender",MathJax.Hub])}},a.MPEvents.Messages={IE8warning:["IE8warning","This will disable the MathJax menu and zoom features, but you can Alt-Click on an expression to obtain the MathJax menu instead.\n\nReally change the MathPlayer settings?"],IE9warning:["IE9warning","The MathJax contextual menu will be disabled, but you can Alt-Click on an expression to obtain the MathJax menu instead."]},c.Browser.Select({MSIE:function(r){var s="BackCompat"===document.compatMode,t=r.versionAtLeast("8.0")&&document.documentMode>7;a.Augment({margin:20,msieBackgroundBug:(document.documentMode||0)<9,msieFixedPositionBug:s||!t,msieAboutBug:s,msieHeightBug:(document.documentMode||0)<9}),e&&(delete p.styles["#MathJax_About"].filter,delete p.styles[".MathJax_Menu"].filter)},Firefox:function(r){a.skipMouseover=r.isMobile&&r.versionAtLeast("6.0"),a.skipMousedown=r.isMobile}}),a.isMobile=c.Browser.isMobile,a.noContextMenu=c.Browser.noContextMenu,a.CreateLocaleMenu=function(){if(a.menu){var w=a.menu.Find("Language").menu,t=w.items,s=[],y=MathJax.Localization.strings;for(var x in y)y.hasOwnProperty(x)&&s.push(x);s=s.sort(),w.items=[];for(var u=0,r=s.length;r>u;u++){var v=y[s[u]].menuTitle;v?v+=" ("+s[u]+")":v=s[u],w.items.push(m.RADIO([s[u],v],"locale",{action:a.Locale}))}w.items.push(t[t.length-2],t[t.length-1])}},a.CreateAnnotationMenu=function(){if(a.menu){var t=a.menu.Find("Show Math As","Annotation").menu,s=p.semanticsAnnotations;for(var r in s)s.hasOwnProperty(r)&&t.items.push(m.COMMAND([r,r],a.ShowSource,{hidden:!0,nativeTouch:!0,format:r}))}},c.Register.StartupHook("End Config",function(){p.settings=c.config.menuSettings,"undefined"!=typeof p.settings.showRenderer&&(p.showRenderer=p.settings.showRenderer),"undefined"!=typeof p.settings.showFontMenu&&(p.showFontMenu=p.settings.showFontMenu),"undefined"!=typeof p.settings.showContext&&(p.showContext=p.settings.showContext),a.getCookie(),a.menu=a(m.SUBMENU(["Show","Show Math As"],m.COMMAND(["MathMLcode","MathML Code"],a.ShowSource,{nativeTouch:!0,format:"MathML"}),m.COMMAND(["Original","Original Form"],a.ShowSource,{nativeTouch:!0}),m.SUBMENU(["Annotation","Annotation"],{disabled:!0}),m.RULE(),m.CHECKBOX(["texHints","Show TeX hints in MathML"],"texHints"),m.CHECKBOX(["semantics","Add original form as annotation"],"semantics")),m.RULE(),m.SUBMENU(["Settings","Math Settings"],m.SUBMENU(["ZoomTrigger","Zoom Trigger"],m.RADIO(["Hover","Hover"],"zoom",{action:a.Zoom}),m.RADIO(["Click","Click"],"zoom",{action:a.Zoom}),m.RADIO(["DoubleClick","Double-Click"],"zoom",{action:a.Zoom}),m.RADIO(["NoZoom","No Zoom"],"zoom",{value:"None"}),m.RULE(),m.LABEL(["TriggerRequires","Trigger Requires:"]),m.CHECKBOX(c.Browser.isMac?["Option","Option"]:["Alt","Alt"],"ALT"),m.CHECKBOX(["Command","Command"],"CMD",{hidden:!c.Browser.isMac}),m.CHECKBOX(["Control","Control"],"CTRL",{hidden:c.Browser.isMac}),m.CHECKBOX(["Shift","Shift"],"Shift")),m.SUBMENU(["ZoomFactor","Zoom Factor"],m.RADIO("125%","zscale"),m.RADIO("133%","zscale"),m.RADIO("150%","zscale"),m.RADIO("175%","zscale"),m.RADIO("200%","zscale"),m.RADIO("250%","zscale"),m.RADIO("300%","zscale"),m.RADIO("400%","zscale")),m.RULE(),m.SUBMENU(["Renderer","Math Renderer"],{hidden:!p.showRenderer},m.RADIO("HTML-CSS","renderer",{action:a.Renderer}),m.RADIO("MathML","renderer",{action:a.Renderer,value:"NativeMML"}),m.RADIO("SVG","renderer",{action:a.Renderer})),m.SUBMENU("MathPlayer",{hidden:!c.Browser.isMSIE||!p.showMathPlayer,disabled:!c.Browser.hasMathPlayer},m.LABEL(["MPHandles","Let MathPlayer Handle:"]),m.CHECKBOX(["MenuEvents","Menu Events"],"mpContext",{action:a.MPEvents,hidden:!e}),m.CHECKBOX(["MouseEvents","Mouse Events"],"mpMouse",{action:a.MPEvents,hidden:!e}),m.CHECKBOX(["MenuAndMouse","Mouse and Menu Events"],"mpMouse",{action:a.MPEvents,hidden:e})),m.SUBMENU(["FontPrefs","Font Preference"],{hidden:!p.showFontMenu},m.LABEL(["ForHTMLCSS","For HTML-CSS:"]),m.RADIO(["Auto","Auto"],"font",{action:a.Font}),m.RULE(),m.RADIO(["TeXLocal","TeX (local)"],"font",{action:a.Font}),m.RADIO(["TeXWeb","TeX (web)"],"font",{action:a.Font}),m.RADIO(["TeXImage","TeX (image)"],"font",{action:a.Font}),m.RULE(),m.RADIO(["STIXLocal","STIX (local)"],"font",{action:a.Font}),m.RADIO(["STIXWeb","STIX (web)"],"font",{action:a.Font}),m.RULE(),m.RADIO(["AsanaMathWeb","Asana Math (web)"],"font",{action:a.Font}),m.RADIO(["GyrePagellaWeb","Gyre Pagella (web)"],"font",{action:a.Font}),m.RADIO(["GyreTermesWeb","Gyre Termes (web)"],"font",{action:a.Font}),m.RADIO(["LatinModernWeb","Latin Modern (web)"],"font",{action:a.Font}),m.RADIO(["NeoEulerWeb","Neo Euler (web)"],"font",{action:a.Font})),m.SUBMENU(["ContextMenu","Contextual Menu"],{hidden:!p.showContext},m.RADIO("MathJax","context"),m.RADIO(["Browser","Browser"],"context")),m.COMMAND(["Scale","Scale All Math ..."],a.Scale),m.RULE().With({hidden:!p.showDiscoverable,name:["","discover_rule"]}),m.CHECKBOX(["Discoverable","Highlight on Hover"],"discoverable",{hidden:!p.showDiscoverable})),m.SUBMENU(["Locale","Language"],{hidden:!p.showLocale,ltr:!0},m.RADIO("en","locale",{action:a.Locale}),m.RULE().With({hidden:!p.showLocaleURL,name:["","localURL_rule"]}),m.COMMAND(["LoadLocale","Load from URL ..."],a.LoadLocale,{hidden:!p.showLocaleURL})),m.RULE(),m.COMMAND(["About","About MathJax"],a.About),m.COMMAND(["Help","MathJax Help"],a.Help)),a.isMobile&&!function(){var s=p.settings,r=a.menu.Find("Math Settings","Zoom Trigger").menu;r.items[0].disabled=r.items[1].disabled=!0,("Hover"===s.zoom||"Click"==s.zoom)&&(s.zoom="None"),r.items=r.items.slice(0,4),navigator.appVersion.match(/[ (]Android[) ]/)&&a.ITEM.SUBMENU.Augment({marker:"»"})}(),a.CreateLocaleMenu(),a.CreateAnnotationMenu()}),a.showRenderer=function(r){a.cookie.showRenderer=p.showRenderer=r,a.saveCookie(),a.menu.Find("Math Settings","Math Renderer").hidden=!r},a.showMathPlayer=function(r){a.cookie.showMathPlayer=p.showMathPlayer=r,a.saveCookie(),a.menu.Find("Math Settings","MathPlayer").hidden=!r},a.showFontMenu=function(r){a.cookie.showFontMenu=p.showFontMenu=r,a.saveCookie(),a.menu.Find("Math Settings","Font Preference").hidden=!r},a.showContext=function(r){a.cookie.showContext=p.showContext=r,a.saveCookie(),a.menu.Find("Math Settings","Contextual Menu").hidden=!r},a.showDiscoverable=function(r){a.cookie.showDiscoverable=p.showDiscoverable=r,a.saveCookie(),a.menu.Find("Math Settings","Highlight on Hover").hidden=!r,a.menu.Find("Math Settings","discover_rule").hidden=!r},a.showLocale=function(r){a.cookie.showLocale=p.showLocale=r,a.saveCookie(),a.menu.Find("Language").hidden=!r},MathJax.Hub.Register.StartupHook("HTML-CSS Jax Ready",function(){MathJax.OutputJax["HTML-CSS"].config.imageFont||(a.menu.Find("Math Settings","Font Preference","TeX (image)").disabled=!0)}),f.Queue(c.Register.StartupHook("End Config",{}),["getImages",a],["Styles",k,p.styles],["Post",c.Startup.signal,"MathMenu Ready"],["loadComplete",k,"[MathJax]/extensions/MathMenu.js"])}(MathJax.Hub,MathJax.HTML,MathJax.Ajax,MathJax.CallBack,MathJax.OutputJax),MathJax.ElementJax.mml=MathJax.ElementJax({mimeType:"jax/mml"},{id:"mml",version:"2.4.0",directory:MathJax.ElementJax.directory+"/mml",extensionDir:MathJax.ElementJax.extensionDir+"/mml",optableDir:MathJax.ElementJax.directory+"/mml/optable"}),MathJax.ElementJax.mml.Augment({Init:function(){if(this.root=1===arguments.length&&"math"===arguments[0].type?arguments[0]:MathJax.ElementJax.mml.math.apply(this,arguments),this.root.attr&&this.root.attr.mode){this.root.display||"display"!==this.root.attr.mode||(this.root.display="block",this.root.attrNames.push("display")),delete this.root.attr.mode;for(var b=0,a=this.root.attrNames.length;a>b;b++)if("mode"===this.root.attrNames[b]){this.root.attrNames.splice(b,1);break}}}},{INHERIT:"_inherit_",AUTO:"_auto_",SIZE:{INFINITY:"infinity",SMALL:"small",NORMAL:"normal",BIG:"big"},COLOR:{TRANSPARENT:"transparent"},VARIANT:{NORMAL:"normal",BOLD:"bold",ITALIC:"italic",BOLDITALIC:"bold-italic",DOUBLESTRUCK:"double-struck",FRAKTUR:"fraktur",BOLDFRAKTUR:"bold-fraktur",SCRIPT:"script",BOLDSCRIPT:"bold-script",SANSSERIF:"sans-serif",BOLDSANSSERIF:"bold-sans-serif",SANSSERIFITALIC:"sans-serif-italic",SANSSERIFBOLDITALIC:"sans-serif-bold-italic",MONOSPACE:"monospace",INITIAL:"inital",TAILED:"tailed",LOOPED:"looped",STRETCHED:"stretched",CALIGRAPHIC:"-tex-caligraphic",OLDSTYLE:"-tex-oldstyle"},FORM:{PREFIX:"prefix",INFIX:"infix",POSTFIX:"postfix"},LINEBREAK:{AUTO:"auto",NEWLINE:"newline",NOBREAK:"nobreak",GOODBREAK:"goodbreak",BADBREAK:"badbreak"},LINEBREAKSTYLE:{BEFORE:"before",AFTER:"after",DUPLICATE:"duplicate",INFIXLINBREAKSTYLE:"infixlinebreakstyle"},INDENTALIGN:{LEFT:"left",CENTER:"center",RIGHT:"right",AUTO:"auto",ID:"id",INDENTALIGN:"indentalign"},INDENTSHIFT:{INDENTSHIFT:"indentshift"},LINETHICKNESS:{THIN:"thin",MEDIUM:"medium",THICK:"thick"},NOTATION:{LONGDIV:"longdiv",ACTUARIAL:"actuarial",RADICAL:"radical",BOX:"box",ROUNDEDBOX:"roundedbox",CIRCLE:"circle",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",UPDIAGONALSTRIKE:"updiagonalstrike",DOWNDIAGONALSTRIKE:"downdiagonalstrike",UPDIAGONALARROW:"updiagonalarrow",VERTICALSTRIKE:"verticalstrike",HORIZONTALSTRIKE:"horizontalstrike",PHASORANGLE:"phasorangle",MADRUWB:"madruwb"},ALIGN:{TOP:"top",BOTTOM:"bottom",CENTER:"center",BASELINE:"baseline",AXIS:"axis",LEFT:"left",RIGHT:"right"},LINES:{NONE:"none",SOLID:"solid",DASHED:"dashed"},SIDE:{LEFT:"left",RIGHT:"right",LEFTOVERLAP:"leftoverlap",RIGHTOVERLAP:"rightoverlap"},WIDTH:{AUTO:"auto",FIT:"fit"},ACTIONTYPE:{TOGGLE:"toggle",STATUSLINE:"statusline",TOOLTIP:"tooltip",INPUT:"input"},LENGTH:{VERYVERYTHINMATHSPACE:"veryverythinmathspace",VERYTHINMATHSPACE:"verythinmathspace",THINMATHSPACE:"thinmathspace",MEDIUMMATHSPACE:"mediummathspace",THICKMATHSPACE:"thickmathspace",VERYTHICKMATHSPACE:"verythickmathspace",VERYVERYTHICKMATHSPACE:"veryverythickmathspace",NEGATIVEVERYVERYTHINMATHSPACE:"negativeveryverythinmathspace",NEGATIVEVERYTHINMATHSPACE:"negativeverythinmathspace",NEGATIVETHINMATHSPACE:"negativethinmathspace",NEGATIVEMEDIUMMATHSPACE:"negativemediummathspace",NEGATIVETHICKMATHSPACE:"negativethickmathspace",NEGATIVEVERYTHICKMATHSPACE:"negativeverythickmathspace",NEGATIVEVERYVERYTHICKMATHSPACE:"negativeveryverythickmathspace"},OVERFLOW:{LINBREAK:"linebreak",SCROLL:"scroll",ELIDE:"elide",TRUNCATE:"truncate",SCALE:"scale"},UNIT:{EM:"em",EX:"ex",PX:"px",IN:"in",CM:"cm",MM:"mm",PT:"pt",PC:"pc"},TEXCLASS:{ORD:0,OP:1,BIN:2,REL:3,OPEN:4,CLOSE:5,PUNCT:6,INNER:7,VCENTER:8,NONE:-1},TEXCLASSNAMES:["ORD","OP","BIN","REL","OPEN","CLOSE","PUNCT","INNER","VCENTER"],copyAttributes:{fontfamily:!0,fontsize:!0,fontweight:!0,fontstyle:!0,color:!0,background:!0,id:!0,"class":!0,href:!0,style:!0},skipAttributes:{texClass:!0,useHeight:!0,texprimestyle:!0},copyAttributeNames:["fontfamily","fontsize","fontweight","fontstyle","color","background","id","class","href","style"],Error:function(d,e){var c=this.merror(d),b=MathJax.Localization.fontDirection(),a=MathJax.Localization.fontFamily();return e&&(c=c.With(e)),(b||a)&&(c=this.mstyle(c),b&&(c.dir=b),a&&(c.style.fontFamily="font-family: "+a)),c}}),function(a){a.mbase=MathJax.Object.Subclass({type:"base",isToken:!1,defaults:{mathbackground:a.INHERIT,mathcolor:a.INHERIT,dir:a.INHERIT},noInherit:{},noInheritAttribute:{texClass:!0},linebreakContainer:!1,Init:function(){this.data=[],!this.inferRow||1===arguments.length&&arguments[0].inferred||this.Append(a.mrow().With({inferred:!0,notParent:!0})),this.Append.apply(this,arguments)},With:function(e){for(var f in e)e.hasOwnProperty(f)&&(this[f]=e[f]);return this},Append:function(){if(this.inferRow&&this.data.length)this.data[0].Append.apply(this.data[0],arguments);else for(var f=0,e=arguments.length;e>f;f++)this.SetData(this.data.length,arguments[f])},SetData:function(e,f){null!=f&&(f instanceof a.mbase||(f=this.isToken||this.isChars?a.chars(f):a.mtext(f)),f.parent=this,f.setInherit(this.inheritFromMe?this:this.inherit)),this.data[e]=f},Parent:function(){for(var e=this.parent;e&&e.notParent;)e=e.parent;return e},Get:function(f,k){if(null!=this[f])return this[f];if(this.attr&&null!=this.attr[f])return this.attr[f];var g=this.Parent();if(g&&null!=g["adjustChild_"+f])return g["adjustChild_"+f](this.childPosition(),k);for(var j=this.inherit,e=j;j;){var i=j[f];if(null==i&&j.attr&&(i=j.attr[f]),null!=i&&j.noInheritAttribute&&!j.noInheritAttribute[f]){var h=j.noInherit[this.type];if(!h||!h[f])return i}e=j,j=j.inherit}if(!k){if(this.defaults[f]===a.AUTO)return this.autoDefault(f);if(this.defaults[f]!==a.INHERIT&&null!=this.defaults[f])return this.defaults[f];if(e)return e.defaults[f]}return null},hasValue:function(e){return null!=this.Get(e,!0)},getValues:function(){for(var f={},g=0,e=arguments.length;e>g;g++)f[arguments[g]]=this.Get(arguments[g]);return f},adjustChild_scriptlevel:function(f,e){return this.Get("scriptlevel",e)},adjustChild_displaystyle:function(f,e){return this.Get("displaystyle",e)},adjustChild_texprimestyle:function(f,e){return this.Get("texprimestyle",e)},childPosition:function(){for(var h=this,g=h.parent;g.notParent;)h=g,g=h.parent;for(var f=0,e=g.data.length;e>f;f++)if(g.data[f]===h)return f;return null},setInherit:function(g){if(g!==this.inherit&&null==this.inherit){this.inherit=g;for(var f=0,e=this.data.length;e>f;f++)this.data[f]&&this.data[f].setInherit&&this.data[f].setInherit(g)}},setTeXclass:function(e){return this.getPrevClass(e),"undefined"!=typeof this.texClass?this:e},getPrevClass:function(e){e&&(this.prevClass=e.Get("texClass"),this.prevLevel=e.Get("scriptlevel"))},updateTeXclass:function(e){e&&(this.prevClass=e.prevClass,delete e.prevClass,this.prevLevel=e.prevLevel,delete e.prevLevel,this.texClass=e.Get("texClass"))},texSpacing:function(){var f=null!=this.prevClass?this.prevClass:a.TEXCLASS.NONE,e=this.Get("texClass")||a.TEXCLASS.ORD;if(f===a.TEXCLASS.NONE||e===a.TEXCLASS.NONE)return"";f===a.TEXCLASS.VCENTER&&(f=a.TEXCLASS.ORD),e===a.TEXCLASS.VCENTER&&(e=a.TEXCLASS.ORD);
var g=this.TEXSPACE[f][e];return this.prevLevel>0&&this.Get("scriptlevel")>0&&g>=0?"":this.TEXSPACELENGTH[Math.abs(g)]},TEXSPACELENGTH:["",a.LENGTH.THINMATHSPACE,a.LENGTH.MEDIUMMATHSPACE,a.LENGTH.THICKMATHSPACE],TEXSPACE:[[0,-1,2,3,0,0,0,1],[-1,-1,0,3,0,0,0,1],[2,2,0,0,2,0,0,2],[3,3,0,0,3,0,0,3],[0,0,0,0,0,0,0,0],[0,-1,2,3,0,0,0,1],[1,1,0,1,1,1,1,1],[1,-1,2,3,1,0,1,1]],autoDefault:function(){return""},isSpacelike:function(){return!1},isEmbellished:function(){return!1},Core:function(){return this},CoreMO:function(){return this},hasNewline:function(){if(this.isEmbellished())return this.CoreMO().hasNewline();if(this.isToken||this.linebreakContainer)return!1;for(var f=0,e=this.data.length;e>f;f++)if(this.data[f]&&this.data[f].hasNewline())return!0;return!1},array:function(){return this.inferred?this.data:[this]},toString:function(){return this.type+"("+this.data.join(",")+")"},getAnnotation:function(){return null}},{childrenSpacelike:function(){for(var f=0,e=this.data.length;e>f;f++)if(!this.data[f].isSpacelike())return!1;return!0},childEmbellished:function(){return this.data[0]&&this.data[0].isEmbellished()},childCore:function(){return this.data[0]},childCoreMO:function(){return this.data[0]?this.data[0].CoreMO():null},setChildTeXclass:function(e){return this.data[0]&&(e=this.data[0].setTeXclass(e),this.updateTeXclass(this.data[0])),e},setBaseTeXclasses:function(g){this.getPrevClass(g),this.texClass=null,this.data[0]?this.isEmbellished()||this.data[0].isa(a.mi)?(g=this.data[0].setTeXclass(g),this.updateTeXclass(this.Core())):(this.data[0].setTeXclass(),g=this):g=this;for(var f=1,e=this.data.length;e>f;f++)this.data[f]&&this.data[f].setTeXclass();return g},setSeparateTeXclasses:function(g){this.getPrevClass(g);for(var f=0,e=this.data.length;e>f;f++)this.data[f]&&this.data[f].setTeXclass();return this.isEmbellished()&&this.updateTeXclass(this.Core()),this}}),a.mi=a.mbase.Subclass({type:"mi",isToken:!0,texClass:a.TEXCLASS.ORD,defaults:{mathvariant:a.AUTO,mathsize:a.INHERIT,mathbackground:a.INHERIT,mathcolor:a.INHERIT,dir:a.INHERIT},autoDefault:function(f){if("mathvariant"===f){var e=(this.data[0]||"").toString();return 1===e.length||2===e.length&&e.charCodeAt(0)>=55296&&e.charCodeAt(0)<56320?a.VARIANT.ITALIC:a.VARIANT.NORMAL}return""},setTeXclass:function(f){this.getPrevClass(f);var e=this.data.join("");return e.length>1&&e.match(/^[a-z][a-z0-9]*$/i)&&this.texClass===a.TEXCLASS.ORD&&(this.texClass=a.TEXCLASS.OP,this.autoOP=!0),this}}),a.mn=a.mbase.Subclass({type:"mn",isToken:!0,texClass:a.TEXCLASS.ORD,defaults:{mathvariant:a.INHERIT,mathsize:a.INHERIT,mathbackground:a.INHERIT,mathcolor:a.INHERIT,dir:a.INHERIT}}),a.mo=a.mbase.Subclass({type:"mo",isToken:!0,defaults:{mathvariant:a.INHERIT,mathsize:a.INHERIT,mathbackground:a.INHERIT,mathcolor:a.INHERIT,dir:a.INHERIT,form:a.AUTO,fence:a.AUTO,separator:a.AUTO,lspace:a.AUTO,rspace:a.AUTO,stretchy:a.AUTO,symmetric:a.AUTO,maxsize:a.AUTO,minsize:a.AUTO,largeop:a.AUTO,movablelimits:a.AUTO,accent:a.AUTO,linebreak:a.LINEBREAK.AUTO,lineleading:a.INHERIT,linebreakstyle:a.AUTO,linebreakmultchar:a.INHERIT,indentalign:a.INHERIT,indentshift:a.INHERIT,indenttarget:a.INHERIT,indentalignfirst:a.INHERIT,indentshiftfirst:a.INHERIT,indentalignlast:a.INHERIT,indentshiftlast:a.INHERIT,texClass:a.AUTO},defaultDef:{form:a.FORM.INFIX,fence:!1,separator:!1,lspace:a.LENGTH.THICKMATHSPACE,rspace:a.LENGTH.THICKMATHSPACE,stretchy:!1,symmetric:!1,maxsize:a.SIZE.INFINITY,minsize:"0em",largeop:!1,movablelimits:!1,accent:!1,linebreak:a.LINEBREAK.AUTO,lineleading:"1ex",linebreakstyle:"before",indentalign:a.INDENTALIGN.AUTO,indentshift:"0",indenttarget:"",indentalignfirst:a.INDENTALIGN.INDENTALIGN,indentshiftfirst:a.INDENTSHIFT.INDENTSHIFT,indentalignlast:a.INDENTALIGN.INDENTALIGN,indentshiftlast:a.INDENTSHIFT.INDENTSHIFT,texClass:a.TEXCLASS.REL},SPACE_ATTR:{lspace:1,rspace:2,form:4},useMMLspacing:7,autoDefault:function(g,n){var l=this.def;if(!l){if("form"===g)return this.useMMLspacing&=~this.SPACE_ATTR.form,this.getForm();for(var k=this.data.join(""),f=[this.Get("form"),a.FORM.INFIX,a.FORM.POSTFIX,a.FORM.PREFIX],h=0,e=f.length;e>h;h++){var j=this.OPTABLE[f[h]][k];if(j){l=this.makeDef(j);break}}l||(l=this.CheckRange(k)),!l&&n?l={}:(l||(l=MathJax.Hub.Insert({},this.defaultDef)),l.form=f[0],this.def=l)}return this.useMMLspacing&=~(this.SPACE_ATTR[g]||0),null!=l[g]?l[g]:n?"":this.defaultDef[g]},CheckRange:function(j){var k=j.charCodeAt(0);k>=55296&&56320>k&&(k=(k-55296<<10)+(j.charCodeAt(1)-56320)+65536);for(var g=0,e=this.RANGES.length;e>g&&this.RANGES[g][0]<=k;g++)if(k<=this.RANGES[g][1]){if(this.RANGES[g][3]){var f=a.optableDir+"/"+this.RANGES[g][3]+".js";this.RANGES[g][3]=null,MathJax.Hub.RestartAfter(MathJax.Ajax.Require(f))}var h=a.TEXCLASSNAMES[this.RANGES[g][2]];return h=this.OPTABLE.infix[j]=a.mo.OPTYPES["BIN"===h?"BIN3":h],this.makeDef(h)}return null},makeDef:function(f){null==f[2]&&(f[2]=this.defaultDef.texClass),f[3]||(f[3]={});var e=MathJax.Hub.Insert({},f[3]);return e.lspace=this.SPACE[f[0]],e.rspace=this.SPACE[f[1]],e.texClass=f[2],e.texClass===a.TEXCLASS.REL&&(this.movablelimits||this.data.join("").match(/^[a-z]+$/i))&&(e.texClass=a.TEXCLASS.OP),e},getForm:function(){for(var e=this,g=this.parent,f=this.Parent();f&&f.isEmbellished();)e=g,g=f.parent,f=f.Parent();if(g&&"mrow"===g.type&&1!==g.NonSpaceLength()){if(g.FirstNonSpace()===e)return a.FORM.PREFIX;if(g.LastNonSpace()===e)return a.FORM.POSTFIX}return a.FORM.INFIX},isEmbellished:function(){return!0},hasNewline:function(){return this.Get("linebreak")===a.LINEBREAK.NEWLINE},setTeXclass:function(f){var e=this.getValues("form","lspace","rspace","fence");return this.useMMLspacing?(this.texClass=a.TEXCLASS.NONE,this):(e.fence&&!this.texClass&&(e.form===a.FORM.PREFIX&&(this.texClass=a.TEXCLASS.OPEN),e.form===a.FORM.POSTFIX&&(this.texClass=a.TEXCLASS.CLOSE)),this.texClass=this.Get("texClass"),"⁡"===this.data.join("")?(f&&(f.texClass=a.TEXCLASS.OP,f.fnOP=!0),this.texClass=this.prevClass=a.TEXCLASS.NONE,f):this.adjustTeXclass(f))},adjustTeXclass:function(e){return this.texClass===a.TEXCLASS.NONE?e:(e?(!e.autoOP||this.texClass!==a.TEXCLASS.BIN&&this.texClass!==a.TEXCLASS.REL||(e.texClass=a.TEXCLASS.ORD),this.prevClass=e.texClass||a.TEXCLASS.ORD,this.prevLevel=e.Get("scriptlevel")):this.prevClass=a.TEXCLASS.NONE,this.texClass!==a.TEXCLASS.BIN||this.prevClass!==a.TEXCLASS.NONE&&this.prevClass!==a.TEXCLASS.BIN&&this.prevClass!==a.TEXCLASS.OP&&this.prevClass!==a.TEXCLASS.REL&&this.prevClass!==a.TEXCLASS.OPEN&&this.prevClass!==a.TEXCLASS.PUNCT?this.prevClass!==a.TEXCLASS.BIN||this.texClass!==a.TEXCLASS.REL&&this.texClass!==a.TEXCLASS.CLOSE&&this.texClass!==a.TEXCLASS.PUNCT||(e.texClass=this.prevClass=a.TEXCLASS.ORD):this.texClass=a.TEXCLASS.ORD,this)}}),a.mtext=a.mbase.Subclass({type:"mtext",isToken:!0,isSpacelike:function(){return!0},texClass:a.TEXCLASS.ORD,defaults:{mathvariant:a.INHERIT,mathsize:a.INHERIT,mathbackground:a.INHERIT,mathcolor:a.INHERIT,dir:a.INHERIT}}),a.mspace=a.mbase.Subclass({type:"mspace",isToken:!0,isSpacelike:function(){return!0},defaults:{mathbackground:a.INHERIT,mathcolor:a.INHERIT,width:"0em",height:"0ex",depth:"0ex",linebreak:a.LINEBREAK.AUTO},hasDimAttr:function(){return this.hasValue("width")||this.hasValue("height")||this.hasValue("depth")},hasNewline:function(){return!this.hasDimAttr()&&this.Get("linebreak")===a.LINEBREAK.NEWLINE}}),a.ms=a.mbase.Subclass({type:"ms",isToken:!0,texClass:a.TEXCLASS.ORD,defaults:{mathvariant:a.INHERIT,mathsize:a.INHERIT,mathbackground:a.INHERIT,mathcolor:a.INHERIT,dir:a.INHERIT,lquote:'"',rquote:'"'}}),a.mglyph=a.mbase.Subclass({type:"mglyph",isToken:!0,texClass:a.TEXCLASS.ORD,defaults:{mathbackground:a.INHERIT,mathcolor:a.INHERIT,alt:"",src:"",width:a.AUTO,height:a.AUTO,valign:"0em"}}),a.mrow=a.mbase.Subclass({type:"mrow",isSpacelike:a.mbase.childrenSpacelike,inferred:!1,notParent:!1,isEmbellished:function(){for(var f=!1,g=0,e=this.data.length;e>g;g++)if(null!=this.data[g])if(this.data[g].isEmbellished()){if(f)return!1;f=!0,this.core=g}else if(!this.data[g].isSpacelike())return!1;return f},NonSpaceLength:function(){for(var g=0,f=0,e=this.data.length;e>f;f++)this.data[f]&&!this.data[f].isSpacelike()&&g++;return g},FirstNonSpace:function(){for(var f=0,e=this.data.length;e>f;f++)if(this.data[f]&&!this.data[f].isSpacelike())return this.data[f];return null},LastNonSpace:function(){for(var e=this.data.length-1;e>=0;e--)if(this.data[0]&&!this.data[e].isSpacelike())return this.data[e];return null},Core:function(){return this.isEmbellished()&&"undefined"!=typeof this.core?this.data[this.core]:this},CoreMO:function(){return this.isEmbellished()&&"undefined"!=typeof this.core?this.data[this.core].CoreMO():this},toString:function(){return this.inferred?"["+this.data.join(",")+"]":this.SUPER(arguments).toString.call(this)},setTeXclass:function(g){var f,e=this.data.length;if(!this.open&&!this.close||g&&g.fnOP){for(f=0;e>f;f++)this.data[f]&&(g=this.data[f].setTeXclass(g));return this.data[0]&&this.updateTeXclass(this.data[0]),g}for(this.getPrevClass(g),f=0;e>f;f++)this.data[f]&&(g=this.data[f].setTeXclass(g));return this.texClass=a.TEXCLASS.INNER,this},getAnnotation:function(e){return 1!=this.data.length?null:this.data[0].getAnnotation(e)}}),a.mfrac=a.mbase.Subclass({type:"mfrac",num:0,den:1,linebreakContainer:!0,texClass:a.TEXCLASS.INNER,isEmbellished:a.mbase.childEmbellished,Core:a.mbase.childCore,CoreMO:a.mbase.childCoreMO,defaults:{mathbackground:a.INHERIT,mathcolor:a.INHERIT,linethickness:a.LINETHICKNESS.MEDIUM,numalign:a.ALIGN.CENTER,denomalign:a.ALIGN.CENTER,bevelled:!1},adjustChild_displaystyle:function(){return!1},adjustChild_scriptlevel:function(){var e=this.Get("scriptlevel");return(!this.Get("displaystyle")||e>0)&&e++,e},adjustChild_texprimestyle:function(e){return e==this.den?!0:this.Get("texprimestyle")},setTeXclass:a.mbase.setSeparateTeXclasses}),a.msqrt=a.mbase.Subclass({type:"msqrt",inferRow:!0,linebreakContainer:!0,texClass:a.TEXCLASS.ORD,setTeXclass:a.mbase.setSeparateTeXclasses,adjustChild_texprimestyle:function(){return!0}}),a.mroot=a.mbase.Subclass({type:"mroot",linebreakContainer:!0,texClass:a.TEXCLASS.ORD,adjustChild_displaystyle:function(e){return 1===e?!1:this.Get("displaystyle")},adjustChild_scriptlevel:function(f){var e=this.Get("scriptlevel");return 1===f&&(e+=2),e},adjustChild_texprimestyle:function(e){return 0===e?!0:this.Get("texprimestyle")},setTeXclass:a.mbase.setSeparateTeXclasses}),a.mstyle=a.mbase.Subclass({type:"mstyle",isSpacelike:a.mbase.childrenSpacelike,isEmbellished:a.mbase.childEmbellished,Core:a.mbase.childCore,CoreMO:a.mbase.childCoreMO,inferRow:!0,defaults:{scriptlevel:a.INHERIT,displaystyle:a.INHERIT,scriptsizemultiplier:Math.sqrt(.5),scriptminsize:"8pt",mathbackground:a.INHERIT,mathcolor:a.INHERIT,dir:a.INHERIT,infixlinebreakstyle:a.LINEBREAKSTYLE.BEFORE,decimalseparator:"."},adjustChild_scriptlevel:function(){var f=this.scriptlevel;if(null==f)f=this.Get("scriptlevel");else if(String(f).match(/^ *[-+]/)){delete this.scriptlevel;var e=this.Get("scriptlevel");this.scriptlevel=f,f=e+parseInt(f)}return f},inheritFromMe:!0,noInherit:{mpadded:{width:!0,height:!0,depth:!0,lspace:!0,voffset:!0},mtable:{width:!0,height:!0,depth:!0,align:!0}},setTeXclass:a.mbase.setChildTeXclass}),a.merror=a.mbase.Subclass({type:"merror",inferRow:!0,linebreakContainer:!0,texClass:a.TEXCLASS.ORD}),a.mpadded=a.mbase.Subclass({type:"mpadded",inferRow:!0,isSpacelike:a.mbase.childrenSpacelike,isEmbellished:a.mbase.childEmbellished,Core:a.mbase.childCore,CoreMO:a.mbase.childCoreMO,defaults:{mathbackground:a.INHERIT,mathcolor:a.INHERIT,width:"",height:"",depth:"",lspace:0,voffset:0},setTeXclass:a.mbase.setChildTeXclass}),a.mphantom=a.mbase.Subclass({type:"mphantom",texClass:a.TEXCLASS.ORD,inferRow:!0,isSpacelike:a.mbase.childrenSpacelike,isEmbellished:a.mbase.childEmbellished,Core:a.mbase.childCore,CoreMO:a.mbase.childCoreMO,setTeXclass:a.mbase.setChildTeXclass}),a.mfenced=a.mbase.Subclass({type:"mfenced",defaults:{mathbackground:a.INHERIT,mathcolor:a.INHERIT,open:"(",close:")",separators:","},texClass:a.TEXCLASS.OPEN,setTeXclass:function(h){this.getPrevClass(h);var f=this.getValues("open","close","separators");if(f.open=f.open.replace(/[ \t\n\r]/g,""),f.close=f.close.replace(/[ \t\n\r]/g,""),f.separators=f.separators.replace(/[ \t\n\r]/g,""),""!==f.open&&(this.SetData("open",a.mo(f.open).With({fence:!0,form:a.FORM.PREFIX,texClass:a.TEXCLASS.OPEN})),this.data.open.useMMLspacing&=~this.data.open.SPACE_ATTR.form,h=this.data.open.setTeXclass(h)),""!==f.separators)for(;f.separators.length<this.data.length;)f.separators+=f.separators.charAt(f.separators.length-1);this.data[0]&&(h=this.data[0].setTeXclass(h));for(var g=1,e=this.data.length;e>g;g++)this.data[g]&&(""!==f.separators&&(this.SetData("sep"+g,a.mo(f.separators.charAt(g-1)).With({separator:!0})),h=this.data["sep"+g].setTeXclass(h)),h=this.data[g].setTeXclass(h));return""!==f.close&&(this.SetData("close",a.mo(f.close).With({fence:!0,form:a.FORM.POSTFIX,texClass:a.TEXCLASS.CLOSE})),this.data.close.useMMLspacing&=~this.data.close.SPACE_ATTR.form,h=this.data.close.setTeXclass(h)),this.updateTeXclass(this.data.open),this.texClass=a.TEXCLASS.INNER,h}}),a.menclose=a.mbase.Subclass({type:"menclose",inferRow:!0,linebreakContainer:!0,defaults:{mathbackground:a.INHERIT,mathcolor:a.INHERIT,notation:a.NOTATION.LONGDIV,texClass:a.TEXCLASS.ORD},setTeXclass:a.mbase.setSeparateTeXclasses}),a.msubsup=a.mbase.Subclass({type:"msubsup",base:0,sub:1,sup:2,isEmbellished:a.mbase.childEmbellished,Core:a.mbase.childCore,CoreMO:a.mbase.childCoreMO,defaults:{mathbackground:a.INHERIT,mathcolor:a.INHERIT,subscriptshift:"",superscriptshift:"",texClass:a.AUTO},autoDefault:function(e){return"texClass"===e?this.isEmbellished()?this.CoreMO().Get(e):a.TEXCLASS.ORD:0},adjustChild_displaystyle:function(e){return e>0?!1:this.Get("displaystyle")},adjustChild_scriptlevel:function(f){var e=this.Get("scriptlevel");return f>0&&e++,e},adjustChild_texprimestyle:function(e){return e===this.sub?!0:this.Get("texprimestyle")},setTeXclass:a.mbase.setBaseTeXclasses}),a.msub=a.msubsup.Subclass({type:"msub"}),a.msup=a.msubsup.Subclass({type:"msup",sub:2,sup:1}),a.mmultiscripts=a.msubsup.Subclass({type:"mmultiscripts",adjustChild_texprimestyle:function(e){return e%2===1?!0:this.Get("texprimestyle")}}),a.mprescripts=a.mbase.Subclass({type:"mprescripts"}),a.none=a.mbase.Subclass({type:"none"}),a.munderover=a.mbase.Subclass({type:"munderover",base:0,under:1,over:2,sub:1,sup:2,ACCENTS:["","accentunder","accent"],linebreakContainer:!0,isEmbellished:a.mbase.childEmbellished,Core:a.mbase.childCore,CoreMO:a.mbase.childCoreMO,defaults:{mathbackground:a.INHERIT,mathcolor:a.INHERIT,accent:a.AUTO,accentunder:a.AUTO,align:a.ALIGN.CENTER,texClass:a.AUTO,subscriptshift:"",superscriptshift:""},autoDefault:function(e){return"texClass"===e?this.isEmbellished()?this.CoreMO().Get(e):a.TEXCLASS.ORD:"accent"===e&&this.data[this.over]?this.data[this.over].CoreMO().Get("accent"):"accentunder"===e&&this.data[this.under]?this.data[this.under].CoreMO().Get("accent"):!1},adjustChild_displaystyle:function(e){return e>0?!1:this.Get("displaystyle")},adjustChild_scriptlevel:function(g){var f=this.Get("scriptlevel"),e=this.data[this.base]&&!this.Get("displaystyle")&&this.data[this.base].CoreMO().Get("movablelimits");return g!=this.under||!e&&this.Get("accentunder")||f++,g!=this.over||!e&&this.Get("accent")||f++,f},adjustChild_texprimestyle:function(e){return e===this.base&&this.data[this.over]?!0:this.Get("texprimestyle")},setTeXclass:a.mbase.setBaseTeXclasses}),a.munder=a.munderover.Subclass({type:"munder"}),a.mover=a.munderover.Subclass({type:"mover",over:1,under:2,sup:1,sub:2,ACCENTS:["","accent","accentunder"]}),a.mtable=a.mbase.Subclass({type:"mtable",defaults:{mathbackground:a.INHERIT,mathcolor:a.INHERIT,align:a.ALIGN.AXIS,rowalign:a.ALIGN.BASELINE,columnalign:a.ALIGN.CENTER,groupalign:"{left}",alignmentscope:!0,columnwidth:a.WIDTH.AUTO,width:a.WIDTH.AUTO,rowspacing:"1ex",columnspacing:".8em",rowlines:a.LINES.NONE,columnlines:a.LINES.NONE,frame:a.LINES.NONE,framespacing:"0.4em 0.5ex",equalrows:!1,equalcolumns:!1,displaystyle:!1,side:a.SIDE.RIGHT,minlabelspacing:"0.8em",texClass:a.TEXCLASS.ORD,useHeight:1},inheritFromMe:!0,noInherit:{mover:{align:!0},munder:{align:!0},munderover:{align:!0},mtable:{align:!0,rowalign:!0,columnalign:!0,groupalign:!0,alignmentscope:!0,columnwidth:!0,width:!0,rowspacing:!0,columnspacing:!0,rowlines:!0,columnlines:!0,frame:!0,framespacing:!0,equalrows:!0,equalcolumns:!0,side:!0,minlabelspacing:!0,texClass:!0,useHeight:1}},linebreakContainer:!0,Append:function(){for(var f=0,e=arguments.length;e>f;f++)arguments[f]instanceof a.mtr||arguments[f]instanceof a.mlabeledtr||(arguments[f]=a.mtd(arguments[f]));this.SUPER(arguments).Append.apply(this,arguments)},setTeXclass:a.mbase.setSeparateTeXclasses}),a.mtr=a.mbase.Subclass({type:"mtr",defaults:{mathbackground:a.INHERIT,mathcolor:a.INHERIT,rowalign:a.INHERIT,columnalign:a.INHERIT,groupalign:a.INHERIT},inheritFromMe:!0,noInherit:{mrow:{rowalign:!0,columnalign:!0,groupalign:!0},mtable:{rowalign:!0,columnalign:!0,groupalign:!0}},linebreakContainer:!0,Append:function(){for(var f=0,e=arguments.length;e>f;f++)arguments[f]instanceof a.mtd||(arguments[f]=a.mtd(arguments[f]));this.SUPER(arguments).Append.apply(this,arguments)},setTeXclass:a.mbase.setSeparateTeXclasses}),a.mtd=a.mbase.Subclass({type:"mtd",inferRow:!0,linebreakContainer:!0,isEmbellished:a.mbase.childEmbellished,Core:a.mbase.childCore,CoreMO:a.mbase.childCoreMO,defaults:{mathbackground:a.INHERIT,mathcolor:a.INHERIT,rowspan:1,columnspan:1,rowalign:a.INHERIT,columnalign:a.INHERIT,groupalign:a.INHERIT},setTeXclass:a.mbase.setSeparateTeXclasses}),a.maligngroup=a.mbase.Subclass({type:"malign",isSpacelike:function(){return!0},defaults:{mathbackground:a.INHERIT,mathcolor:a.INHERIT,groupalign:a.INHERIT},inheritFromMe:!0,noInherit:{mrow:{groupalign:!0},mtable:{groupalign:!0}}}),a.malignmark=a.mbase.Subclass({type:"malignmark",defaults:{mathbackground:a.INHERIT,mathcolor:a.INHERIT,edge:a.SIDE.LEFT},isSpacelike:function(){return!0}}),a.mlabeledtr=a.mtr.Subclass({type:"mlabeledtr"}),a.maction=a.mbase.Subclass({type:"maction",defaults:{mathbackground:a.INHERIT,mathcolor:a.INHERIT,actiontype:a.ACTIONTYPE.TOGGLE,selection:1},selected:function(){return this.data[this.Get("selection")-1]||a.NULL},isEmbellished:function(){return this.selected().isEmbellished()},isSpacelike:function(){return this.selected().isSpacelike()},Core:function(){return this.selected().Core()},CoreMO:function(){return this.selected().CoreMO()},setTeXclass:function(e){return this.Get("actiontype")===a.ACTIONTYPE.TOOLTIP&&this.data[1]&&this.data[1].setTeXclass(),this.selected().setTeXclass(e)}}),a.semantics=a.mbase.Subclass({type:"semantics",notParent:!0,isEmbellished:a.mbase.childEmbellished,Core:a.mbase.childCore,CoreMO:a.mbase.childCoreMO,defaults:{definitionURL:null,encoding:null},setTeXclass:a.mbase.setChildTeXclass,getAnnotation:function(g){var l=MathJax.Hub.config.MathMenu.semanticsAnnotations[g];if(l)for(var h=0,e=this.data.length;e>h;h++){var k=this.data[h].Get("encoding");if(k)for(var f=0,o=l.length;o>f;f++)if(l[f]===k)return this.data[h]}return null}}),a.annotation=a.mbase.Subclass({type:"annotation",isChars:!0,linebreakContainer:!0,defaults:{definitionURL:null,encoding:null,cd:"mathmlkeys",name:"",src:null}}),a["annotation-xml"]=a.mbase.Subclass({type:"annotation-xml",linebreakContainer:!0,defaults:{definitionURL:null,encoding:null,cd:"mathmlkeys",name:"",src:null}}),a.math=a.mstyle.Subclass({type:"math",defaults:{mathvariant:a.VARIANT.NORMAL,mathsize:a.SIZE.NORMAL,mathcolor:"",mathbackground:a.COLOR.TRANSPARENT,dir:"ltr",scriptlevel:0,displaystyle:a.AUTO,display:"inline",maxwidth:"",overflow:a.OVERFLOW.LINEBREAK,altimg:"","altimg-width":"","altimg-height":"","altimg-valign":"",alttext:"",cdgroup:"",scriptsizemultiplier:Math.sqrt(.5),scriptminsize:"8px",infixlinebreakstyle:a.LINEBREAKSTYLE.BEFORE,lineleading:"1ex",indentshift:"auto",indentalign:a.INDENTALIGN.AUTO,indentalignfirst:a.INDENTALIGN.INDENTALIGN,indentshiftfirst:a.INDENTSHIFT.INDENTSHIFT,indentalignlast:a.INDENTALIGN.INDENTALIGN,indentshiftlast:a.INDENTSHIFT.INDENTSHIFT,decimalseparator:".",texprimestyle:!1},autoDefault:function(e){return"displaystyle"===e?"block"===this.Get("display"):""},linebreakContainer:!0,setTeXclass:a.mbase.setChildTeXclass,getAnnotation:function(e){return 1!=this.data.length?null:this.data[0].getAnnotation(e)}}),a.chars=a.mbase.Subclass({type:"chars",Append:function(){this.data.push.apply(this.data,arguments)},value:function(){return this.data.join("")},toString:function(){return this.data.join("")}}),a.entity=a.mbase.Subclass({type:"entity",Append:function(){this.data.push.apply(this.data,arguments)},value:function(){return"#x"===this.data[0].substr(0,2)?parseInt(this.data[0].substr(2),16):"#"===this.data[0].substr(0,1)?parseInt(this.data[0].substr(1)):0},toString:function(){var e=this.value();return 65535>=e?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296)+String.fromCharCode((1023&e)+56320))}}),a.xml=a.mbase.Subclass({type:"xml",Init:function(){return this.div=document.createElement("div"),this.SUPER(arguments).Init.apply(this,arguments)},Append:function(){for(var f=0,e=arguments.length;e>f;f++){var g=this.Import(arguments[f]);this.data.push(g),this.div.appendChild(g)}},Import:function(j){if(document.importNode)return document.importNode(j,!0);var f,g,e;if(1===j.nodeType){for(f=document.createElement(j.nodeName),g=0,e=j.attributes.length;e>g;g++){var h=j.attributes[g];h.specified&&null!=h.nodeValue&&""!=h.nodeValue&&f.setAttribute(h.nodeName,h.nodeValue),"style"===h.nodeName&&(f.style.cssText=h.nodeValue)}j.className&&(f.className=j.className)}else if(3===j.nodeType||4===j.nodeType)f=document.createTextNode(j.nodeValue);else{if(8!==j.nodeType)return document.createTextNode("");f=document.createComment(j.nodeValue)}for(g=0,e=j.childNodes.length;e>g;g++)f.appendChild(this.Import(j.childNodes[g]));return f},value:function(){return this.div},toString:function(){return this.div.innerHTML}}),a.TeXAtom=a.mbase.Subclass({type:"texatom",inferRow:!0,notParent:!0,texClass:a.TEXCLASS.ORD,Core:a.mbase.childCore,CoreMO:a.mbase.childCoreMO,isEmbellished:a.mbase.childEmbellished,setTeXclass:function(e){return this.data[0].setTeXclass(),this.adjustTeXclass(e)},adjustTeXclass:a.mo.prototype.adjustTeXclass}),a.NULL=a.mbase().With({type:"null"});var b=a.TEXCLASS,d={ORD:[0,0,b.ORD],ORD11:[1,1,b.ORD],ORD21:[2,1,b.ORD],ORD02:[0,2,b.ORD],ORD55:[5,5,b.ORD],OP:[1,2,b.OP,{largeop:!0,movablelimits:!0,symmetric:!0}],OPFIXED:[1,2,b.OP,{largeop:!0,movablelimits:!0}],INTEGRAL:[0,1,b.OP,{largeop:!0,symmetric:!0}],INTEGRAL2:[1,2,b.OP,{largeop:!0,symmetric:!0}],BIN3:[3,3,b.BIN],BIN4:[4,4,b.BIN],BIN01:[0,1,b.BIN],BIN5:[5,5,b.BIN],TALLBIN:[4,4,b.BIN,{stretchy:!0}],BINOP:[4,4,b.BIN,{largeop:!0,movablelimits:!0}],REL:[5,5,b.REL],REL1:[1,1,b.REL,{stretchy:!0}],REL4:[4,4,b.REL],RELSTRETCH:[5,5,b.REL,{stretchy:!0}],RELACCENT:[5,5,b.REL,{accent:!0}],WIDEREL:[5,5,b.REL,{accent:!0,stretchy:!0}],OPEN:[0,0,b.OPEN,{fence:!0,stretchy:!0,symmetric:!0}],CLOSE:[0,0,b.CLOSE,{fence:!0,stretchy:!0,symmetric:!0}],INNER:[0,0,b.INNER],PUNCT:[0,3,b.PUNCT],ACCENT:[0,0,b.ORD,{accent:!0}],WIDEACCENT:[0,0,b.ORD,{accent:!0,stretchy:!0}]};a.mo.Augment({SPACE:["0em","0.1111em","0.1667em","0.2222em","0.2667em","0.3333em"],RANGES:[[32,127,b.REL,"BasicLatin"],[160,255,b.ORD,"Latin1Supplement"],[256,383,b.ORD],[384,591,b.ORD],[688,767,b.ORD,"SpacingModLetters"],[768,879,b.ORD,"CombDiacritMarks"],[880,1023,b.ORD,"GreekAndCoptic"],[7680,7935,b.ORD],[8192,8303,b.PUNCT,"GeneralPunctuation"],[8304,8351,b.ORD],[8352,8399,b.ORD],[8400,8447,b.ORD,"CombDiactForSymbols"],[8448,8527,b.ORD,"LetterlikeSymbols"],[8528,8591,b.ORD],[8592,8703,b.REL,"Arrows"],[8704,8959,b.BIN,"MathOperators"],[8960,9215,b.ORD,"MiscTechnical"],[9312,9471,b.ORD],[9472,9631,b.ORD],[9632,9727,b.ORD,"GeometricShapes"],[9984,10175,b.ORD,"Dingbats"],[10176,10223,b.ORD,"MiscMathSymbolsA"],[10224,10239,b.REL,"SupplementalArrowsA"],[10496,10623,b.REL,"SupplementalArrowsB"],[10624,10751,b.ORD,"MiscMathSymbolsB"],[10752,11007,b.BIN,"SuppMathOperators"],[11008,11263,b.ORD,"MiscSymbolsAndArrows"],[119808,120831,b.ORD]],OPTABLE:{prefix:{"∀":d.ORD21,"∂":d.ORD21,"∃":d.ORD21,"∇":d.ORD21,"∏":d.OP,"∐":d.OP,"∑":d.OP,"−":d.BIN01,"∓":d.BIN01,"√":[1,1,b.ORD,{stretchy:!0}],"∠":d.ORD,"∫":d.INTEGRAL,"∮":d.INTEGRAL,"⋀":d.OP,"⋁":d.OP,"⋂":d.OP,"⋃":d.OP,"⌈":d.OPEN,"⌊":d.OPEN,"⟨":d.OPEN,"⟮":d.OPEN,"⨀":d.OP,"⨁":d.OP,"⨂":d.OP,"⨄":d.OP,"⨆":d.OP,"¬":d.ORD21,"±":d.BIN01,"(":d.OPEN,"+":d.BIN01,"-":d.BIN01,"[":d.OPEN,"{":d.OPEN,"|":d.OPEN},postfix:{"!":[1,0,b.CLOSE],"&":d.ORD,"′":d.ORD02,"‾":d.WIDEACCENT,"⌉":d.CLOSE,"⌋":d.CLOSE,"⏞":d.WIDEACCENT,"⏟":d.WIDEACCENT,"♭":d.ORD02,"♮":d.ORD02,"♯":d.ORD02,"⟩":d.CLOSE,"⟯":d.CLOSE,"ˆ":d.WIDEACCENT,"ˇ":d.WIDEACCENT,"ˉ":d.WIDEACCENT,"ˊ":d.ACCENT,"ˋ":d.ACCENT,"˘":d.ACCENT,"˙":d.ACCENT,"˜":d.WIDEACCENT,"̂":d.WIDEACCENT,"¨":d.ACCENT,"¯":d.WIDEACCENT,")":d.CLOSE,"]":d.CLOSE,"^":d.WIDEACCENT,_:d.WIDEACCENT,"`":d.ACCENT,"|":d.CLOSE,"}":d.CLOSE,"~":d.WIDEACCENT},infix:{"":d.ORD,"%":[3,3,b.ORD],"•":d.BIN4,"…":d.INNER,"⁄":d.TALLBIN,"⁡":d.ORD,"⁢":d.ORD,"⁣":[0,0,b.ORD,{linebreakstyle:"after",separator:!0}],"⁤":d.ORD,"←":d.WIDEREL,"↑":d.RELSTRETCH,"→":d.WIDEREL,"↓":d.RELSTRETCH,"↔":d.WIDEREL,"↕":d.RELSTRETCH,"↖":d.RELSTRETCH,"↗":d.RELSTRETCH,"↘":d.RELSTRETCH,"↙":d.RELSTRETCH,"↦":d.WIDEREL,"↩":d.WIDEREL,"↪":d.WIDEREL,"↼":d.WIDEREL,"↽":d.WIDEREL,"⇀":d.WIDEREL,"⇁":d.WIDEREL,"⇌":d.WIDEREL,"⇐":d.WIDEREL,"⇑":d.RELSTRETCH,"⇒":d.WIDEREL,"⇓":d.RELSTRETCH,"⇔":d.WIDEREL,"⇕":d.RELSTRETCH,"∈":d.REL,"∉":d.REL,"∋":d.REL,"−":d.BIN4,"∓":d.BIN4,"∕":d.TALLBIN,"∖":d.BIN4,"∗":d.BIN4,"∘":d.BIN4,"∙":d.BIN4,"∝":d.REL,"∣":d.REL,"∥":d.REL,"∧":d.BIN4,"∨":d.BIN4,"∩":d.BIN4,"∪":d.BIN4,"∼":d.REL,"≀":d.BIN4,"≃":d.REL,"≅":d.REL,"≈":d.REL,"≍":d.REL,"≐":d.REL,"≠":d.REL,"≡":d.REL,"≤":d.REL,"≥":d.REL,"≪":d.REL,"≫":d.REL,"≺":d.REL,"≻":d.REL,"⊂":d.REL,"⊃":d.REL,"⊆":d.REL,"⊇":d.REL,"⊎":d.BIN4,"⊑":d.REL,"⊒":d.REL,"⊓":d.BIN4,"⊔":d.BIN4,"⊕":d.BIN4,"⊖":d.BIN4,"⊗":d.BIN4,"⊘":d.BIN4,"⊙":d.BIN4,"⊢":d.REL,"⊣":d.REL,"⊤":d.ORD55,"⊥":d.REL,"⊨":d.REL,"⋄":d.BIN4,"⋅":d.BIN4,"⋆":d.BIN4,"⋈":d.REL,"⋮":d.ORD55,"⋯":d.INNER,"⋱":[5,5,b.INNER],"△":d.BIN4,"▵":d.BIN4,"▹":d.BIN4,"▽":d.BIN4,"▿":d.BIN4,"◃":d.BIN4,"❘":d.REL,"⟵":d.WIDEREL,"⟶":d.WIDEREL,"⟷":d.WIDEREL,"⟸":d.WIDEREL,"⟹":d.WIDEREL,"⟺":d.WIDEREL,"⟼":d.WIDEREL,"⨯":d.BIN4,"⨿":d.BIN4,"⪯":d.REL,"⪰":d.REL,"±":d.BIN4,"·":d.BIN4,"×":d.BIN4,"÷":d.BIN4,"*":d.BIN3,"+":d.BIN4,",":[0,3,b.PUNCT,{linebreakstyle:"after",separator:!0}],"-":d.BIN4,".":[3,3,b.ORD],"/":d.ORD11,":":[1,2,b.REL],";":[0,3,b.PUNCT,{linebreakstyle:"after",separator:!0}],"<":d.REL,"=":d.REL,">":d.REL,"?":[1,1,b.CLOSE],"\\":d.ORD,"^":d.ORD11,_:d.ORD11,"|":[2,2,b.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"#":d.ORD,$:d.ORD,".":[0,3,b.PUNCT,{separator:!0}],"ʹ":d.ORD,"̀":d.ACCENT,"́":d.ACCENT,"̃":d.WIDEACCENT,"̄":d.ACCENT,"̆":d.ACCENT,"̇":d.ACCENT,"̈":d.ACCENT,"̌":d.ACCENT,"̲":d.WIDEACCENT,"̸":d.REL4,"―":[0,0,b.ORD,{stretchy:!0}],"‗":[0,0,b.ORD,{stretchy:!0}],"†":d.BIN3,"‡":d.BIN3,"⃗":d.ACCENT,"ℑ":d.ORD,"ℓ":d.ORD,"℘":d.ORD,"ℜ":d.ORD,"∅":d.ORD,"∞":d.ORD,"⌅":d.BIN3,"⌆":d.BIN3,"⌢":d.REL4,"⌣":d.REL4,"〈":d.OPEN,"〉":d.CLOSE,"⎪":d.ORD,"⎯":[0,0,b.ORD,{stretchy:!0}],"⎰":d.OPEN,"⎱":d.CLOSE,"─":d.ORD,"◯":d.BIN3,"♠":d.ORD,"♡":d.ORD,"♢":d.ORD,"♣":d.ORD,"〈":d.OPEN,"〉":d.CLOSE,"︷":d.WIDEACCENT,"︸":d.WIDEACCENT}}},{OPTYPES:d});var c=a.mo.prototype.OPTABLE;c.infix["^"]=d.WIDEREL,c.infix._=d.WIDEREL,c.prefix["∣"]=d.OPEN,c.prefix["∥"]=d.OPEN,c.postfix["∣"]=d.CLOSE,c.postfix["∥"]=d.CLOSE}(MathJax.ElementJax.mml),MathJax.ElementJax.mml.loadComplete("jax.js"),MathJax.Hub.Register.LoadHook("[MathJax]/jax/element/mml/jax.js",function(){var a=MathJax.ElementJax.mml;SETTINGS=MathJax.Hub.config.menuSettings,a.mbase.Augment({toMathML:function(k){var g=this.inferred&&this.parent.inferRow;null==k&&(k="");var e=this.type,d=this.toMathMLattributes();if("mspace"===e)return k+"<"+e+d+" />";for(var j=[],h=this.isToken?"":k+(g?"":"  "),f=0,c=this.data.length;c>f;f++)this.data[f]?j.push(this.data[f].toMathML(h)):this.isToken||this.isChars||j.push(h+"<mrow />");return this.isToken?k+"<"+e+d+">"+j.join("")+"</"+e+">":g?j.join("\n"):0===j.length||1===j.length&&""===j[0]?k+"<"+e+d+" />":k+"<"+e+d+">\n"+j.join("\n")+"\n"+k+"</"+e+">"},toMathMLattributes:function(){var j=[],g=this.defaults,c=this.attrNames||a.copyAttributeNames,l=a.skipAttributes;if("math"!==this.type||this.attr&&this.attr.xmlns||j.push('xmlns="http://www.w3.org/1998/Math/MathML"'),!this.attrNames){"mstyle"===this.type&&(g=a.math.prototype.defaults);for(var d in g)if(!l[d]&&g.hasOwnProperty(d)){var e="open"===d||"close"===d||"form"===d;if(null!=this[d]&&(e||this[d]!==g[d])){var k=this[d];delete this[d],(e||this.Get(d)!==k)&&j.push(d+'="'+this.toMathMLattribute(k)+'"'),this[d]=k}}}for(var h=0,f=c.length;f>h;h++)"class"!==c[h]&&(k=(this.attr||{})[c[h]],null==k&&(k=this[c[h]]),null!=k&&j.push(c[h]+'="'+this.toMathMLquote(k)+'"'));return this.toMathMLclass(j),j.length?" "+j.join(" "):""},toMathMLclass:function(c){var e=[];if(this["class"]&&e.push(this["class"]),this.isa(a.TeXAtom)&&SETTINGS.texHints){var d=["ORD","OP","BIN","REL","OPEN","CLOSE","PUNCT","INNER","VCENTER"][this.texClass];d&&e.push("MJX-TeXAtom-"+d)}this.mathvariant&&this.toMathMLvariants[this.mathvariant]&&e.push("MJX"+this.mathvariant),this.variantForm&&e.push("MJX-variant"),e.length&&c.unshift('class="'+e.join(" ")+'"')},toMathMLattribute:function(c){return"string"==typeof c&&c.replace(/ /g,"").match(/^(([-+])?(\d+(\.\d*)?|\.\d+))mu$/)?RegExp.$2+(1/18*RegExp.$3).toFixed(3).replace(/\.?0+$/,"")+"em":this.toMathMLvariants[c]?this.toMathMLvariants[c]:this.toMathMLquote(c)},toMathMLvariants:{"-tex-caligraphic":a.VARIANT.SCRIPT,"-tex-caligraphic-bold":a.VARIANT.BOLDSCRIPT,"-tex-oldstyle":a.VARIANT.NORMAL,"-tex-oldstyle-bold":a.VARIANT.BOLD,"-tex-mathit":a.VARIANT.ITALIC},toMathMLquote:function(f){f=String(f).split("");for(var g=0,d=f.length;d>g;g++){var k=f[g].charCodeAt(0);if(55295>=k||k>=57344)if(32>k||k>126)f[g]="&#x"+k.toString(16).toUpperCase()+";";else{var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"}[f[g]];j&&(f[g]=j)}else if(d>g+1){var h=f[g+1].charCodeAt(0),e=(k-55296<<10)+(h-56320)+65536;f[g]="&#x"+e.toString(16).toUpperCase()+";",f[g+1]="",g++}else f[g]=""}return f.join("")}}),a.math.Augment({toMathML:function(c,d){var f;null==c&&(c=""),d&&d.originalText&&SETTINGS.semantics&&(f=MathJax.InputJax[d.inputJax].annotationEncoding);for(var k=this.data[0]&&this.data[0].data.length>1,n=this.type,j=this.toMathMLattributes(),h=[],l=c+(f?"    ":"")+(k?"  ":""),g=0,e=this.data.length;e>g;g++)h.push(this.data[g]?this.data[g].toMathML(l):l+"<mrow />");if(0===h.length||1===h.length&&""===h[0]){if(!f)return"<"+n+j+" />";h.push(l+"<mrow />")}return f&&(k&&(h.unshift(c+"    <mrow>"),h.push(c+"    </mrow>")),h.unshift(c+"  <semantics>"),h.push(c+'    <annotation encoding="'+f+'">'+d.originalText+"</annotation>"),h.push(c+"  </semantics>")),c+"<"+n+j+">\n"+h.join("\n")+"\n"+c+"</"+n+">"}}),a.msubsup.Augment({toMathML:function(h){var e=this.type;null==this.data[this.sup]&&(e="msub"),null==this.data[this.sub]&&(e="msup");var d=this.toMathMLattributes();delete this.data[0].inferred;for(var g=[],f=0,c=this.data.length;c>f;f++)this.data[f]&&g.push(this.data[f].toMathML(h+"  "));return h+"<"+e+d+">\n"+g.join("\n")+"\n"+h+"</"+e+">"}}),a.munderover.Augment({toMathML:function(h){var e=this.type;null==this.data[this.under]&&(e="mover"),null==this.data[this.over]&&(e="munder");var d=this.toMathMLattributes();delete this.data[0].inferred;for(var g=[],f=0,c=this.data.length;c>f;f++)this.data[f]&&g.push(this.data[f].toMathML(h+"  "));return h+"<"+e+d+">\n"+g.join("\n")+"\n"+h+"</"+e+">"}}),a.TeXAtom.Augment({toMathML:function(d){var c=this.toMathMLattributes();return c||1!==this.data[0].data.length?d+"<mrow"+c+">\n"+this.data[0].toMathML(d+"  ")+"\n"+d+"</mrow>":d.substr(2)+this.data[0].toMathML(d)
}}),a.chars.Augment({toMathML:function(c){return(c||"")+this.toMathMLquote(this.toString())}}),a.entity.Augment({toMathML:function(c){return(c||"")+"&"+this.data[0]+";<!-- "+this.toString()+" -->"}}),a.xml.Augment({toMathML:function(c){return(c||"")+this.toString()}}),MathJax.Hub.Register.StartupHook("TeX mathchoice Ready",function(){a.TeXmathchoice.Augment({toMathML:function(c){return this.Core().toMathML(c)}})}),MathJax.Hub.Startup.signal.Post("toMathML Ready")}),MathJax.Ajax.loadComplete("[MathJax]/extensions/toMathML.js"),function(b,e){var d="2.4.0",a=b.CombineConfig("TeX.noErrors",{disabled:!1,multiLine:!0,inlineDelimiters:["",""],style:{"font-size":"90%","text-align":"left",color:"black",padding:"1px 3px",border:"1px solid"}}),c=" ";MathJax.Extension["TeX/noErrors"]={version:d,config:a},b.Register.StartupHook("TeX Jax Ready",function(){var f=MathJax.InputJax.TeX.formatError;MathJax.InputJax.TeX.Augment({formatError:function(j,i,k,g){if(a.disabled)return f.apply(this,arguments);var h=j.message.replace(/\n.*/,"");b.signal.Post(["TeX Jax - parse error",h,i,k,g]);var m=a.inlineDelimiters,l=k||a.multiLine;return k||(i=m[0]+i+m[1]),i=l?i.replace(/ /g,c):i.replace(/\n/g," "),MathJax.ElementJax.mml.merror(i).With({isError:!0,multiLine:l})}})}),b.Register.StartupHook("HTML-CSS Jax Config",function(){b.Config({"HTML-CSS":{styles:{".MathJax .noError":b.Insert({"vertical-align":b.Browser.isMSIE&&a.multiLine?"-2px":""},a.style)}}})}),b.Register.StartupHook("HTML-CSS Jax Ready",function(){var g=MathJax.ElementJax.mml,h=MathJax.OutputJax["HTML-CSS"],f=g.math.prototype.toHTML,i=g.merror.prototype.toHTML;g.math.Augment({toHTML:function(j,k){var l=this.data[0];return l&&l.data[0]&&l.data[0].isError?(j.style.fontSize="",j=this.HTMLcreateSpan(j),j.bbox=l.data[0].toHTML(j).bbox):j=f.call(this,j,k),j}}),g.merror.Augment({toHTML:function(p){if(!this.isError)return i.call(this,p);p=this.HTMLcreateSpan(p),p.className="noError",this.multiLine&&(p.style.display="inline-block");for(var r=this.data[0].data[0].data.join("").split(/\n/),o=0,l=r.length;l>o;o++)h.addText(p,r[o]),o!==l-1&&h.addElement(p,"br",{isMathJax:!0});var q=h.getHD(p.parentNode),k=h.getW(p.parentNode);if(l>1){var n=(q.h+q.d)/2,j=h.TeX.x_height/2;p.parentNode.style.verticalAlign=h.Em(q.d+(j-n)),q.h=j+n,q.d=n-j}return p.bbox={h:q.h,d:q.d,w:k,lw:0,rw:k},p}})}),b.Register.StartupHook("SVG Jax Config",function(){b.Config({SVG:{styles:{".MathJax_SVG .noError":b.Insert({"vertical-align":b.Browser.isMSIE&&a.multiLine?"-2px":""},a.style)}}})}),b.Register.StartupHook("SVG Jax Ready",function(){var g=MathJax.ElementJax.mml,f=g.math.prototype.toSVG,h=g.merror.prototype.toSVG;g.math.Augment({toSVG:function(i,j){var k=this.data[0];return i=k&&k.data[0]&&k.data[0].isError?k.data[0].toSVG(i):f.call(this,i,j)}}),g.merror.Augment({toSVG:function(n){if(!this.isError||"math"!==this.Parent().type)return h.call(this,n);n=e.addElement(n,"span",{className:"noError",isMathJax:!0}),this.multiLine&&(n.style.display="inline-block");for(var o=this.data[0].data[0].data.join("").split(/\n/),l=0,j=o.length;j>l;l++)e.addText(n,o[l]),l!==j-1&&e.addElement(n,"br",{isMathJax:!0});if(j>1){var k=n.offsetHeight/2;n.style.verticalAlign=-k+k/j+"px"}return n}})}),b.Register.StartupHook("NativeMML Jax Ready",function(){var h=MathJax.ElementJax.mml,g=MathJax.Extension["TeX/noErrors"].config,f=h.math.prototype.toNativeMML,i=h.merror.prototype.toNativeMML;h.math.Augment({toNativeMML:function(j){var k=this.data[0];return j=k&&k.data[0]&&k.data[0].isError?k.data[0].toNativeMML(j):f.call(this,j)}}),h.merror.Augment({toNativeMML:function(n){if(!this.isError)return i.call(this,n);n=n.appendChild(document.createElement("span"));for(var o=this.data[0].data[0].data.join("").split(/\n/),l=0,k=o.length;k>l;l++)n.appendChild(document.createTextNode(o[l])),l!==k-1&&n.appendChild(document.createElement("br"));this.multiLine&&(n.style.display="inline-block",k>1&&(n.style.verticalAlign="middle"));for(var p in g.style)if(g.style.hasOwnProperty(p)){var j=p.replace(/-./g,function(m){return m.charAt(1).toUpperCase()});n.style[j]=g.style[p]}return n}})}),b.Startup.signal.Post("TeX noErrors Ready")}(MathJax.Hub,MathJax.HTML),MathJax.Ajax.loadComplete("[MathJax]/extensions/TeX/noErrors.js"),MathJax.Extension["TeX/noUndefined"]={version:"2.4.0",config:MathJax.Hub.CombineConfig("TeX.noUndefined",{disabled:!1,attributes:{mathcolor:"red"}})},MathJax.Hub.Register.StartupHook("TeX Jax Ready",function(){var b=MathJax.Extension["TeX/noUndefined"].config,a=MathJax.ElementJax.mml,c=MathJax.InputJax.TeX.Parse.prototype.csUndefined;MathJax.InputJax.TeX.Parse.Augment({csUndefined:function(d){return b.disabled?c.apply(this,arguments):(MathJax.Hub.signal.Post(["TeX Jax - undefined control sequence",d]),void this.Push(a.mtext(d).With(b.attributes)))}}),MathJax.Hub.Startup.signal.Post("TeX noUndefined Ready")}),MathJax.Ajax.loadComplete("[MathJax]/extensions/TeX/noUndefined.js"),function(d,c,i){var h,g=" ",j=function(l){return MathJax.Localization._.apply(MathJax.Localization,[["TeX",l]].concat([].slice.call(arguments,1)))},e=MathJax.Object.Subclass({Init:function(m,l){this.global={isInner:l},this.data=[b.start(this.global)],m&&(this.data[0].env=m),this.env=this.data[0].env},Push:function(){var n,l,o,p;for(n=0,l=arguments.length;l>n;n++)if(o=arguments[n])if(o instanceof h.mbase&&(o=b.mml(o)),o.global=this.global,p=this.data.length?this.Top().checkItem(o):!0,p instanceof Array)this.Pop(),this.Push.apply(this,p);else if(p instanceof b)this.Pop(),this.Push(p);else if(p)if(this.data.push(o),o.env){for(var q in this.env)this.env.hasOwnProperty(q)&&(o.env[q]=this.env[q]);this.env=o.env}else o.env=this.env},Pop:function(){var l=this.data.pop();return l.isOpen||delete l.env,this.env=this.data.length?this.Top().env:{},l},Top:function(l){return null==l&&(l=1),this.data.length<l?null:this.data[this.data.length-l]},Prev:function(l){var m=this.Top();return l?m.data[m.data.length-1]:m.Pop()},toString:function(){return"stack[\n  "+this.data.join("\n  ")+"\n]"}}),b=e.Item=MathJax.Object.Subclass({type:"base",endError:["ExtraOpenMissingClose","Extra open brace or missing close brace"],closeError:["ExtraCloseMissingOpen","Extra close brace or missing open brace"],rightError:["MissingLeftExtraRight","Missing \\left or extra \\right"],Init:function(){this.isOpen&&(this.env={}),this.data=[],this.Push.apply(this,arguments)},Push:function(){this.data.push.apply(this.data,arguments)},Pop:function(){return this.data.pop()},mmlData:function(l,m){return null==l&&(l=!0),1!==this.data.length||m?h.mrow.apply(h,this.data).With(l?{inferred:!0}:{}):this.data[0]},checkItem:function(l){if("over"===l.type&&this.isOpen&&(l.num=this.mmlData(!1),this.data=[]),"cell"===l.type&&this.isOpen){if(l.linebreak)return!1;d.Error(["Misplaced","Misplaced %1",l.name])}return l.isClose&&this[l.type+"Error"]&&d.Error(this[l.type+"Error"]),l.isNotStack?(this.Push(l.data[0]),!1):!0},With:function(l){for(var m in l)l.hasOwnProperty(m)&&(this[m]=l[m]);return this},toString:function(){return this.type+"["+this.data.join("; ")+"]"}});b.start=b.Subclass({type:"start",isOpen:!0,Init:function(l){this.SUPER(arguments).Init.call(this),this.global=l},checkItem:function(l){return"stop"===l.type?b.mml(this.mmlData()):this.SUPER(arguments).checkItem.call(this,l)}}),b.stop=b.Subclass({type:"stop",isClose:!0}),b.open=b.Subclass({type:"open",isOpen:!0,stopError:["ExtraOpenMissingClose","Extra open brace or missing close brace"],checkItem:function(m){if("close"===m.type){var l=this.mmlData();return b.mml(h.TeXAtom(l))}return this.SUPER(arguments).checkItem.call(this,m)}}),b.close=b.Subclass({type:"close",isClose:!0}),b.prime=b.Subclass({type:"prime",checkItem:function(l){return"msubsup"!==this.data[0].type?[h.msup(this.data[0],this.data[1]),l]:(this.data[0].SetData(this.data[0].sup,this.data[1]),[this.data[0],l])}}),b.subsup=b.Subclass({type:"subsup",stopError:["MissingScript","Missing superscript or subscript argument"],supError:["MissingOpenForSup","Missing open brace for superscript"],subError:["MissingOpenForSub","Missing open brace for subscript"],checkItem:function(l){return"open"===l.type||"left"===l.type?!0:"mml"===l.type?(this.primes&&(2!==this.position?this.data[0].SetData(2,this.primes):l.data[0]=h.mrow(this.primes.With({variantForm:!0}),l.data[0])),this.data[0].SetData(this.position,l.data[0]),b.mml(this.data[0])):void(this.SUPER(arguments).checkItem.call(this,l)&&d.Error(this[["","subError","supError"][this.position]]))},Pop:function(){}}),b.over=b.Subclass({type:"over",isClose:!0,name:"\\over",checkItem:function(n){if("over"===n.type&&d.Error(["AmbiguousUseOf","Ambiguous use of %1",n.name]),n.isClose){var m=h.mfrac(this.num,this.mmlData(!1));return null!=this.thickness&&(m.linethickness=this.thickness),(this.open||this.close)&&(m.texClass=h.TEXCLASS.INNER,m.texWithDelims=!0,m=d.fenced(this.open,m,this.close)),[b.mml(m),n]}return this.SUPER(arguments).checkItem.call(this,n)},toString:function(){return"over["+this.num+" / "+this.data.join("; ")+"]"}}),b.left=b.Subclass({type:"left",isOpen:!0,delim:"(",stopError:["ExtraLeftMissingRight","Extra \\left or missing \\right"],checkItem:function(l){return"right"===l.type?b.mml(d.fenced(this.delim,this.mmlData(),l.delim)):this.SUPER(arguments).checkItem.call(this,l)}}),b.right=b.Subclass({type:"right",isClose:!0,delim:")"}),b.begin=b.Subclass({type:"begin",isOpen:!0,checkItem:function(l){return"end"===l.type?(l.name!==this.name&&d.Error(["EnvBadEnd","\\begin{%1} ended with \\end{%2}",this.name,l.name]),this.end?this.parse[this.end].call(this.parse,this,this.data):b.mml(this.mmlData())):("stop"===l.type&&d.Error(["EnvMissingEnd","Missing \\end{%1}",this.name]),this.SUPER(arguments).checkItem.call(this,l))}}),b.end=b.Subclass({type:"end",isClose:!0}),b.style=b.Subclass({type:"style",checkItem:function(m){if(!m.isClose)return this.SUPER(arguments).checkItem.call(this,m);var l=h.mstyle.apply(h,this.data).With(this.styles);return[b.mml(l),m]}}),b.position=b.Subclass({type:"position",checkItem:function(m){if(m.isClose&&d.Error(["MissingBoxFor","Missing box for %1",this.name]),m.isNotStack){var l=m.mmlData();switch(this.move){case"vertical":return l=h.mpadded(l).With({height:this.dh,depth:this.dd,voffset:this.dh}),[b.mml(l)];case"horizontal":return[b.mml(this.left),m,b.mml(this.right)]}}return this.SUPER(arguments).checkItem.call(this,m)}}),b.array=b.Subclass({type:"array",isOpen:!0,arraydef:{},Init:function(){this.table=[],this.row=[],this.env={},this.frame=[],this.SUPER(arguments).Init.apply(this,arguments)},checkItem:function(m){if(m.isClose&&"over"!==m.type){if(m.isEntry)return this.EndEntry(),this.clearEnv(),!1;if(m.isCR)return this.EndEntry(),this.EndRow(),this.clearEnv(),!1;this.EndTable(),this.clearEnv();var l=h.mtable.apply(h,this.table).With(this.arraydef);if(4===this.frame.length?l.frame=this.frame.dashed?"dashed":"solid":this.frame.length&&(l.hasFrame=!0,this.arraydef.rowlines&&(this.arraydef.rowlines=this.arraydef.rowlines.replace(/none( none)+$/,"none")),l=h.menclose(l).With({notation:this.frame.join(" "),isFrame:!0}),("none"!=(this.arraydef.columnlines||"none")||"none"!=(this.arraydef.rowlines||"none"))&&(l.padding=0)),(this.open||this.close)&&(l=d.fenced(this.open,l,this.close)),l=b.mml(l),this.requireClose){if("close"===m.type)return l;d.Error(["MissingCloseBrace","Missing close brace"])}return[l,m]}return this.SUPER(arguments).checkItem.call(this,m)},EndEntry:function(){this.row.push(h.mtd.apply(h,this.data)),this.data=[]},EndRow:function(){this.table.push(h.mtr.apply(h,this.row)),this.row=[]},EndTable:function(){(this.data.length||this.row.length)&&(this.EndEntry(),this.EndRow()),this.checkLines()},checkLines:function(){if(this.arraydef.rowlines){var l=this.arraydef.rowlines.split(/ /);l.length===this.table.length?(this.frame.push("bottom"),l.pop(),this.arraydef.rowlines=l.join(" ")):l.length<this.table.length-1&&(this.arraydef.rowlines+=" none")}if(this.rowspacing){for(var m=this.arraydef.rowspacing.split(/ /);m.length<this.table.length;)m.push(this.rowspacing+"em");this.arraydef.rowspacing=m.join(" ")}},clearEnv:function(){for(var l in this.env)this.env.hasOwnProperty(l)&&delete this.env[l]}}),b.cell=b.Subclass({type:"cell",isClose:!0}),b.mml=b.Subclass({type:"mml",isNotStack:!0,Add:function(){return this.data.push.apply(this.data,arguments),this}}),b.fn=b.Subclass({type:"fn",checkItem:function(m){if(this.data[0]){if("mml"!==m.type||!m.data[0])return[this.data[0],m];if(m.data[0].isa(h.mspace))return[this.data[0],m];var l=m.data[0];return l.isEmbellished()&&(l=l.CoreMO()),[0,0,1,1,0,1,1,0,0,0][l.Get("texClass")]?[this.data[0],m]:[this.data[0],h.mo(h.entity("#x2061")).With({texClass:h.TEXCLASS.NONE}),m]}return this.SUPER(arguments).checkItem.apply(this,arguments)}}),b.not=b.Subclass({type:"not",checkItem:function(m){var l,n;return"open"===m.type||"left"===m.type?!0:"mml"===m.type&&m.data[0].type.match(/^(mo|mi|mtext)$/)&&(l=m.data[0],n=l.data.join(""),1===n.length&&!l.movesupsub)?(n=b.not.remap[n.charCodeAt(0)],n?l.SetData(0,h.chars(String.fromCharCode(n))):l.Append(h.chars("̸")),m):(l=h.mpadded(h.mtext("⧸")).With({width:0}),l=h.TeXAtom(l).With({texClass:h.TEXCLASS.REL}),[l,m])}}),b.not.remap={8592:8602,8594:8603,8596:8622,8656:8653,8658:8655,8660:8654,8712:8713,8715:8716,8739:8740,8741:8742,8764:8769,126:8769,8771:8772,8773:8775,8776:8777,8781:8813,61:8800,8801:8802,60:8814,62:8815,8804:8816,8805:8817,8818:8820,8819:8821,8822:8824,8823:8825,8826:8832,8827:8833,8834:8836,8835:8837,8838:8840,8839:8841,8866:8876,8872:8877,8873:8878,8875:8879,8828:8928,8829:8929,8849:8930,8850:8931,8882:8938,8883:8939,8884:8940,8885:8941,8707:8708},b.dots=b.Subclass({type:"dots",checkItem:function(m){if("open"===m.type||"left"===m.type)return!0;var n=this.ldots;if("mml"===m.type&&m.data[0].isEmbellished()){var l=m.data[0].CoreMO().Get("texClass");(l===h.TEXCLASS.BIN||l===h.TEXCLASS.REL)&&(n=this.cdots)}return[n,m]}});var f={Add:function(l,o,n){o||(o=this);for(var m in l)l.hasOwnProperty(m)&&("object"!=typeof l[m]||l[m]instanceof Array||"object"!=typeof o[m]&&"function"!=typeof o[m]?o[m]&&o[m].isUser&&n||(o[m]=l[m]):this.Add(l[m],o[m],l[m],n));return o}},k=function(){if(h=MathJax.ElementJax.mml,c.Insert(f,{letter:/[a-z]/i,digit:/[0-9.]/,number:/^(?:[0-9]+(?:\{,\}[0-9]{3})*(?:\.[0-9]*)*|\.[0-9]+)/,special:{"\\":"ControlSequence","{":"Open","}":"Close","~":"Tilde","^":"Superscript",_:"Subscript"," ":"Space","	":"Space","\r":"Space","\n":"Space","'":"Prime","%":"Comment","&":"Entry","#":"Hash"," ":"Space","’":"Prime"},remap:{"-":"2212","*":"2217","`":"2018"},mathchar0mi:{alpha:"03B1",beta:"03B2",gamma:"03B3",delta:"03B4",epsilon:"03F5",zeta:"03B6",eta:"03B7",theta:"03B8",iota:"03B9",kappa:"03BA",lambda:"03BB",mu:"03BC",nu:"03BD",xi:"03BE",omicron:"03BF",pi:"03C0",rho:"03C1",sigma:"03C3",tau:"03C4",upsilon:"03C5",phi:"03D5",chi:"03C7",psi:"03C8",omega:"03C9",varepsilon:"03B5",vartheta:"03D1",varpi:"03D6",varrho:"03F1",varsigma:"03C2",varphi:"03C6",S:["00A7",{mathvariant:h.VARIANT.NORMAL}],aleph:["2135",{mathvariant:h.VARIANT.NORMAL}],hbar:["210F",{variantForm:!0}],imath:"0131",jmath:"0237",ell:"2113",wp:["2118",{mathvariant:h.VARIANT.NORMAL}],Re:["211C",{mathvariant:h.VARIANT.NORMAL}],Im:["2111",{mathvariant:h.VARIANT.NORMAL}],partial:["2202",{mathvariant:h.VARIANT.NORMAL}],infty:["221E",{mathvariant:h.VARIANT.NORMAL}],prime:["2032",{mathvariant:h.VARIANT.NORMAL,variantForm:!0}],emptyset:["2205",{mathvariant:h.VARIANT.NORMAL}],nabla:["2207",{mathvariant:h.VARIANT.NORMAL}],top:["22A4",{mathvariant:h.VARIANT.NORMAL}],bot:["22A5",{mathvariant:h.VARIANT.NORMAL}],angle:["2220",{mathvariant:h.VARIANT.NORMAL}],triangle:["25B3",{mathvariant:h.VARIANT.NORMAL}],backslash:["2216",{mathvariant:h.VARIANT.NORMAL,variantForm:!0}],forall:["2200",{mathvariant:h.VARIANT.NORMAL}],exists:["2203",{mathvariant:h.VARIANT.NORMAL}],neg:["00AC",{mathvariant:h.VARIANT.NORMAL}],lnot:["00AC",{mathvariant:h.VARIANT.NORMAL}],flat:["266D",{mathvariant:h.VARIANT.NORMAL}],natural:["266E",{mathvariant:h.VARIANT.NORMAL}],sharp:["266F",{mathvariant:h.VARIANT.NORMAL}],clubsuit:["2663",{mathvariant:h.VARIANT.NORMAL}],diamondsuit:["2662",{mathvariant:h.VARIANT.NORMAL}],heartsuit:["2661",{mathvariant:h.VARIANT.NORMAL}],spadesuit:["2660",{mathvariant:h.VARIANT.NORMAL}]},mathchar0mo:{surd:"221A",coprod:["2210",{texClass:h.TEXCLASS.OP,movesupsub:!0}],bigvee:["22C1",{texClass:h.TEXCLASS.OP,movesupsub:!0}],bigwedge:["22C0",{texClass:h.TEXCLASS.OP,movesupsub:!0}],biguplus:["2A04",{texClass:h.TEXCLASS.OP,movesupsub:!0}],bigcap:["22C2",{texClass:h.TEXCLASS.OP,movesupsub:!0}],bigcup:["22C3",{texClass:h.TEXCLASS.OP,movesupsub:!0}],"int":["222B",{texClass:h.TEXCLASS.OP}],intop:["222B",{texClass:h.TEXCLASS.OP,movesupsub:!0,movablelimits:!0}],iint:["222C",{texClass:h.TEXCLASS.OP}],iiint:["222D",{texClass:h.TEXCLASS.OP}],prod:["220F",{texClass:h.TEXCLASS.OP,movesupsub:!0}],sum:["2211",{texClass:h.TEXCLASS.OP,movesupsub:!0}],bigotimes:["2A02",{texClass:h.TEXCLASS.OP,movesupsub:!0}],bigoplus:["2A01",{texClass:h.TEXCLASS.OP,movesupsub:!0}],bigodot:["2A00",{texClass:h.TEXCLASS.OP,movesupsub:!0}],oint:["222E",{texClass:h.TEXCLASS.OP}],bigsqcup:["2A06",{texClass:h.TEXCLASS.OP,movesupsub:!0}],smallint:["222B",{largeop:!1}],triangleleft:"25C3",triangleright:"25B9",bigtriangleup:"25B3",bigtriangledown:"25BD",wedge:"2227",land:"2227",vee:"2228",lor:"2228",cap:"2229",cup:"222A",ddagger:"2021",dagger:"2020",sqcap:"2293",sqcup:"2294",uplus:"228E",amalg:"2A3F",diamond:"22C4",bullet:"2219",wr:"2240",div:"00F7",odot:["2299",{largeop:!1}],oslash:["2298",{largeop:!1}],otimes:["2297",{largeop:!1}],ominus:["2296",{largeop:!1}],oplus:["2295",{largeop:!1}],mp:"2213",pm:"00B1",circ:"2218",bigcirc:"25EF",setminus:["2216",{variantForm:!0}],cdot:"22C5",ast:"2217",times:"00D7",star:"22C6",propto:"221D",sqsubseteq:"2291",sqsupseteq:"2292",parallel:"2225",mid:"2223",dashv:"22A3",vdash:"22A2",leq:"2264",le:"2264",geq:"2265",ge:"2265",lt:"003C",gt:"003E",succ:"227B",prec:"227A",approx:"2248",succeq:"2AB0",preceq:"2AAF",supset:"2283",subset:"2282",supseteq:"2287",subseteq:"2286","in":"2208",ni:"220B",notin:"2209",owns:"220B",gg:"226B",ll:"226A",sim:"223C",simeq:"2243",perp:"22A5",equiv:"2261",asymp:"224D",smile:"2323",frown:"2322",ne:"2260",neq:"2260",cong:"2245",doteq:"2250",bowtie:"22C8",models:"22A8",notChar:"29F8",Leftrightarrow:"21D4",Leftarrow:"21D0",Rightarrow:"21D2",leftrightarrow:"2194",leftarrow:"2190",gets:"2190",rightarrow:"2192",to:"2192",mapsto:"21A6",leftharpoonup:"21BC",leftharpoondown:"21BD",rightharpoonup:"21C0",rightharpoondown:"21C1",nearrow:"2197",searrow:"2198",nwarrow:"2196",swarrow:"2199",rightleftharpoons:"21CC",hookrightarrow:"21AA",hookleftarrow:"21A9",longleftarrow:"27F5",Longleftarrow:"27F8",longrightarrow:"27F6",Longrightarrow:"27F9",Longleftrightarrow:"27FA",longleftrightarrow:"27F7",longmapsto:"27FC",ldots:"2026",cdots:"22EF",vdots:"22EE",ddots:"22F1",dotsc:"2026",dotsb:"22EF",dotsm:"22EF",dotsi:"22EF",dotso:"2026",ldotp:["002E",{texClass:h.TEXCLASS.PUNCT}],cdotp:["22C5",{texClass:h.TEXCLASS.PUNCT}],colon:["003A",{texClass:h.TEXCLASS.PUNCT}]},mathchar7:{Gamma:"0393",Delta:"0394",Theta:"0398",Lambda:"039B",Xi:"039E",Pi:"03A0",Sigma:"03A3",Upsilon:"03A5",Phi:"03A6",Psi:"03A8",Omega:"03A9",_:"005F","#":"0023",$:"0024","%":"0025","&":"0026",And:"0026"},delimiter:{"(":"(",")":")","[":"[","]":"]","<":"27E8",">":"27E9","\\lt":"27E8","\\gt":"27E9","/":"/","|":["|",{texClass:h.TEXCLASS.ORD}],".":"","\\\\":"\\","\\lmoustache":"23B0","\\rmoustache":"23B1","\\lgroup":"27EE","\\rgroup":"27EF","\\arrowvert":"23D0","\\Arrowvert":"2016","\\bracevert":"23AA","\\Vert":["2225",{texClass:h.TEXCLASS.ORD}],"\\|":["2225",{texClass:h.TEXCLASS.ORD}],"\\vert":["|",{texClass:h.TEXCLASS.ORD}],"\\uparrow":"2191","\\downarrow":"2193","\\updownarrow":"2195","\\Uparrow":"21D1","\\Downarrow":"21D3","\\Updownarrow":"21D5","\\backslash":"\\","\\rangle":"27E9","\\langle":"27E8","\\rbrace":"}","\\lbrace":"{","\\}":"}","\\{":"{","\\rceil":"2309","\\lceil":"2308","\\rfloor":"230B","\\lfloor":"230A","\\lbrack":"[","\\rbrack":"]"},macros:{displaystyle:["SetStyle","D",!0,0],textstyle:["SetStyle","T",!1,0],scriptstyle:["SetStyle","S",!1,1],scriptscriptstyle:["SetStyle","SS",!1,2],rm:["SetFont",h.VARIANT.NORMAL],mit:["SetFont",h.VARIANT.ITALIC],oldstyle:["SetFont",h.VARIANT.OLDSTYLE],cal:["SetFont",h.VARIANT.CALIGRAPHIC],it:["SetFont","-tex-mathit"],bf:["SetFont",h.VARIANT.BOLD],bbFont:["SetFont",h.VARIANT.DOUBLESTRUCK],scr:["SetFont",h.VARIANT.SCRIPT],frak:["SetFont",h.VARIANT.FRAKTUR],sf:["SetFont",h.VARIANT.SANSSERIF],tt:["SetFont",h.VARIANT.MONOSPACE],tiny:["SetSize",.5],Tiny:["SetSize",.6],scriptsize:["SetSize",.7],small:["SetSize",.85],normalsize:["SetSize",1],large:["SetSize",1.2],Large:["SetSize",1.44],LARGE:["SetSize",1.73],huge:["SetSize",2.07],Huge:["SetSize",2.49],arcsin:["NamedFn"],arccos:["NamedFn"],arctan:["NamedFn"],arg:["NamedFn"],cos:["NamedFn"],cosh:["NamedFn"],cot:["NamedFn"],coth:["NamedFn"],csc:["NamedFn"],deg:["NamedFn"],det:"NamedOp",dim:["NamedFn"],exp:["NamedFn"],gcd:"NamedOp",hom:["NamedFn"],inf:"NamedOp",ker:["NamedFn"],lg:["NamedFn"],lim:"NamedOp",liminf:["NamedOp","lim&thinsp;inf"],limsup:["NamedOp","lim&thinsp;sup"],ln:["NamedFn"],log:["NamedFn"],max:"NamedOp",min:"NamedOp",Pr:"NamedOp",sec:["NamedFn"],sin:["NamedFn"],sinh:["NamedFn"],sup:"NamedOp",tan:["NamedFn"],tanh:["NamedFn"],limits:["Limits",1],nolimits:["Limits",0],overline:["UnderOver","00AF"],underline:["UnderOver","005F"],overbrace:["UnderOver","23DE",1],underbrace:["UnderOver","23DF",1],overrightarrow:["UnderOver","2192"],underrightarrow:["UnderOver","2192"],overleftarrow:["UnderOver","2190"],underleftarrow:["UnderOver","2190"],overleftrightarrow:["UnderOver","2194"],underleftrightarrow:["UnderOver","2194"],overset:"Overset",underset:"Underset",stackrel:["Macro","\\mathrel{\\mathop{#2}\\limits^{#1}}",2],over:"Over",overwithdelims:"Over",atop:"Over",atopwithdelims:"Over",above:"Over",abovewithdelims:"Over",brace:["Over","{","}"],brack:["Over","[","]"],choose:["Over","(",")"],frac:"Frac",sqrt:"Sqrt",root:"Root",uproot:["MoveRoot","upRoot"],leftroot:["MoveRoot","leftRoot"],left:"LeftRight",right:"LeftRight",middle:"Middle",llap:"Lap",rlap:"Lap",raise:"RaiseLower",lower:"RaiseLower",moveleft:"MoveLeftRight",moveright:"MoveLeftRight",",":["Spacer",h.LENGTH.THINMATHSPACE],":":["Spacer",h.LENGTH.MEDIUMMATHSPACE],">":["Spacer",h.LENGTH.MEDIUMMATHSPACE],";":["Spacer",h.LENGTH.THICKMATHSPACE],"!":["Spacer",h.LENGTH.NEGATIVETHINMATHSPACE],enspace:["Spacer",".5em"],quad:["Spacer","1em"],qquad:["Spacer","2em"],thinspace:["Spacer",h.LENGTH.THINMATHSPACE],negthinspace:["Spacer",h.LENGTH.NEGATIVETHINMATHSPACE],hskip:"Hskip",hspace:"Hskip",kern:"Hskip",mskip:"Hskip",mspace:"Hskip",mkern:"Hskip",Rule:["Rule"],Space:["Rule","blank"],big:["MakeBig",h.TEXCLASS.ORD,.85],Big:["MakeBig",h.TEXCLASS.ORD,1.15],bigg:["MakeBig",h.TEXCLASS.ORD,1.45],Bigg:["MakeBig",h.TEXCLASS.ORD,1.75],bigl:["MakeBig",h.TEXCLASS.OPEN,.85],Bigl:["MakeBig",h.TEXCLASS.OPEN,1.15],biggl:["MakeBig",h.TEXCLASS.OPEN,1.45],Biggl:["MakeBig",h.TEXCLASS.OPEN,1.75],bigr:["MakeBig",h.TEXCLASS.CLOSE,.85],Bigr:["MakeBig",h.TEXCLASS.CLOSE,1.15],biggr:["MakeBig",h.TEXCLASS.CLOSE,1.45],Biggr:["MakeBig",h.TEXCLASS.CLOSE,1.75],bigm:["MakeBig",h.TEXCLASS.REL,.85],Bigm:["MakeBig",h.TEXCLASS.REL,1.15],biggm:["MakeBig",h.TEXCLASS.REL,1.45],Biggm:["MakeBig",h.TEXCLASS.REL,1.75],mathord:["TeXAtom",h.TEXCLASS.ORD],mathop:["TeXAtom",h.TEXCLASS.OP],mathopen:["TeXAtom",h.TEXCLASS.OPEN],mathclose:["TeXAtom",h.TEXCLASS.CLOSE],mathbin:["TeXAtom",h.TEXCLASS.BIN],mathrel:["TeXAtom",h.TEXCLASS.REL],mathpunct:["TeXAtom",h.TEXCLASS.PUNCT],mathinner:["TeXAtom",h.TEXCLASS.INNER],vcenter:["TeXAtom",h.TEXCLASS.VCENTER],mathchoice:["Extension","mathchoice"],buildrel:"BuildRel",hbox:["HBox",0],text:"HBox",mbox:["HBox",0],fbox:"FBox",strut:"Strut",mathstrut:["Macro","\\vphantom{(}"],phantom:"Phantom",vphantom:["Phantom",1,0],hphantom:["Phantom",0,1],smash:"Smash",acute:["Accent","00B4"],grave:["Accent","0060"],ddot:["Accent","00A8"],tilde:["Accent","007E"],bar:["Accent","00AF"],breve:["Accent","02D8"],check:["Accent","02C7"],hat:["Accent","005E"],vec:["Accent","2192"],dot:["Accent","02D9"],widetilde:["Accent","007E",1],widehat:["Accent","005E",1],matrix:"Matrix",array:"Matrix",pmatrix:["Matrix","(",")"],cases:["Matrix","{","","left left",null,".1em",null,!0],eqalign:["Matrix",null,null,"right left",h.LENGTH.THICKMATHSPACE,".5em","D"],displaylines:["Matrix",null,null,"center",null,".5em","D"],cr:"Cr","\\":"CrLaTeX",newline:"Cr",hline:["HLine","solid"],hdashline:["HLine","dashed"],eqalignno:["Matrix",null,null,"right left right",h.LENGTH.THICKMATHSPACE+" 3em",".5em","D"],leqalignno:["Matrix",null,null,"right left right",h.LENGTH.THICKMATHSPACE+" 3em",".5em","D"],bmod:["Macro",'\\mmlToken{mo}[lspace="thickmathspace" rspace="thickmathspace"]{mod}'],pmod:["Macro","\\pod{\\mmlToken{mi}{mod}\\kern 6mu #1}",1],mod:["Macro","\\mathchoice{\\kern18mu}{\\kern12mu}{\\kern12mu}{\\kern12mu}\\mmlToken{mi}{mod}\\,\\,#1",1],pod:["Macro","\\mathchoice{\\kern18mu}{\\kern8mu}{\\kern8mu}{\\kern8mu}(#1)",1],iff:["Macro","\\;\\Longleftrightarrow\\;"],skew:["Macro","{{#2{#3\\mkern#1mu}\\mkern-#1mu}{}}",3],mathcal:["Macro","{\\cal #1}",1],mathscr:["Macro","{\\scr #1}",1],mathrm:["Macro","{\\rm #1}",1],mathbf:["Macro","{\\bf #1}",1],mathbb:["Macro","{\\bbFont #1}",1],Bbb:["Macro","{\\bbFont #1}",1],mathit:["Macro","{\\it #1}",1],mathfrak:["Macro","{\\frak #1}",1],mathsf:["Macro","{\\sf #1}",1],mathtt:["Macro","{\\tt #1}",1],textrm:["Macro","\\mathord{\\rm\\text{#1}}",1],textit:["Macro","\\mathord{\\it\\text{#1}}",1],textbf:["Macro","\\mathord{\\bf\\text{#1}}",1],textsf:["Macro","\\mathord{\\sf\\text{#1}}",1],texttt:["Macro","\\mathord{\\tt\\text{#1}}",1],pmb:["Macro","\\rlap{#1}\\kern1px{#1}",1],TeX:["Macro","T\\kern-.14em\\lower.5ex{E}\\kern-.115em X"],LaTeX:["Macro","L\\kern-.325em\\raise.21em{\\scriptstyle{A}}\\kern-.17em\\TeX"]," ":["Macro","\\text{ }"],not:"Not",dots:"Dots",space:"Tilde"," ":"Tilde",begin:"BeginEnd",end:"BeginEnd",newcommand:["Extension","newcommand"],renewcommand:["Extension","newcommand"],newenvironment:["Extension","newcommand"],renewenvironment:["Extension","newcommand"],def:["Extension","newcommand"],let:["Extension","newcommand"],verb:["Extension","verb"],boldsymbol:["Extension","boldsymbol"],tag:["Extension","AMSmath"],notag:["Extension","AMSmath"],label:["Extension","AMSmath"],ref:["Extension","AMSmath"],eqref:["Extension","AMSmath"],nonumber:["Macro","\\notag"],unicode:["Extension","unicode"],color:"Color",href:["Extension","HTML"],"class":["Extension","HTML"],style:["Extension","HTML"],cssId:["Extension","HTML"],bbox:["Extension","bbox"],mmlToken:"MmlToken",require:"Require"},environment:{array:["AlignedArray"],matrix:["Array",null,null,null,"c"],pmatrix:["Array",null,"(",")","c"],bmatrix:["Array",null,"[","]","c"],Bmatrix:["Array",null,"\\{","\\}","c"],vmatrix:["Array",null,"\\vert","\\vert","c"],Vmatrix:["Array",null,"\\Vert","\\Vert","c"],cases:["Array",null,"\\{",".","ll",null,".2em","T"],equation:[null,"Equation"],"equation*":[null,"Equation"],eqnarray:["ExtensionEnv",null,"AMSmath"],"eqnarray*":["ExtensionEnv",null,"AMSmath"],align:["ExtensionEnv",null,"AMSmath"],"align*":["ExtensionEnv",null,"AMSmath"],aligned:["ExtensionEnv",null,"AMSmath"],multline:["ExtensionEnv",null,"AMSmath"],"multline*":["ExtensionEnv",null,"AMSmath"],split:["ExtensionEnv",null,"AMSmath"],gather:["ExtensionEnv",null,"AMSmath"],"gather*":["ExtensionEnv",null,"AMSmath"],gathered:["ExtensionEnv",null,"AMSmath"],alignat:["ExtensionEnv",null,"AMSmath"],"alignat*":["ExtensionEnv",null,"AMSmath"],alignedat:["ExtensionEnv",null,"AMSmath"]},p_height:1.2/.85}),this.config.Macros){var l=this.config.Macros;for(var m in l)l.hasOwnProperty(m)&&(f.macros[m]="string"==typeof l[m]?["Macro",l[m]]:["Macro"].concat(l[m]),f.macros[m].isUser=!0)}},a=MathJax.Object.Subclass({Init:function(m,n){this.string=m,this.i=0,this.macroCount=0;var l;if(n){l={};for(var o in n)n.hasOwnProperty(o)&&(l[o]=n[o])}this.stack=d.Stack(l,!!n),this.Parse(),this.Push(b.stop())},Parse:function(){for(var m,l;this.i<this.string.length;)m=this.string.charAt(this.i++),l=m.charCodeAt(0),l>=55296&&56320>l&&(m+=this.string.charAt(this.i++)),f.special[m]?this[f.special[m]](m):f.letter.test(m)?this.Variable(m):f.digit.test(m)?this.Number(m):this.Other(m)},Push:function(){this.stack.Push.apply(this.stack,arguments)},mml:function(){return"mml"!==this.stack.Top().type?null:this.stack.Top().data[0]},mmlToken:function(l){return l},ControlSequence:function(o){var l=this.GetCS(),n=this.csFindMacro(l);if(n){n instanceof Array||(n=[n]);var m=n[0];m instanceof Function||(m=this[m]),m.apply(this,[o+l].concat(n.slice(1)))}else f.mathchar0mi[l]?this.csMathchar0mi(l,f.mathchar0mi[l]):f.mathchar0mo[l]?this.csMathchar0mo(l,f.mathchar0mo[l]):f.mathchar7[l]?this.csMathchar7(l,f.mathchar7[l]):null!=f.delimiter["\\"+l]?this.csDelimiter(l,f.delimiter["\\"+l]):this.csUndefined(o+l)},csFindMacro:function(l){return f.macros[l]},csMathchar0mi:function(l,n){var m={mathvariant:h.VARIANT.ITALIC};n instanceof Array&&(m=n[1],n=n[0]),this.Push(this.mmlToken(h.mi(h.entity("#x"+n)).With(m)))},csMathchar0mo:function(l,n){var m={stretchy:!1};n instanceof Array&&(m=n[1],m.stretchy=!1,n=n[0]),this.Push(this.mmlToken(h.mo(h.entity("#x"+n)).With(m)))},csMathchar7:function(l,n){var m={mathvariant:h.VARIANT.NORMAL};n instanceof Array&&(m=n[1],n=n[0]),this.stack.env.font&&(m.mathvariant=this.stack.env.font),this.Push(this.mmlToken(h.mi(h.entity("#x"+n)).With(m)))},csDelimiter:function(l,n){var m={};n instanceof Array&&(m=n[1],n=n[0]),n=4===n.length?h.entity("#x"+n):h.chars(n),this.Push(this.mmlToken(h.mo(n).With({fence:!1,stretchy:!1}).With(m)))},csUndefined:function(l){d.Error(["UndefinedControlSequence","Undefined control sequence %1",l])},Variable:function(m){var l={};this.stack.env.font&&(l.mathvariant=this.stack.env.font),this.Push(this.mmlToken(h.mi(h.chars(m)).With(l)))},Number:function(o){var l,m=this.string.slice(this.i-1).match(f.number);m?(l=h.mn(m[0].replace(/[{}]/g,"")),this.i+=m[0].length-1):l=h.mo(h.chars(o)),this.stack.env.font&&(l.mathvariant=this.stack.env.font),this.Push(this.mmlToken(l))},Open:function(){this.Push(b.open())},Close:function(){this.Push(b.close())},Tilde:function(){this.Push(h.mtext(h.chars(g)))},Space:function(){},Superscript:function(){this.GetNext().match(/\d/)&&(this.string=this.string.substr(0,this.i+1)+" "+this.string.substr(this.i+1));var l,o,m,n=this.stack.Top();"prime"===n.type?(m=n.data[0],o=n.data[1],this.stack.Pop()):(m=this.stack.Prev(),m||(m=h.mi(""))),m.isEmbellishedWrapper&&(m=m.data[0].data[0]),"msubsup"===m.type?(m.data[m.sup]&&d.Error(["DoubleExponent","Double exponent: use braces to clarify"]),l=m.sup):m.movesupsub?(("munderover"!==m.type||m.data[m.over])&&(m.movablelimits&&m.isa(h.mi)&&(m=this.mi2mo(m)),m=h.munderover(m,null,null).With({movesupsub:!0})),l=m.over):(m=h.msubsup(m,null,null),l=m.sup),this.Push(b.subsup(m).With({position:l,primes:o}))},Subscript:function(){this.GetNext().match(/\d/)&&(this.string=this.string.substr(0,this.i+1)+" "+this.string.substr(this.i+1));var l,o,m,n=this.stack.Top();"prime"===n.type?(m=n.data[0],o=n.data[1],this.stack.Pop()):(m=this.stack.Prev(),m||(m=h.mi(""))),m.isEmbellishedWrapper&&(m=m.data[0].data[0]),"msubsup"===m.type?(m.data[m.sub]&&d.Error(["DoubleSubscripts","Double subscripts: use braces to clarify"]),l=m.sub):m.movesupsub?(("munderover"!==m.type||m.data[m.under])&&(m.movablelimits&&m.isa(h.mi)&&(m=this.mi2mo(m)),m=h.munderover(m,null,null).With({movesupsub:!0})),l=m.under):(m=h.msubsup(m,null,null),l=m.sub),this.Push(b.subsup(m).With({position:l,primes:o}))},PRIME:"′",SMARTQUOTE:"’",Prime:function(n){var m=this.stack.Prev();m||(m=h.mi()),"msubsup"===m.type&&m.data[m.sup]&&d.Error(["DoubleExponentPrime","Prime causes double exponent: use braces to clarify"]);var l="";this.i--;do l+=this.PRIME,this.i++,n=this.GetNext();while("'"===n||n===this.SMARTQUOTE);
l=["","′","″","‴","⁗"][l.length]||l,this.Push(b.prime(m,this.mmlToken(h.mo(l))))},mi2mo:function(l){var m=h.mo();m.Append.apply(m,l.data);var n;for(n in m.defaults)m.defaults.hasOwnProperty(n)&&null!=l[n]&&(m[n]=l[n]);for(n in h.copyAttributes)h.copyAttributes.hasOwnProperty(n)&&null!=l[n]&&(m[n]=l[n]);return m},Comment:function(){for(;this.i<this.string.length&&"\n"!=this.string.charAt(this.i);)this.i++},Hash:function(){d.Error(["CantUseHash1","You can't use 'macro parameter character #' in math mode"])},Other:function(n){var m,l;this.stack.env.font&&(m={mathvariant:this.stack.env.font}),f.remap[n]?(n=f.remap[n],n instanceof Array&&(m=n[1],n=n[0]),l=h.mo(h.entity("#x"+n)).With(m)):l=h.mo(n).With(m),l.autoDefault("stretchy",!0)&&(l.stretchy=!1),""==l.autoDefault("texClass",!0)&&(l=h.TeXAtom(l)),this.Push(this.mmlToken(l))},SetFont:function(m,l){this.stack.env.font=l},SetStyle:function(m,l,n,o){this.stack.env.style=l,this.stack.env.level=o,this.Push(b.style().With({styles:{displaystyle:n,scriptlevel:o}}))},SetSize:function(l,m){this.stack.env.size=m,this.Push(b.style().With({styles:{mathsize:m+"em"}}))},Color:function(n){var m=this.GetArgument(n),l=this.stack.env.color;this.stack.env.color=m;var o=this.ParseArg(n);l?this.stack.env.color:delete this.stack.env.color,this.Push(h.mstyle(o).With({mathcolor:m}))},Spacer:function(l,m){this.Push(h.mspace().With({width:m,mathsize:h.SIZE.NORMAL,scriptlevel:0}))},LeftRight:function(l){this.Push(b[l.substr(1)]().With({delim:this.GetDelimiter(l)}))},Middle:function(l){var m=this.GetDelimiter(l);"left"!==this.stack.Top().type&&d.Error(["MisplacedMiddle","%1 must be within \\left and \\right",l]),this.Push(h.mo(m).With({stretchy:!0}))},NamedFn:function(m,n){n||(n=m.substr(1));var l=h.mi(n).With({texClass:h.TEXCLASS.OP});this.Push(b.fn(this.mmlToken(l)))},NamedOp:function(m,n){n||(n=m.substr(1)),n=n.replace(/&thinsp;/," ");var l=h.mo(n).With({movablelimits:!0,movesupsub:!0,form:h.FORM.PREFIX,texClass:h.TEXCLASS.OP});l.useMMLspacing&=~l.SPACE_ATTR.form,this.Push(this.mmlToken(l))},Limits:function(m,l){var n=this.stack.Prev("nopop");n&&n.texClass===h.TEXCLASS.OP||d.Error(["MisplacedLimits","%1 is allowed only on operators",m]),n.movesupsub=l?!0:!1,n.movablelimits=!1},Over:function(n,m,o){var l=b.over().With({name:n});m||o?(l.open=m,l.close=o):n.match(/withdelims$/)&&(l.open=this.GetDelimiter(n),l.close=this.GetDelimiter(n)),n.match(/^\\above/)?l.thickness=this.GetDimen(n):(n.match(/^\\atop/)||m||o)&&(l.thickness=0),this.Push(l)},Frac:function(m){var l=this.ParseArg(m),n=this.ParseArg(m);this.Push(h.mfrac(l,n))},Sqrt:function(o){var p=this.GetBrackets(o),l=this.GetArgument(o);"\\frac"===l&&(l+="{"+this.GetArgument(l)+"}{"+this.GetArgument(l)+"}");var m=d.Parse(l,this.stack.env).mml();m=p?h.mroot(m,this.parseRoot(p)):h.msqrt.apply(h,m.array()),this.Push(m)},Root:function(m){var o=this.GetUpTo(m,"\\of"),l=this.ParseArg(m);this.Push(h.mroot(l,this.parseRoot(o)))},parseRoot:function(q){var m=this.stack.env,l=m.inRoot;m.inRoot=!0;var p=d.Parse(q,m);q=p.mml();var o=p.stack.global;return(o.leftRoot||o.upRoot)&&(q=h.mpadded(q),o.leftRoot&&(q.width=o.leftRoot),o.upRoot&&(q.voffset=o.upRoot,q.height=o.upRoot)),m.inRoot=l,q},MoveRoot:function(l,o){this.stack.env.inRoot||d.Error(["MisplacedMoveRoot","%1 can appear only within a root",l]),this.stack.global[o]&&d.Error(["MultipleMoveRoot","Multiple use of %1",l]);var m=this.GetArgument(l);m.match(/-?[0-9]+/)||d.Error(["IntegerArg","The argument to %1 must be an integer",l]),m=m/15+"em","-"!==m.substr(0,1)&&(m="+"+m),this.stack.global[o]=m},Accent:function(n,l,q){var p=this.ParseArg(n),o={accent:!0};this.stack.env.font&&(o.mathvariant=this.stack.env.font);var m=this.mmlToken(h.mo(h.entity("#x"+l)).With(o));m.stretchy=q?!0:!1,this.Push(h.TeXAtom(h.munderover(p,null,m).With({accent:!0})))},UnderOver:function(n,q,l){var p={o:"over",u:"under"}[n.charAt(1)],o=this.ParseArg(n);o.Get("movablelimits")&&(o.movablelimits=!1);var m=h.munderover(o,null,null);l&&(m.movesupsub=!0),m.data[m[p]]=this.mmlToken(h.mo(h.entity("#x"+q)).With({stretchy:!0,accent:"under"==p})),this.Push(m)},Overset:function(l){var n=this.ParseArg(l),m=this.ParseArg(l);this.Push(h.mover(m,n))},Underset:function(l){var n=this.ParseArg(l),m=this.ParseArg(l);this.Push(h.munder(m,n))},TeXAtom:function(o,q){var n,p={texClass:q};if(q==h.TEXCLASS.OP){p.movesupsub=p.movablelimits=!0;var l=this.GetArgument(o),m=l.match(/^\s*\\rm\s+([a-zA-Z0-9 ]+)$/);m?(p.mathvariant=h.VARIANT.NORMAL,n=b.fn(this.mmlToken(h.mi(m[1]).With(p)))):n=b.fn(h.TeXAtom(d.Parse(l,this.stack.env).mml()).With(p))}else n=h.TeXAtom(this.ParseArg(o)).With(p);this.Push(n)},MmlToken:function(n){var m,o=this.GetArgument(n),l=this.GetBrackets(n,"").replace(/^\s+/,""),r=this.GetArgument(n),q={attrNames:[]};for(h[o]&&h[o].prototype.isToken||d.Error(["NotMathMLToken","%1 is not a token element",o]);""!==l;){m=l.match(/^([a-z]+)\s*=\s*(\'[^']*'|"[^"]*"|[^ ]*)\s*/i),m||d.Error(["InvalidMathMLAttr","Invalid MathML attribute: %1",l]),h[o].prototype.defaults[m[1]]||this.MmlTokenAllow[m[1]]||d.Error(["UnknownAttrForElement","%1 is not a recognized attribute for %2",m[1],o]);var p=this.MmlFilterAttribute(m[1],m[2].replace(/^(['"])(.*)\1$/,"$2"));p&&("true"===p.toLowerCase()?p=!0:"false"===p.toLowerCase()&&(p=!1),q[m[1]]=p,q.attrNames.push(m[1])),l=l.substr(m[0].length)}this.Push(this.mmlToken(h[o](r).With(q)))},MmlFilterAttribute:function(l,m){return m},MmlTokenAllow:{fontfamily:1,fontsize:1,fontweight:1,fontstyle:1,color:1,background:1,id:1,"class":1,href:1,style:1},Strut:function(){this.Push(h.mpadded(h.mrow()).With({height:"8.6pt",depth:"3pt",width:0}))},Phantom:function(m,l,n){var o=h.mphantom(this.ParseArg(m));(l||n)&&(o=h.mpadded(o),n&&(o.height=o.depth=0),l&&(o.width=0)),this.Push(h.TeXAtom(o))},Smash:function(n){var m=this.trimSpaces(this.GetBrackets(n,"")),l=h.mpadded(this.ParseArg(n));switch(m){case"b":l.depth=0;break;case"t":l.height=0;break;default:l.height=l.depth=0}this.Push(h.TeXAtom(l))},Lap:function(m){var l=h.mpadded(this.ParseArg(m)).With({width:0});"\\llap"===m&&(l.lspace="-1width"),this.Push(h.TeXAtom(l))},RaiseLower:function(l){var m=this.GetDimen(l),n=b.position().With({name:l,move:"vertical"});"-"===m.charAt(0)&&(m=m.slice(1),l={raise:"\\lower",lower:"\\raise"}[l.substr(1)]),"\\lower"===l?(n.dh="-"+m,n.dd="+"+m):(n.dh="+"+m,n.dd="-"+m),this.Push(n)},MoveLeftRight:function(l){var o=this.GetDimen(l),n="-"===o.charAt(0)?o.slice(1):"-"+o;if("\\moveleft"===l){var m=o;o=n,n=m}this.Push(b.position().With({name:l,move:"horizontal",left:h.mspace().With({width:o,mathsize:h.SIZE.NORMAL}),right:h.mspace().With({width:n,mathsize:h.SIZE.NORMAL})}))},Hskip:function(l){this.Push(h.mspace().With({width:this.GetDimen(l),mathsize:h.SIZE.NORMAL}))},Rule:function(n,p){var m,l=this.GetDimen(n),o=this.GetDimen(n),r=this.GetDimen(n),q={width:l,height:o,depth:r};"blank"!==p?(parseFloat(l)&&parseFloat(o)+parseFloat(r)&&(q.mathbackground=this.stack.env.color||"black"),m=h.mpadded(h.mrow()).With(q)):m=h.mspace().With(q),this.Push(m)},MakeBig:function(l,o,m){m*=f.p_height,m=String(m).replace(/(\.\d\d\d).+/,"$1")+"em";var n=this.GetDelimiter(l,!0);this.Push(h.TeXAtom(h.mo(n).With({minsize:m,maxsize:m,fence:!0,stretchy:!0,symmetric:!0})).With({texClass:o}))},BuildRel:function(l){var m=this.ParseUpTo(l,"\\over"),n=this.ParseArg(l);this.Push(h.TeXAtom(h.munderover(n,null,m)).With({mclass:h.TEXCLASS.REL}))},HBox:function(l,m){this.Push.apply(this,this.InternalMath(this.GetArgument(l),m))},FBox:function(l){this.Push(h.menclose.apply(h,this.InternalMath(this.GetArgument(l))).With({notation:"box"}))},Not:function(){this.Push(b.not())},Dots:function(){this.Push(b.dots().With({ldots:this.mmlToken(h.mo(h.entity("#x2026")).With({stretchy:!1})),cdots:this.mmlToken(h.mo(h.entity("#x22EF")).With({stretchy:!1}))}))},Require:function(l){var m=this.GetArgument(l).replace(/.*\//,"").replace(/[^a-z0-9_.-]/gi,"");this.Extension(null,m)},Extension:function(l,m,n){m=d.extensionDir+"/"+m,m.match(/\.js$/)||(m+=".js"),i.loaded[i.fileURL(m)]||(null!=l&&delete f[n||"macros"][l.replace(/^\\/,"")],c.RestartAfter(i.Require(m)))},Macro:function(n,q,p,r){if(p){var m=[];if(null!=r){var l=this.GetBrackets(n);m.push(null==l?r:l)}for(var o=m.length;p>o;o++)m.push(this.GetArgument(n));q=this.SubstituteArgs(m,q)}this.string=this.AddArgs(q,this.string.slice(this.i)),this.i=0,++this.macroCount>d.config.MAXMACROS&&d.Error(["MaxMacroSub1","MathJax maximum macro substitution count exceeded; is there a recursive macro call?"])},Matrix:function(m,o,t,q,s,n,l,u){var r=this.GetNext();""===r&&d.Error(["MissingArgFor","Missing argument for %1",m]),"{"===r?this.i++:(this.string=r+"}"+this.string.slice(this.i+1),this.i=0);var p=b.array().With({requireClose:!0,arraydef:{rowspacing:n||"4pt",columnspacing:s||"1em"}});u&&(p.isCases=!0),(o||t)&&(p.open=o,p.close=t),"D"===l&&(p.arraydef.displaystyle=!0),null!=q&&(p.arraydef.columnalign=q),this.Push(p)},Entry:function(o){if(this.Push(b.cell().With({isEntry:!0,name:o})),this.stack.Top().isCases){for(var n=this.string,r=0,p=this.i,l=n.length;l>p;){var s=n.charAt(p);"{"===s?(r++,p++):"}"===s?0===r?l=0:(r--,p++):"&"===s&&0===r?d.Error(["ExtraAlignTab","Extra alignment tab in \\cases text"]):"\\"===s?n.substr(p).match(/^((\\cr)[^a-zA-Z]|\\\\)/)?l=0:p+=2:p++}var q=n.substr(this.i,p-this.i);q.match(/^\s*\\text[^a-zA-Z]/)||(this.Push.apply(this,this.InternalMath(q)),this.i=p)}},Cr:function(l){this.Push(b.cell().With({isCR:!0,name:l}))},CrLaTeX:function(l){var p;"["===this.string.charAt(this.i)&&(p=this.GetBrackets(l,"").replace(/ /g,""),p&&!p.match(/^((-?(\.\d+|\d+(\.\d*)?))(pt|em|ex|mu|mm|cm|in|pc))$/)&&d.Error(["BracketMustBeDimension","Bracket argument to %1 must be a dimension",l])),this.Push(b.cell().With({isCR:!0,name:l,linebreak:!0}));var o=this.stack.Top();if(o.isa(b.array)){if(p&&o.arraydef.rowspacing){var m=o.arraydef.rowspacing.split(/ /);for(o.rowspacing||(o.rowspacing=this.dimen2em(m[0]));m.length<o.table.length;)m.push(this.Em(o.rowspacing));m[o.table.length-1]=this.Em(Math.max(0,o.rowspacing+this.dimen2em(p))),o.arraydef.rowspacing=m.join(" ")}}else p&&this.Push(h.mspace().With({depth:p})),this.Push(h.mspace().With({linebreak:h.LINEBREAK.NEWLINE}))},emPerInch:7.2,dimen2em:function(p){var n=p.match(/^(-?(?:\.\d+|\d+(?:\.\d*)?))(pt|em|ex|mu|pc|in|mm|cm)/),l=parseFloat(n[1]||"1"),o=n[2];return"em"===o?l:"ex"===o?.43*l:"pt"===o?l/10:"pc"===o?1.2*l:"in"===o?l*this.emPerInch:"cm"===o?l*this.emPerInch/2.54:"mm"===o?l*this.emPerInch/25.4:"mu"===o?l/18:0},Em:function(l){return Math.abs(l)<6e-4?"0em":l.toFixed(3).replace(/\.?0+$/,"")+"em"},HLine:function(m,n){null==n&&(n="solid");var o=this.stack.Top();if((!o.isa(b.array)||o.data.length)&&d.Error(["Misplaced","Misplaced %1",m]),0==o.table.length)o.frame.push("top");else{for(var l=o.arraydef.rowlines?o.arraydef.rowlines.split(/ /):[];l.length<o.table.length;)l.push("none");l[o.table.length-1]=n,o.arraydef.rowlines=l.join(" ")}},BeginEnd:function(n){var o=this.GetArgument(n),q=!1;o.match(/^\\end\\/)&&(q=!0,o=o.substr(5)),o.match(/\\/i)&&d.Error(["InvalidEnv","Invalid environment name '%1'",o]);var p=this.envFindName(o);p||d.Error(["UnknownEnv","Unknown environment '%1'",o]),p instanceof Array||(p=[p]);var l=p[1]instanceof Array?p[1][0]:p[1],m=b.begin().With({name:o,end:l,parse:this});"\\end"===n?m=!q&&p[1]instanceof Array&&this[p[1][1]]?this[p[1][1]].apply(this,[m].concat(p.slice(2))):b.end().With({name:o}):(++this.macroCount>d.config.MAXMACROS&&d.Error(["MaxMacroSub2","MathJax maximum substitution count exceeded; is there a recursive latex environment?"]),p[0]&&this[p[0]]&&(m=this[p[0]].apply(this,[m].concat(p.slice(2))))),this.Push(m)},envFindName:function(l){return f.environment[l]},Equation:function(l,m){return m},ExtensionEnv:function(m,l){this.Extension(m.name,l,"environment")},Array:function(m,o,t,r,s,n,l,p){r||(r=this.GetArgument("\\begin{"+m.name+"}"));var u=("c"+r).replace(/[^clr|:]/g,"").replace(/[^|:]([|:])+/g,"$1");r=r.replace(/[^clr]/g,"").split("").join(" "),r=r.replace(/l/g,"left").replace(/r/g,"right").replace(/c/g,"center");var q=b.array().With({arraydef:{columnalign:r,columnspacing:s||"1em",rowspacing:n||"4pt"}});return u.match(/[|:]/)&&(u.charAt(0).match(/[|:]/)&&(q.frame.push("left"),q.frame.dashed=":"===u.charAt(0)),u.charAt(u.length-1).match(/[|:]/)&&q.frame.push("right"),u=u.substr(1,u.length-2),q.arraydef.columnlines=u.split("").join(" ").replace(/[^|: ]/g,"none").replace(/\|/g,"solid").replace(/:/g,"dashed")),o&&(q.open=this.convertDelimiter(o)),t&&(q.close=this.convertDelimiter(t)),"D"===l?q.arraydef.displaystyle=!0:l&&(q.arraydef.displaystyle=!1),"S"===l&&(q.arraydef.scriptlevel=1),p&&(q.arraydef.useHeight=!1),this.Push(m),q},AlignedArray:function(l){var m=this.GetBrackets("\\begin{"+l.name+"}");return this.setArrayAlign(this.Array.apply(this,arguments),m)},setArrayAlign:function(m,l){return l=this.trimSpaces(l||""),"t"===l?m.arraydef.align="baseline 1":"b"===l?m.arraydef.align="baseline -1":"c"===l?m.arraydef.align="center":l&&(m.arraydef.align=l),m},convertDelimiter:function(l){return l&&(l=f.delimiter[l]),null==l?null:(l instanceof Array&&(l=l[0]),4===l.length&&(l=String.fromCharCode(parseInt(l,16))),l)},trimSpaces:function(l){return"string"!=typeof l?l:l.replace(/^\s+|\s+$/g,"")},nextIsSpace:function(){return this.string.charAt(this.i).match(/\s/)},GetNext:function(){for(;this.nextIsSpace();)this.i++;return this.string.charAt(this.i)},GetCS:function(){var l=this.string.slice(this.i).match(/^([a-z]+|.) ?/i);return l?(this.i+=l[1].length,l[1]):(this.i++," ")},GetArgument:function(m,n){switch(this.GetNext()){case"":return n||d.Error(["MissingArgFor","Missing argument for %1",m]),null;case"}":return n||d.Error(["ExtraCloseMissingOpen","Extra close brace or missing open brace"]),null;case"\\":return this.i++,"\\"+this.GetCS();case"{":for(var l=++this.i,o=1;this.i<this.string.length;)switch(this.string.charAt(this.i++)){case"\\":this.i++;break;case"{":o++;break;case"}":if(0==--o)return this.string.slice(l,this.i-1)}d.Error(["MissingCloseBrace","Missing close brace"])}return this.string.charAt(this.i++)},GetBrackets:function(m,o){if("["!=this.GetNext())return o;for(var l=++this.i,n=0;this.i<this.string.length;)switch(this.string.charAt(this.i++)){case"{":n++;break;case"\\":this.i++;break;case"}":n--<=0&&d.Error(["ExtraCloseLooking","Extra close brace while looking for %1","']'"]);break;case"]":if(0==n)return this.string.slice(l,this.i-1)}d.Error(["MissingCloseBracket","Couldn't find closing ']' for argument to %1",m])},GetDelimiter:function(l,m){for(;this.nextIsSpace();)this.i++;var n=this.string.charAt(this.i);return this.i++,this.i<=this.string.length&&("\\"==n?n+=this.GetCS(l):"{"===n&&m&&(this.i--,n=this.GetArgument(l)),null!=f.delimiter[n])?this.convertDelimiter(n):void d.Error(["MissingOrUnrecognizedDelim","Missing or unrecognized delimiter for %1",l])},GetDimen:function(m){var n;if(this.nextIsSpace()&&this.i++,"{"==this.string.charAt(this.i)){if(n=this.GetArgument(m),n.match(/^\s*([-+]?(\.\d+|\d+(\.\d*)?))\s*(pt|em|ex|mu|px|mm|cm|in|pc)\s*$/))return n.replace(/ /g,"")}else{n=this.string.slice(this.i);var l=n.match(/^\s*(([-+]?(\.\d+|\d+(\.\d*)?))\s*(pt|em|ex|mu|px|mm|cm|in|pc)) ?/);if(l)return this.i+=l[0].length,l[1].replace(/ /g,"")}d.Error(["MissingDimOrUnits","Missing dimension or its units for %1",m])},GetUpTo:function(n,o){for(;this.nextIsSpace();)this.i++;for(var l,q,m=this.i,p=0;this.i<this.string.length;){switch(l=this.i,q=this.string.charAt(this.i++)){case"\\":q+=this.GetCS();break;case"{":p++;break;case"}":0==p&&d.Error(["ExtraCloseLooking","Extra close brace while looking for %1",o]),p--}if(0==p&&q==o)return this.string.slice(m,l)}d.Error(["TokenNotFoundForCommand","Couldn't find %1 for %2",o,n])},ParseArg:function(l){return d.Parse(this.GetArgument(l),this.stack.env).mml()},ParseUpTo:function(l,m){return d.Parse(this.GetUpTo(l,m),this.stack.env).mml()},InternalMath:function(q,s){var p={displaystyle:!1};if(null!=s&&(p.scriptlevel=s),this.stack.env.font&&(p.mathvariant=this.stack.env.font),!q.match(/\\?\$|\\\(|\\(eq)?ref\s*\{/))return[this.InternalText(q,p)];for(var r,o=0,l=0,n="",m=[];o<q.length;)r=q.charAt(o++),"$"===r?"$"===n?(m.push(h.TeXAtom(d.Parse(q.slice(l,o-1),{}).mml().With(p))),n="",l=o):""===n&&(o-1>l&&m.push(this.InternalText(q.slice(l,o-1),p)),n="$",l=o):"}"===r&&"}"===n?(m.push(h.TeXAtom(d.Parse(q.slice(l,o),{}).mml().With(p))),n="",l=o):"\\"===r&&(""===n&&q.substr(o).match(/^(eq)?ref\s*\{/)?(o-1>l&&m.push(this.InternalText(q.slice(l,o-1),p)),n="}",l=o-1):(r=q.charAt(o++),"("===r&&""===n?(o-2>l&&m.push(this.InternalText(q.slice(l,o-2),p)),n=")",l=o):")"===r&&")"===n?(m.push(h.TeXAtom(d.Parse(q.slice(l,o-2),{}).mml().With(p))),n="",l=o):"$"===r&&""===n&&(o--,q=q.substr(0,o-1)+q.substr(o))));return""!==n&&d.Error(["MathNotTerminated","Math not terminated in text box"]),l<q.length&&m.push(this.InternalText(q.slice(l),p)),m},InternalText:function(m,l){return m=m.replace(/^\s+/,g).replace(/\s+$/,g),h.mtext(h.chars(m)).With(l)},SubstituteArgs:function(m,l){for(var q,p="",o="",n=0;n<l.length;)q=l.charAt(n++),"\\"===q?p+=q+l.charAt(n++):"#"===q?(q=l.charAt(n++),"#"===q?p+=q:((!q.match(/[1-9]/)||q>m.length)&&d.Error(["IllegalMacroParam","Illegal macro parameter reference"]),o=this.AddArgs(this.AddArgs(o,p),m[q-1]),p="")):p+=q;return this.AddArgs(o,p)},AddArgs:function(m,l){return l.match(/^[a-z]/i)&&m.match(/(^|[^\\])(\\\\)*\\[a-z]+$/i)&&(m+=" "),m.length+l.length>d.config.MAXBUFFER&&d.Error(["MaxBufferSize","MathJax internal buffer size exceeded; is there a recursive macro call?"]),m+l}});d.Augment({Stack:e,Parse:a,Definitions:f,Startup:k,config:{MAXMACROS:1e4,MAXBUFFER:5120},sourceMenuTitle:["TeXCommands","TeX Commands"],annotationEncoding:"application/x-tex",prefilterHooks:MathJax.Callback.Hooks(!0),postfilterHooks:MathJax.Callback.Hooks(!0),Config:function(){this.SUPER(arguments).Config.apply(this,arguments),"none"!==this.config.equationNumbers.autoNumber&&(this.config.extensions||(this.config.extensions=[]),this.config.extensions.push("AMSmath.js"))},Translate:function(l){var m,n=!1,p=MathJax.HTML.getScript(l),r=null!=l.type.replace(/\n/g," ").match(/(;|\s|\n)mode\s*=\s*display(;|\s|\n|$)/),q={math:p,display:r,script:l};this.prefilterHooks.Execute(q),p=q.math;try{m=d.Parse(p).mml()}catch(o){if(!o.texError)throw o;m=this.formatError(o,p,r,l),n=!0}return m=m.inferred?h.apply(MathJax.ElementJax,m.data):h(m),r&&(m.root.display="block"),n&&(m.texError=!0),q.math=m,this.postfilterHooks.Execute(q),q.math},prefilterMath:function(m){return m},postfilterMath:function(m){return this.combineRelations(m.root),m},formatError:function(o,n,p,l){var m=o.message.replace(/\n.*/,"");return c.signal.Post(["TeX Jax - parse error",m,n,p,l]),h.Error(m)},Error:function(l){throw l instanceof Array&&(l=j.apply(j,l)),c.Insert(Error(l),{texError:!0})},Macro:function(l){f.macros[l]=["Macro"].concat([].slice.call(arguments,1)),f.macros[l].isUser=!0},fenced:function(n,m,o){var l=h.mrow().With({open:n,close:o,texClass:h.TEXCLASS.INNER});return n&&l.Append(h.mo(n).With({fence:!0,stretchy:!0,texClass:h.TEXCLASS.OPEN})),"mrow"===m.type?l.Append.apply(l,m.data):l.Append(m),o&&l.Append(h.mo(o).With({fence:!0,stretchy:!0,texClass:h.TEXCLASS.CLOSE})),l},combineRelations:function(p){var q,l,o,n;for(q=0,l=p.data.length;l>q;q++)if(p.data[q]){if(p.isa(h.mrow))for(;l>q+1&&(o=p.data[q])&&(n=p.data[q+1])&&o.isa(h.mo)&&n.isa(h.mo)&&o.Get("texClass")===h.TEXCLASS.REL&&n.Get("texClass")===h.TEXCLASS.REL;)o.variantForm!=n.variantForm||o.Get("mathvariant")!=n.Get("mathvariant")||o.style!=n.style||o["class"]!=n["class"]||o.id||n.id?(o.rspace=n.lspace="0pt",q++):(o.Append.apply(o,n.data),p.data.splice(q+1,1),l--);p.data[q].isToken||this.combineRelations(p.data[q])}}}),d.prefilterHooks.Add(function(l){l.math=d.prefilterMath(l.math,l.display,l.script)}),d.postfilterHooks.Add(function(l){l.math=d.postfilterMath(l.math,l.display,l.script)}),d.loadComplete("jax.js")}(MathJax.InputJax.TeX,MathJax.Hub,MathJax.Ajax),MathJax.Extension["TeX/AMSmath"]={version:"2.4.0",number:0,startNumber:0,IDs:{},eqIDs:{},labels:{},eqlabels:{},refs:[]},MathJax.Hub.Register.StartupHook("TeX Jax Ready",function(){var b=MathJax.ElementJax.mml,g=MathJax.InputJax.TeX,f=MathJax.Extension["TeX/AMSmath"],d=g.Definitions,e=g.Stack.Item,a=g.config.equationNumbers,c=function(j){for(var l=[],k=0,h=j.length;h>k;k++)l[k]=g.Parse.prototype.Em(j[k]);return l.join(" ")};d.Add({mathchar0mo:{iiiint:["2A0C",{texClass:b.TEXCLASS.OP}]},macros:{mathring:["Accent","2DA"],nobreakspace:"Tilde",negmedspace:["Spacer",b.LENGTH.NEGATIVEMEDIUMMATHSPACE],negthickspace:["Spacer",b.LENGTH.NEGATIVETHICKMATHSPACE],idotsint:["MultiIntegral","\\int\\cdots\\int"],dddot:["Accent","20DB"],ddddot:["Accent","20DC"],sideset:["Macro","\\mathop{\\mathop{\\rlap{\\phantom{#3}}}\\nolimits#1\\!\\mathop{#3}\\nolimits#2}",3],boxed:["Macro","\\fbox{$\\displaystyle{#1}$}",1],tag:"HandleTag",notag:"HandleNoTag",label:"HandleLabel",ref:"HandleRef",eqref:["HandleRef",!0],substack:["Macro","\\begin{subarray}{c}#1\\end{subarray}",1],injlim:["NamedOp","inj&thinsp;lim"],projlim:["NamedOp","proj&thinsp;lim"],varliminf:["Macro","\\mathop{\\underline{\\mmlToken{mi}{lim}}}"],varlimsup:["Macro","\\mathop{\\overline{\\mmlToken{mi}{lim}}}"],varinjlim:["Macro","\\mathop{\\underrightarrow{\\mmlToken{mi}{lim}\\Rule{-1pt}{0pt}{1pt}}\\Rule{0pt}{0pt}{.45em}}"],varprojlim:["Macro","\\mathop{\\underleftarrow{\\mmlToken{mi}{lim}\\Rule{-1pt}{0pt}{1pt}}\\Rule{0pt}{0pt}{.45em}}"],DeclareMathOperator:"HandleDeclareOp",operatorname:"HandleOperatorName",genfrac:"Genfrac",frac:["Genfrac","","","",""],tfrac:["Genfrac","","","",1],dfrac:["Genfrac","","","",0],binom:["Genfrac","(",")","0em",""],tbinom:["Genfrac","(",")","0em",1],dbinom:["Genfrac","(",")","0em",0],cfrac:"CFrac",shoveleft:["HandleShove",b.ALIGN.LEFT],shoveright:["HandleShove",b.ALIGN.RIGHT],xrightarrow:["xArrow",8594,5,6],xleftarrow:["xArrow",8592,7,3]},environment:{align:["AMSarray",null,!0,!0,"rlrlrlrlrlrl",c([0,2,0,2,0,2,0,2,0,2,0])],"align*":["AMSarray",null,!1,!0,"rlrlrlrlrlrl",c([0,2,0,2,0,2,0,2,0,2,0])],multline:["Multline",null,!0],"multline*":["Multline",null,!1],split:["AMSarray",null,!1,!1,"rl",c([0])],gather:["AMSarray",null,!0,!0,"c"],"gather*":["AMSarray",null,!1,!0,"c"],alignat:["AlignAt",null,!0,!0],"alignat*":["AlignAt",null,!1,!0],alignedat:["AlignAt",null,!1,!1],aligned:["AlignedArray",null,null,null,"rlrlrlrlrlrl",c([0,2,0,2,0,2,0,2,0,2,0]),".5em","D"],gathered:["AlignedArray",null,null,null,"c",null,".5em","D"],subarray:["Array",null,null,null,null,c([0,0,0,0]),"0.1em","S",1],smallmatrix:["Array",null,null,null,"c",c([1/3]),".2em","S",1],equation:["EquationBegin","Equation",!0],"equation*":["EquationBegin","EquationStar",!1],eqnarray:["AMSarray",null,!0,!0,"rcl",b.LENGTH.THICKMATHSPACE,".5em"],"eqnarray*":["AMSarray",null,!1,!0,"rcl",b.LENGTH.THICKMATHSPACE,".5em"]},delimiter:{"\\lvert":["2223",{texClass:b.TEXCLASS.OPEN}],"\\rvert":["2223",{texClass:b.TEXCLASS.CLOSE}],"\\lVert":["2225",{texClass:b.TEXCLASS.OPEN}],"\\rVert":["2225",{texClass:b.TEXCLASS.CLOSE}]}},null,!0),g.Parse.Augment({HandleTag:function(j){var l=this.GetStar(),i=this.trimSpaces(this.GetArgument(j)),h=i;l||(i=a.formatTag(i));var k=this.stack.global;k.tagID=h,k.notags&&g.Error(["CommandNotAllowedInEnv","%1 not allowed in %2 environment",j,k.notags]),k.tag&&g.Error(["MultipleCommand","Multiple %1",j]),k.tag=b.mtd.apply(b,this.InternalMath(i)).With({id:a.formatID(h)})},HandleNoTag:function(){this.stack.global.tag&&delete this.stack.global.tag,this.stack.global.notag=!0},HandleLabel:function(i){var j=this.stack.global,h=this.GetArgument(i);""!==h&&(f.refUpdate||(j.label&&g.Error(["MultipleCommand","Multiple %1",i]),j.label=h,(f.labels[h]||f.eqlabels[h])&&g.Error(["MultipleLabel","Label '%1' multiply defined",h]),f.eqlabels[h]={tag:"???",id:""}))},HandleRef:function(j,l){var i=this.GetArgument(j),k=f.labels[i]||f.eqlabels[i];k||(k={tag:"???",id:""},f.badref=!f.refUpdate);var h=k.tag;l&&(h=a.formatTag(h)),this.Push(b.mrow.apply(b,this.InternalMath(h)).With({href:a.formatURL(k.id),"class":"MathJax_ref"}))},HandleDeclareOp:function(i){var h=this.GetStar()?"":"\\nolimits",j=this.trimSpaces(this.GetArgument(i));"\\"==j.charAt(0)&&(j=j.substr(1));var k=this.GetArgument(i);k=k.replace(/\*/g,"\\text{*}").replace(/-/g,"\\text{-}"),g.Definitions.macros[j]=["Macro","\\mathop{\\rm "+k+"}"+h]},HandleOperatorName:function(i){var h=this.GetStar()?"":"\\nolimits",j=this.trimSpaces(this.GetArgument(i));j=j.replace(/\*/g,"\\text{*}").replace(/-/g,"\\text{-}"),this.string="\\mathop{\\rm "+j+"}"+h+" "+this.string.slice(this.i),this.i=0},HandleShove:function(i,h){var j=this.stack.Top();("multline"!==j.type||j.data.length)&&g.Error(["CommandAtTheBeginingOfLine","%1 must come at the beginning of the line",i]),j.data.shove=h},CFrac:function(k){var h=this.trimSpaces(this.GetBrackets(k,"")),j=this.GetArgument(k),l=this.GetArgument(k),i=b.mfrac(g.Parse("\\strut\\textstyle{"+j+"}",this.stack.env).mml(),g.Parse("\\strut\\textstyle{"+l+"}",this.stack.env).mml());h={l:b.ALIGN.LEFT,r:b.ALIGN.RIGHT,"":""}[h],null==h&&g.Error(["IllegalAlign","Illegal alignment specified in %1",k]),h&&(i.numalign=i.denomalign=h),this.Push(i)},Genfrac:function(i,k,p,m,h){k=null==k?this.GetDelimiterArg(i):this.convertDelimiter(k),p=null==p?this.GetDelimiterArg(i):this.convertDelimiter(p),null==m&&(m=this.GetArgument(i)),null==h&&(h=this.trimSpaces(this.GetArgument(i)));var l=this.ParseArg(i),o=this.ParseArg(i),j=b.mfrac(l,o);if(""!==m&&(j.linethickness=m),(k||p)&&(j=g.fenced(k,j,p)),""!==h){var n=["D","T","S","SS"][h];null==n&&g.Error(["BadMathStyleFor","Bad math style for %1",i]),j=b.mstyle(j),"D"===n?(j.displaystyle=!0,j.scriptlevel=0):(j.displaystyle=!1,j.scriptlevel=h-1)}this.Push(j)},Multline:function(i,h){return this.Push(i),this.checkEqnEnv(),e.multline(h,this.stack).With({arraydef:{displaystyle:!0,rowspacing:".5em",width:g.config.MultLineWidth,columnwidth:"100%",side:g.config.TagSide,minlabelspacing:g.config.TagIndent}})},AMSarray:function(j,i,h,l,k){return this.Push(j),h&&this.checkEqnEnv(),l=l.replace(/[^clr]/g,"").split("").join(" "),l=l.replace(/l/g,"left").replace(/r/g,"right").replace(/c/g,"center"),e.AMSarray(j.name,i,h,this.stack).With({arraydef:{displaystyle:!0,rowspacing:".5em",columnalign:l,columnspacing:k||"1em",rowspacing:"3pt",side:g.config.TagSide,minlabelspacing:g.config.TagIndent}})},AlignAt:function(k,i,h){var p,j,o="",m=[];for(h||(j=this.GetBrackets("\\begin{"+k.name+"}")),p=this.GetArgument("\\begin{"+k.name+"}"),p.match(/[^0-9]/)&&g.Error(["PositiveIntegerArg","Argument to %1 must me a positive integer","\\begin{"+k.name+"}"]);p>0;)o+="rl",m.push("0em 0em"),p--;if(m=m.join(" "),h)return this.AMSarray(k,i,h,o,m);var l=this.Array.call(this,k,null,null,o,m,".5em","D");return this.setArrayAlign(l,j)},EquationBegin:function(h,i){return this.checkEqnEnv(),this.stack.global.forcetag=i&&"none"!==a.autoNumber,h},EquationStar:function(h,i){return this.stack.global.tagged=!0,i},checkEqnEnv:function(){this.stack.global.eqnenv&&g.Error(["ErroneousNestingEq","Erroneous nesting of equation structures"]),this.stack.global.eqnenv=!0},MultiIntegral:function(h,l){var k=this.GetNext();if("\\"===k){var j=this.i;k=this.GetArgument(h),this.i=j,"\\limits"===k&&(l="\\idotsint"===h?"\\!\\!\\mathop{\\,\\,"+l+"}":"\\!\\!\\!\\mathop{\\,\\,\\,"+l+"}")}this.string=l+" "+this.string.slice(this.i),this.i=0},xArrow:function(j,n,m,h){var k={width:"+"+(m+h)+"mu",lspace:m+"mu"},o=this.GetBrackets(j),p=this.ParseArg(j),q=b.mo(b.chars(String.fromCharCode(n))).With({stretchy:!0,texClass:b.TEXCLASS.REL}),i=b.munderover(q);i.SetData(i.over,b.mpadded(p).With(k).With({voffset:".15em"})),o&&(o=g.Parse(o,this.stack.env).mml(),i.SetData(i.under,b.mpadded(o).With(k).With({voffset:"-.24em"}))),this.Push(i)},GetDelimiterArg:function(h){var i=this.trimSpaces(this.GetArgument(h));return""==i?null:(null==d.delimiter[i]&&g.Error(["MissingOrUnrecognizedDelim","Missing or unrecognized delimiter for %1",h]),this.convertDelimiter(i))},GetStar:function(){var h="*"===this.GetNext();return h&&this.i++,h}}),e.Augment({autoTag:function(){var i=this.global;if(!i.notag){f.number++,i.tagID=a.formatNumber(f.number.toString());var h=g.Parse("\\text{"+a.formatTag(i.tagID)+"}",{}).mml();i.tag=b.mtd(h).With({id:a.formatID(i.tagID)})}},getTag:function(){var l=this.global,j=l.tag;if(l.tagged=!0,l.label&&(a.useLabelIds&&(j.id=a.formatID(l.label)),f.eqlabels[l.label]={tag:l.tagID,id:j.id}),document.getElementById(j.id)||f.IDs[j.id]||f.eqIDs[j.id]){var h,k=0;do k++,h=j.id+"_"+k;while(document.getElementById(h)||f.IDs[h]||f.eqIDs[h]);j.id=h,l.label&&(f.eqlabels[l.label].id=h)}return f.eqIDs[j.id]=1,this.clearTag(),j},clearTag:function(){var h=this.global;delete h.tag,delete h.tagID,delete h.label},fixInitialMO:function(l){for(var k=0,h=l.length;h>k;k++)if(l[k]&&"mspace"!==l[k].type&&("texatom"!==l[k].type||l[k].data[0]&&l[k].data[0].data.length)){if(l[k].isEmbellished()){var j=l[k].CoreMO();j.form=b.FORM.INFIX,j.lspace=b.LENGTH.MEDIUMMATHSPACE}break}}}),e.multline=e.array.Subclass({type:"multline",Init:function(i,h){this.SUPER(arguments).Init.apply(this),this.numbered=i&&"none"!==a.autoNumber,this.save={notag:h.global.notag},h.global.tagged=!i&&!h.global.forcetag},EndEntry:function(){this.table.length&&this.fixInitialMO(this.data);var h=b.mtd.apply(b,this.data);this.data.shove&&(h.columnalign=this.data.shove),this.row.push(h),this.data=[]},EndRow:function(){1!=this.row.length&&g.Error(["MultlineRowsOneCol","The rows within the %1 environment must have exactly one column","multline"]),this.table.push(this.row),this.row=[]},EndTable:function(){if(this.SUPER(arguments).EndTable.call(this),this.table.length){var l,j=this.table.length-1,k=-1;for(this.table[0][0].columnalign||(this.table[0][0].columnalign=b.ALIGN.LEFT),this.table[j][0].columnalign||(this.table[j][0].columnalign=b.ALIGN.RIGHT),!this.global.tag&&this.numbered&&this.autoTag(),this.global.tag&&!this.global.notags&&(k="left"===this.arraydef.side?0:this.table.length-1,this.table[k]=[this.getTag()].concat(this.table[k])),l=0,j=this.table.length;j>l;l++){var h=l===k?b.mlabeledtr:b.mtr;this.table[l]=h.apply(b,this.table[l])}}this.global.notag=this.save.notag}}),e.AMSarray=e.array.Subclass({type:"AMSarray",Init:function(k,j,i,h){this.SUPER(arguments).Init.apply(this),this.numbered=j&&"none"!==a.autoNumber,this.save={notags:h.global.notags,notag:h.global.notag},h.global.notags=i?null:k,h.global.tagged=!j&&!h.global.forcetag},EndEntry:function(){this.row.length&&this.fixInitialMO(this.data),this.row.push(b.mtd.apply(b,this.data)),this.data=[]},EndRow:function(){var h=b.mtr;!this.global.tag&&this.numbered&&this.autoTag(),this.global.tag&&!this.global.notags?(this.row=[this.getTag()].concat(this.row),h=b.mlabeledtr):this.clearTag(),this.numbered&&delete this.global.notag,this.table.push(h.apply(b,this.row)),this.row=[]},EndTable:function(){this.SUPER(arguments).EndTable.call(this),this.global.notags=this.save.notags,this.global.notag=this.save.notag}}),e.start.Augment({oldCheckItem:e.start.prototype.checkItem,checkItem:function(j){if("stop"===j.type){var h=this.mmlData(),i=this.global;if(!f.display||i.tag||i.tagged||i.isInner||"all"!==a.autoNumber&&!i.forcetag||this.autoTag(),i.tag){var l=[this.getTag(),b.mtd(h)],k={side:g.config.TagSide,minlabelspacing:g.config.TagIndent,columnalign:h.displayAlign};h.displayAlign===b.INDENTALIGN.LEFT?(k.width="100%",h.displayIndent&&!String(h.displayIndent).match(/^0+(\.0*)?($|[a-z%])/)&&(k.columnwidth=h.displayIndent+" fit",k.columnspacing="0",l=[l[0],b.mtd(),l[1]])):h.displayAlign===b.INDENTALIGN.RIGHT&&(k.width="100%",h.displayIndent&&!String(h.displayIndent).match(/^0+(\.0*)?($|[a-z%])/)&&(k.columnwidth="fit "+h.displayIndent,k.columnspacing="0",l[2]=b.mtd())),h=b.mtable(b.mlabeledtr.apply(b,l)).With(k)}return e.mml(h)}return this.oldCheckItem.call(this,j)}}),g.prefilterHooks.Add(function(h){f.display=h.display,f.number=f.startNumber,f.eqlabels=f.eqIDs={},f.badref=!1,f.refUpdate&&(f.number=h.script.MathJax.startNumber)
}),g.postfilterHooks.Add(function(h){h.script.MathJax.startNumber=f.startNumber,f.startNumber=f.number,MathJax.Hub.Insert(f.IDs,f.eqIDs),MathJax.Hub.Insert(f.labels,f.eqlabels),f.badref&&!h.math.texError&&f.refs.push(h.script)}),MathJax.Hub.Register.MessageHook("Begin Math Input",function(){f.refs=[],f.refUpdate=!1}),MathJax.Hub.Register.MessageHook("End Math Input",function(){if(f.refs.length){f.refUpdate=!0;for(var j=0,h=f.refs.length;h>j;j++)f.refs[j].MathJax.state=MathJax.ElementJax.STATE.UPDATE;return MathJax.Hub.processInput({scripts:f.refs,start:(new Date).getTime(),i:0,j:0,jax:{},jaxIDs:[]})}return null}),g.resetEquationNumbers=function(i,h){f.startNumber=i||0,h||(f.labels=f.IDs={})},MathJax.Hub.Startup.signal.Post("TeX AMSmath Ready")}),MathJax.Ajax.loadComplete("[MathJax]/extensions/TeX/AMSmath.js"),MathJax.Extension["TeX/AMSsymbols"]={version:"2.4.0"},MathJax.Hub.Register.StartupHook("TeX Jax Ready",function(){var a=MathJax.ElementJax.mml,b=MathJax.InputJax.TeX.Definitions;b.Add({mathchar0mi:{digamma:"03DD",varkappa:"03F0",varGamma:["0393",{mathvariant:a.VARIANT.ITALIC}],varDelta:["0394",{mathvariant:a.VARIANT.ITALIC}],varTheta:["0398",{mathvariant:a.VARIANT.ITALIC}],varLambda:["039B",{mathvariant:a.VARIANT.ITALIC}],varXi:["039E",{mathvariant:a.VARIANT.ITALIC}],varPi:["03A0",{mathvariant:a.VARIANT.ITALIC}],varSigma:["03A3",{mathvariant:a.VARIANT.ITALIC}],varUpsilon:["03A5",{mathvariant:a.VARIANT.ITALIC}],varPhi:["03A6",{mathvariant:a.VARIANT.ITALIC}],varPsi:["03A8",{mathvariant:a.VARIANT.ITALIC}],varOmega:["03A9",{mathvariant:a.VARIANT.ITALIC}],beth:"2136",gimel:"2137",daleth:"2138",backprime:["2035",{variantForm:!0}],hslash:"210F",varnothing:["2205",{variantForm:!0}],blacktriangle:"25B4",triangledown:["25BD",{variantForm:!0}],blacktriangledown:"25BE",square:"25FB",Box:"25FB",blacksquare:"25FC",lozenge:"25CA",Diamond:"25CA",blacklozenge:"29EB",circledS:["24C8",{mathvariant:a.VARIANT.NORMAL}],bigstar:"2605",sphericalangle:"2222",measuredangle:"2221",nexists:"2204",complement:"2201",mho:"2127",eth:["00F0",{mathvariant:a.VARIANT.NORMAL}],Finv:"2132",diagup:"2571",Game:"2141",diagdown:"2572",Bbbk:["006B",{mathvariant:a.VARIANT.DOUBLESTRUCK}],yen:"00A5",circledR:"00AE",checkmark:"2713",maltese:"2720"},mathchar0mo:{dotplus:"2214",ltimes:"22C9",smallsetminus:"2216",rtimes:"22CA",Cap:"22D2",doublecap:"22D2",leftthreetimes:"22CB",Cup:"22D3",doublecup:"22D3",rightthreetimes:"22CC",barwedge:"22BC",curlywedge:"22CF",veebar:"22BB",curlyvee:"22CE",doublebarwedge:"2A5E",boxminus:"229F",circleddash:"229D",boxtimes:"22A0",circledast:"229B",boxdot:"22A1",circledcirc:"229A",boxplus:"229E",centerdot:"22C5",divideontimes:"22C7",intercal:"22BA",leqq:"2266",geqq:"2267",leqslant:"2A7D",geqslant:"2A7E",eqslantless:"2A95",eqslantgtr:"2A96",lesssim:"2272",gtrsim:"2273",lessapprox:"2A85",gtrapprox:"2A86",approxeq:"224A",lessdot:"22D6",gtrdot:"22D7",lll:"22D8",llless:"22D8",ggg:"22D9",gggtr:"22D9",lessgtr:"2276",gtrless:"2277",lesseqgtr:"22DA",gtreqless:"22DB",lesseqqgtr:"2A8B",gtreqqless:"2A8C",doteqdot:"2251",Doteq:"2251",eqcirc:"2256",risingdotseq:"2253",circeq:"2257",fallingdotseq:"2252",triangleq:"225C",backsim:"223D",thicksim:["223C",{variantForm:!0}],backsimeq:"22CD",thickapprox:["2248",{variantForm:!0}],subseteqq:"2AC5",supseteqq:"2AC6",Subset:"22D0",Supset:"22D1",sqsubset:"228F",sqsupset:"2290",preccurlyeq:"227C",succcurlyeq:"227D",curlyeqprec:"22DE",curlyeqsucc:"22DF",precsim:"227E",succsim:"227F",precapprox:"2AB7",succapprox:"2AB8",vartriangleleft:"22B2",lhd:"22B2",vartriangleright:"22B3",rhd:"22B3",trianglelefteq:"22B4",unlhd:"22B4",trianglerighteq:"22B5",unrhd:"22B5",vDash:"22A8",Vdash:"22A9",Vvdash:"22AA",smallsmile:["2323",{variantForm:!0}],shortmid:["2223",{variantForm:!0}],smallfrown:["2322",{variantForm:!0}],shortparallel:["2225",{variantForm:!0}],bumpeq:"224F",between:"226C",Bumpeq:"224E",pitchfork:"22D4",varpropto:"221D",backepsilon:"220D",blacktriangleleft:"25C2",blacktriangleright:"25B8",therefore:"2234",because:"2235",eqsim:"2242",vartriangle:["25B3",{variantForm:!0}],Join:"22C8",nless:"226E",ngtr:"226F",nleq:"2270",ngeq:"2271",nleqslant:["2A87",{variantForm:!0}],ngeqslant:["2A88",{variantForm:!0}],nleqq:["2270",{variantForm:!0}],ngeqq:["2271",{variantForm:!0}],lneq:"2A87",gneq:"2A88",lneqq:"2268",gneqq:"2269",lvertneqq:["2268",{variantForm:!0}],gvertneqq:["2269",{variantForm:!0}],lnsim:"22E6",gnsim:"22E7",lnapprox:"2A89",gnapprox:"2A8A",nprec:"2280",nsucc:"2281",npreceq:["22E0",{variantForm:!0}],nsucceq:["22E1",{variantForm:!0}],precneqq:"2AB5",succneqq:"2AB6",precnsim:"22E8",succnsim:"22E9",precnapprox:"2AB9",succnapprox:"2ABA",nsim:"2241",ncong:"2246",nshortmid:["2224",{variantForm:!0}],nshortparallel:["2226",{variantForm:!0}],nmid:"2224",nparallel:"2226",nvdash:"22AC",nvDash:"22AD",nVdash:"22AE",nVDash:"22AF",ntriangleleft:"22EA",ntriangleright:"22EB",ntrianglelefteq:"22EC",ntrianglerighteq:"22ED",nsubseteq:"2288",nsupseteq:"2289",nsubseteqq:["2288",{variantForm:!0}],nsupseteqq:["2289",{variantForm:!0}],subsetneq:"228A",supsetneq:"228B",varsubsetneq:["228A",{variantForm:!0}],varsupsetneq:["228B",{variantForm:!0}],subsetneqq:"2ACB",supsetneqq:"2ACC",varsubsetneqq:["2ACB",{variantForm:!0}],varsupsetneqq:["2ACC",{variantForm:!0}],leftleftarrows:"21C7",rightrightarrows:"21C9",leftrightarrows:"21C6",rightleftarrows:"21C4",Lleftarrow:"21DA",Rrightarrow:"21DB",twoheadleftarrow:"219E",twoheadrightarrow:"21A0",leftarrowtail:"21A2",rightarrowtail:"21A3",looparrowleft:"21AB",looparrowright:"21AC",leftrightharpoons:"21CB",rightleftharpoons:["21CC",{variantForm:!0}],curvearrowleft:"21B6",curvearrowright:"21B7",circlearrowleft:"21BA",circlearrowright:"21BB",Lsh:"21B0",Rsh:"21B1",upuparrows:"21C8",downdownarrows:"21CA",upharpoonleft:"21BF",upharpoonright:"21BE",downharpoonleft:"21C3",restriction:"21BE",multimap:"22B8",downharpoonright:"21C2",leftrightsquigarrow:"21AD",rightsquigarrow:"21DD",leadsto:"21DD",dashrightarrow:"21E2",dashleftarrow:"21E0",nleftarrow:"219A",nrightarrow:"219B",nLeftarrow:"21CD",nRightarrow:"21CF",nleftrightarrow:"21AE",nLeftrightarrow:"21CE"},delimiter:{"\\ulcorner":"231C","\\urcorner":"231D","\\llcorner":"231E","\\lrcorner":"231F"},macros:{implies:["Macro","\\;\\Longrightarrow\\;"],impliedby:["Macro","\\;\\Longleftarrow\\;"]}},null,!0);var c=a.mo.OPTYPES.REL;MathJax.Hub.Insert(a.mo.prototype,{OPTABLE:{infix:{"⌢":c,"⌣":c,"△":c,"":c,"":c,"":c,"":c,"":c,"":c,"":c,"":c,"":c,"":c,"":c,"":c,"":c,"":c,"":c,"":c}}}),MathJax.Hub.Startup.signal.Post("TeX AMSsymbols Ready")}),MathJax.Ajax.loadComplete("[MathJax]/extensions/TeX/AMSsymbols.js"),function(c,d){var a,b=function(e){return MathJax.Localization._.apply(MathJax.Localization,[["MathML",e]].concat([].slice.call(arguments,1)))};c.Parse=MathJax.Object.Subclass({Init:function(e){this.Parse(e)},Parse:function(g){var h;"string"!=typeof g?h=g.parentNode:(h=c.ParseXML(this.preProcessMath.call(this,g)),null==h&&c.Error(["ErrorParsingMathML","Error parsing MathML"]));var f=h.getElementsByTagName("parsererror")[0];if(f&&c.Error(["ParsingError","Error parsing MathML: %1",f.textContent.replace(/This page.*?errors:|XML Parsing Error: |Below is a rendering of the page.*/g,"")]),1!==h.childNodes.length&&c.Error(["MathMLSingleElement","MathML must be formed by a single element"]),"html"===h.firstChild.nodeName.toLowerCase()){var e=h.getElementsByTagName("h1")[0];e&&"XML parsing error"===e.textContent&&e.nextSibling&&c.Error(["ParsingError","Error parsing MathML: %1",String(e.nextSibling.nodeValue).replace(/fatal parsing error: /,"")])}"math"!==h.firstChild.nodeName.toLowerCase().replace(/^[a-z]+:/,"")&&c.Error(["MathMLRootElement","MathML must be formed by a <math> element, not %1","<"+h.firstChild.nodeName+">"]),this.mml=this.MakeMML(h.firstChild)},MakeMML:function(h){var f,i=String(h.getAttribute("class")||""),g=h.nodeName.toLowerCase().replace(/^[a-z]+:/,""),e=i.match(/(^| )MJX-TeXAtom-([^ ]*)/);if(e)f=this.TeXAtom(e[2]);else{if(!(a[g]&&a[g].isa&&a[g].isa(a.mbase)))return MathJax.Hub.signal.Post(["MathML Jax - unknown node type",g]),a.Error(b("UnknownNodeType","Unknown node type: %1",g));f=a[g]()}return this.AddAttributes(f,h),this.CheckClass(f,f["class"]),this.AddChildren(f,h),c.config.useMathMLspacing&&(f.useMMLspacing=8),f},TeXAtom:function(f){var e=a.TeXAtom().With({texClass:a.TEXCLASS[f]});return e.texClass===a.TEXCLASS.OP&&(e.movesupsub=e.movablelimits=!0),e},CheckClass:function(f,h){h=(h||"").split(/ /);for(var j=[],g=0,e=h.length;e>g;g++)"MJX-"===h[g].substr(0,4)?"MJX-arrow"===h[g]?f.notation.match("/"+a.NOTATION.UPDIAGONALARROW+"/")||(f.notation+=" "+a.NOTATION.UPDIAGONALARROW):"MJX-variant"===h[g]?(f.variantForm=!0,MathJax.Extension["TeX/AMSsymbols"]||MathJax.Hub.RestartAfter(MathJax.Ajax.Require("[MathJax]/extensions/TeX/AMSsymbols.js"))):"MJX-TeXAtom"!==h[g].substr(0,11)&&(f.mathvariant=h[g].substr(3),("-tex-caligraphic-bold"===f.mathvariant||"-tex-oldstyle-bold"===f.mathvariant)&&(MathJax.Extension["TeX/boldsymbol"]||MathJax.Hub.RestartAfter(MathJax.Ajax.Require("[MathJax]/extensions/TeX/boldsymbol.js")))):j.push(h[g]);j.length?f["class"]=j.join(" "):delete f["class"]},AddAttributes:function(g,j){g.attr={},g.attrNames=[];for(var h=0,e=j.attributes.length;e>h;h++){var f=j.attributes[h].name;if("xlink:href"==f&&(f="href"),!f.match(/:/)&&!f.match(/^_moz-math-((column|row)(align|line)|font-style)$/)){var k=j.attributes[h].value;k=this.filterAttribute(f,k),null!=k&&("true"===k.toLowerCase()?k=!0:"false"===k.toLowerCase()&&(k=!1),null!=g.defaults[f]||a.copyAttributes[f]?g[f]=k:g.attr[f]=k,g.attrNames.push(f))}}},filterAttribute:function(e,f){return f},AddChildren:function(e,g){for(var k=0,j=g.childNodes.length;j>k;k++){var f=g.childNodes[k];if("#comment"!==f.nodeName)if("#text"===f.nodeName)if(!e.isToken&&!e.isChars||e.mmlSelfClosing)f.nodeValue.match(/\S/)&&c.Error(["UnexpectedTextNode","Unexpected text node: %1","'"+f.nodeValue+"'"]);else{var o=f.nodeValue.replace(/&([a-z][a-z0-9]*);/gi,this.replaceEntity);e.Append(a.chars(this.trimSpace(o)))}else if("annotation-xml"===e.type)e.Append(a.xml(f));else{var h=this.MakeMML(f);e.Append(h),h.mmlSelfClosing&&h.data.length&&(e.Append.apply(e,h.data),h.data=[])}}if("mrow"===e.type&&e.data.length>=2){var l=e.data[0],n=e.data[e.data.length-1];"mo"===l.type&&l.Get("fence")&&"mo"===n.type&&n.Get("fence")&&(l.data[0]&&(e.open=l.data.join("")),n.data[0]&&(e.close=n.data.join("")))}},preProcessMath:function(f){f.match(/^<[a-z]+:/i)&&!f.match(/^<[^<>]* xmlns:/)&&(f=f.replace(/^<([a-z]+)(:math)/i,'<$1$2 xmlns:$1="http://www.w3.org/1998/Math/MathML"'));var e=f.match(/^(<math( ('.*?'|".*?"|[^>])+)>)/i);return e&&e[2].match(/ (?!xmlns=)[a-z]+=\"http:/i)&&(f=e[1].replace(/ (?!xmlns=)([a-z]+=(['"])http:.*?\2)/gi," xmlns:$1 $1")+f.substr(e[0].length)),f.match(/^<math/i)&&!f.match(/^<[^<>]* xmlns=/)&&(f=f.replace(/^<(math)/i,'<math xmlns="http://www.w3.org/1998/Math/MathML"')),f=f.replace(/^\s*(?:\/\/)?<!(--)?\[CDATA\[((.|\n)*)(\/\/)?\]\]\1>\s*$/,"$2"),f.replace(/&([a-z][a-z0-9]*);/gi,this.replaceEntity)},trimSpace:function(e){return e.replace(/[\t\n\r]/g," ").replace(/^ +/,"").replace(/ +$/,"").replace(/  +/g," ")},replaceEntity:function(g,f){if(f.match(/^(lt|amp|quot)$/))return g;if(c.Parse.Entity[f])return c.Parse.Entity[f];var h=f.charAt(0).toLowerCase(),e=f.match(/^[a-zA-Z](fr|scr|opf)$/);return e&&(h=e[1]),c.Parse.loaded[h]||(c.Parse.loaded[h]=!0,MathJax.Hub.RestartAfter(MathJax.Ajax.Require(c.entityDir+"/"+h+".js"))),g}},{loaded:[]}),c.Augment({sourceMenuTitle:["OriginalMathML","Original MathML"],prefilterHooks:MathJax.Callback.Hooks(!0),postfilterHooks:MathJax.Callback.Hooks(!0),Translate:function(e){this.ParseXML||(this.ParseXML=this.createParser());var f,h,i={script:e};e.firstChild&&"math"===e.firstChild.nodeName.toLowerCase().replace(/^[a-z]+:/,"")?(i.math=e.firstChild,this.prefilterHooks.Execute(i),h=i.math):(h=MathJax.HTML.getScript(e),d.isMSIE&&(h=h.replace(/(&nbsp;)+$/,"")),i.math=h,this.prefilterHooks.Execute(i),h=i.math);try{f=c.Parse(h).mml}catch(g){if(!g.mathmlError)throw g;f=this.formatError(g,h,e)}return i.math=a(f),this.postfilterHooks.Execute(i),i.math},prefilterMath:function(f){return f},prefilterMathML:function(f){return f},formatError:function(h,g,e){var f=h.message.replace(/\n.*/,"");return MathJax.Hub.signal.Post(["MathML Jax - parse error",f,g,e]),a.Error(f)},Error:function(e){throw e instanceof Array&&(e=b.apply(b,e)),MathJax.Hub.Insert(Error(e),{mathmlError:!0})},parseDOM:function(e){return this.parser.parseFromString(e,"text/xml")},parseMS:function(e){return this.parser.loadXML(e)?this.parser:null},parseDIV:function(e){return this.div.innerHTML=e.replace(/<([a-z]+)([^>]*)\/>/g,"<$1$2></$1>"),this.div},parseError:function(){return null},createMSParser:function(){for(var j=null,f=["MSXML2.DOMDocument.6.0","MSXML2.DOMDocument.5.0","MSXML2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument.2.0","Microsoft.XMLDOM"],g=0,e=f.length;e>g&&!j;g++)try{j=new ActiveXObject(f[g])}catch(h){}return j},createParser:function(){return window.DOMParser?(this.parser=new DOMParser,this.parseDOM):window.ActiveXObject?(this.parser=this.createMSParser(),this.parser?(this.parser.async=!1,this.parseMS):(MathJax.Localization.Try(this.parserCreationError),this.parseError)):(this.div=MathJax.Hub.Insert(document.createElement("div"),{style:{visibility:"hidden",overflow:"hidden",height:"1px",position:"absolute",top:0}}),document.body.firstChild?document.body.insertBefore(this.div,document.body.firstChild):document.body.appendChild(this.div),this.parseDIV)},parserCreationError:function(){alert(b("CantCreateXMLParser","MathJax can't create an XML parser for MathML.  Check that\nthe 'Script ActiveX controls marked safe for scripting' security\nsetting is enabled (use the Internet Options item in the Tools\nmenu, and select the Security panel, then press the Custom Level\nbutton to check this).\n\nMathML equations will not be able to be processed by MathJax."))},Startup:function(){a=MathJax.ElementJax.mml,a.mspace.Augment({mmlSelfClosing:!0}),a.none.Augment({mmlSelfClosing:!0}),a.mprescripts.Augment({mmlSelfClosing:!0})}}),c.prefilterHooks.Add(function(e){e.math="string"==typeof e.math?c.prefilterMath(e.math,e.script):c.prefilterMathML(e.math,e.script)}),c.Parse.Entity={ApplyFunction:"⁡",Backslash:"∖",Because:"∵",Breve:"˘",Cap:"⋒",CenterDot:"·",CircleDot:"⊙",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",Congruent:"≡",ContourIntegral:"∮",Coproduct:"∐",Cross:"⨯",Cup:"⋓",CupCap:"≍",Dagger:"‡",Del:"∇",Delta:"Δ",Diamond:"⋄",DifferentialD:"ⅆ",DotEqual:"≐",DoubleDot:"¨",DoubleRightTee:"⊨",DoubleVerticalBar:"∥",DownArrow:"↓",DownLeftVector:"↽",DownRightVector:"⇁",DownTee:"⊤",Downarrow:"⇓",Element:"∈",EqualTilde:"≂",Equilibrium:"⇌",Exists:"∃",ExponentialE:"ⅇ",FilledVerySmallSquare:"▪",ForAll:"∀",Gamma:"Γ",Gg:"⋙",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Hacek:"ˇ",Hat:"^",HumpDownHump:"≎",HumpEqual:"≏",Im:"ℑ",ImaginaryI:"ⅈ",Integral:"∫",Intersection:"⋂",InvisibleComma:"⁣",InvisibleTimes:"⁢",Lambda:"Λ",Larr:"↞",LeftAngleBracket:"⟨",LeftArrow:"←",LeftArrowRightArrow:"⇆",LeftCeiling:"⌈",LeftDownVector:"⇃",LeftFloor:"⌊",LeftRightArrow:"↔",LeftTee:"⊣",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpVector:"↿",LeftVector:"↼",Leftarrow:"⇐",Leftrightarrow:"⇔",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",LessSlantEqual:"⩽",LessTilde:"≲",Ll:"⋘",Lleftarrow:"⇚",LongLeftArrow:"⟵",LongLeftRightArrow:"⟷",LongRightArrow:"⟶",Longleftarrow:"⟸",Longleftrightarrow:"⟺",Longrightarrow:"⟹",Lsh:"↰",MinusPlus:"∓",NestedGreaterGreater:"≫",NestedLessLess:"≪",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotPrecedes:"⊀",NotPrecedesSlantEqual:"⋠",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsSlantEqual:"⋡",NotSupersetEqual:"⊉",NotTilde:"≁",NotVerticalBar:"∤",Omega:"Ω",OverBar:"‾",OverBrace:"⏞",PartialD:"∂",Phi:"Φ",Pi:"Π",PlusMinus:"±",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",Product:"∏",Proportional:"∝",Psi:"Ψ",Rarr:"↠",Re:"ℜ",ReverseEquilibrium:"⇋",RightAngleBracket:"⟩",RightArrow:"→",RightArrowLeftArrow:"⇄",RightCeiling:"⌉",RightDownVector:"⇂",RightFloor:"⌋",RightTee:"⊢",RightTeeArrow:"↦",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpVector:"↾",RightVector:"⇀",Rightarrow:"⇒",Rrightarrow:"⇛",Rsh:"↱",Sigma:"Σ",SmallCircle:"∘",Sqrt:"√",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",Star:"⋆",Subset:"⋐",SubsetEqual:"⊆",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",SuchThat:"∋",Sum:"∑",Superset:"⊃",SupersetEqual:"⊇",Supset:"⋑",Therefore:"∴",Theta:"Θ",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",UnderBar:"_",UnderBrace:"⏟",Union:"⋃",UnionPlus:"⊎",UpArrow:"↑",UpDownArrow:"↕",UpTee:"⊥",Uparrow:"⇑",Updownarrow:"⇕",Upsilon:"Υ",Vdash:"⊩",Vee:"⋁",VerticalBar:"∣",VerticalTilde:"≀",Vvdash:"⊪",Wedge:"⋀",Xi:"Ξ",acute:"´",aleph:"ℵ",alpha:"α",amalg:"⨿",and:"∧",ang:"∠",angmsd:"∡",angsph:"∢",ape:"≊",backprime:"‵",backsim:"∽",backsimeq:"⋍",beta:"β",beth:"ℶ",between:"≬",bigcirc:"◯",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",blacklozenge:"⧫",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",bowtie:"⋈",boxdl:"┐",boxdr:"┌",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxur:"└",bsol:"\\",bull:"•",cap:"∩",check:"✓",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledR:"®",circledS:"Ⓢ",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",clubs:"♣",colon:":",comp:"∁",ctdot:"⋯",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cup:"∪",curarr:"↷",curlyvee:"⋎",curlywedge:"⋏",dagger:"†",daleth:"ℸ",ddarr:"⇊",deg:"°",delta:"δ",digamma:"ϝ",div:"÷",divideontimes:"⋇",dot:"˙",doteqdot:"≑",dotplus:"∔",dotsquare:"⊡",dtdot:"⋱",ecir:"≖",efDot:"≒",egs:"⪖",ell:"ℓ",els:"⪕",empty:"∅",epsi:"ε",epsiv:"ϵ",erDot:"≓",eta:"η",eth:"ð",flat:"♭",fork:"⋔",frown:"⌢",gEl:"⪌",gamma:"γ",gap:"⪆",gimel:"ℷ",gnE:"≩",gnap:"⪊",gne:"⪈",gnsim:"⋧",gt:">",gtdot:"⋗",harrw:"↭",hbar:"ℏ",hellip:"…",hookleftarrow:"↩",hookrightarrow:"↪",imath:"ı",infin:"∞",intcal:"⊺",iota:"ι",jmath:"ȷ",kappa:"κ",kappav:"ϰ",lEg:"⪋",lambda:"λ",lap:"⪅",larrlp:"↫",larrtl:"↢",lbrace:"{",lbrack:"[",le:"≤",leftleftarrows:"⇇",leftthreetimes:"⋋",lessdot:"⋖",lmoust:"⎰",lnE:"≨",lnap:"⪉",lne:"⪇",lnsim:"⋦",longmapsto:"⟼",looparrowright:"↬",lowast:"∗",loz:"◊",lt:"<",ltimes:"⋉",ltri:"◃",macr:"¯",malt:"✠",mho:"℧",mu:"μ",multimap:"⊸",nLeftarrow:"⇍",nLeftrightarrow:"⇎",nRightarrow:"⇏",nVDash:"⊯",nVdash:"⊮",natur:"♮",nearr:"↗",nharr:"↮",nlarr:"↚",not:"¬",nrarr:"↛",nu:"ν",nvDash:"⊭",nvdash:"⊬",nwarr:"↖",omega:"ω",omicron:"ο",or:"∨",osol:"⊘",period:".",phi:"φ",phiv:"ϕ",pi:"π",piv:"ϖ",prap:"⪷",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",prime:"′",psi:"ψ",rarrtl:"↣",rbrace:"}",rbrack:"]",rho:"ρ",rhov:"ϱ",rightrightarrows:"⇉",rightthreetimes:"⋌",ring:"˚",rmoust:"⎱",rtimes:"⋊",rtri:"▹",scap:"⪸",scnE:"⪶",scnap:"⪺",scnsim:"⋩",sdot:"⋅",searr:"↘",sect:"§",sharp:"♯",sigma:"σ",sigmav:"ς",simne:"≆",smile:"⌣",spades:"♠",sub:"⊂",subE:"⫅",subnE:"⫋",subne:"⊊",supE:"⫆",supnE:"⫌",supne:"⊋",swarr:"↙",tau:"τ",theta:"θ",thetav:"ϑ",tilde:"˜",times:"×",triangle:"▵",triangleq:"≜",upsi:"υ",upuparrows:"⇈",veebar:"⊻",vellip:"⋮",weierp:"℘",xi:"ξ",yen:"¥",zeta:"ζ",zigrarr:"⇝"},c.loadComplete("jax.js")}(MathJax.InputJax.MathML,MathJax.Hub.Browser),MathJax.Ajax.loadComplete("[MathJax]/config/TeX-AMS-MML_HTMLorMML.js"),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(jQuery),+function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.isLoading=!1};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",f.resetText||d.data("resetText",d[e]()),d[e](f[b]||this.options[b]),setTimeout(a.proxy(function(){"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},b.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}a&&this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(jQuery),+function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide("next")},b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}if(e.hasClass("active"))return this.sliding=!1;var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});return this.$element.trigger(j),j.isDefaultPrevented()?void 0:(this.sliding=!0,f&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")?(e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*d.css("transition-duration").slice(0,-1))):(d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),f&&this.cycle(),this)};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("collapse in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?void this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);!e&&f.toggle&&"show"==c&&(c=!c),e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(jQuery),+function(a){"use strict";function b(b){a(d).remove(),a(e).each(function(){var d=c(a(this)),e={relatedTarget:this};d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown",e)),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown",e))})}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown",h),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=" li:not(.divider):visible a",i=f.find("[role=menu]"+h+", [role=listbox]"+h);if(i.length){var j=i.index(i.filter(":focus"));38==b.keyCode&&j>0&&j--,40==b.keyCode&&j<i.length-1&&j++,~j||(j=0),i.eq(j).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu], [role=listbox]",f.prototype.keydown)}(jQuery),+function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show().scrollTop(0),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())
},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());c.is("a")&&b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(jQuery),+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this,d=this.tip();this.setContent(),this.options.animation&&d.addClass("fade");var e="function"==typeof this.options.placement?this.options.placement.call(this,d[0],this.$element[0]):this.options.placement,f=/\s?auto?\s?/i,g=f.test(e);g&&(e=e.replace(f,"")||"top"),d.detach().css({top:0,left:0,display:"block"}).addClass(e),this.options.container?d.appendTo(this.options.container):d.insertAfter(this.$element);var h=this.getPosition(),i=d[0].offsetWidth,j=d[0].offsetHeight;if(g){var k=this.$element.parent(),l=e,m=document.documentElement.scrollTop||document.body.scrollTop,n="body"==this.options.container?window.innerWidth:k.outerWidth(),o="body"==this.options.container?window.innerHeight:k.outerHeight(),p="body"==this.options.container?0:k.offset().left;e="bottom"==e&&h.top+h.height+j-m>o?"top":"top"==e&&h.top-m-j<0?"bottom":"right"==e&&h.right+i>n?"left":"left"==e&&h.left-i<p?"right":e,d.removeClass(l).addClass(e)}var q=this.getCalculatedOffset(e,h,i,j);this.applyPlacement(q,e),this.hoverState=null;var r=function(){c.$element.trigger("shown.bs."+c.type)};a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,r).emulateTransitionEnd(150):r()}},b.prototype.applyPlacement=function(b,c){var d,e=this.tip(),f=e[0].offsetWidth,g=e[0].offsetHeight,h=parseInt(e.css("margin-top"),10),i=parseInt(e.css("margin-left"),10);isNaN(h)&&(h=0),isNaN(i)&&(i=0),b.top=b.top+h,b.left=b.left+i,a.offset.setOffset(e[0],a.extend({using:function(a){e.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),e.addClass("in");var j=e[0].offsetWidth,k=e[0].offsetHeight;if("top"==c&&k!=g&&(d=!0,b.top=b.top+g-k),/bottom|top/.test(c)){var l=0;b.left<0&&(l=-2*b.left,b.left=0,e.offset(b),j=e[0].offsetWidth,k=e[0].offsetHeight),this.replaceArrow(l-f+j,j,"left")}else this.replaceArrow(k-g,k,"top");d&&e.offset(b)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach(),c.$element.trigger("hidden.bs."+c.type)}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.hoverState=null,this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;(e||"destroy"!=c)&&(e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]())})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery),+function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;(e||"destroy"!=c)&&(e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]())})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(jQuery),+function(a){"use strict";function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(a(c).is("body")?window:c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);if(g&&b<=e[0])return g!=(a=f[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(jQuery),+function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(jQuery),+function(a){"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(b.RESET).addClass("affix");var a=this.$window.scrollTop(),c=this.$element.offset();return this.pinnedOffset=c.top-a},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"top"==this.affixed&&(e.top+=d),"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top(this.$element)),"function"==typeof h&&(h=f.bottom(this.$element));var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;if(this.affixed!==i){this.unpin&&this.$element.css("top","");var j="affix"+(i?"-"+i:""),k=a.Event(j+".bs.affix");this.$element.trigger(k),k.isDefaultPrevented()||(this.affixed=i,this.unpin="bottom"==i?this.getPinnedOffset():null,this.$element.removeClass(b.RESET).addClass(j).trigger(a.Event(j.replace("affix","affixed"))),"bottom"==i&&this.$element.offset({top:c-h-this.$element.height()}))}}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(jQuery),function(){function n(n,t,e){e=(e||0)-1;for(var r=n?n.length:0;++e<r;)if(n[e]===t)return e;return-1}function t(t,e){var r=typeof e;if(t=t.l,"boolean"==r||null==e)return t[e]?0:-1;"number"!=r&&"string"!=r&&(r="object");var u="number"==r?e:m+e;return t=(t=t[r])&&t[u],"object"==r?t&&-1<n(t,e)?0:-1:t?0:-1}function e(n){var t=this.l,e=typeof n;if("boolean"==e||null==n)t[n]=!0;else{"number"!=e&&"string"!=e&&(e="object");var r="number"==e?n:m+n,t=t[e]||(t[e]={});"object"==e?(t[r]||(t[r]=[])).push(n):t[r]=!0}}function r(n){return n.charCodeAt(0)}function u(n,t){for(var e=n.m,r=t.m,u=-1,o=e.length;++u<o;){var i=e[u],a=r[u];if(i!==a){if(i>a||"undefined"==typeof i)return 1;if(a>i||"undefined"==typeof a)return-1}}return n.n-t.n}function o(n){var t=-1,r=n.length,u=n[0],o=n[r/2|0],i=n[r-1];if(u&&"object"==typeof u&&o&&"object"==typeof o&&i&&"object"==typeof i)return!1;for(u=f(),u["false"]=u["null"]=u["true"]=u.undefined=!1,o=f(),o.k=n,o.l=u,o.push=e;++t<r;)o.push(n[t]);return o}function i(n){return"\\"+U[n]}function a(){return h.pop()||[]}function f(){return g.pop()||{k:null,l:null,m:null,"false":!1,n:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,o:null}}function l(n){n.length=0,h.length<_&&h.push(n)}function c(n){var t=n.l;t&&c(t),n.k=n.l=n.m=n.object=n.number=n.string=n.o=null,g.length<_&&g.push(n)}function p(n,t,e){t||(t=0),"undefined"==typeof e&&(e=n?n.length:0);var r=-1;e=e-t||0;for(var u=Array(0>e?0:e);++r<e;)u[r]=n[t+r];return u}function s(e){function h(n,t,e){if(!n||!V[typeof n])return n;t=t&&"undefined"==typeof e?t:tt(t,e,3);for(var r=-1,u=V[typeof n]&&Fe(n),o=u?u.length:0;++r<o&&(e=u[r],!1!==t(n[e],e,n)););return n}function g(n,t,e){var r;if(!n||!V[typeof n])return n;t=t&&"undefined"==typeof e?t:tt(t,e,3);for(r in n)if(!1===t(n[r],r,n))break;return n}function _(n,t,e){var r,u=n,o=u;if(!u)return o;for(var i=arguments,a=0,f="number"==typeof e?2:i.length;++a<f;)if((u=i[a])&&V[typeof u])for(var l=-1,c=V[typeof u]&&Fe(u),p=c?c.length:0;++l<p;)r=c[l],"undefined"==typeof o[r]&&(o[r]=u[r]);return o}function U(n,t,e){var r,u=n,o=u;if(!u)return o;var i=arguments,a=0,f="number"==typeof e?2:i.length;if(f>3&&"function"==typeof i[f-2])var l=tt(i[--f-1],i[f--],2);else f>2&&"function"==typeof i[f-1]&&(l=i[--f]);for(;++a<f;)if((u=i[a])&&V[typeof u])for(var c=-1,p=V[typeof u]&&Fe(u),s=p?p.length:0;++c<s;)r=p[c],o[r]=l?l(o[r],u[r]):u[r];return o}function H(n){var t,e=[];if(!n||!V[typeof n])return e;for(t in n)me.call(n,t)&&e.push(t);return e}function J(n){return n&&"object"==typeof n&&!Te(n)&&me.call(n,"__wrapped__")?n:new Q(n)}function Q(n,t){this.__chain__=!!t,this.__wrapped__=n}function X(n){function t(){if(r){var n=p(r);be.apply(n,arguments)}if(this instanceof t){var o=nt(e.prototype),n=e.apply(o,n||arguments);return wt(n)?n:o}return e.apply(u,n||arguments)}var e=n[0],r=n[2],u=n[4];return $e(t,n),t}function Z(n,t,e,r,u){if(e){var o=e(n);if("undefined"!=typeof o)return o}if(!wt(n))return n;var i=ce.call(n);if(!K[i])return n;var f=Ae[i];switch(i){case T:case F:return new f(+n);case W:case P:return new f(n);case z:return o=f(n.source,C.exec(n)),o.lastIndex=n.lastIndex,o}if(i=Te(n),t){var c=!r;r||(r=a()),u||(u=a());for(var s=r.length;s--;)if(r[s]==n)return u[s];o=i?f(n.length):{}}else o=i?p(n):U({},n);return i&&(me.call(n,"index")&&(o.index=n.index),me.call(n,"input")&&(o.input=n.input)),t?(r.push(n),u.push(o),(i?St:h)(n,function(n,i){o[i]=Z(n,t,e,r,u)}),c&&(l(r),l(u)),o):o}function nt(n){return wt(n)?ke(n):{}}function tt(n,t,e){if("function"!=typeof n)return Ut;if("undefined"==typeof t||!("prototype"in n))return n;var r=n.__bindData__;if("undefined"==typeof r&&(De.funcNames&&(r=!n.name),r=r||!De.funcDecomp,!r)){var u=ge.call(n);De.funcNames||(r=!O.test(u)),r||(r=E.test(u),$e(n,r))}if(!1===r||!0!==r&&1&r[1])return n;switch(e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,u){return n.call(t,e,r,u)};case 4:return function(e,r,u,o){return n.call(t,e,r,u,o)}}return Mt(n,t)}function et(n){function t(){var n=f?i:this;if(u){var h=p(u);be.apply(h,arguments)}return(o||c)&&(h||(h=p(arguments)),o&&be.apply(h,o),c&&h.length<a)?(r|=16,et([e,s?r:-4&r,h,null,i,a])):(h||(h=arguments),l&&(e=n[v]),this instanceof t?(n=nt(e.prototype),h=e.apply(n,h),wt(h)?h:n):e.apply(n,h))}var e=n[0],r=n[1],u=n[2],o=n[3],i=n[4],a=n[5],f=1&r,l=2&r,c=4&r,s=8&r,v=e;return $e(t,n),t}function rt(e,r){var u=-1,i=st(),a=e?e.length:0,f=a>=b&&i===n,l=[];if(f){var p=o(r);p?(i=t,r=p):f=!1}for(;++u<a;)p=e[u],0>i(r,p)&&l.push(p);return f&&c(r),l}function ut(n,t,e,r){r=(r||0)-1;for(var u=n?n.length:0,o=[];++r<u;){var i=n[r];if(i&&"object"==typeof i&&"number"==typeof i.length&&(Te(i)||yt(i))){t||(i=ut(i,t,e));var a=-1,f=i.length,l=o.length;for(o.length+=f;++a<f;)o[l++]=i[a]}else e||o.push(i)}return o}function ot(n,t,e,r,u,o){if(e){var i=e(n,t);if("undefined"!=typeof i)return!!i}if(n===t)return 0!==n||1/n==1/t;if(n===n&&!(n&&V[typeof n]||t&&V[typeof t]))return!1;if(null==n||null==t)return n===t;var f=ce.call(n),c=ce.call(t);if(f==D&&(f=q),c==D&&(c=q),f!=c)return!1;switch(f){case T:case F:return+n==+t;case W:return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case z:case P:return n==oe(t)}if(c=f==$,!c){var p=me.call(n,"__wrapped__"),s=me.call(t,"__wrapped__");if(p||s)return ot(p?n.__wrapped__:n,s?t.__wrapped__:t,e,r,u,o);if(f!=q)return!1;if(f=n.constructor,p=t.constructor,f!=p&&!(dt(f)&&f instanceof f&&dt(p)&&p instanceof p)&&"constructor"in n&&"constructor"in t)return!1}for(f=!u,u||(u=a()),o||(o=a()),p=u.length;p--;)if(u[p]==n)return o[p]==t;var v=0,i=!0;if(u.push(n),o.push(t),c){if(p=n.length,v=t.length,(i=v==p)||r)for(;v--;)if(c=p,s=t[v],r)for(;c--&&!(i=ot(n[c],s,e,r,u,o)););else if(!(i=ot(n[v],s,e,r,u,o)))break}else g(t,function(t,a,f){return me.call(f,a)?(v++,i=me.call(n,a)&&ot(n[a],t,e,r,u,o)):void 0}),i&&!r&&g(n,function(n,t,e){return me.call(e,t)?i=-1<--v:void 0});return u.pop(),o.pop(),f&&(l(u),l(o)),i}function it(n,t,e,r,u){(Te(t)?St:h)(t,function(t,o){var i,a,f=t,l=n[o];if(t&&((a=Te(t))||Pe(t))){for(f=r.length;f--;)if(i=r[f]==t){l=u[f];break}if(!i){var c;e&&(f=e(l,t),c="undefined"!=typeof f)&&(l=f),c||(l=a?Te(l)?l:[]:Pe(l)?l:{}),r.push(t),u.push(l),c||it(l,t,e,r,u)}}else e&&(f=e(l,t),"undefined"==typeof f&&(f=t)),"undefined"!=typeof f&&(l=f);n[o]=l})}function at(n,t){return n+he(Re()*(t-n+1))}function ft(e,r,u){var i=-1,f=st(),p=e?e.length:0,s=[],v=!r&&p>=b&&f===n,h=u||v?a():s;for(v&&(h=o(h),f=t);++i<p;){var g=e[i],y=u?u(g,i,e):g;(r?!i||h[h.length-1]!==y:0>f(h,y))&&((u||v)&&h.push(y),s.push(g))}return v?(l(h.k),c(h)):u&&l(h),s}function lt(n){return function(t,e,r){var u={};e=J.createCallback(e,r,3),r=-1;var o=t?t.length:0;if("number"==typeof o)for(;++r<o;){var i=t[r];n(u,i,e(i,r,t),t)}else h(t,function(t,r,o){n(u,t,e(t,r,o),o)});return u}}function ct(n,t,e,r,u,o){var i=1&t,a=4&t,f=16&t,l=32&t;if(!(2&t||dt(n)))throw new ie;f&&!e.length&&(t&=-17,f=e=!1),l&&!r.length&&(t&=-33,l=r=!1);var c=n&&n.__bindData__;return c&&!0!==c?(c=p(c),c[2]&&(c[2]=p(c[2])),c[3]&&(c[3]=p(c[3])),!i||1&c[1]||(c[4]=u),!i&&1&c[1]&&(t|=8),!a||4&c[1]||(c[5]=o),f&&be.apply(c[2]||(c[2]=[]),e),l&&we.apply(c[3]||(c[3]=[]),r),c[1]|=t,ct.apply(null,c)):(1==t||17===t?X:et)([n,t,e,r,u,o])}function pt(n){return Be[n]}function st(){var t=(t=J.indexOf)===Wt?n:t;return t}function vt(n){return"function"==typeof n&&pe.test(n)}function ht(n){var t,e;return n&&ce.call(n)==q&&(t=n.constructor,!dt(t)||t instanceof t)?(g(n,function(n,t){e=t}),"undefined"==typeof e||me.call(n,e)):!1}function gt(n){return We[n]}function yt(n){return n&&"object"==typeof n&&"number"==typeof n.length&&ce.call(n)==D||!1}function mt(n,t,e){var r=Fe(n),u=r.length;for(t=tt(t,e,3);u--&&(e=r[u],!1!==t(n[e],e,n)););return n}function bt(n){var t=[];return g(n,function(n,e){dt(n)&&t.push(e)}),t.sort()}function _t(n){for(var t=-1,e=Fe(n),r=e.length,u={};++t<r;){var o=e[t];u[n[o]]=o}return u}function dt(n){return"function"==typeof n}function wt(n){return!(!n||!V[typeof n])}function jt(n){return"number"==typeof n||n&&"object"==typeof n&&ce.call(n)==W||!1}function kt(n){return"string"==typeof n||n&&"object"==typeof n&&ce.call(n)==P||!1}function xt(n){for(var t=-1,e=Fe(n),r=e.length,u=Xt(r);++t<r;)u[t]=n[e[t]];return u}function Ct(n,t,e){var r=-1,u=st(),o=n?n.length:0,i=!1;return e=(0>e?Ie(0,o+e):e)||0,Te(n)?i=-1<u(n,t,e):"number"==typeof o?i=-1<(kt(n)?n.indexOf(t,e):u(n,t,e)):h(n,function(n){return++r<e?void 0:!(i=n===t)}),i}function Ot(n,t,e){var r=!0;t=J.createCallback(t,e,3),e=-1;var u=n?n.length:0;if("number"==typeof u)for(;++e<u&&(r=!!t(n[e],e,n)););else h(n,function(n,e,u){return r=!!t(n,e,u)});return r}function Nt(n,t,e){var r=[];t=J.createCallback(t,e,3),e=-1;var u=n?n.length:0;if("number"==typeof u)for(;++e<u;){var o=n[e];t(o,e,n)&&r.push(o)}else h(n,function(n,e,u){t(n,e,u)&&r.push(n)});return r}function It(n,t,e){t=J.createCallback(t,e,3),e=-1;var r=n?n.length:0;if("number"!=typeof r){var u;return h(n,function(n,e,r){return t(n,e,r)?(u=n,!1):void 0}),u}for(;++e<r;){var o=n[e];if(t(o,e,n))return o}}function St(n,t,e){var r=-1,u=n?n.length:0;if(t=t&&"undefined"==typeof e?t:tt(t,e,3),"number"==typeof u)for(;++r<u&&!1!==t(n[r],r,n););else h(n,t);return n}function Et(n,t,e){var r=n?n.length:0;if(t=t&&"undefined"==typeof e?t:tt(t,e,3),"number"==typeof r)for(;r--&&!1!==t(n[r],r,n););else{var u=Fe(n),r=u.length;h(n,function(n,e,o){return e=u?u[--r]:--r,t(o[e],e,o)})}return n}function Rt(n,t,e){var r=-1,u=n?n.length:0;if(t=J.createCallback(t,e,3),"number"==typeof u)for(var o=Xt(u);++r<u;)o[r]=t(n[r],r,n);else o=[],h(n,function(n,e,u){o[++r]=t(n,e,u)});return o}function At(n,t,e){var u=-1/0,o=u;if("function"!=typeof t&&e&&e[t]===n&&(t=null),null==t&&Te(n)){e=-1;for(var i=n.length;++e<i;){var a=n[e];a>o&&(o=a)}}else t=null==t&&kt(n)?r:J.createCallback(t,e,3),St(n,function(n,e,r){e=t(n,e,r),e>u&&(u=e,o=n)});return o}function Dt(n,t,e,r){if(!n)return e;var u=3>arguments.length;t=J.createCallback(t,r,4);var o=-1,i=n.length;if("number"==typeof i)for(u&&(e=n[++o]);++o<i;)e=t(e,n[o],o,n);else h(n,function(n,r,o){e=u?(u=!1,n):t(e,n,r,o)});return e}function $t(n,t,e,r){var u=3>arguments.length;return t=J.createCallback(t,r,4),Et(n,function(n,r,o){e=u?(u=!1,n):t(e,n,r,o)}),e}function Tt(n){var t=-1,e=n?n.length:0,r=Xt("number"==typeof e?e:0);return St(n,function(n){var e=at(0,++t);r[t]=r[e],r[e]=n}),r}function Ft(n,t,e){var r;t=J.createCallback(t,e,3),e=-1;var u=n?n.length:0;if("number"==typeof u)for(;++e<u&&!(r=t(n[e],e,n)););else h(n,function(n,e,u){return!(r=t(n,e,u))});return!!r}function Bt(n,t,e){var r=0,u=n?n.length:0;if("number"!=typeof t&&null!=t){var o=-1;for(t=J.createCallback(t,e,3);++o<u&&t(n[o],o,n);)r++}else if(r=t,null==r||e)return n?n[0]:v;return p(n,0,Se(Ie(0,r),u))}function Wt(t,e,r){if("number"==typeof r){var u=t?t.length:0;r=0>r?Ie(0,u+r):r||0}else if(r)return r=zt(t,e),t[r]===e?r:-1;return n(t,e,r)}function qt(n,t,e){if("number"!=typeof t&&null!=t){var r=0,u=-1,o=n?n.length:0;for(t=J.createCallback(t,e,3);++u<o&&t(n[u],u,n);)r++}else r=null==t||e?1:Ie(0,t);return p(n,r)}function zt(n,t,e,r){var u=0,o=n?n.length:u;for(e=e?J.createCallback(e,r,1):Ut,t=e(t);o>u;)r=u+o>>>1,e(n[r])<t?u=r+1:o=r;return u}function Pt(n,t,e,r){return"boolean"!=typeof t&&null!=t&&(r=e,e="function"!=typeof t&&r&&r[t]===n?null:t,t=!1),null!=e&&(e=J.createCallback(e,r,3)),ft(n,t,e)}function Kt(){for(var n=1<arguments.length?arguments:arguments[0],t=-1,e=n?At(Ve(n,"length")):0,r=Xt(0>e?0:e);++t<e;)r[t]=Ve(n,t);return r}function Lt(n,t){var e=-1,r=n?n.length:0,u={};for(t||!r||Te(n[0])||(t=[]);++e<r;){var o=n[e];t?u[o]=t[e]:o&&(u[o[0]]=o[1])}return u}function Mt(n,t){return 2<arguments.length?ct(n,17,p(arguments,2),null,t):ct(n,1,null,null,t)}function Vt(n,t,e){function r(){c&&ve(c),i=c=p=v,(g||h!==t)&&(s=Ue(),a=n.apply(l,o),c||i||(o=l=null))}function u(){var e=t-(Ue()-f);e>0?c=_e(u,e):(i&&ve(i),e=p,i=c=p=v,e&&(s=Ue(),a=n.apply(l,o),c||i||(o=l=null)))}var o,i,a,f,l,c,p,s=0,h=!1,g=!0;if(!dt(n))throw new ie;if(t=Ie(0,t)||0,!0===e)var y=!0,g=!1;else wt(e)&&(y=e.leading,h="maxWait"in e&&(Ie(t,e.maxWait)||0),g="trailing"in e?e.trailing:g);return function(){if(o=arguments,f=Ue(),l=this,p=g&&(c||!y),!1===h)var e=y&&!c;else{i||y||(s=f);var v=h-(f-s),m=0>=v;m?(i&&(i=ve(i)),s=f,a=n.apply(l,o)):i||(i=_e(r,v))}return m&&c?c=ve(c):c||t===h||(c=_e(u,t)),e&&(m=!0,a=n.apply(l,o)),!m||c||i||(o=l=null),a}}function Ut(n){return n}function Gt(n,t,e){var r=!0,u=t&&bt(t);t&&(e||u.length)||(null==e&&(e=t),o=Q,t=n,n=J,u=bt(t)),!1===e?r=!1:wt(e)&&"chain"in e&&(r=e.chain);var o=n,i=dt(o);St(u,function(e){var u=n[e]=t[e];i&&(o.prototype[e]=function(){var t=this.__chain__,e=this.__wrapped__,i=[e];if(be.apply(i,arguments),i=u.apply(n,i),r||t){if(e===i&&wt(i))return this;i=new o(i),i.__chain__=t}return i})})}function Ht(){}function Jt(n){return function(t){return t[n]}}function Qt(){return this.__wrapped__}e=e?Y.defaults(G.Object(),e,Y.pick(G,A)):G;var Xt=e.Array,Yt=e.Boolean,Zt=e.Date,ne=e.Function,te=e.Math,ee=e.Number,re=e.Object,ue=e.RegExp,oe=e.String,ie=e.TypeError,ae=[],fe=re.prototype,le=e._,ce=fe.toString,pe=ue("^"+oe(ce).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),se=te.ceil,ve=e.clearTimeout,he=te.floor,ge=ne.prototype.toString,ye=vt(ye=re.getPrototypeOf)&&ye,me=fe.hasOwnProperty,be=ae.push,_e=e.setTimeout,de=ae.splice,we=ae.unshift,je=function(){try{var n={},t=vt(t=re.defineProperty)&&t,e=t(n,n,n)&&t}catch(r){}return e}(),ke=vt(ke=re.create)&&ke,xe=vt(xe=Xt.isArray)&&xe,Ce=e.isFinite,Oe=e.isNaN,Ne=vt(Ne=re.keys)&&Ne,Ie=te.max,Se=te.min,Ee=e.parseInt,Re=te.random,Ae={};Ae[$]=Xt,Ae[T]=Yt,Ae[F]=Zt,Ae[B]=ne,Ae[q]=re,Ae[W]=ee,Ae[z]=ue,Ae[P]=oe,Q.prototype=J.prototype;var De=J.support={};De.funcDecomp=!vt(e.a)&&E.test(s),De.funcNames="string"==typeof ne.name,J.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:N,variable:"",imports:{_:J}},ke||(nt=function(){function n(){}return function(t){if(wt(t)){n.prototype=t;var r=new n;n.prototype=null}return r||e.Object()}}());var $e=je?function(n,t){M.value=t,je(n,"__bindData__",M)}:Ht,Te=xe||function(n){return n&&"object"==typeof n&&"number"==typeof n.length&&ce.call(n)==$||!1},Fe=Ne?function(n){return wt(n)?Ne(n):[]}:H,Be={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},We=_t(Be),qe=ue("("+Fe(We).join("|")+")","g"),ze=ue("["+Fe(Be).join("")+"]","g"),Pe=ye?function(n){if(!n||ce.call(n)!=q)return!1;var t=n.valueOf,e=vt(t)&&(e=ye(t))&&ye(e);return e?n==e||ye(n)==e:ht(n)}:ht,Ke=lt(function(n,t,e){me.call(n,e)?n[e]++:n[e]=1}),Le=lt(function(n,t,e){(me.call(n,e)?n[e]:n[e]=[]).push(t)}),Me=lt(function(n,t,e){n[e]=t}),Ve=Rt,Ue=vt(Ue=Zt.now)&&Ue||function(){return(new Zt).getTime()},Ge=8==Ee(d+"08")?Ee:function(n,t){return Ee(kt(n)?n.replace(I,""):n,t||0)};return J.after=function(n,t){if(!dt(t))throw new ie;return function(){return 1>--n?t.apply(this,arguments):void 0}},J.assign=U,J.at=function(n){for(var t=arguments,e=-1,r=ut(t,!0,!1,1),t=t[2]&&t[2][t[1]]===n?1:r.length,u=Xt(t);++e<t;)u[e]=n[r[e]];return u},J.bind=Mt,J.bindAll=function(n){for(var t=1<arguments.length?ut(arguments,!0,!1,1):bt(n),e=-1,r=t.length;++e<r;){var u=t[e];n[u]=ct(n[u],1,null,null,n)}return n},J.bindKey=function(n,t){return 2<arguments.length?ct(t,19,p(arguments,2),null,n):ct(t,3,null,null,n)},J.chain=function(n){return n=new Q(n),n.__chain__=!0,n},J.compact=function(n){for(var t=-1,e=n?n.length:0,r=[];++t<e;){var u=n[t];u&&r.push(u)}return r},J.compose=function(){for(var n=arguments,t=n.length;t--;)if(!dt(n[t]))throw new ie;return function(){for(var t=arguments,e=n.length;e--;)t=[n[e].apply(this,t)];return t[0]}},J.constant=function(n){return function(){return n}},J.countBy=Ke,J.create=function(n,t){var e=nt(n);return t?U(e,t):e},J.createCallback=function(n,t,e){var r=typeof n;
if(null==n||"function"==r)return tt(n,t,e);if("object"!=r)return Jt(n);var u=Fe(n),o=u[0],i=n[o];return 1!=u.length||i!==i||wt(i)?function(t){for(var e=u.length,r=!1;e--&&(r=ot(t[u[e]],n[u[e]],null,!0)););return r}:function(n){return n=n[o],i===n&&(0!==i||1/i==1/n)}},J.curry=function(n,t){return t="number"==typeof t?t:+t||n.length,ct(n,4,null,null,null,t)},J.debounce=Vt,J.defaults=_,J.defer=function(n){if(!dt(n))throw new ie;var t=p(arguments,1);return _e(function(){n.apply(v,t)},1)},J.delay=function(n,t){if(!dt(n))throw new ie;var e=p(arguments,2);return _e(function(){n.apply(v,e)},t)},J.difference=function(n){return rt(n,ut(arguments,!0,!0,1))},J.filter=Nt,J.flatten=function(n,t,e,r){return"boolean"!=typeof t&&null!=t&&(r=e,e="function"!=typeof t&&r&&r[t]===n?null:t,t=!1),null!=e&&(n=Rt(n,e,r)),ut(n,t)},J.forEach=St,J.forEachRight=Et,J.forIn=g,J.forInRight=function(n,t,e){var r=[];g(n,function(n,t){r.push(t,n)});var u=r.length;for(t=tt(t,e,3);u--&&!1!==t(r[u--],r[u],n););return n},J.forOwn=h,J.forOwnRight=mt,J.functions=bt,J.groupBy=Le,J.indexBy=Me,J.initial=function(n,t,e){var r=0,u=n?n.length:0;if("number"!=typeof t&&null!=t){var o=u;for(t=J.createCallback(t,e,3);o--&&t(n[o],o,n);)r++}else r=null==t||e?1:t||r;return p(n,0,Se(Ie(0,u-r),u))},J.intersection=function(){for(var e=[],r=-1,u=arguments.length,i=a(),f=st(),p=f===n,s=a();++r<u;){var v=arguments[r];(Te(v)||yt(v))&&(e.push(v),i.push(p&&v.length>=b&&o(r?e[r]:s)))}var p=e[0],h=-1,g=p?p.length:0,y=[];n:for(;++h<g;){var m=i[0],v=p[h];if(0>(m?t(m,v):f(s,v))){for(r=u,(m||s).push(v);--r;)if(m=i[r],0>(m?t(m,v):f(e[r],v)))continue n;y.push(v)}}for(;u--;)(m=i[u])&&c(m);return l(i),l(s),y},J.invert=_t,J.invoke=function(n,t){var e=p(arguments,2),r=-1,u="function"==typeof t,o=n?n.length:0,i=Xt("number"==typeof o?o:0);return St(n,function(n){i[++r]=(u?t:n[t]).apply(n,e)}),i},J.keys=Fe,J.map=Rt,J.mapValues=function(n,t,e){var r={};return t=J.createCallback(t,e,3),h(n,function(n,e,u){r[e]=t(n,e,u)}),r},J.max=At,J.memoize=function(n,t){function e(){var r=e.cache,u=t?t.apply(this,arguments):m+arguments[0];return me.call(r,u)?r[u]:r[u]=n.apply(this,arguments)}if(!dt(n))throw new ie;return e.cache={},e},J.merge=function(n){var t=arguments,e=2;if(!wt(n))return n;if("number"!=typeof t[2]&&(e=t.length),e>3&&"function"==typeof t[e-2])var r=tt(t[--e-1],t[e--],2);else e>2&&"function"==typeof t[e-1]&&(r=t[--e]);for(var t=p(arguments,1,e),u=-1,o=a(),i=a();++u<e;)it(n,t[u],r,o,i);return l(o),l(i),n},J.min=function(n,t,e){var u=1/0,o=u;if("function"!=typeof t&&e&&e[t]===n&&(t=null),null==t&&Te(n)){e=-1;for(var i=n.length;++e<i;){var a=n[e];o>a&&(o=a)}}else t=null==t&&kt(n)?r:J.createCallback(t,e,3),St(n,function(n,e,r){e=t(n,e,r),u>e&&(u=e,o=n)});return o},J.omit=function(n,t,e){var r={};if("function"!=typeof t){var u=[];g(n,function(n,t){u.push(t)});for(var u=rt(u,ut(arguments,!0,!1,1)),o=-1,i=u.length;++o<i;){var a=u[o];r[a]=n[a]}}else t=J.createCallback(t,e,3),g(n,function(n,e,u){t(n,e,u)||(r[e]=n)});return r},J.once=function(n){var t,e;if(!dt(n))throw new ie;return function(){return t?e:(t=!0,e=n.apply(this,arguments),n=null,e)}},J.pairs=function(n){for(var t=-1,e=Fe(n),r=e.length,u=Xt(r);++t<r;){var o=e[t];u[t]=[o,n[o]]}return u},J.partial=function(n){return ct(n,16,p(arguments,1))},J.partialRight=function(n){return ct(n,32,null,p(arguments,1))},J.pick=function(n,t,e){var r={};if("function"!=typeof t)for(var u=-1,o=ut(arguments,!0,!1,1),i=wt(n)?o.length:0;++u<i;){var a=o[u];a in n&&(r[a]=n[a])}else t=J.createCallback(t,e,3),g(n,function(n,e,u){t(n,e,u)&&(r[e]=n)});return r},J.pluck=Ve,J.property=Jt,J.pull=function(n){for(var t=arguments,e=0,r=t.length,u=n?n.length:0;++e<r;)for(var o=-1,i=t[e];++o<u;)n[o]===i&&(de.call(n,o--,1),u--);return n},J.range=function(n,t,e){n=+n||0,e="number"==typeof e?e:+e||1,null==t&&(t=n,n=0);var r=-1;t=Ie(0,se((t-n)/(e||1)));for(var u=Xt(t);++r<t;)u[r]=n,n+=e;return u},J.reject=function(n,t,e){return t=J.createCallback(t,e,3),Nt(n,function(n,e,r){return!t(n,e,r)})},J.remove=function(n,t,e){var r=-1,u=n?n.length:0,o=[];for(t=J.createCallback(t,e,3);++r<u;)e=n[r],t(e,r,n)&&(o.push(e),de.call(n,r--,1),u--);return o},J.rest=qt,J.shuffle=Tt,J.sortBy=function(n,t,e){var r=-1,o=Te(t),i=n?n.length:0,p=Xt("number"==typeof i?i:0);for(o||(t=J.createCallback(t,e,3)),St(n,function(n,e,u){var i=p[++r]=f();o?i.m=Rt(t,function(t){return n[t]}):(i.m=a())[0]=t(n,e,u),i.n=r,i.o=n}),i=p.length,p.sort(u);i--;)n=p[i],p[i]=n.o,o||l(n.m),c(n);return p},J.tap=function(n,t){return t(n),n},J.throttle=function(n,t,e){var r=!0,u=!0;if(!dt(n))throw new ie;return!1===e?r=!1:wt(e)&&(r="leading"in e?e.leading:r,u="trailing"in e?e.trailing:u),L.leading=r,L.maxWait=t,L.trailing=u,Vt(n,t,L)},J.times=function(n,t,e){n=-1<(n=+n)?n:0;var r=-1,u=Xt(n);for(t=tt(t,e,1);++r<n;)u[r]=t(r);return u},J.toArray=function(n){return n&&"number"==typeof n.length?p(n):xt(n)},J.transform=function(n,t,e,r){var u=Te(n);if(null==e)if(u)e=[];else{var o=n&&n.constructor;e=nt(o&&o.prototype)}return t&&(t=J.createCallback(t,r,4),(u?St:h)(n,function(n,r,u){return t(e,n,r,u)})),e},J.union=function(){return ft(ut(arguments,!0,!0))},J.uniq=Pt,J.values=xt,J.where=Nt,J.without=function(n){return rt(n,p(arguments,1))},J.wrap=function(n,t){return ct(t,16,[n])},J.xor=function(){for(var n=-1,t=arguments.length;++n<t;){var e=arguments[n];if(Te(e)||yt(e))var r=r?ft(rt(r,e).concat(rt(e,r))):e}return r||[]},J.zip=Kt,J.zipObject=Lt,J.collect=Rt,J.drop=qt,J.each=St,J.eachRight=Et,J.extend=U,J.methods=bt,J.object=Lt,J.select=Nt,J.tail=qt,J.unique=Pt,J.unzip=Kt,Gt(J),J.clone=function(n,t,e,r){return"boolean"!=typeof t&&null!=t&&(r=e,e=t,t=!1),Z(n,t,"function"==typeof e&&tt(e,r,1))},J.cloneDeep=function(n,t,e){return Z(n,!0,"function"==typeof t&&tt(t,e,1))},J.contains=Ct,J.escape=function(n){return null==n?"":oe(n).replace(ze,pt)},J.every=Ot,J.find=It,J.findIndex=function(n,t,e){var r=-1,u=n?n.length:0;for(t=J.createCallback(t,e,3);++r<u;)if(t(n[r],r,n))return r;return-1},J.findKey=function(n,t,e){var r;return t=J.createCallback(t,e,3),h(n,function(n,e,u){return t(n,e,u)?(r=e,!1):void 0}),r},J.findLast=function(n,t,e){var r;return t=J.createCallback(t,e,3),Et(n,function(n,e,u){return t(n,e,u)?(r=n,!1):void 0}),r},J.findLastIndex=function(n,t,e){var r=n?n.length:0;for(t=J.createCallback(t,e,3);r--;)if(t(n[r],r,n))return r;return-1},J.findLastKey=function(n,t,e){var r;return t=J.createCallback(t,e,3),mt(n,function(n,e,u){return t(n,e,u)?(r=e,!1):void 0}),r},J.has=function(n,t){return n?me.call(n,t):!1},J.identity=Ut,J.indexOf=Wt,J.isArguments=yt,J.isArray=Te,J.isBoolean=function(n){return!0===n||!1===n||n&&"object"==typeof n&&ce.call(n)==T||!1},J.isDate=function(n){return n&&"object"==typeof n&&ce.call(n)==F||!1},J.isElement=function(n){return n&&1===n.nodeType||!1},J.isEmpty=function(n){var t=!0;if(!n)return t;var e=ce.call(n),r=n.length;return e==$||e==P||e==D||e==q&&"number"==typeof r&&dt(n.splice)?!r:(h(n,function(){return t=!1}),t)},J.isEqual=function(n,t,e,r){return ot(n,t,"function"==typeof e&&tt(e,r,2))},J.isFinite=function(n){return Ce(n)&&!Oe(parseFloat(n))},J.isFunction=dt,J.isNaN=function(n){return jt(n)&&n!=+n},J.isNull=function(n){return null===n},J.isNumber=jt,J.isObject=wt,J.isPlainObject=Pe,J.isRegExp=function(n){return n&&"object"==typeof n&&ce.call(n)==z||!1},J.isString=kt,J.isUndefined=function(n){return"undefined"==typeof n},J.lastIndexOf=function(n,t,e){var r=n?n.length:0;for("number"==typeof e&&(r=(0>e?Ie(0,r+e):Se(e,r-1))+1);r--;)if(n[r]===t)return r;return-1},J.mixin=Gt,J.noConflict=function(){return e._=le,this},J.noop=Ht,J.now=Ue,J.parseInt=Ge,J.random=function(n,t,e){var r=null==n,u=null==t;return null==e&&("boolean"==typeof n&&u?(e=n,n=1):u||"boolean"!=typeof t||(e=t,u=!0)),r&&u&&(t=1),n=+n||0,u?(t=n,n=0):t=+t||0,e||n%1||t%1?(e=Re(),Se(n+e*(t-n+parseFloat("1e-"+((e+"").length-1))),t)):at(n,t)},J.reduce=Dt,J.reduceRight=$t,J.result=function(n,t){if(n){var e=n[t];return dt(e)?n[t]():e}},J.runInContext=s,J.size=function(n){var t=n?n.length:0;return"number"==typeof t?t:Fe(n).length},J.some=Ft,J.sortedIndex=zt,J.template=function(n,t,e){var r=J.templateSettings;n=oe(n||""),e=_({},e,r);var u,o=_({},e.imports,r.imports),r=Fe(o),o=xt(o),a=0,f=e.interpolate||S,l="__p+='",f=ue((e.escape||S).source+"|"+f.source+"|"+(f===N?x:S).source+"|"+(e.evaluate||S).source+"|$","g");n.replace(f,function(t,e,r,o,f,c){return r||(r=o),l+=n.slice(a,c).replace(R,i),e&&(l+="'+__e("+e+")+'"),f&&(u=!0,l+="';"+f+";\n__p+='"),r&&(l+="'+((__t=("+r+"))==null?'':__t)+'"),a=c+t.length,t}),l+="';",f=e=e.variable,f||(e="obj",l="with("+e+"){"+l+"}"),l=(u?l.replace(w,""):l).replace(j,"$1").replace(k,"$1;"),l="function("+e+"){"+(f?"":e+"||("+e+"={});")+"var __t,__p='',__e=_.escape"+(u?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+l+"return __p}";try{var c=ne(r,"return "+l).apply(v,o)}catch(p){throw p.source=l,p}return t?c(t):(c.source=l,c)},J.unescape=function(n){return null==n?"":oe(n).replace(qe,gt)},J.uniqueId=function(n){var t=++y;return oe(null==n?"":n)+t},J.all=Ot,J.any=Ft,J.detect=It,J.findWhere=It,J.foldl=Dt,J.foldr=$t,J.include=Ct,J.inject=Dt,Gt(function(){var n={};return h(J,function(t,e){J.prototype[e]||(n[e]=t)}),n}(),!1),J.first=Bt,J.last=function(n,t,e){var r=0,u=n?n.length:0;if("number"!=typeof t&&null!=t){var o=u;for(t=J.createCallback(t,e,3);o--&&t(n[o],o,n);)r++}else if(r=t,null==r||e)return n?n[u-1]:v;return p(n,Ie(0,u-r))},J.sample=function(n,t,e){return n&&"number"!=typeof n.length&&(n=xt(n)),null==t||e?n?n[at(0,n.length-1)]:v:(n=Tt(n),n.length=Se(Ie(0,t),n.length),n)},J.take=Bt,J.head=Bt,h(J,function(n,t){var e="sample"!==t;J.prototype[t]||(J.prototype[t]=function(t,r){var u=this.__chain__,o=n(this.__wrapped__,t,r);return u||null!=t&&(!r||e&&"function"==typeof t)?new Q(o,u):o})}),J.VERSION="2.4.1",J.prototype.chain=function(){return this.__chain__=!0,this},J.prototype.toString=function(){return oe(this.__wrapped__)},J.prototype.value=Qt,J.prototype.valueOf=Qt,St(["join","pop","shift"],function(n){var t=ae[n];J.prototype[n]=function(){var n=this.__chain__,e=t.apply(this.__wrapped__,arguments);return n?new Q(e,n):e}}),St(["push","reverse","sort","unshift"],function(n){var t=ae[n];J.prototype[n]=function(){return t.apply(this.__wrapped__,arguments),this}}),St(["concat","slice","splice"],function(n){var t=ae[n];J.prototype[n]=function(){return new Q(t.apply(this.__wrapped__,arguments),this.__chain__)}}),J}var v,h=[],g=[],y=0,m=+new Date+"",b=75,_=40,d=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",w=/\b__p\+='';/g,j=/\b(__p\+=)''\+/g,k=/(__e\(.*?\)|\b__t\))\+'';/g,x=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,C=/\w*$/,O=/^\s*function[ \n\r\t]+\w/,N=/<%=([\s\S]+?)%>/g,I=RegExp("^["+d+"]*0+(?=.$)"),S=/($^)/,E=/\bthis\b/,R=/['\n\r\t\u2028\u2029\\]/g,A="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout".split(" "),D="[object Arguments]",$="[object Array]",T="[object Boolean]",F="[object Date]",B="[object Function]",W="[object Number]",q="[object Object]",z="[object RegExp]",P="[object String]",K={};K[B]=!1,K[D]=K[$]=K[T]=K[F]=K[W]=K[q]=K[z]=K[P]=!0;var L={leading:!1,maxWait:0,trailing:!1},M={configurable:!1,enumerable:!1,value:null,writable:!1},V={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},U={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},G=V[typeof window]&&window||this,H=V[typeof exports]&&exports&&!exports.nodeType&&exports,J=V[typeof module]&&module&&!module.nodeType&&module,Q=J&&J.exports===H&&H,X=V[typeof global]&&global;!X||X.global!==X&&X.window!==X||(G=X);var Y=s();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(G._=Y,define(function(){return Y})):H&&J?Q?(J.exports=Y)._=Y:H._=Y:G._=Y}.call(this),function(window,document,undefined){!function(factory){"use strict";"function"==typeof define&&define.amd?define(["jquery"],factory):jQuery&&!jQuery.fn.dataTable&&factory(jQuery)}(function($){"use strict";var DataTable=function(oInit){function _fnAddColumn(oSettings,nTh){var oDefaults=DataTable.defaults.columns,iCol=oSettings.aoColumns.length,oCol=$.extend({},DataTable.models.oColumn,oDefaults,{sSortingClass:oSettings.oClasses.sSortable,sSortingClassJUI:oSettings.oClasses.sSortJUI,nTh:nTh?nTh:document.createElement("th"),sTitle:oDefaults.sTitle?oDefaults.sTitle:nTh?nTh.innerHTML:"",aDataSort:oDefaults.aDataSort?oDefaults.aDataSort:[iCol],mData:oDefaults.mData?oDefaults.oDefaults:iCol});if(oSettings.aoColumns.push(oCol),oSettings.aoPreSearchCols[iCol]===undefined||null===oSettings.aoPreSearchCols[iCol])oSettings.aoPreSearchCols[iCol]=$.extend({},DataTable.models.oSearch);else{var oPre=oSettings.aoPreSearchCols[iCol];oPre.bRegex===undefined&&(oPre.bRegex=!0),oPre.bSmart===undefined&&(oPre.bSmart=!0),oPre.bCaseInsensitive===undefined&&(oPre.bCaseInsensitive=!0)}_fnColumnOptions(oSettings,iCol,null)}function _fnColumnOptions(oSettings,iCol,oOptions){var oCol=oSettings.aoColumns[iCol];oOptions!==undefined&&null!==oOptions&&(oOptions.mDataProp&&!oOptions.mData&&(oOptions.mData=oOptions.mDataProp),oOptions.sType!==undefined&&(oCol.sType=oOptions.sType,oCol._bAutoType=!1),$.extend(oCol,oOptions),_fnMap(oCol,oOptions,"sWidth","sWidthOrig"),oOptions.iDataSort!==undefined&&(oCol.aDataSort=[oOptions.iDataSort]),_fnMap(oCol,oOptions,"aDataSort"));var mRender=oCol.mRender?_fnGetObjectDataFn(oCol.mRender):null,mData=_fnGetObjectDataFn(oCol.mData);oCol.fnGetData=function(oData,sSpecific){var innerData=mData(oData,sSpecific);return oCol.mRender&&sSpecific&&""!==sSpecific?mRender(innerData,sSpecific,oData):innerData},oCol.fnSetData=_fnSetObjectDataFn(oCol.mData),oSettings.oFeatures.bSort||(oCol.bSortable=!1),!oCol.bSortable||-1==$.inArray("asc",oCol.asSorting)&&-1==$.inArray("desc",oCol.asSorting)?(oCol.sSortingClass=oSettings.oClasses.sSortableNone,oCol.sSortingClassJUI=""):-1==$.inArray("asc",oCol.asSorting)&&-1==$.inArray("desc",oCol.asSorting)?(oCol.sSortingClass=oSettings.oClasses.sSortable,oCol.sSortingClassJUI=oSettings.oClasses.sSortJUI):-1!=$.inArray("asc",oCol.asSorting)&&-1==$.inArray("desc",oCol.asSorting)?(oCol.sSortingClass=oSettings.oClasses.sSortableAsc,oCol.sSortingClassJUI=oSettings.oClasses.sSortJUIAscAllowed):-1==$.inArray("asc",oCol.asSorting)&&-1!=$.inArray("desc",oCol.asSorting)&&(oCol.sSortingClass=oSettings.oClasses.sSortableDesc,oCol.sSortingClassJUI=oSettings.oClasses.sSortJUIDescAllowed)}function _fnAdjustColumnSizing(oSettings){if(oSettings.oFeatures.bAutoWidth===!1)return!1;_fnCalculateColumnWidths(oSettings);for(var i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)oSettings.aoColumns[i].nTh.style.width=oSettings.aoColumns[i].sWidth}function _fnVisibleToColumnIndex(oSettings,iMatch){var aiVis=_fnGetColumns(oSettings,"bVisible");return"number"==typeof aiVis[iMatch]?aiVis[iMatch]:null}function _fnColumnIndexToVisible(oSettings,iMatch){var aiVis=_fnGetColumns(oSettings,"bVisible"),iPos=$.inArray(iMatch,aiVis);return-1!==iPos?iPos:null}function _fnVisbleColumns(oSettings){return _fnGetColumns(oSettings,"bVisible").length}function _fnGetColumns(oSettings,sParam){var a=[];return $.map(oSettings.aoColumns,function(val,i){val[sParam]&&a.push(i)}),a}function _fnDetectType(sData){for(var aTypes=DataTable.ext.aTypes,iLen=aTypes.length,i=0;iLen>i;i++){var sType=aTypes[i](sData);if(null!==sType)return sType}return"string"}function _fnReOrderIndex(oSettings,sColumns){for(var aColumns=sColumns.split(","),aiReturn=[],i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)for(var j=0;iLen>j;j++)if(oSettings.aoColumns[i].sName==aColumns[j]){aiReturn.push(j);break}return aiReturn}function _fnColumnOrdering(oSettings){for(var sNames="",i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)sNames+=oSettings.aoColumns[i].sName+",";return sNames.length==iLen?"":sNames.slice(0,-1)}function _fnApplyColumnDefs(oSettings,aoColDefs,aoCols,fn){var i,iLen,j,jLen,k,kLen;if(aoColDefs)for(i=aoColDefs.length-1;i>=0;i--){var aTargets=aoColDefs[i].aTargets;for($.isArray(aTargets)||_fnLog(oSettings,1,"aTargets must be an array of targets, not a "+typeof aTargets),j=0,jLen=aTargets.length;jLen>j;j++)if("number"==typeof aTargets[j]&&aTargets[j]>=0){for(;oSettings.aoColumns.length<=aTargets[j];)_fnAddColumn(oSettings);fn(aTargets[j],aoColDefs[i])}else if("number"==typeof aTargets[j]&&aTargets[j]<0)fn(oSettings.aoColumns.length+aTargets[j],aoColDefs[i]);else if("string"==typeof aTargets[j])for(k=0,kLen=oSettings.aoColumns.length;kLen>k;k++)("_all"==aTargets[j]||$(oSettings.aoColumns[k].nTh).hasClass(aTargets[j]))&&fn(k,aoColDefs[i])}if(aoCols)for(i=0,iLen=aoCols.length;iLen>i;i++)fn(i,aoCols[i])}function _fnAddData(oSettings,aDataSupplied){var oCol,aDataIn=$.isArray(aDataSupplied)?aDataSupplied.slice():$.extend(!0,{},aDataSupplied),iRow=oSettings.aoData.length,oData=$.extend(!0,{},DataTable.models.oRow);oData._aData=aDataIn,oSettings.aoData.push(oData);for(var sThisType,i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)if(oCol=oSettings.aoColumns[i],"function"==typeof oCol.fnRender&&oCol.bUseRendered&&null!==oCol.mData?_fnSetCellData(oSettings,iRow,i,_fnRender(oSettings,iRow,i)):_fnSetCellData(oSettings,iRow,i,_fnGetCellData(oSettings,iRow,i)),oCol._bAutoType&&"string"!=oCol.sType){var sVarType=_fnGetCellData(oSettings,iRow,i,"type");null!==sVarType&&""!==sVarType&&(sThisType=_fnDetectType(sVarType),null===oCol.sType?oCol.sType=sThisType:oCol.sType!=sThisType&&"html"!=oCol.sType&&(oCol.sType="string"))}return oSettings.aiDisplayMaster.push(iRow),oSettings.oFeatures.bDeferRender||_fnCreateTr(oSettings,iRow),iRow}function _fnGatherData(oSettings){var i,iLen,jInner,nTds,nTrs,nTd,nTr,iThisIndex,iRow,iRows,iColumn,iColumns,sNodeName,oCol,oData;if(oSettings.bDeferLoading||null===oSettings.sAjaxSource)for(nTr=oSettings.nTBody.firstChild;nTr;){if("TR"==nTr.nodeName.toUpperCase())for(iThisIndex=oSettings.aoData.length,nTr._DT_RowIndex=iThisIndex,oSettings.aoData.push($.extend(!0,{},DataTable.models.oRow,{nTr:nTr})),oSettings.aiDisplayMaster.push(iThisIndex),nTd=nTr.firstChild,jInner=0;nTd;)sNodeName=nTd.nodeName.toUpperCase(),("TD"==sNodeName||"TH"==sNodeName)&&(_fnSetCellData(oSettings,iThisIndex,jInner,$.trim(nTd.innerHTML)),jInner++),nTd=nTd.nextSibling;nTr=nTr.nextSibling}for(nTrs=_fnGetTrNodes(oSettings),nTds=[],i=0,iLen=nTrs.length;iLen>i;i++)for(nTd=nTrs[i].firstChild;nTd;)sNodeName=nTd.nodeName.toUpperCase(),("TD"==sNodeName||"TH"==sNodeName)&&nTds.push(nTd),nTd=nTd.nextSibling;for(iColumn=0,iColumns=oSettings.aoColumns.length;iColumns>iColumn;iColumn++){oCol=oSettings.aoColumns[iColumn],null===oCol.sTitle&&(oCol.sTitle=oCol.nTh.innerHTML);var nCell,sThisType,sRendered,sValType,bAutoType=oCol._bAutoType,bRender="function"==typeof oCol.fnRender,bClass=null!==oCol.sClass,bVisible=oCol.bVisible;if(bAutoType||bRender||bClass||!bVisible)for(iRow=0,iRows=oSettings.aoData.length;iRows>iRow;iRow++)oData=oSettings.aoData[iRow],nCell=nTds[iRow*iColumns+iColumn],bAutoType&&"string"!=oCol.sType&&(sValType=_fnGetCellData(oSettings,iRow,iColumn,"type"),""!==sValType&&(sThisType=_fnDetectType(sValType),null===oCol.sType?oCol.sType=sThisType:oCol.sType!=sThisType&&"html"!=oCol.sType&&(oCol.sType="string"))),oCol.mRender?nCell.innerHTML=_fnGetCellData(oSettings,iRow,iColumn,"display"):oCol.mData!==iColumn&&(nCell.innerHTML=_fnGetCellData(oSettings,iRow,iColumn,"display")),bRender&&(sRendered=_fnRender(oSettings,iRow,iColumn),nCell.innerHTML=sRendered,oCol.bUseRendered&&_fnSetCellData(oSettings,iRow,iColumn,sRendered)),bClass&&(nCell.className+=" "+oCol.sClass),bVisible?oData._anHidden[iColumn]=null:(oData._anHidden[iColumn]=nCell,nCell.parentNode.removeChild(nCell)),oCol.fnCreatedCell&&oCol.fnCreatedCell.call(oSettings.oInstance,nCell,_fnGetCellData(oSettings,iRow,iColumn,"display"),oData._aData,iRow,iColumn)}if(0!==oSettings.aoRowCreatedCallback.length)for(i=0,iLen=oSettings.aoData.length;iLen>i;i++)oData=oSettings.aoData[i],_fnCallbackFire(oSettings,"aoRowCreatedCallback",null,[oData.nTr,oData._aData,i])}function _fnNodeToDataIndex(oSettings,n){return n._DT_RowIndex!==undefined?n._DT_RowIndex:null}function _fnNodeToColumnIndex(oSettings,iRow,n){for(var anCells=_fnGetTdNodes(oSettings,iRow),i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)if(anCells[i]===n)return i;return-1}function _fnGetRowData(oSettings,iRow,sSpecific,aiColumns){for(var out=[],i=0,iLen=aiColumns.length;iLen>i;i++)out.push(_fnGetCellData(oSettings,iRow,aiColumns[i],sSpecific));return out}function _fnGetCellData(oSettings,iRow,iCol,sSpecific){var sData,oCol=oSettings.aoColumns[iCol],oData=oSettings.aoData[iRow]._aData;if((sData=oCol.fnGetData(oData,sSpecific))===undefined)return oSettings.iDrawError!=oSettings.iDraw&&null===oCol.sDefaultContent&&(_fnLog(oSettings,0,"Requested unknown parameter "+("function"==typeof oCol.mData?"{mData function}":"'"+oCol.mData+"'")+" from the data source for row "+iRow),oSettings.iDrawError=oSettings.iDraw),oCol.sDefaultContent;if(null===sData&&null!==oCol.sDefaultContent)sData=oCol.sDefaultContent;else if("function"==typeof sData)return sData();return"display"==sSpecific&&null===sData?"":sData}function _fnSetCellData(oSettings,iRow,iCol,val){var oCol=oSettings.aoColumns[iCol],oData=oSettings.aoData[iRow]._aData;oCol.fnSetData(oData,val)}function _fnGetObjectDataFn(mSource){if(null===mSource)return function(){return null};if("function"==typeof mSource)return function(data,type,extra){return mSource(data,type,extra)};if("string"!=typeof mSource||-1===mSource.indexOf(".")&&-1===mSource.indexOf("["))return function(data){return data[mSource]};var fetchData=function(data,type,src){var arrayNotation,out,innerSrc,a=src.split(".");if(""!==src)for(var i=0,iLen=a.length;iLen>i;i++){if(arrayNotation=a[i].match(__reArray)){a[i]=a[i].replace(__reArray,""),""!==a[i]&&(data=data[a[i]]),out=[],a.splice(0,i+1),innerSrc=a.join(".");for(var j=0,jLen=data.length;jLen>j;j++)out.push(fetchData(data[j],type,innerSrc));var join=arrayNotation[0].substring(1,arrayNotation[0].length-1);data=""===join?out:out.join(join);break}if(null===data||data[a[i]]===undefined)return undefined;data=data[a[i]]}return data};return function(data,type){return fetchData(data,type,mSource)}}function _fnSetObjectDataFn(mSource){if(null===mSource)return function(){};if("function"==typeof mSource)return function(data,val){mSource(data,"set",val)};if("string"!=typeof mSource||-1===mSource.indexOf(".")&&-1===mSource.indexOf("["))return function(data,val){data[mSource]=val};var setData=function(data,val,src){for(var b,arrayNotation,o,innerSrc,a=src.split("."),i=0,iLen=a.length-1;iLen>i;i++){if(arrayNotation=a[i].match(__reArray)){a[i]=a[i].replace(__reArray,""),data[a[i]]=[],b=a.slice(),b.splice(0,i+1),innerSrc=b.join(".");for(var j=0,jLen=val.length;jLen>j;j++)o={},setData(o,val[j],innerSrc),data[a[i]].push(o);return}(null===data[a[i]]||data[a[i]]===undefined)&&(data[a[i]]={}),data=data[a[i]]}data[a[a.length-1].replace(__reArray,"")]=val};return function(data,val){return setData(data,val,mSource)}}function _fnGetDataMaster(oSettings){for(var aData=[],iLen=oSettings.aoData.length,i=0;iLen>i;i++)aData.push(oSettings.aoData[i]._aData);return aData}function _fnClearTable(oSettings){oSettings.aoData.splice(0,oSettings.aoData.length),oSettings.aiDisplayMaster.splice(0,oSettings.aiDisplayMaster.length),oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length),_fnCalculateEnd(oSettings)}function _fnDeleteIndex(a,iTarget){for(var iTargetIndex=-1,i=0,iLen=a.length;iLen>i;i++)a[i]==iTarget?iTargetIndex=i:a[i]>iTarget&&a[i]--;-1!=iTargetIndex&&a.splice(iTargetIndex,1)}function _fnRender(oSettings,iRow,iCol){var oCol=oSettings.aoColumns[iCol];return oCol.fnRender({iDataRow:iRow,iDataColumn:iCol,oSettings:oSettings,aData:oSettings.aoData[iRow]._aData,mDataProp:oCol.mData},_fnGetCellData(oSettings,iRow,iCol,"display"))}function _fnCreateTr(oSettings,iRow){var nTd,oData=oSettings.aoData[iRow];if(null===oData.nTr){oData.nTr=document.createElement("tr"),oData.nTr._DT_RowIndex=iRow,oData._aData.DT_RowId&&(oData.nTr.id=oData._aData.DT_RowId),oData._aData.DT_RowClass&&(oData.nTr.className=oData._aData.DT_RowClass);for(var i=0,iLen=oSettings.aoColumns.length;iLen>i;i++){var oCol=oSettings.aoColumns[i];nTd=document.createElement(oCol.sCellType),nTd.innerHTML="function"!=typeof oCol.fnRender||oCol.bUseRendered&&null!==oCol.mData?_fnGetCellData(oSettings,iRow,i,"display"):_fnRender(oSettings,iRow,i),null!==oCol.sClass&&(nTd.className=oCol.sClass),oCol.bVisible?(oData.nTr.appendChild(nTd),oData._anHidden[i]=null):oData._anHidden[i]=nTd,oCol.fnCreatedCell&&oCol.fnCreatedCell.call(oSettings.oInstance,nTd,_fnGetCellData(oSettings,iRow,i,"display"),oData._aData,iRow,i)}_fnCallbackFire(oSettings,"aoRowCreatedCallback",null,[oData.nTr,oData._aData,iRow])}}function _fnBuildHead(oSettings){var i,nTh,iLen,iThs=$("th, td",oSettings.nTHead).length;if(0!==iThs)for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)nTh=oSettings.aoColumns[i].nTh,nTh.setAttribute("role","columnheader"),oSettings.aoColumns[i].bSortable&&(nTh.setAttribute("tabindex",oSettings.iTabIndex),nTh.setAttribute("aria-controls",oSettings.sTableId)),null!==oSettings.aoColumns[i].sClass&&$(nTh).addClass(oSettings.aoColumns[i].sClass),oSettings.aoColumns[i].sTitle!=nTh.innerHTML&&(nTh.innerHTML=oSettings.aoColumns[i].sTitle);else{var nTr=document.createElement("tr");for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)nTh=oSettings.aoColumns[i].nTh,nTh.innerHTML=oSettings.aoColumns[i].sTitle,nTh.setAttribute("tabindex","0"),null!==oSettings.aoColumns[i].sClass&&$(nTh).addClass(oSettings.aoColumns[i].sClass),nTr.appendChild(nTh);$(oSettings.nTHead).html("")[0].appendChild(nTr),_fnDetectHeader(oSettings.aoHeader,oSettings.nTHead)}if($(oSettings.nTHead).children("tr").attr("role","row"),oSettings.bJUI)for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++){nTh=oSettings.aoColumns[i].nTh;var nDiv=document.createElement("div");nDiv.className=oSettings.oClasses.sSortJUIWrapper,$(nTh).contents().appendTo(nDiv);var nSpan=document.createElement("span");nSpan.className=oSettings.oClasses.sSortIcon,nDiv.appendChild(nSpan),nTh.appendChild(nDiv)}if(oSettings.oFeatures.bSort)for(i=0;i<oSettings.aoColumns.length;i++)oSettings.aoColumns[i].bSortable!==!1?_fnSortAttachListener(oSettings,oSettings.aoColumns[i].nTh,i):$(oSettings.aoColumns[i].nTh).addClass(oSettings.oClasses.sSortableNone);if(""!==oSettings.oClasses.sFooterTH&&$(oSettings.nTFoot).children("tr").children("th").addClass(oSettings.oClasses.sFooterTH),null!==oSettings.nTFoot){var anCells=_fnGetUniqueThs(oSettings,null,oSettings.aoFooter);for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)anCells[i]&&(oSettings.aoColumns[i].nTf=anCells[i],oSettings.aoColumns[i].sClass&&$(anCells[i]).addClass(oSettings.aoColumns[i].sClass))}}function _fnDrawHead(oSettings,aoSource,bIncludeHidden){var i,iLen,j,jLen,k,n,nLocalTr,iRowspan,iColspan,aoLocal=[],aApplied=[],iColumns=oSettings.aoColumns.length;for(bIncludeHidden===undefined&&(bIncludeHidden=!1),i=0,iLen=aoSource.length;iLen>i;i++){for(aoLocal[i]=aoSource[i].slice(),aoLocal[i].nTr=aoSource[i].nTr,j=iColumns-1;j>=0;j--)oSettings.aoColumns[j].bVisible||bIncludeHidden||aoLocal[i].splice(j,1);aApplied.push([])}for(i=0,iLen=aoLocal.length;iLen>i;i++){if(nLocalTr=aoLocal[i].nTr)for(;n=nLocalTr.firstChild;)nLocalTr.removeChild(n);for(j=0,jLen=aoLocal[i].length;jLen>j;j++)if(iRowspan=1,iColspan=1,aApplied[i][j]===undefined){for(nLocalTr.appendChild(aoLocal[i][j].cell),aApplied[i][j]=1;aoLocal[i+iRowspan]!==undefined&&aoLocal[i][j].cell==aoLocal[i+iRowspan][j].cell;)aApplied[i+iRowspan][j]=1,iRowspan++;for(;aoLocal[i][j+iColspan]!==undefined&&aoLocal[i][j].cell==aoLocal[i][j+iColspan].cell;){for(k=0;iRowspan>k;k++)aApplied[i+k][j+iColspan]=1;iColspan++}aoLocal[i][j].cell.rowSpan=iRowspan,aoLocal[i][j].cell.colSpan=iColspan}}}function _fnDraw(oSettings){var aPreDraw=_fnCallbackFire(oSettings,"aoPreDrawCallback","preDraw",[oSettings]);if(-1!==$.inArray(!1,aPreDraw))return void _fnProcessingDisplay(oSettings,!1);var i,iLen,n,anRows=[],iRowCount=0,iStripes=oSettings.asStripeClasses.length,iOpenRows=oSettings.aoOpenRows.length;if(oSettings.bDrawing=!0,oSettings.iInitDisplayStart!==undefined&&-1!=oSettings.iInitDisplayStart&&(oSettings._iDisplayStart=oSettings.oFeatures.bServerSide?oSettings.iInitDisplayStart:oSettings.iInitDisplayStart>=oSettings.fnRecordsDisplay()?0:oSettings.iInitDisplayStart,oSettings.iInitDisplayStart=-1,_fnCalculateEnd(oSettings)),oSettings.bDeferLoading)oSettings.bDeferLoading=!1,oSettings.iDraw++;else if(oSettings.oFeatures.bServerSide){if(!oSettings.bDestroying&&!_fnAjaxUpdate(oSettings))return}else oSettings.iDraw++;if(0!==oSettings.aiDisplay.length){var iStart=oSettings._iDisplayStart,iEnd=oSettings._iDisplayEnd;oSettings.oFeatures.bServerSide&&(iStart=0,iEnd=oSettings.aoData.length);for(var j=iStart;iEnd>j;j++){var aoData=oSettings.aoData[oSettings.aiDisplay[j]];null===aoData.nTr&&_fnCreateTr(oSettings,oSettings.aiDisplay[j]);var nRow=aoData.nTr;if(0!==iStripes){var sStripe=oSettings.asStripeClasses[iRowCount%iStripes];aoData._sRowStripe!=sStripe&&($(nRow).removeClass(aoData._sRowStripe).addClass(sStripe),aoData._sRowStripe=sStripe)}if(_fnCallbackFire(oSettings,"aoRowCallback",null,[nRow,oSettings.aoData[oSettings.aiDisplay[j]]._aData,iRowCount,j]),anRows.push(nRow),iRowCount++,0!==iOpenRows)for(var k=0;iOpenRows>k;k++)if(nRow==oSettings.aoOpenRows[k].nParent){anRows.push(oSettings.aoOpenRows[k].nTr);break}}}else{anRows[0]=document.createElement("tr"),oSettings.asStripeClasses[0]&&(anRows[0].className=oSettings.asStripeClasses[0]);var oLang=oSettings.oLanguage,sZero=oLang.sZeroRecords;1!=oSettings.iDraw||null===oSettings.sAjaxSource||oSettings.oFeatures.bServerSide?oLang.sEmptyTable&&0===oSettings.fnRecordsTotal()&&(sZero=oLang.sEmptyTable):sZero=oLang.sLoadingRecords;var nTd=document.createElement("td");nTd.setAttribute("valign","top"),nTd.colSpan=_fnVisbleColumns(oSettings),nTd.className=oSettings.oClasses.sRowEmpty,nTd.innerHTML=_fnInfoMacros(oSettings,sZero),anRows[iRowCount].appendChild(nTd)}_fnCallbackFire(oSettings,"aoHeaderCallback","header",[$(oSettings.nTHead).children("tr")[0],_fnGetDataMaster(oSettings),oSettings._iDisplayStart,oSettings.fnDisplayEnd(),oSettings.aiDisplay]),_fnCallbackFire(oSettings,"aoFooterCallback","footer",[$(oSettings.nTFoot).children("tr")[0],_fnGetDataMaster(oSettings),oSettings._iDisplayStart,oSettings.fnDisplayEnd(),oSettings.aiDisplay]);var nBodyPar,nAddFrag=document.createDocumentFragment(),nRemoveFrag=document.createDocumentFragment();if(oSettings.nTBody){if(nBodyPar=oSettings.nTBody.parentNode,nRemoveFrag.appendChild(oSettings.nTBody),!oSettings.oScroll.bInfinite||!oSettings._bInitComplete||oSettings.bSorted||oSettings.bFiltered)for(;n=oSettings.nTBody.firstChild;)oSettings.nTBody.removeChild(n);for(i=0,iLen=anRows.length;iLen>i;i++)nAddFrag.appendChild(anRows[i]);oSettings.nTBody.appendChild(nAddFrag),null!==nBodyPar&&nBodyPar.appendChild(oSettings.nTBody)}_fnCallbackFire(oSettings,"aoDrawCallback","draw",[oSettings]),oSettings.bSorted=!1,oSettings.bFiltered=!1,oSettings.bDrawing=!1,oSettings.oFeatures.bServerSide&&(_fnProcessingDisplay(oSettings,!1),oSettings._bInitComplete||_fnInitComplete(oSettings))}function _fnReDraw(oSettings){oSettings.oFeatures.bSort?_fnSort(oSettings,oSettings.oPreviousSearch):oSettings.oFeatures.bFilter?_fnFilterComplete(oSettings,oSettings.oPreviousSearch):(_fnCalculateEnd(oSettings),_fnDraw(oSettings))}function _fnAddOptionsHtml(oSettings){var nHolding=$("<div></div>")[0];oSettings.nTable.parentNode.insertBefore(nHolding,oSettings.nTable),oSettings.nTableWrapper=$('<div id="'+oSettings.sTableId+'_wrapper" class="'+oSettings.oClasses.sWrapper+'" role="grid"></div>')[0],oSettings.nTableReinsertBefore=oSettings.nTable.nextSibling;for(var nTmp,iPushFeature,cOption,nNewNode,cNext,sAttr,j,nInsertNode=oSettings.nTableWrapper,aDom=oSettings.sDom.split(""),i=0;i<aDom.length;i++){if(iPushFeature=0,cOption=aDom[i],"<"==cOption){if(nNewNode=$("<div></div>")[0],cNext=aDom[i+1],"'"==cNext||'"'==cNext){for(sAttr="",j=2;aDom[i+j]!=cNext;)sAttr+=aDom[i+j],j++;
if("H"==sAttr?sAttr=oSettings.oClasses.sJUIHeader:"F"==sAttr&&(sAttr=oSettings.oClasses.sJUIFooter),-1!=sAttr.indexOf(".")){var aSplit=sAttr.split(".");nNewNode.id=aSplit[0].substr(1,aSplit[0].length-1),nNewNode.className=aSplit[1]}else"#"==sAttr.charAt(0)?nNewNode.id=sAttr.substr(1,sAttr.length-1):nNewNode.className=sAttr;i+=j}nInsertNode.appendChild(nNewNode),nInsertNode=nNewNode}else if(">"==cOption)nInsertNode=nInsertNode.parentNode;else if("l"==cOption&&oSettings.oFeatures.bPaginate&&oSettings.oFeatures.bLengthChange)nTmp=_fnFeatureHtmlLength(oSettings),iPushFeature=1;else if("f"==cOption&&oSettings.oFeatures.bFilter)nTmp=_fnFeatureHtmlFilter(oSettings),iPushFeature=1;else if("r"==cOption&&oSettings.oFeatures.bProcessing)nTmp=_fnFeatureHtmlProcessing(oSettings),iPushFeature=1;else if("t"==cOption)nTmp=_fnFeatureHtmlTable(oSettings),iPushFeature=1;else if("i"==cOption&&oSettings.oFeatures.bInfo)nTmp=_fnFeatureHtmlInfo(oSettings),iPushFeature=1;else if("p"==cOption&&oSettings.oFeatures.bPaginate)nTmp=_fnFeatureHtmlPaginate(oSettings),iPushFeature=1;else if(0!==DataTable.ext.aoFeatures.length)for(var aoFeatures=DataTable.ext.aoFeatures,k=0,kLen=aoFeatures.length;kLen>k;k++)if(cOption==aoFeatures[k].cFeature){nTmp=aoFeatures[k].fnInit(oSettings),nTmp&&(iPushFeature=1);break}1==iPushFeature&&null!==nTmp&&("object"!=typeof oSettings.aanFeatures[cOption]&&(oSettings.aanFeatures[cOption]=[]),oSettings.aanFeatures[cOption].push(nTmp),nInsertNode.appendChild(nTmp))}nHolding.parentNode.replaceChild(oSettings.nTableWrapper,nHolding)}function _fnDetectHeader(aLayout,nThead){var nTr,nCell,i,k,l,iLen,iColShifted,iColumn,iColspan,iRowspan,bUnique,nTrs=$(nThead).children("tr"),fnShiftCol=function(a,i,j){for(var k=a[i];k[j];)j++;return j};for(aLayout.splice(0,aLayout.length),i=0,iLen=nTrs.length;iLen>i;i++)aLayout.push([]);for(i=0,iLen=nTrs.length;iLen>i;i++)for(nTr=nTrs[i],iColumn=0,nCell=nTr.firstChild;nCell;){if("TD"==nCell.nodeName.toUpperCase()||"TH"==nCell.nodeName.toUpperCase())for(iColspan=1*nCell.getAttribute("colspan"),iRowspan=1*nCell.getAttribute("rowspan"),iColspan=iColspan&&0!==iColspan&&1!==iColspan?iColspan:1,iRowspan=iRowspan&&0!==iRowspan&&1!==iRowspan?iRowspan:1,iColShifted=fnShiftCol(aLayout,i,iColumn),bUnique=1===iColspan?!0:!1,l=0;iColspan>l;l++)for(k=0;iRowspan>k;k++)aLayout[i+k][iColShifted+l]={cell:nCell,unique:bUnique},aLayout[i+k].nTr=nTr;nCell=nCell.nextSibling}}function _fnGetUniqueThs(oSettings,nHeader,aLayout){var aReturn=[];aLayout||(aLayout=oSettings.aoHeader,nHeader&&(aLayout=[],_fnDetectHeader(aLayout,nHeader)));for(var i=0,iLen=aLayout.length;iLen>i;i++)for(var j=0,jLen=aLayout[i].length;jLen>j;j++)!aLayout[i][j].unique||aReturn[j]&&oSettings.bSortCellsTop||(aReturn[j]=aLayout[i][j].cell);return aReturn}function _fnAjaxUpdate(oSettings){if(oSettings.bAjaxDataGet){oSettings.iDraw++,_fnProcessingDisplay(oSettings,!0);var aoData=(oSettings.aoColumns.length,_fnAjaxParameters(oSettings));return _fnServerParams(oSettings,aoData),oSettings.fnServerData.call(oSettings.oInstance,oSettings.sAjaxSource,aoData,function(json){_fnAjaxUpdateDraw(oSettings,json)},oSettings),!1}return!0}function _fnAjaxParameters(oSettings){var mDataProp,aaSort,aDataSort,i,j,iColumns=oSettings.aoColumns.length,aoData=[];for(aoData.push({name:"sEcho",value:oSettings.iDraw}),aoData.push({name:"iColumns",value:iColumns}),aoData.push({name:"sColumns",value:_fnColumnOrdering(oSettings)}),aoData.push({name:"iDisplayStart",value:oSettings._iDisplayStart}),aoData.push({name:"iDisplayLength",value:oSettings.oFeatures.bPaginate!==!1?oSettings._iDisplayLength:-1}),i=0;iColumns>i;i++)mDataProp=oSettings.aoColumns[i].mData,aoData.push({name:"mDataProp_"+i,value:"function"==typeof mDataProp?"function":mDataProp});if(oSettings.oFeatures.bFilter!==!1)for(aoData.push({name:"sSearch",value:oSettings.oPreviousSearch.sSearch}),aoData.push({name:"bRegex",value:oSettings.oPreviousSearch.bRegex}),i=0;iColumns>i;i++)aoData.push({name:"sSearch_"+i,value:oSettings.aoPreSearchCols[i].sSearch}),aoData.push({name:"bRegex_"+i,value:oSettings.aoPreSearchCols[i].bRegex}),aoData.push({name:"bSearchable_"+i,value:oSettings.aoColumns[i].bSearchable});if(oSettings.oFeatures.bSort!==!1){var iCounter=0;for(aaSort=null!==oSettings.aaSortingFixed?oSettings.aaSortingFixed.concat(oSettings.aaSorting):oSettings.aaSorting.slice(),i=0;i<aaSort.length;i++)for(aDataSort=oSettings.aoColumns[aaSort[i][0]].aDataSort,j=0;j<aDataSort.length;j++)aoData.push({name:"iSortCol_"+iCounter,value:aDataSort[j]}),aoData.push({name:"sSortDir_"+iCounter,value:aaSort[i][1]}),iCounter++;for(aoData.push({name:"iSortingCols",value:iCounter}),i=0;iColumns>i;i++)aoData.push({name:"bSortable_"+i,value:oSettings.aoColumns[i].bSortable})}return aoData}function _fnServerParams(oSettings,aoData){_fnCallbackFire(oSettings,"aoServerParams","serverParams",[aoData])}function _fnAjaxUpdateDraw(oSettings,json){if(json.sEcho!==undefined){if(1*json.sEcho<oSettings.iDraw)return;oSettings.iDraw=1*json.sEcho}(!oSettings.oScroll.bInfinite||oSettings.oScroll.bInfinite&&(oSettings.bSorted||oSettings.bFiltered))&&_fnClearTable(oSettings),oSettings._iRecordsTotal=parseInt(json.iTotalRecords,10),oSettings._iRecordsDisplay=parseInt(json.iTotalDisplayRecords,10);var aiIndex,sOrdering=_fnColumnOrdering(oSettings),bReOrder=json.sColumns!==undefined&&""!==sOrdering&&json.sColumns!=sOrdering;bReOrder&&(aiIndex=_fnReOrderIndex(oSettings,json.sColumns));for(var aData=_fnGetObjectDataFn(oSettings.sAjaxDataProp)(json),i=0,iLen=aData.length;iLen>i;i++)if(bReOrder){for(var aDataSorted=[],j=0,jLen=oSettings.aoColumns.length;jLen>j;j++)aDataSorted.push(aData[i][aiIndex[j]]);_fnAddData(oSettings,aDataSorted)}else _fnAddData(oSettings,aData[i]);oSettings.aiDisplay=oSettings.aiDisplayMaster.slice(),oSettings.bAjaxDataGet=!1,_fnDraw(oSettings),oSettings.bAjaxDataGet=!0,_fnProcessingDisplay(oSettings,!1)}function _fnFeatureHtmlFilter(oSettings){var oPreviousSearch=oSettings.oPreviousSearch,sSearchStr=oSettings.oLanguage.sSearch;sSearchStr=-1!==sSearchStr.indexOf("_INPUT_")?sSearchStr.replace("_INPUT_",'<input type="text" />'):""===sSearchStr?'<input type="text" />':sSearchStr+' <input type="text" />';var nFilter=document.createElement("div");nFilter.className=oSettings.oClasses.sFilter,nFilter.innerHTML="<label>"+sSearchStr+"</label>",oSettings.aanFeatures.f||(nFilter.id=oSettings.sTableId+"_filter");var jqFilter=$('input[type="text"]',nFilter);return nFilter._DT_Input=jqFilter[0],jqFilter.val(oPreviousSearch.sSearch.replace('"',"&quot;")),jqFilter.bind("keyup.DT",function(){for(var n=oSettings.aanFeatures.f,val=""===this.value?"":this.value,i=0,iLen=n.length;iLen>i;i++)n[i]!=$(this).parents("div.dataTables_filter")[0]&&$(n[i]._DT_Input).val(val);val!=oPreviousSearch.sSearch&&_fnFilterComplete(oSettings,{sSearch:val,bRegex:oPreviousSearch.bRegex,bSmart:oPreviousSearch.bSmart,bCaseInsensitive:oPreviousSearch.bCaseInsensitive})}),jqFilter.attr("aria-controls",oSettings.sTableId).bind("keypress.DT",function(e){return 13==e.keyCode?!1:void 0}),nFilter}function _fnFilterComplete(oSettings,oInput,iForce){var oPrevSearch=oSettings.oPreviousSearch,aoPrevSearch=oSettings.aoPreSearchCols,fnSaveFilter=function(oFilter){oPrevSearch.sSearch=oFilter.sSearch,oPrevSearch.bRegex=oFilter.bRegex,oPrevSearch.bSmart=oFilter.bSmart,oPrevSearch.bCaseInsensitive=oFilter.bCaseInsensitive};if(oSettings.oFeatures.bServerSide)fnSaveFilter(oInput);else{_fnFilter(oSettings,oInput.sSearch,iForce,oInput.bRegex,oInput.bSmart,oInput.bCaseInsensitive),fnSaveFilter(oInput);for(var i=0;i<oSettings.aoPreSearchCols.length;i++)_fnFilterColumn(oSettings,aoPrevSearch[i].sSearch,i,aoPrevSearch[i].bRegex,aoPrevSearch[i].bSmart,aoPrevSearch[i].bCaseInsensitive);_fnFilterCustom(oSettings)}oSettings.bFiltered=!0,$(oSettings.oInstance).trigger("filter",oSettings),oSettings._iDisplayStart=0,_fnCalculateEnd(oSettings),_fnDraw(oSettings),_fnBuildSearchArray(oSettings,0)}function _fnFilterCustom(oSettings){for(var afnFilters=DataTable.ext.afnFiltering,aiFilterColumns=_fnGetColumns(oSettings,"bSearchable"),i=0,iLen=afnFilters.length;iLen>i;i++)for(var iCorrector=0,j=0,jLen=oSettings.aiDisplay.length;jLen>j;j++){var iDisIndex=oSettings.aiDisplay[j-iCorrector],bTest=afnFilters[i](oSettings,_fnGetRowData(oSettings,iDisIndex,"filter",aiFilterColumns),iDisIndex);bTest||(oSettings.aiDisplay.splice(j-iCorrector,1),iCorrector++)}}function _fnFilterColumn(oSettings,sInput,iColumn,bRegex,bSmart,bCaseInsensitive){if(""!==sInput)for(var iIndexCorrector=0,rpSearch=_fnFilterCreateSearch(sInput,bRegex,bSmart,bCaseInsensitive),i=oSettings.aiDisplay.length-1;i>=0;i--){var sData=_fnDataToSearch(_fnGetCellData(oSettings,oSettings.aiDisplay[i],iColumn,"filter"),oSettings.aoColumns[iColumn].sType);rpSearch.test(sData)||(oSettings.aiDisplay.splice(i,1),iIndexCorrector++)}}function _fnFilter(oSettings,sInput,iForce,bRegex,bSmart,bCaseInsensitive){var i,rpSearch=_fnFilterCreateSearch(sInput,bRegex,bSmart,bCaseInsensitive),oPrevSearch=oSettings.oPreviousSearch;if(iForce||(iForce=0),0!==DataTable.ext.afnFiltering.length&&(iForce=1),sInput.length<=0)oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length),oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();else if(oSettings.aiDisplay.length==oSettings.aiDisplayMaster.length||oPrevSearch.sSearch.length>sInput.length||1==iForce||0!==sInput.indexOf(oPrevSearch.sSearch))for(oSettings.aiDisplay.splice(0,oSettings.aiDisplay.length),_fnBuildSearchArray(oSettings,1),i=0;i<oSettings.aiDisplayMaster.length;i++)rpSearch.test(oSettings.asDataSearch[i])&&oSettings.aiDisplay.push(oSettings.aiDisplayMaster[i]);else{var iIndexCorrector=0;for(i=0;i<oSettings.asDataSearch.length;i++)rpSearch.test(oSettings.asDataSearch[i])||(oSettings.aiDisplay.splice(i-iIndexCorrector,1),iIndexCorrector++)}}function _fnBuildSearchArray(oSettings,iMaster){if(!oSettings.oFeatures.bServerSide){oSettings.asDataSearch=[];for(var aiFilterColumns=_fnGetColumns(oSettings,"bSearchable"),aiIndex=1===iMaster?oSettings.aiDisplayMaster:oSettings.aiDisplay,i=0,iLen=aiIndex.length;iLen>i;i++)oSettings.asDataSearch[i]=_fnBuildSearchRow(oSettings,_fnGetRowData(oSettings,aiIndex[i],"filter",aiFilterColumns))}}function _fnBuildSearchRow(oSettings,aData){var sSearch=aData.join("  ");return-1!==sSearch.indexOf("&")&&(sSearch=$("<div>").html(sSearch).text()),sSearch.replace(/[\n\r]/g," ")}function _fnFilterCreateSearch(sSearch,bRegex,bSmart,bCaseInsensitive){var asSearch,sRegExpString;return bSmart?(asSearch=bRegex?sSearch.split(" "):_fnEscapeRegex(sSearch).split(" "),sRegExpString="^(?=.*?"+asSearch.join(")(?=.*?")+").*$",new RegExp(sRegExpString,bCaseInsensitive?"i":"")):(sSearch=bRegex?sSearch:_fnEscapeRegex(sSearch),new RegExp(sSearch,bCaseInsensitive?"i":""))}function _fnDataToSearch(sData,sType){return"function"==typeof DataTable.ext.ofnSearch[sType]?DataTable.ext.ofnSearch[sType](sData):null===sData?"":"html"==sType?sData.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"==typeof sData?sData.replace(/[\r\n]/g," "):sData}function _fnEscapeRegex(sVal){var acEscape=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"],reReplace=new RegExp("(\\"+acEscape.join("|\\")+")","g");return sVal.replace(reReplace,"\\$1")}function _fnFeatureHtmlInfo(oSettings){var nInfo=document.createElement("div");return nInfo.className=oSettings.oClasses.sInfo,oSettings.aanFeatures.i||(oSettings.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"}),nInfo.id=oSettings.sTableId+"_info"),oSettings.nTable.setAttribute("aria-describedby",oSettings.sTableId+"_info"),nInfo}function _fnUpdateInfo(oSettings){if(oSettings.oFeatures.bInfo&&0!==oSettings.aanFeatures.i.length){var sOut,oLang=oSettings.oLanguage,iStart=oSettings._iDisplayStart+1,iEnd=oSettings.fnDisplayEnd(),iMax=oSettings.fnRecordsTotal(),iTotal=oSettings.fnRecordsDisplay();sOut=0===iTotal?oLang.sInfoEmpty:oLang.sInfo,iTotal!=iMax&&(sOut+=" "+oLang.sInfoFiltered),sOut+=oLang.sInfoPostFix,sOut=_fnInfoMacros(oSettings,sOut),null!==oLang.fnInfoCallback&&(sOut=oLang.fnInfoCallback.call(oSettings.oInstance,oSettings,iStart,iEnd,iMax,iTotal,sOut));for(var n=oSettings.aanFeatures.i,i=0,iLen=n.length;iLen>i;i++)$(n[i]).html(sOut)}}function _fnInfoMacros(oSettings,str){var iStart=oSettings._iDisplayStart+1,sStart=oSettings.fnFormatNumber(iStart),iEnd=oSettings.fnDisplayEnd(),sEnd=oSettings.fnFormatNumber(iEnd),iTotal=oSettings.fnRecordsDisplay(),sTotal=oSettings.fnFormatNumber(iTotal),iMax=oSettings.fnRecordsTotal(),sMax=oSettings.fnFormatNumber(iMax);return oSettings.oScroll.bInfinite&&(sStart=oSettings.fnFormatNumber(1)),str.replace(/_START_/g,sStart).replace(/_END_/g,sEnd).replace(/_TOTAL_/g,sTotal).replace(/_MAX_/g,sMax)}function _fnInitialise(oSettings){var i,iLen,iAjaxStart=oSettings.iInitDisplayStart;if(oSettings.bInitialised===!1)return void setTimeout(function(){_fnInitialise(oSettings)},200);for(_fnAddOptionsHtml(oSettings),_fnBuildHead(oSettings),_fnDrawHead(oSettings,oSettings.aoHeader),oSettings.nTFoot&&_fnDrawHead(oSettings,oSettings.aoFooter),_fnProcessingDisplay(oSettings,!0),oSettings.oFeatures.bAutoWidth&&_fnCalculateColumnWidths(oSettings),i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)null!==oSettings.aoColumns[i].sWidth&&(oSettings.aoColumns[i].nTh.style.width=_fnStringToCss(oSettings.aoColumns[i].sWidth));if(oSettings.oFeatures.bSort?_fnSort(oSettings):oSettings.oFeatures.bFilter?_fnFilterComplete(oSettings,oSettings.oPreviousSearch):(oSettings.aiDisplay=oSettings.aiDisplayMaster.slice(),_fnCalculateEnd(oSettings),_fnDraw(oSettings)),null!==oSettings.sAjaxSource&&!oSettings.oFeatures.bServerSide){var aoData=[];return _fnServerParams(oSettings,aoData),void oSettings.fnServerData.call(oSettings.oInstance,oSettings.sAjaxSource,aoData,function(json){var aData=""!==oSettings.sAjaxDataProp?_fnGetObjectDataFn(oSettings.sAjaxDataProp)(json):json;for(i=0;i<aData.length;i++)_fnAddData(oSettings,aData[i]);oSettings.iInitDisplayStart=iAjaxStart,oSettings.oFeatures.bSort?_fnSort(oSettings):(oSettings.aiDisplay=oSettings.aiDisplayMaster.slice(),_fnCalculateEnd(oSettings),_fnDraw(oSettings)),_fnProcessingDisplay(oSettings,!1),_fnInitComplete(oSettings,json)},oSettings)}oSettings.oFeatures.bServerSide||(_fnProcessingDisplay(oSettings,!1),_fnInitComplete(oSettings))}function _fnInitComplete(oSettings,json){oSettings._bInitComplete=!0,_fnCallbackFire(oSettings,"aoInitComplete","init",[oSettings,json])}function _fnLanguageCompat(oLanguage){var oDefaults=DataTable.defaults.oLanguage;!oLanguage.sEmptyTable&&oLanguage.sZeroRecords&&"No data available in table"===oDefaults.sEmptyTable&&_fnMap(oLanguage,oLanguage,"sZeroRecords","sEmptyTable"),!oLanguage.sLoadingRecords&&oLanguage.sZeroRecords&&"Loading..."===oDefaults.sLoadingRecords&&_fnMap(oLanguage,oLanguage,"sZeroRecords","sLoadingRecords")}function _fnFeatureHtmlLength(oSettings){if(oSettings.oScroll.bInfinite)return null;var i,iLen,sName='name="'+oSettings.sTableId+'_length"',sStdMenu='<select size="1" '+sName+">",aLengthMenu=oSettings.aLengthMenu;if(2==aLengthMenu.length&&"object"==typeof aLengthMenu[0]&&"object"==typeof aLengthMenu[1])for(i=0,iLen=aLengthMenu[0].length;iLen>i;i++)sStdMenu+='<option value="'+aLengthMenu[0][i]+'">'+aLengthMenu[1][i]+"</option>";else for(i=0,iLen=aLengthMenu.length;iLen>i;i++)sStdMenu+='<option value="'+aLengthMenu[i]+'">'+aLengthMenu[i]+"</option>";sStdMenu+="</select>";var nLength=document.createElement("div");return oSettings.aanFeatures.l||(nLength.id=oSettings.sTableId+"_length"),nLength.className=oSettings.oClasses.sLength,nLength.innerHTML="<label>"+oSettings.oLanguage.sLengthMenu.replace("_MENU_",sStdMenu)+"</label>",$('select option[value="'+oSettings._iDisplayLength+'"]',nLength).attr("selected",!0),$("select",nLength).bind("change.DT",function(){var iVal=$(this).val(),n=oSettings.aanFeatures.l;for(i=0,iLen=n.length;iLen>i;i++)n[i]!=this.parentNode&&$("select",n[i]).val(iVal);oSettings._iDisplayLength=parseInt(iVal,10),_fnCalculateEnd(oSettings),oSettings.fnDisplayEnd()==oSettings.fnRecordsDisplay()&&(oSettings._iDisplayStart=oSettings.fnDisplayEnd()-oSettings._iDisplayLength,oSettings._iDisplayStart<0&&(oSettings._iDisplayStart=0)),-1==oSettings._iDisplayLength&&(oSettings._iDisplayStart=0),_fnDraw(oSettings)}),$("select",nLength).attr("aria-controls",oSettings.sTableId),nLength}function _fnCalculateEnd(oSettings){oSettings._iDisplayEnd=oSettings.oFeatures.bPaginate===!1?oSettings.aiDisplay.length:oSettings._iDisplayStart+oSettings._iDisplayLength>oSettings.aiDisplay.length||-1==oSettings._iDisplayLength?oSettings.aiDisplay.length:oSettings._iDisplayStart+oSettings._iDisplayLength}function _fnFeatureHtmlPaginate(oSettings){if(oSettings.oScroll.bInfinite)return null;var nPaginate=document.createElement("div");return nPaginate.className=oSettings.oClasses.sPaging+oSettings.sPaginationType,DataTable.ext.oPagination[oSettings.sPaginationType].fnInit(oSettings,nPaginate,function(oSettings){_fnCalculateEnd(oSettings),_fnDraw(oSettings)}),oSettings.aanFeatures.p||oSettings.aoDrawCallback.push({fn:function(oSettings){DataTable.ext.oPagination[oSettings.sPaginationType].fnUpdate(oSettings,function(oSettings){_fnCalculateEnd(oSettings),_fnDraw(oSettings)})},sName:"pagination"}),nPaginate}function _fnPageChange(oSettings,mAction){var iOldStart=oSettings._iDisplayStart;if("number"==typeof mAction)oSettings._iDisplayStart=mAction*oSettings._iDisplayLength,oSettings._iDisplayStart>oSettings.fnRecordsDisplay()&&(oSettings._iDisplayStart=0);else if("first"==mAction)oSettings._iDisplayStart=0;else if("previous"==mAction)oSettings._iDisplayStart=oSettings._iDisplayLength>=0?oSettings._iDisplayStart-oSettings._iDisplayLength:0,oSettings._iDisplayStart<0&&(oSettings._iDisplayStart=0);else if("next"==mAction)oSettings._iDisplayLength>=0?oSettings._iDisplayStart+oSettings._iDisplayLength<oSettings.fnRecordsDisplay()&&(oSettings._iDisplayStart+=oSettings._iDisplayLength):oSettings._iDisplayStart=0;else if("last"==mAction)if(oSettings._iDisplayLength>=0){var iPages=parseInt((oSettings.fnRecordsDisplay()-1)/oSettings._iDisplayLength,10)+1;oSettings._iDisplayStart=(iPages-1)*oSettings._iDisplayLength}else oSettings._iDisplayStart=0;else _fnLog(oSettings,0,"Unknown paging action: "+mAction);return $(oSettings.oInstance).trigger("page",oSettings),iOldStart!=oSettings._iDisplayStart}function _fnFeatureHtmlProcessing(oSettings){var nProcessing=document.createElement("div");return oSettings.aanFeatures.r||(nProcessing.id=oSettings.sTableId+"_processing"),nProcessing.innerHTML=oSettings.oLanguage.sProcessing,nProcessing.className=oSettings.oClasses.sProcessing,oSettings.nTable.parentNode.insertBefore(nProcessing,oSettings.nTable),nProcessing}function _fnProcessingDisplay(oSettings,bShow){if(oSettings.oFeatures.bProcessing)for(var an=oSettings.aanFeatures.r,i=0,iLen=an.length;iLen>i;i++)an[i].style.visibility=bShow?"visible":"hidden";$(oSettings.oInstance).trigger("processing",[oSettings,bShow])}function _fnFeatureHtmlTable(oSettings){if(""===oSettings.oScroll.sX&&""===oSettings.oScroll.sY)return oSettings.nTable;var nScroller=document.createElement("div"),nScrollHead=document.createElement("div"),nScrollHeadInner=document.createElement("div"),nScrollBody=document.createElement("div"),nScrollFoot=document.createElement("div"),nScrollFootInner=document.createElement("div"),nScrollHeadTable=oSettings.nTable.cloneNode(!1),nScrollFootTable=oSettings.nTable.cloneNode(!1),nThead=oSettings.nTable.getElementsByTagName("thead")[0],nTfoot=0===oSettings.nTable.getElementsByTagName("tfoot").length?null:oSettings.nTable.getElementsByTagName("tfoot")[0],oClasses=oSettings.oClasses;nScrollHead.appendChild(nScrollHeadInner),nScrollFoot.appendChild(nScrollFootInner),nScrollBody.appendChild(oSettings.nTable),nScroller.appendChild(nScrollHead),nScroller.appendChild(nScrollBody),nScrollHeadInner.appendChild(nScrollHeadTable),nScrollHeadTable.appendChild(nThead),null!==nTfoot&&(nScroller.appendChild(nScrollFoot),nScrollFootInner.appendChild(nScrollFootTable),nScrollFootTable.appendChild(nTfoot)),nScroller.className=oClasses.sScrollWrapper,nScrollHead.className=oClasses.sScrollHead,nScrollHeadInner.className=oClasses.sScrollHeadInner,nScrollBody.className=oClasses.sScrollBody,nScrollFoot.className=oClasses.sScrollFoot,nScrollFootInner.className=oClasses.sScrollFootInner,oSettings.oScroll.bAutoCss&&(nScrollHead.style.overflow="hidden",nScrollHead.style.position="relative",nScrollFoot.style.overflow="hidden",nScrollBody.style.overflow="auto"),nScrollHead.style.border="0",nScrollHead.style.width="100%",nScrollFoot.style.border="0",nScrollHeadInner.style.width=""!==oSettings.oScroll.sXInner?oSettings.oScroll.sXInner:"100%",nScrollHeadTable.removeAttribute("id"),nScrollHeadTable.style.marginLeft="0",oSettings.nTable.style.marginLeft="0",null!==nTfoot&&(nScrollFootTable.removeAttribute("id"),nScrollFootTable.style.marginLeft="0");var nCaption=$(oSettings.nTable).children("caption");return nCaption.length>0&&(nCaption=nCaption[0],"top"===nCaption._captionSide?nScrollHeadTable.appendChild(nCaption):"bottom"===nCaption._captionSide&&nTfoot&&nScrollFootTable.appendChild(nCaption)),""!==oSettings.oScroll.sX&&(nScrollHead.style.width=_fnStringToCss(oSettings.oScroll.sX),nScrollBody.style.width=_fnStringToCss(oSettings.oScroll.sX),null!==nTfoot&&(nScrollFoot.style.width=_fnStringToCss(oSettings.oScroll.sX)),$(nScrollBody).scroll(function(){nScrollHead.scrollLeft=this.scrollLeft,null!==nTfoot&&(nScrollFoot.scrollLeft=this.scrollLeft)})),""!==oSettings.oScroll.sY&&(nScrollBody.style.height=_fnStringToCss(oSettings.oScroll.sY)),oSettings.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"}),oSettings.oScroll.bInfinite&&$(nScrollBody).scroll(function(){oSettings.bDrawing||0===$(this).scrollTop()||$(this).scrollTop()+$(this).height()>$(oSettings.nTable).height()-oSettings.oScroll.iLoadGap&&oSettings.fnDisplayEnd()<oSettings.fnRecordsDisplay()&&(_fnPageChange(oSettings,"next"),_fnCalculateEnd(oSettings),_fnDraw(oSettings))}),oSettings.nScrollHead=nScrollHead,oSettings.nScrollFoot=nScrollFoot,nScroller}function _fnScrollDraw(o){var i,iLen,anHeadToSize,anHeadSizers,anFootSizers,anFootToSize,oStyle,iVis,nTheadSize,nTfootSize,iSanityWidth,nScrollHeadInner=o.nScrollHead.getElementsByTagName("div")[0],nScrollHeadTable=nScrollHeadInner.getElementsByTagName("table")[0],nScrollBody=o.nTable.parentNode,aApplied=[],aAppliedFooter=[],nScrollFootInner=null!==o.nTFoot?o.nScrollFoot.getElementsByTagName("div")[0]:null,nScrollFootTable=null!==o.nTFoot?nScrollFootInner.getElementsByTagName("table")[0]:null,ie67=o.oBrowser.bScrollOversize,zeroOut=function(nSizer){oStyle=nSizer.style,oStyle.paddingTop="0",oStyle.paddingBottom="0",oStyle.borderTopWidth="0",oStyle.borderBottomWidth="0",oStyle.height=0};$(o.nTable).children("thead, tfoot").remove(),nTheadSize=$(o.nTHead).clone()[0],o.nTable.insertBefore(nTheadSize,o.nTable.childNodes[0]),anHeadToSize=o.nTHead.getElementsByTagName("tr"),anHeadSizers=nTheadSize.getElementsByTagName("tr"),null!==o.nTFoot&&(nTfootSize=$(o.nTFoot).clone()[0],o.nTable.insertBefore(nTfootSize,o.nTable.childNodes[1]),anFootToSize=o.nTFoot.getElementsByTagName("tr"),anFootSizers=nTfootSize.getElementsByTagName("tr")),""===o.oScroll.sX&&(nScrollBody.style.width="100%",nScrollHeadInner.parentNode.style.width="100%");var nThs=_fnGetUniqueThs(o,nTheadSize);for(i=0,iLen=nThs.length;iLen>i;i++)iVis=_fnVisibleToColumnIndex(o,i),nThs[i].style.width=o.aoColumns[iVis].sWidth;if(null!==o.nTFoot&&_fnApplyToChildren(function(n){n.style.width=""},anFootSizers),o.oScroll.bCollapse&&""!==o.oScroll.sY&&(nScrollBody.style.height=nScrollBody.offsetHeight+o.nTHead.offsetHeight+"px"),iSanityWidth=$(o.nTable).outerWidth(),""===o.oScroll.sX?(o.nTable.style.width="100%",ie67&&($("tbody",nScrollBody).height()>nScrollBody.offsetHeight||"scroll"==$(nScrollBody).css("overflow-y"))&&(o.nTable.style.width=_fnStringToCss($(o.nTable).outerWidth()-o.oScroll.iBarWidth))):""!==o.oScroll.sXInner?o.nTable.style.width=_fnStringToCss(o.oScroll.sXInner):iSanityWidth==$(nScrollBody).width()&&$(nScrollBody).height()<$(o.nTable).height()?(o.nTable.style.width=_fnStringToCss(iSanityWidth-o.oScroll.iBarWidth),$(o.nTable).outerWidth()>iSanityWidth-o.oScroll.iBarWidth&&(o.nTable.style.width=_fnStringToCss(iSanityWidth))):o.nTable.style.width=_fnStringToCss(iSanityWidth),iSanityWidth=$(o.nTable).outerWidth(),_fnApplyToChildren(zeroOut,anHeadSizers),_fnApplyToChildren(function(nSizer){aApplied.push(_fnStringToCss($(nSizer).width()))},anHeadSizers),_fnApplyToChildren(function(nToSize,i){nToSize.style.width=aApplied[i]},anHeadToSize),$(anHeadSizers).height(0),null!==o.nTFoot&&(_fnApplyToChildren(zeroOut,anFootSizers),_fnApplyToChildren(function(nSizer){aAppliedFooter.push(_fnStringToCss($(nSizer).width()))},anFootSizers),_fnApplyToChildren(function(nToSize,i){nToSize.style.width=aAppliedFooter[i]},anFootToSize),$(anFootSizers).height(0)),_fnApplyToChildren(function(nSizer,i){nSizer.innerHTML="",nSizer.style.width=aApplied[i]},anHeadSizers),null!==o.nTFoot&&_fnApplyToChildren(function(nSizer,i){nSizer.innerHTML="",nSizer.style.width=aAppliedFooter[i]},anFootSizers),$(o.nTable).outerWidth()<iSanityWidth){var iCorrection=nScrollBody.scrollHeight>nScrollBody.offsetHeight||"scroll"==$(nScrollBody).css("overflow-y")?iSanityWidth+o.oScroll.iBarWidth:iSanityWidth;ie67&&(nScrollBody.scrollHeight>nScrollBody.offsetHeight||"scroll"==$(nScrollBody).css("overflow-y"))&&(o.nTable.style.width=_fnStringToCss(iCorrection-o.oScroll.iBarWidth)),nScrollBody.style.width=_fnStringToCss(iCorrection),o.nScrollHead.style.width=_fnStringToCss(iCorrection),null!==o.nTFoot&&(o.nScrollFoot.style.width=_fnStringToCss(iCorrection)),""===o.oScroll.sX?_fnLog(o,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):""!==o.oScroll.sXInner&&_fnLog(o,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")}else nScrollBody.style.width=_fnStringToCss("100%"),o.nScrollHead.style.width=_fnStringToCss("100%"),null!==o.nTFoot&&(o.nScrollFoot.style.width=_fnStringToCss("100%"));if(""===o.oScroll.sY&&ie67&&(nScrollBody.style.height=_fnStringToCss(o.nTable.offsetHeight+o.oScroll.iBarWidth)),""!==o.oScroll.sY&&o.oScroll.bCollapse){nScrollBody.style.height=_fnStringToCss(o.oScroll.sY);var iExtra=""!==o.oScroll.sX&&o.nTable.offsetWidth>nScrollBody.offsetWidth?o.oScroll.iBarWidth:0;o.nTable.offsetHeight<nScrollBody.offsetHeight&&(nScrollBody.style.height=_fnStringToCss(o.nTable.offsetHeight+iExtra))}var iOuterWidth=$(o.nTable).outerWidth();nScrollHeadTable.style.width=_fnStringToCss(iOuterWidth),nScrollHeadInner.style.width=_fnStringToCss(iOuterWidth);var bScrolling=$(o.nTable).height()>nScrollBody.clientHeight||"scroll"==$(nScrollBody).css("overflow-y");nScrollHeadInner.style.paddingRight=bScrolling?o.oScroll.iBarWidth+"px":"0px",null!==o.nTFoot&&(nScrollFootTable.style.width=_fnStringToCss(iOuterWidth),nScrollFootInner.style.width=_fnStringToCss(iOuterWidth),nScrollFootInner.style.paddingRight=bScrolling?o.oScroll.iBarWidth+"px":"0px"),$(nScrollBody).scroll(),(o.bSorted||o.bFiltered)&&(nScrollBody.scrollTop=0)}function _fnApplyToChildren(fn,an1,an2){for(var nNode1,nNode2,index=0,i=0,iLen=an1.length;iLen>i;){for(nNode1=an1[i].firstChild,nNode2=an2?an2[i].firstChild:null;nNode1;)1===nNode1.nodeType&&(an2?fn(nNode1,nNode2,index):fn(nNode1,index),index++),nNode1=nNode1.nextSibling,nNode2=an2?nNode2.nextSibling:null;i++}}function _fnConvertToWidth(sWidth,nParent){if(!sWidth||null===sWidth||""===sWidth)return 0;nParent||(nParent=document.body);var iWidth,nTmp=document.createElement("div");return nTmp.style.width=_fnStringToCss(sWidth),nParent.appendChild(nTmp),iWidth=nTmp.offsetWidth,nParent.removeChild(nTmp),iWidth}function _fnCalculateColumnWidths(oSettings){var iTmpWidth,i,iCorrector,iWidth,iUserInputs=(oSettings.nTable.offsetWidth,0),iVisibleColumns=0,iColums=oSettings.aoColumns.length,oHeaders=$("th",oSettings.nTHead),widthAttr=oSettings.nTable.getAttribute("width"),nWrapper=oSettings.nTable.parentNode;for(i=0;iColums>i;i++)oSettings.aoColumns[i].bVisible&&(iVisibleColumns++,null!==oSettings.aoColumns[i].sWidth&&(iTmpWidth=_fnConvertToWidth(oSettings.aoColumns[i].sWidthOrig,nWrapper),null!==iTmpWidth&&(oSettings.aoColumns[i].sWidth=_fnStringToCss(iTmpWidth)),iUserInputs++));if(iColums==oHeaders.length&&0===iUserInputs&&iVisibleColumns==iColums&&""===oSettings.oScroll.sX&&""===oSettings.oScroll.sY)for(i=0;i<oSettings.aoColumns.length;i++)iTmpWidth=$(oHeaders[i]).width(),null!==iTmpWidth&&(oSettings.aoColumns[i].sWidth=_fnStringToCss(iTmpWidth));else{var nCalcTmp=oSettings.nTable.cloneNode(!1),nTheadClone=oSettings.nTHead.cloneNode(!0),nBody=document.createElement("tbody"),nTr=document.createElement("tr");nCalcTmp.removeAttribute("id"),nCalcTmp.appendChild(nTheadClone),null!==oSettings.nTFoot&&(nCalcTmp.appendChild(oSettings.nTFoot.cloneNode(!0)),_fnApplyToChildren(function(n){n.style.width=""},nCalcTmp.getElementsByTagName("tr"))),nCalcTmp.appendChild(nBody),nBody.appendChild(nTr);var jqColSizing=$("thead th",nCalcTmp);0===jqColSizing.length&&(jqColSizing=$("tbody tr:eq(0)>td",nCalcTmp));var nThs=_fnGetUniqueThs(oSettings,nTheadClone);for(iCorrector=0,i=0;iColums>i;i++){var oColumn=oSettings.aoColumns[i];oColumn.bVisible&&null!==oColumn.sWidthOrig&&""!==oColumn.sWidthOrig?nThs[i-iCorrector].style.width=_fnStringToCss(oColumn.sWidthOrig):oColumn.bVisible?nThs[i-iCorrector].style.width="":iCorrector++}for(i=0;iColums>i;i++)if(oSettings.aoColumns[i].bVisible){var nTd=_fnGetWidestNode(oSettings,i);null!==nTd&&(nTd=nTd.cloneNode(!0),""!==oSettings.aoColumns[i].sContentPadding&&(nTd.innerHTML+=oSettings.aoColumns[i].sContentPadding),nTr.appendChild(nTd))}nWrapper.appendChild(nCalcTmp),""!==oSettings.oScroll.sX&&""!==oSettings.oScroll.sXInner?nCalcTmp.style.width=_fnStringToCss(oSettings.oScroll.sXInner):""!==oSettings.oScroll.sX?(nCalcTmp.style.width="",$(nCalcTmp).width()<nWrapper.offsetWidth&&(nCalcTmp.style.width=_fnStringToCss(nWrapper.offsetWidth))):""!==oSettings.oScroll.sY?nCalcTmp.style.width=_fnStringToCss(nWrapper.offsetWidth):widthAttr&&(nCalcTmp.style.width=_fnStringToCss(widthAttr)),nCalcTmp.style.visibility="hidden",_fnScrollingWidthAdjust(oSettings,nCalcTmp);var oNodes=$("tbody tr:eq(0)",nCalcTmp).children();if(0===oNodes.length&&(oNodes=_fnGetUniqueThs(oSettings,$("thead",nCalcTmp)[0])),""!==oSettings.oScroll.sX){var iTotal=0;for(iCorrector=0,i=0;i<oSettings.aoColumns.length;i++)oSettings.aoColumns[i].bVisible&&(iTotal+=null===oSettings.aoColumns[i].sWidthOrig?$(oNodes[iCorrector]).outerWidth():parseInt(oSettings.aoColumns[i].sWidth.replace("px",""),10)+($(oNodes[iCorrector]).outerWidth()-$(oNodes[iCorrector]).width()),iCorrector++);nCalcTmp.style.width=_fnStringToCss(iTotal),oSettings.nTable.style.width=_fnStringToCss(iTotal)}for(iCorrector=0,i=0;i<oSettings.aoColumns.length;i++)oSettings.aoColumns[i].bVisible&&(iWidth=$(oNodes[iCorrector]).width(),null!==iWidth&&iWidth>0&&(oSettings.aoColumns[i].sWidth=_fnStringToCss(iWidth)),iCorrector++);var cssWidth=$(nCalcTmp).css("width");oSettings.nTable.style.width=-1!==cssWidth.indexOf("%")?cssWidth:_fnStringToCss($(nCalcTmp).outerWidth()),nCalcTmp.parentNode.removeChild(nCalcTmp)}widthAttr&&(oSettings.nTable.style.width=_fnStringToCss(widthAttr))}function _fnScrollingWidthAdjust(oSettings,n){if(""===oSettings.oScroll.sX&&""!==oSettings.oScroll.sY){{$(n).width()}n.style.width=_fnStringToCss($(n).outerWidth()-oSettings.oScroll.iBarWidth)}else""!==oSettings.oScroll.sX&&(n.style.width=_fnStringToCss($(n).outerWidth()))}function _fnGetWidestNode(oSettings,iCol){var iMaxIndex=_fnGetMaxLenString(oSettings,iCol);if(0>iMaxIndex)return null;if(null===oSettings.aoData[iMaxIndex].nTr){var n=document.createElement("td");return n.innerHTML=_fnGetCellData(oSettings,iMaxIndex,iCol,""),n
}return _fnGetTdNodes(oSettings,iMaxIndex)[iCol]}function _fnGetMaxLenString(oSettings,iCol){for(var iMax=-1,iMaxIndex=-1,i=0;i<oSettings.aoData.length;i++){var s=_fnGetCellData(oSettings,i,iCol,"display")+"";s=s.replace(/<.*?>/g,""),s.length>iMax&&(iMax=s.length,iMaxIndex=i)}return iMaxIndex}function _fnStringToCss(s){if(null===s)return"0px";if("number"==typeof s)return 0>s?"0px":s+"px";var c=s.charCodeAt(s.length-1);return 48>c||c>57?s:s+"px"}function _fnScrollBarWidth(){var inner=document.createElement("p"),style=inner.style;style.width="100%",style.height="200px",style.padding="0px";var outer=document.createElement("div");style=outer.style,style.position="absolute",style.top="0px",style.left="0px",style.visibility="hidden",style.width="200px",style.height="150px",style.padding="0px",style.overflow="hidden",outer.appendChild(inner),document.body.appendChild(outer);var w1=inner.offsetWidth;outer.style.overflow="scroll";var w2=inner.offsetWidth;return w1==w2&&(w2=outer.clientWidth),document.body.removeChild(outer),w1-w2}function _fnSort(oSettings,bApplyClasses){var i,iLen,j,jLen,k,kLen,sDataType,nTh,aaSort=[],aiOrig=[],oSort=DataTable.ext.oSort,aoData=oSettings.aoData,aoColumns=oSettings.aoColumns,oAria=oSettings.oLanguage.oAria;if(!oSettings.oFeatures.bServerSide&&(0!==oSettings.aaSorting.length||null!==oSettings.aaSortingFixed)){for(aaSort=null!==oSettings.aaSortingFixed?oSettings.aaSortingFixed.concat(oSettings.aaSorting):oSettings.aaSorting.slice(),i=0;i<aaSort.length;i++){var iColumn=aaSort[i][0],iVisColumn=_fnColumnIndexToVisible(oSettings,iColumn);if(sDataType=oSettings.aoColumns[iColumn].sSortDataType,DataTable.ext.afnSortData[sDataType]){var aData=DataTable.ext.afnSortData[sDataType].call(oSettings.oInstance,oSettings,iColumn,iVisColumn);if(aData.length===aoData.length)for(j=0,jLen=aoData.length;jLen>j;j++)_fnSetCellData(oSettings,j,iColumn,aData[j]);else _fnLog(oSettings,0,"Returned data sort array (col "+iColumn+") is the wrong length")}}for(i=0,iLen=oSettings.aiDisplayMaster.length;iLen>i;i++)aiOrig[oSettings.aiDisplayMaster[i]]=i;var fnSortFormat,aDataSort,iSortLen=aaSort.length;for(i=0,iLen=aoData.length;iLen>i;i++)for(j=0;iSortLen>j;j++)for(aDataSort=aoColumns[aaSort[j][0]].aDataSort,k=0,kLen=aDataSort.length;kLen>k;k++)sDataType=aoColumns[aDataSort[k]].sType,fnSortFormat=oSort[(sDataType?sDataType:"string")+"-pre"],aoData[i]._aSortData[aDataSort[k]]=fnSortFormat?fnSortFormat(_fnGetCellData(oSettings,i,aDataSort[k],"sort")):_fnGetCellData(oSettings,i,aDataSort[k],"sort");oSettings.aiDisplayMaster.sort(function(a,b){var k,l,lLen,iTest,aDataSort,sDataType;for(k=0;iSortLen>k;k++)for(aDataSort=aoColumns[aaSort[k][0]].aDataSort,l=0,lLen=aDataSort.length;lLen>l;l++)if(sDataType=aoColumns[aDataSort[l]].sType,iTest=oSort[(sDataType?sDataType:"string")+"-"+aaSort[k][1]](aoData[a]._aSortData[aDataSort[l]],aoData[b]._aSortData[aDataSort[l]]),0!==iTest)return iTest;return oSort["numeric-asc"](aiOrig[a],aiOrig[b])})}for(bApplyClasses!==undefined&&!bApplyClasses||oSettings.oFeatures.bDeferRender||_fnSortingClasses(oSettings),i=0,iLen=oSettings.aoColumns.length;iLen>i;i++){var sTitle=aoColumns[i].sTitle.replace(/<.*?>/g,"");if(nTh=aoColumns[i].nTh,nTh.removeAttribute("aria-sort"),nTh.removeAttribute("aria-label"),aoColumns[i].bSortable)if(aaSort.length>0&&aaSort[0][0]==i){nTh.setAttribute("aria-sort","asc"==aaSort[0][1]?"ascending":"descending");var nextSort=aoColumns[i].asSorting[aaSort[0][2]+1]?aoColumns[i].asSorting[aaSort[0][2]+1]:aoColumns[i].asSorting[0];nTh.setAttribute("aria-label",sTitle+("asc"==nextSort?oAria.sSortAscending:oAria.sSortDescending))}else nTh.setAttribute("aria-label",sTitle+("asc"==aoColumns[i].asSorting[0]?oAria.sSortAscending:oAria.sSortDescending));else nTh.setAttribute("aria-label",sTitle)}oSettings.bSorted=!0,$(oSettings.oInstance).trigger("sort",oSettings),oSettings.oFeatures.bFilter?_fnFilterComplete(oSettings,oSettings.oPreviousSearch,1):(oSettings.aiDisplay=oSettings.aiDisplayMaster.slice(),oSettings._iDisplayStart=0,_fnCalculateEnd(oSettings),_fnDraw(oSettings))}function _fnSortAttachListener(oSettings,nNode,iDataIndex,fnCallback){_fnBindAction(nNode,{},function(e){if(oSettings.aoColumns[iDataIndex].bSortable!==!1){var fnInnerSorting=function(){var iColumn,iNextSort;if(e.shiftKey){for(var bFound=!1,i=0;i<oSettings.aaSorting.length;i++)if(oSettings.aaSorting[i][0]==iDataIndex){bFound=!0,iColumn=oSettings.aaSorting[i][0],iNextSort=oSettings.aaSorting[i][2]+1,oSettings.aoColumns[iColumn].asSorting[iNextSort]?(oSettings.aaSorting[i][1]=oSettings.aoColumns[iColumn].asSorting[iNextSort],oSettings.aaSorting[i][2]=iNextSort):oSettings.aaSorting.splice(i,1);break}bFound===!1&&oSettings.aaSorting.push([iDataIndex,oSettings.aoColumns[iDataIndex].asSorting[0],0])}else 1==oSettings.aaSorting.length&&oSettings.aaSorting[0][0]==iDataIndex?(iColumn=oSettings.aaSorting[0][0],iNextSort=oSettings.aaSorting[0][2]+1,oSettings.aoColumns[iColumn].asSorting[iNextSort]||(iNextSort=0),oSettings.aaSorting[0][1]=oSettings.aoColumns[iColumn].asSorting[iNextSort],oSettings.aaSorting[0][2]=iNextSort):(oSettings.aaSorting.splice(0,oSettings.aaSorting.length),oSettings.aaSorting.push([iDataIndex,oSettings.aoColumns[iDataIndex].asSorting[0],0]));_fnSort(oSettings)};oSettings.oFeatures.bProcessing?(_fnProcessingDisplay(oSettings,!0),setTimeout(function(){fnInnerSorting(),oSettings.oFeatures.bServerSide||_fnProcessingDisplay(oSettings,!1)},0)):fnInnerSorting(),"function"==typeof fnCallback&&fnCallback(oSettings)}})}function _fnSortingClasses(oSettings){var i,iLen,j,iFound,aaSort,sClass,iColumns=oSettings.aoColumns.length,oClasses=oSettings.oClasses;for(i=0;iColumns>i;i++)oSettings.aoColumns[i].bSortable&&$(oSettings.aoColumns[i].nTh).removeClass(oClasses.sSortAsc+" "+oClasses.sSortDesc+" "+oSettings.aoColumns[i].sSortingClass);for(aaSort=null!==oSettings.aaSortingFixed?oSettings.aaSortingFixed.concat(oSettings.aaSorting):oSettings.aaSorting.slice(),i=0;i<oSettings.aoColumns.length;i++)if(oSettings.aoColumns[i].bSortable){for(sClass=oSettings.aoColumns[i].sSortingClass,iFound=-1,j=0;j<aaSort.length;j++)if(aaSort[j][0]==i){sClass="asc"==aaSort[j][1]?oClasses.sSortAsc:oClasses.sSortDesc,iFound=j;break}if($(oSettings.aoColumns[i].nTh).addClass(sClass),oSettings.bJUI){var jqSpan=$("span."+oClasses.sSortIcon,oSettings.aoColumns[i].nTh);jqSpan.removeClass(oClasses.sSortJUIAsc+" "+oClasses.sSortJUIDesc+" "+oClasses.sSortJUI+" "+oClasses.sSortJUIAscAllowed+" "+oClasses.sSortJUIDescAllowed);var sSpanClass;sSpanClass=-1==iFound?oSettings.aoColumns[i].sSortingClassJUI:"asc"==aaSort[iFound][1]?oClasses.sSortJUIAsc:oClasses.sSortJUIDesc,jqSpan.addClass(sSpanClass)}}else $(oSettings.aoColumns[i].nTh).addClass(oSettings.aoColumns[i].sSortingClass);if(sClass=oClasses.sSortColumn,oSettings.oFeatures.bSort&&oSettings.oFeatures.bSortClasses){var iClass,iTargetCol,nTds=_fnGetTdNodes(oSettings),asClasses=[];for(i=0;iColumns>i;i++)asClasses.push("");for(i=0,iClass=1;i<aaSort.length;i++)iTargetCol=parseInt(aaSort[i][0],10),asClasses[iTargetCol]=sClass+iClass,3>iClass&&iClass++;var sTmpClass,sCurrentClass,sNewClass,reClass=new RegExp(sClass+"[123]");for(i=0,iLen=nTds.length;iLen>i;i++)iTargetCol=i%iColumns,sCurrentClass=nTds[i].className,sNewClass=asClasses[iTargetCol],sTmpClass=sCurrentClass.replace(reClass,sNewClass),sTmpClass!=sCurrentClass?nTds[i].className=$.trim(sTmpClass):sNewClass.length>0&&-1==sCurrentClass.indexOf(sNewClass)&&(nTds[i].className=sCurrentClass+" "+sNewClass)}}function _fnSaveState(oSettings){if(oSettings.oFeatures.bStateSave&&!oSettings.bDestroying){var i,iLen,bInfinite=oSettings.oScroll.bInfinite,oState={iCreate:(new Date).getTime(),iStart:bInfinite?0:oSettings._iDisplayStart,iEnd:bInfinite?oSettings._iDisplayLength:oSettings._iDisplayEnd,iLength:oSettings._iDisplayLength,aaSorting:$.extend(!0,[],oSettings.aaSorting),oSearch:$.extend(!0,{},oSettings.oPreviousSearch),aoSearchCols:$.extend(!0,[],oSettings.aoPreSearchCols),abVisCols:[]};for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)oState.abVisCols.push(oSettings.aoColumns[i].bVisible);_fnCallbackFire(oSettings,"aoStateSaveParams","stateSaveParams",[oSettings,oState]),oSettings.fnStateSave.call(oSettings.oInstance,oSettings,oState)}}function _fnLoadState(oSettings,oInit){if(oSettings.oFeatures.bStateSave){var oData=oSettings.fnStateLoad.call(oSettings.oInstance,oSettings);if(oData){var abStateLoad=_fnCallbackFire(oSettings,"aoStateLoadParams","stateLoadParams",[oSettings,oData]);if(-1===$.inArray(!1,abStateLoad)){oSettings.oLoadedState=$.extend(!0,{},oData),oSettings._iDisplayStart=oData.iStart,oSettings.iInitDisplayStart=oData.iStart,oSettings._iDisplayEnd=oData.iEnd,oSettings._iDisplayLength=oData.iLength,oSettings.aaSorting=oData.aaSorting.slice(),oSettings.saved_aaSorting=oData.aaSorting.slice(),$.extend(oSettings.oPreviousSearch,oData.oSearch),$.extend(!0,oSettings.aoPreSearchCols,oData.aoSearchCols),oInit.saved_aoColumns=[];for(var i=0;i<oData.abVisCols.length;i++)oInit.saved_aoColumns[i]={},oInit.saved_aoColumns[i].bVisible=oData.abVisCols[i];_fnCallbackFire(oSettings,"aoStateLoaded","stateLoaded",[oSettings,oData])}}}}function _fnCreateCookie(sName,sValue,iSecs,sBaseName,fnCallback){var date=new Date;date.setTime(date.getTime()+1e3*iSecs);var aParts=window.location.pathname.split("/"),sNameFile=sName+"_"+aParts.pop().replace(/[\/:]/g,"").toLowerCase(),sFullCookie,oData;null!==fnCallback?(oData="function"==typeof $.parseJSON?$.parseJSON(sValue):eval("("+sValue+")"),sFullCookie=fnCallback(sNameFile,oData,date.toGMTString(),aParts.join("/")+"/")):sFullCookie=sNameFile+"="+encodeURIComponent(sValue)+"; expires="+date.toGMTString()+"; path="+aParts.join("/")+"/";var aCookies=document.cookie.split(";"),iNewCookieLen=sFullCookie.split(";")[0].length,aOldCookies=[];if(iNewCookieLen+document.cookie.length+10>4096){for(var i=0,iLen=aCookies.length;iLen>i;i++)if(-1!=aCookies[i].indexOf(sBaseName)){var aSplitCookie=aCookies[i].split("=");try{oData=eval("("+decodeURIComponent(aSplitCookie[1])+")"),oData&&oData.iCreate&&aOldCookies.push({name:aSplitCookie[0],time:oData.iCreate})}catch(e){}}for(aOldCookies.sort(function(a,b){return b.time-a.time});iNewCookieLen+document.cookie.length+10>4096;){if(0===aOldCookies.length)return;var old=aOldCookies.pop();document.cookie=old.name+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+aParts.join("/")+"/"}}document.cookie=sFullCookie}function _fnReadCookie(sName){for(var aParts=window.location.pathname.split("/"),sNameEQ=sName+"_"+aParts[aParts.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",sCookieContents=document.cookie.split(";"),i=0;i<sCookieContents.length;i++){for(var c=sCookieContents[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(sNameEQ))return decodeURIComponent(c.substring(sNameEQ.length,c.length))}return null}function _fnSettingsFromNode(nTable){for(var i=0;i<DataTable.settings.length;i++)if(DataTable.settings[i].nTable===nTable)return DataTable.settings[i];return null}function _fnGetTrNodes(oSettings){for(var aNodes=[],aoData=oSettings.aoData,i=0,iLen=aoData.length;iLen>i;i++)null!==aoData[i].nTr&&aNodes.push(aoData[i].nTr);return aNodes}function _fnGetTdNodes(oSettings,iIndividualRow){var iCorrector,anTds,nTd,iRow,iColumn,iColumns,oData,sNodeName,anReturn=[],iRows=oSettings.aoData.length,iStart=0,iEnd=iRows;for(iIndividualRow!==undefined&&(iStart=iIndividualRow,iEnd=iIndividualRow+1),iRow=iStart;iEnd>iRow;iRow++)if(oData=oSettings.aoData[iRow],null!==oData.nTr){for(anTds=[],nTd=oData.nTr.firstChild;nTd;)sNodeName=nTd.nodeName.toLowerCase(),("td"==sNodeName||"th"==sNodeName)&&anTds.push(nTd),nTd=nTd.nextSibling;for(iCorrector=0,iColumn=0,iColumns=oSettings.aoColumns.length;iColumns>iColumn;iColumn++)oSettings.aoColumns[iColumn].bVisible?anReturn.push(anTds[iColumn-iCorrector]):(anReturn.push(oData._anHidden[iColumn]),iCorrector++)}return anReturn}function _fnLog(oSettings,iLevel,sMesg){var sAlert=null===oSettings?"DataTables warning: "+sMesg:"DataTables warning (table id = '"+oSettings.sTableId+"'): "+sMesg;if(0===iLevel){if("alert"!=DataTable.ext.sErrMode)throw new Error(sAlert);return void alert(sAlert)}window.console&&console.log&&console.log(sAlert)}function _fnMap(oRet,oSrc,sName,sMappedName){sMappedName===undefined&&(sMappedName=sName),oSrc[sName]!==undefined&&(oRet[sMappedName]=oSrc[sName])}function _fnExtend(oOut,oExtender){var val;for(var prop in oExtender)oExtender.hasOwnProperty(prop)&&(val=oExtender[prop],"object"==typeof oInit[prop]&&null!==val&&$.isArray(val)===!1?$.extend(!0,oOut[prop],val):oOut[prop]=val);return oOut}function _fnBindAction(n,oData,fn){$(n).bind("click.DT",oData,function(e){n.blur(),fn(e)}).bind("keypress.DT",oData,function(e){13===e.which&&fn(e)}).bind("selectstart.DT",function(){return!1})}function _fnCallbackReg(oSettings,sStore,fn,sName){fn&&oSettings[sStore].push({fn:fn,sName:sName})}function _fnCallbackFire(oSettings,sStore,sTrigger,aArgs){for(var aoStore=oSettings[sStore],aRet=[],i=aoStore.length-1;i>=0;i--)aRet.push(aoStore[i].fn.apply(oSettings.oInstance,aArgs));return null!==sTrigger&&$(oSettings.oInstance).trigger(sTrigger,aArgs),aRet}function _fnBrowserDetect(oSettings){var n=$('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"></div></div></div>')[0];document.body.appendChild(n),oSettings.oBrowser.bScrollOversize=100===$("#DT_BrowserTest",n)[0].offsetWidth?!0:!1,document.body.removeChild(n)}function _fnExternApiFunc(sFunc){return function(){var aArgs=[_fnSettingsFromNode(this[DataTable.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return DataTable.ext.oApi[sFunc].apply(this,aArgs)}}var __reArray=/\[.*?\]$/,_fnJsonString=window.JSON?JSON.stringify:function(o){var sType=typeof o;if("object"!==sType||null===o)return"string"===sType&&(o='"'+o+'"'),o+"";var sProp,mValue,json=[],bArr=$.isArray(o);for(sProp in o)mValue=o[sProp],sType=typeof mValue,"string"===sType?mValue='"'+mValue+'"':"object"===sType&&null!==mValue&&(mValue=_fnJsonString(mValue)),json.push((bArr?"":'"'+sProp+'":')+mValue);return(bArr?"[":"{")+json+(bArr?"]":"}")};this.$=function(sSelector,oOpts){var i,iLen,tr,a=[],oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),aoData=oSettings.aoData,aiDisplay=oSettings.aiDisplay,aiDisplayMaster=oSettings.aiDisplayMaster;if(oOpts||(oOpts={}),oOpts=$.extend({},{filter:"none",order:"current",page:"all"},oOpts),"current"==oOpts.page)for(i=oSettings._iDisplayStart,iLen=oSettings.fnDisplayEnd();iLen>i;i++)tr=aoData[aiDisplay[i]].nTr,tr&&a.push(tr);else if("current"==oOpts.order&&"none"==oOpts.filter)for(i=0,iLen=aiDisplayMaster.length;iLen>i;i++)tr=aoData[aiDisplayMaster[i]].nTr,tr&&a.push(tr);else if("current"==oOpts.order&&"applied"==oOpts.filter)for(i=0,iLen=aiDisplay.length;iLen>i;i++)tr=aoData[aiDisplay[i]].nTr,tr&&a.push(tr);else if("original"==oOpts.order&&"none"==oOpts.filter)for(i=0,iLen=aoData.length;iLen>i;i++)tr=aoData[i].nTr,tr&&a.push(tr);else if("original"==oOpts.order&&"applied"==oOpts.filter)for(i=0,iLen=aoData.length;iLen>i;i++)tr=aoData[i].nTr,-1!==$.inArray(i,aiDisplay)&&tr&&a.push(tr);else _fnLog(oSettings,1,"Unknown selection options");var jqA=$(a),jqTRs=jqA.filter(sSelector),jqDescendants=jqA.find(sSelector);return $([].concat($.makeArray(jqTRs),$.makeArray(jqDescendants)))},this._=function(sSelector,oOpts){var i,iLen,aOut=[],aTrs=this.$(sSelector,oOpts);for(i=0,iLen=aTrs.length;iLen>i;i++)aOut.push(this.fnGetData(aTrs[i]));return aOut},this.fnAddData=function(mData,bRedraw){if(0===mData.length)return[];var iTest,aiReturn=[],oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if("object"==typeof mData[0]&&null!==mData[0])for(var i=0;i<mData.length;i++){if(iTest=_fnAddData(oSettings,mData[i]),-1==iTest)return aiReturn;aiReturn.push(iTest)}else{if(iTest=_fnAddData(oSettings,mData),-1==iTest)return aiReturn;aiReturn.push(iTest)}return oSettings.aiDisplay=oSettings.aiDisplayMaster.slice(),(bRedraw===undefined||bRedraw)&&_fnReDraw(oSettings),aiReturn},this.fnAdjustColumnSizing=function(bRedraw){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnAdjustColumnSizing(oSettings),bRedraw===undefined||bRedraw?this.fnDraw(!1):(""!==oSettings.oScroll.sX||""!==oSettings.oScroll.sY)&&this.oApi._fnScrollDraw(oSettings)},this.fnClearTable=function(bRedraw){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnClearTable(oSettings),(bRedraw===undefined||bRedraw)&&_fnDraw(oSettings)},this.fnClose=function(nTr){for(var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),i=0;i<oSettings.aoOpenRows.length;i++)if(oSettings.aoOpenRows[i].nParent==nTr){var nTrParent=oSettings.aoOpenRows[i].nTr.parentNode;return nTrParent&&nTrParent.removeChild(oSettings.aoOpenRows[i].nTr),oSettings.aoOpenRows.splice(i,1),0}return 1},this.fnDeleteRow=function(mTarget,fnCallBack,bRedraw){var i,iLen,iAODataIndex,oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);iAODataIndex="object"==typeof mTarget?_fnNodeToDataIndex(oSettings,mTarget):mTarget;var oData=oSettings.aoData.splice(iAODataIndex,1);for(i=0,iLen=oSettings.aoData.length;iLen>i;i++)null!==oSettings.aoData[i].nTr&&(oSettings.aoData[i].nTr._DT_RowIndex=i);var iDisplayIndex=$.inArray(iAODataIndex,oSettings.aiDisplay);return oSettings.asDataSearch.splice(iDisplayIndex,1),_fnDeleteIndex(oSettings.aiDisplayMaster,iAODataIndex),_fnDeleteIndex(oSettings.aiDisplay,iAODataIndex),"function"==typeof fnCallBack&&fnCallBack.call(this,oSettings,oData),oSettings._iDisplayStart>=oSettings.fnRecordsDisplay()&&(oSettings._iDisplayStart-=oSettings._iDisplayLength,oSettings._iDisplayStart<0&&(oSettings._iDisplayStart=0)),(bRedraw===undefined||bRedraw)&&(_fnCalculateEnd(oSettings),_fnDraw(oSettings)),oData},this.fnDestroy=function(bRemove){var i,iLen,oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),nOrig=oSettings.nTableWrapper.parentNode,nBody=oSettings.nTBody;if(bRemove=bRemove===undefined?!1:bRemove,oSettings.bDestroying=!0,_fnCallbackFire(oSettings,"aoDestroyCallback","destroy",[oSettings]),!bRemove)for(i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)oSettings.aoColumns[i].bVisible===!1&&this.fnSetColumnVis(i,!0);for($(oSettings.nTableWrapper).find("*").andSelf().unbind(".DT"),$("tbody>tr>td."+oSettings.oClasses.sRowEmpty,oSettings.nTable).parent().remove(),oSettings.nTable!=oSettings.nTHead.parentNode&&($(oSettings.nTable).children("thead").remove(),oSettings.nTable.appendChild(oSettings.nTHead)),oSettings.nTFoot&&oSettings.nTable!=oSettings.nTFoot.parentNode&&($(oSettings.nTable).children("tfoot").remove(),oSettings.nTable.appendChild(oSettings.nTFoot)),oSettings.nTable.parentNode.removeChild(oSettings.nTable),$(oSettings.nTableWrapper).remove(),oSettings.aaSorting=[],oSettings.aaSortingFixed=[],_fnSortingClasses(oSettings),$(_fnGetTrNodes(oSettings)).removeClass(oSettings.asStripeClasses.join(" ")),$("th, td",oSettings.nTHead).removeClass([oSettings.oClasses.sSortable,oSettings.oClasses.sSortableAsc,oSettings.oClasses.sSortableDesc,oSettings.oClasses.sSortableNone].join(" ")),oSettings.bJUI&&($("th span."+oSettings.oClasses.sSortIcon+", td span."+oSettings.oClasses.sSortIcon,oSettings.nTHead).remove(),$("th, td",oSettings.nTHead).each(function(){var jqWrapper=$("div."+oSettings.oClasses.sSortJUIWrapper,this),kids=jqWrapper.contents();$(this).append(kids),jqWrapper.remove()})),!bRemove&&oSettings.nTableReinsertBefore?nOrig.insertBefore(oSettings.nTable,oSettings.nTableReinsertBefore):bRemove||nOrig.appendChild(oSettings.nTable),i=0,iLen=oSettings.aoData.length;iLen>i;i++)null!==oSettings.aoData[i].nTr&&nBody.appendChild(oSettings.aoData[i].nTr);if(oSettings.oFeatures.bAutoWidth===!0&&(oSettings.nTable.style.width=_fnStringToCss(oSettings.sDestroyWidth)),iLen=oSettings.asDestroyStripes.length){var anRows=$(nBody).children("tr");for(i=0;iLen>i;i++)anRows.filter(":nth-child("+iLen+"n + "+i+")").addClass(oSettings.asDestroyStripes[i])}for(i=0,iLen=DataTable.settings.length;iLen>i;i++)DataTable.settings[i]==oSettings&&DataTable.settings.splice(i,1);oSettings=null,oInit=null},this.fnDraw=function(bComplete){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);bComplete===!1?(_fnCalculateEnd(oSettings),_fnDraw(oSettings)):_fnReDraw(oSettings)},this.fnFilter=function(sInput,iColumn,bRegex,bSmart,bShowGlobal,bCaseInsensitive){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(oSettings.oFeatures.bFilter)if((bRegex===undefined||null===bRegex)&&(bRegex=!1),(bSmart===undefined||null===bSmart)&&(bSmart=!0),(bShowGlobal===undefined||null===bShowGlobal)&&(bShowGlobal=!0),(bCaseInsensitive===undefined||null===bCaseInsensitive)&&(bCaseInsensitive=!0),iColumn===undefined||null===iColumn){if(_fnFilterComplete(oSettings,{sSearch:sInput+"",bRegex:bRegex,bSmart:bSmart,bCaseInsensitive:bCaseInsensitive},1),bShowGlobal&&oSettings.aanFeatures.f)for(var n=oSettings.aanFeatures.f,i=0,iLen=n.length;iLen>i;i++)try{n[i]._DT_Input!=document.activeElement&&$(n[i]._DT_Input).val(sInput)}catch(e){$(n[i]._DT_Input).val(sInput)}}else $.extend(oSettings.aoPreSearchCols[iColumn],{sSearch:sInput+"",bRegex:bRegex,bSmart:bSmart,bCaseInsensitive:bCaseInsensitive}),_fnFilterComplete(oSettings,oSettings.oPreviousSearch,1)},this.fnGetData=function(mRow,iCol){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(mRow!==undefined){var iRow=mRow;if("object"==typeof mRow){var sNode=mRow.nodeName.toLowerCase();"tr"===sNode?iRow=_fnNodeToDataIndex(oSettings,mRow):"td"===sNode&&(iRow=_fnNodeToDataIndex(oSettings,mRow.parentNode),iCol=_fnNodeToColumnIndex(oSettings,iRow,mRow))}return iCol!==undefined?_fnGetCellData(oSettings,iRow,iCol,""):oSettings.aoData[iRow]!==undefined?oSettings.aoData[iRow]._aData:null}return _fnGetDataMaster(oSettings)},this.fnGetNodes=function(iRow){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);return iRow!==undefined?oSettings.aoData[iRow]!==undefined?oSettings.aoData[iRow].nTr:null:_fnGetTrNodes(oSettings)},this.fnGetPosition=function(nNode){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),sNodeName=nNode.nodeName.toUpperCase();if("TR"==sNodeName)return _fnNodeToDataIndex(oSettings,nNode);if("TD"==sNodeName||"TH"==sNodeName){var iDataIndex=_fnNodeToDataIndex(oSettings,nNode.parentNode),iColumnIndex=_fnNodeToColumnIndex(oSettings,iDataIndex,nNode);return[iDataIndex,_fnColumnIndexToVisible(oSettings,iColumnIndex),iColumnIndex]}return null},this.fnIsOpen=function(nTr){for(var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),i=(oSettings.aoOpenRows,0);i<oSettings.aoOpenRows.length;i++)if(oSettings.aoOpenRows[i].nParent==nTr)return!0;return!1},this.fnOpen=function(nTr,mHtml,sClass){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),nTableRows=_fnGetTrNodes(oSettings);if(-1!==$.inArray(nTr,nTableRows)){this.fnClose(nTr);var nNewRow=document.createElement("tr"),nNewCell=document.createElement("td");nNewRow.appendChild(nNewCell),nNewCell.className=sClass,nNewCell.colSpan=_fnVisbleColumns(oSettings),"string"==typeof mHtml?nNewCell.innerHTML=mHtml:$(nNewCell).html(mHtml);var nTrs=$("tr",oSettings.nTBody);return-1!=$.inArray(nTr,nTrs)&&$(nNewRow).insertAfter(nTr),oSettings.aoOpenRows.push({nTr:nNewRow,nParent:nTr}),nNewRow}},this.fnPageChange=function(mAction,bRedraw){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnPageChange(oSettings,mAction),_fnCalculateEnd(oSettings),(bRedraw===undefined||bRedraw)&&_fnDraw(oSettings)},this.fnSetColumnVis=function(iCol,bShow,bRedraw){var i,iLen,nTd,bAppend,iBefore,oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),aoColumns=oSettings.aoColumns,aoData=oSettings.aoData;if(aoColumns[iCol].bVisible!=bShow){if(bShow){var iInsert=0;for(i=0;iCol>i;i++)aoColumns[i].bVisible&&iInsert++;if(bAppend=iInsert>=_fnVisbleColumns(oSettings),!bAppend)for(i=iCol;i<aoColumns.length;i++)if(aoColumns[i].bVisible){iBefore=i;break}for(i=0,iLen=aoData.length;iLen>i;i++)null!==aoData[i].nTr&&(bAppend?aoData[i].nTr.appendChild(aoData[i]._anHidden[iCol]):aoData[i].nTr.insertBefore(aoData[i]._anHidden[iCol],_fnGetTdNodes(oSettings,i)[iBefore]))}else for(i=0,iLen=aoData.length;iLen>i;i++)null!==aoData[i].nTr&&(nTd=_fnGetTdNodes(oSettings,i)[iCol],aoData[i]._anHidden[iCol]=nTd,nTd.parentNode.removeChild(nTd));for(aoColumns[iCol].bVisible=bShow,_fnDrawHead(oSettings,oSettings.aoHeader),oSettings.nTFoot&&_fnDrawHead(oSettings,oSettings.aoFooter),i=0,iLen=oSettings.aoOpenRows.length;iLen>i;i++)oSettings.aoOpenRows[i].nTr.colSpan=_fnVisbleColumns(oSettings);(bRedraw===undefined||bRedraw)&&(_fnAdjustColumnSizing(oSettings),_fnDraw(oSettings)),_fnSaveState(oSettings)}},this.fnSettings=function(){return _fnSettingsFromNode(this[DataTable.ext.iApiIndex])},this.fnSort=function(aaSort){var oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);oSettings.aaSorting=aaSort,_fnSort(oSettings)},this.fnSortListener=function(nNode,iColumn,fnCallback){_fnSortAttachListener(_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),nNode,iColumn,fnCallback)},this.fnUpdate=function(mData,mRow,iColumn,bRedraw,bAction){var i,sDisplay,oSettings=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),iRow="object"==typeof mRow?_fnNodeToDataIndex(oSettings,mRow):mRow;if($.isArray(mData)&&iColumn===undefined)for(oSettings.aoData[iRow]._aData=mData.slice(),i=0;i<oSettings.aoColumns.length;i++)this.fnUpdate(_fnGetCellData(oSettings,iRow,i),iRow,i,!1,!1);else if($.isPlainObject(mData)&&iColumn===undefined)for(oSettings.aoData[iRow]._aData=$.extend(!0,{},mData),i=0;i<oSettings.aoColumns.length;i++)this.fnUpdate(_fnGetCellData(oSettings,iRow,i),iRow,i,!1,!1);else{_fnSetCellData(oSettings,iRow,iColumn,mData),sDisplay=_fnGetCellData(oSettings,iRow,iColumn,"display");var oCol=oSettings.aoColumns[iColumn];null!==oCol.fnRender&&(sDisplay=_fnRender(oSettings,iRow,iColumn),oCol.bUseRendered&&_fnSetCellData(oSettings,iRow,iColumn,sDisplay)),null!==oSettings.aoData[iRow].nTr&&(_fnGetTdNodes(oSettings,iRow)[iColumn].innerHTML=sDisplay)}var iDisplayIndex=$.inArray(iRow,oSettings.aiDisplay);return oSettings.asDataSearch[iDisplayIndex]=_fnBuildSearchRow(oSettings,_fnGetRowData(oSettings,iRow,"filter",_fnGetColumns(oSettings,"bSearchable"))),(bAction===undefined||bAction)&&_fnAdjustColumnSizing(oSettings),(bRedraw===undefined||bRedraw)&&_fnReDraw(oSettings),0},this.fnVersionCheck=DataTable.ext.fnVersionCheck,this.oApi={_fnExternApiFunc:_fnExternApiFunc,_fnInitialise:_fnInitialise,_fnInitComplete:_fnInitComplete,_fnLanguageCompat:_fnLanguageCompat,_fnAddColumn:_fnAddColumn,_fnColumnOptions:_fnColumnOptions,_fnAddData:_fnAddData,_fnCreateTr:_fnCreateTr,_fnGatherData:_fnGatherData,_fnBuildHead:_fnBuildHead,_fnDrawHead:_fnDrawHead,_fnDraw:_fnDraw,_fnReDraw:_fnReDraw,_fnAjaxUpdate:_fnAjaxUpdate,_fnAjaxParameters:_fnAjaxParameters,_fnAjaxUpdateDraw:_fnAjaxUpdateDraw,_fnServerParams:_fnServerParams,_fnAddOptionsHtml:_fnAddOptionsHtml,_fnFeatureHtmlTable:_fnFeatureHtmlTable,_fnScrollDraw:_fnScrollDraw,_fnAdjustColumnSizing:_fnAdjustColumnSizing,_fnFeatureHtmlFilter:_fnFeatureHtmlFilter,_fnFilterComplete:_fnFilterComplete,_fnFilterCustom:_fnFilterCustom,_fnFilterColumn:_fnFilterColumn,_fnFilter:_fnFilter,_fnBuildSearchArray:_fnBuildSearchArray,_fnBuildSearchRow:_fnBuildSearchRow,_fnFilterCreateSearch:_fnFilterCreateSearch,_fnDataToSearch:_fnDataToSearch,_fnSort:_fnSort,_fnSortAttachListener:_fnSortAttachListener,_fnSortingClasses:_fnSortingClasses,_fnFeatureHtmlPaginate:_fnFeatureHtmlPaginate,_fnPageChange:_fnPageChange,_fnFeatureHtmlInfo:_fnFeatureHtmlInfo,_fnUpdateInfo:_fnUpdateInfo,_fnFeatureHtmlLength:_fnFeatureHtmlLength,_fnFeatureHtmlProcessing:_fnFeatureHtmlProcessing,_fnProcessingDisplay:_fnProcessingDisplay,_fnVisibleToColumnIndex:_fnVisibleToColumnIndex,_fnColumnIndexToVisible:_fnColumnIndexToVisible,_fnNodeToDataIndex:_fnNodeToDataIndex,_fnVisbleColumns:_fnVisbleColumns,_fnCalculateEnd:_fnCalculateEnd,_fnConvertToWidth:_fnConvertToWidth,_fnCalculateColumnWidths:_fnCalculateColumnWidths,_fnScrollingWidthAdjust:_fnScrollingWidthAdjust,_fnGetWidestNode:_fnGetWidestNode,_fnGetMaxLenString:_fnGetMaxLenString,_fnStringToCss:_fnStringToCss,_fnDetectType:_fnDetectType,_fnSettingsFromNode:_fnSettingsFromNode,_fnGetDataMaster:_fnGetDataMaster,_fnGetTrNodes:_fnGetTrNodes,_fnGetTdNodes:_fnGetTdNodes,_fnEscapeRegex:_fnEscapeRegex,_fnDeleteIndex:_fnDeleteIndex,_fnReOrderIndex:_fnReOrderIndex,_fnColumnOrdering:_fnColumnOrdering,_fnLog:_fnLog,_fnClearTable:_fnClearTable,_fnSaveState:_fnSaveState,_fnLoadState:_fnLoadState,_fnCreateCookie:_fnCreateCookie,_fnReadCookie:_fnReadCookie,_fnDetectHeader:_fnDetectHeader,_fnGetUniqueThs:_fnGetUniqueThs,_fnScrollBarWidth:_fnScrollBarWidth,_fnApplyToChildren:_fnApplyToChildren,_fnMap:_fnMap,_fnGetRowData:_fnGetRowData,_fnGetCellData:_fnGetCellData,_fnSetCellData:_fnSetCellData,_fnGetObjectDataFn:_fnGetObjectDataFn,_fnSetObjectDataFn:_fnSetObjectDataFn,_fnApplyColumnDefs:_fnApplyColumnDefs,_fnBindAction:_fnBindAction,_fnExtend:_fnExtend,_fnCallbackReg:_fnCallbackReg,_fnCallbackFire:_fnCallbackFire,_fnJsonString:_fnJsonString,_fnRender:_fnRender,_fnNodeToColumnIndex:_fnNodeToColumnIndex,_fnInfoMacros:_fnInfoMacros,_fnBrowserDetect:_fnBrowserDetect,_fnGetColumns:_fnGetColumns},$.extend(DataTable.ext.oApi,this.oApi);for(var sFunc in DataTable.ext.oApi)sFunc&&(this[sFunc]=_fnExternApiFunc(sFunc));var _that=this;return this.each(function(){var iLen,j,jLen,i=0,sId=this.getAttribute("id"),bInitHandedOff=!1,bUsePassedData=!1;if("table"!=this.nodeName.toLowerCase())return void _fnLog(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);for(i=0,iLen=DataTable.settings.length;iLen>i;i++){if(DataTable.settings[i].nTable==this){if(oInit===undefined||oInit.bRetrieve)return DataTable.settings[i].oInstance;if(oInit.bDestroy){DataTable.settings[i].oInstance.fnDestroy();break}return void _fnLog(DataTable.settings[i],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy")}if(DataTable.settings[i].sTableId==this.id){DataTable.settings.splice(i,1);break}}(null===sId||""===sId)&&(sId="DataTables_Table_"+DataTable.ext._oExternConfig.iNextUnique++,this.id=sId);var oSettings=$.extend(!0,{},DataTable.models.oSettings,{nTable:this,oApi:_that.oApi,oInit:oInit,sDestroyWidth:$(this).width(),sInstance:sId,sTableId:sId});if(DataTable.settings.push(oSettings),oSettings.oInstance=1===_that.length?_that:$(this).dataTable(),oInit||(oInit={}),oInit.oLanguage&&_fnLanguageCompat(oInit.oLanguage),oInit=_fnExtend($.extend(!0,{},DataTable.defaults),oInit),_fnMap(oSettings.oFeatures,oInit,"bPaginate"),_fnMap(oSettings.oFeatures,oInit,"bLengthChange"),_fnMap(oSettings.oFeatures,oInit,"bFilter"),_fnMap(oSettings.oFeatures,oInit,"bSort"),_fnMap(oSettings.oFeatures,oInit,"bInfo"),_fnMap(oSettings.oFeatures,oInit,"bProcessing"),_fnMap(oSettings.oFeatures,oInit,"bAutoWidth"),_fnMap(oSettings.oFeatures,oInit,"bSortClasses"),_fnMap(oSettings.oFeatures,oInit,"bServerSide"),_fnMap(oSettings.oFeatures,oInit,"bDeferRender"),_fnMap(oSettings.oScroll,oInit,"sScrollX","sX"),_fnMap(oSettings.oScroll,oInit,"sScrollXInner","sXInner"),_fnMap(oSettings.oScroll,oInit,"sScrollY","sY"),_fnMap(oSettings.oScroll,oInit,"bScrollCollapse","bCollapse"),_fnMap(oSettings.oScroll,oInit,"bScrollInfinite","bInfinite"),_fnMap(oSettings.oScroll,oInit,"iScrollLoadGap","iLoadGap"),_fnMap(oSettings.oScroll,oInit,"bScrollAutoCss","bAutoCss"),_fnMap(oSettings,oInit,"asStripeClasses"),_fnMap(oSettings,oInit,"asStripClasses","asStripeClasses"),_fnMap(oSettings,oInit,"fnServerData"),_fnMap(oSettings,oInit,"fnFormatNumber"),_fnMap(oSettings,oInit,"sServerMethod"),_fnMap(oSettings,oInit,"aaSorting"),_fnMap(oSettings,oInit,"aaSortingFixed"),_fnMap(oSettings,oInit,"aLengthMenu"),_fnMap(oSettings,oInit,"sPaginationType"),_fnMap(oSettings,oInit,"sAjaxSource"),_fnMap(oSettings,oInit,"sAjaxDataProp"),_fnMap(oSettings,oInit,"iCookieDuration"),_fnMap(oSettings,oInit,"sCookiePrefix"),_fnMap(oSettings,oInit,"sDom"),_fnMap(oSettings,oInit,"bSortCellsTop"),_fnMap(oSettings,oInit,"iTabIndex"),_fnMap(oSettings,oInit,"oSearch","oPreviousSearch"),_fnMap(oSettings,oInit,"aoSearchCols","aoPreSearchCols"),_fnMap(oSettings,oInit,"iDisplayLength","_iDisplayLength"),_fnMap(oSettings,oInit,"bJQueryUI","bJUI"),_fnMap(oSettings,oInit,"fnCookieCallback"),_fnMap(oSettings,oInit,"fnStateLoad"),_fnMap(oSettings,oInit,"fnStateSave"),_fnMap(oSettings.oLanguage,oInit,"fnInfoCallback"),_fnCallbackReg(oSettings,"aoDrawCallback",oInit.fnDrawCallback,"user"),_fnCallbackReg(oSettings,"aoServerParams",oInit.fnServerParams,"user"),_fnCallbackReg(oSettings,"aoStateSaveParams",oInit.fnStateSaveParams,"user"),_fnCallbackReg(oSettings,"aoStateLoadParams",oInit.fnStateLoadParams,"user"),_fnCallbackReg(oSettings,"aoStateLoaded",oInit.fnStateLoaded,"user"),_fnCallbackReg(oSettings,"aoRowCallback",oInit.fnRowCallback,"user"),_fnCallbackReg(oSettings,"aoRowCreatedCallback",oInit.fnCreatedRow,"user"),_fnCallbackReg(oSettings,"aoHeaderCallback",oInit.fnHeaderCallback,"user"),_fnCallbackReg(oSettings,"aoFooterCallback",oInit.fnFooterCallback,"user"),_fnCallbackReg(oSettings,"aoInitComplete",oInit.fnInitComplete,"user"),_fnCallbackReg(oSettings,"aoPreDrawCallback",oInit.fnPreDrawCallback,"user"),oSettings.oFeatures.bServerSide&&oSettings.oFeatures.bSort&&oSettings.oFeatures.bSortClasses?_fnCallbackReg(oSettings,"aoDrawCallback",_fnSortingClasses,"server_side_sort_classes"):oSettings.oFeatures.bDeferRender&&_fnCallbackReg(oSettings,"aoDrawCallback",_fnSortingClasses,"defer_sort_classes"),oInit.bJQueryUI?($.extend(oSettings.oClasses,DataTable.ext.oJUIClasses),oInit.sDom===DataTable.defaults.sDom&&"lfrtip"===DataTable.defaults.sDom&&(oSettings.sDom='<"H"lfr>t<"F"ip>')):$.extend(oSettings.oClasses,DataTable.ext.oStdClasses),$(this).addClass(oSettings.oClasses.sTable),(""!==oSettings.oScroll.sX||""!==oSettings.oScroll.sY)&&(oSettings.oScroll.iBarWidth=_fnScrollBarWidth()),oSettings.iInitDisplayStart===undefined&&(oSettings.iInitDisplayStart=oInit.iDisplayStart,oSettings._iDisplayStart=oInit.iDisplayStart),oInit.bStateSave&&(oSettings.oFeatures.bStateSave=!0,_fnLoadState(oSettings,oInit),_fnCallbackReg(oSettings,"aoDrawCallback",_fnSaveState,"state_save")),null!==oInit.iDeferLoading){oSettings.bDeferLoading=!0;
var tmp=$.isArray(oInit.iDeferLoading);oSettings._iRecordsDisplay=tmp?oInit.iDeferLoading[0]:oInit.iDeferLoading,oSettings._iRecordsTotal=tmp?oInit.iDeferLoading[1]:oInit.iDeferLoading}if(null!==oInit.aaData&&(bUsePassedData=!0),""!==oInit.oLanguage.sUrl?(oSettings.oLanguage.sUrl=oInit.oLanguage.sUrl,$.getJSON(oSettings.oLanguage.sUrl,null,function(json){_fnLanguageCompat(json),$.extend(!0,oSettings.oLanguage,oInit.oLanguage,json),_fnInitialise(oSettings)}),bInitHandedOff=!0):$.extend(!0,oSettings.oLanguage,oInit.oLanguage),null===oInit.asStripeClasses&&(oSettings.asStripeClasses=[oSettings.oClasses.sStripeOdd,oSettings.oClasses.sStripeEven]),iLen=oSettings.asStripeClasses.length,oSettings.asDestroyStripes=[],iLen){var bStripeRemove=!1,anRows=$(this).children("tbody").children("tr:lt("+iLen+")");for(i=0;iLen>i;i++)anRows.hasClass(oSettings.asStripeClasses[i])&&(bStripeRemove=!0,oSettings.asDestroyStripes.push(oSettings.asStripeClasses[i]));bStripeRemove&&anRows.removeClass(oSettings.asStripeClasses.join(" "))}var aoColumnsInit,anThs=[],nThead=this.getElementsByTagName("thead");if(0!==nThead.length&&(_fnDetectHeader(oSettings.aoHeader,nThead[0]),anThs=_fnGetUniqueThs(oSettings)),null===oInit.aoColumns)for(aoColumnsInit=[],i=0,iLen=anThs.length;iLen>i;i++)aoColumnsInit.push(null);else aoColumnsInit=oInit.aoColumns;for(i=0,iLen=aoColumnsInit.length;iLen>i;i++)oInit.saved_aoColumns!==undefined&&oInit.saved_aoColumns.length==iLen&&(null===aoColumnsInit[i]&&(aoColumnsInit[i]={}),aoColumnsInit[i].bVisible=oInit.saved_aoColumns[i].bVisible),_fnAddColumn(oSettings,anThs?anThs[i]:null);for(_fnApplyColumnDefs(oSettings,oInit.aoColumnDefs,aoColumnsInit,function(iCol,oDef){_fnColumnOptions(oSettings,iCol,oDef)}),i=0,iLen=oSettings.aaSorting.length;iLen>i;i++){oSettings.aaSorting[i][0]>=oSettings.aoColumns.length&&(oSettings.aaSorting[i][0]=0);var oColumn=oSettings.aoColumns[oSettings.aaSorting[i][0]];for(oSettings.aaSorting[i][2]===undefined&&(oSettings.aaSorting[i][2]=0),oInit.aaSorting===undefined&&oSettings.saved_aaSorting===undefined&&(oSettings.aaSorting[i][1]=oColumn.asSorting[0]),j=0,jLen=oColumn.asSorting.length;jLen>j;j++)if(oSettings.aaSorting[i][1]==oColumn.asSorting[j]){oSettings.aaSorting[i][2]=j;break}}_fnSortingClasses(oSettings),_fnBrowserDetect(oSettings);var captions=$(this).children("caption").each(function(){this._captionSide=$(this).css("caption-side")}),thead=$(this).children("thead");0===thead.length&&(thead=[document.createElement("thead")],this.appendChild(thead[0])),oSettings.nTHead=thead[0];var tbody=$(this).children("tbody");0===tbody.length&&(tbody=[document.createElement("tbody")],this.appendChild(tbody[0])),oSettings.nTBody=tbody[0],oSettings.nTBody.setAttribute("role","alert"),oSettings.nTBody.setAttribute("aria-live","polite"),oSettings.nTBody.setAttribute("aria-relevant","all");var tfoot=$(this).children("tfoot");if(0===tfoot.length&&captions.length>0&&(""!==oSettings.oScroll.sX||""!==oSettings.oScroll.sY)&&(tfoot=[document.createElement("tfoot")],this.appendChild(tfoot[0])),tfoot.length>0&&(oSettings.nTFoot=tfoot[0],_fnDetectHeader(oSettings.aoFooter,oSettings.nTFoot)),bUsePassedData)for(i=0;i<oInit.aaData.length;i++)_fnAddData(oSettings,oInit.aaData[i]);else _fnGatherData(oSettings);oSettings.aiDisplay=oSettings.aiDisplayMaster.slice(),oSettings.bInitialised=!0,bInitHandedOff===!1&&_fnInitialise(oSettings)}),_that=null,this};DataTable.fnVersionCheck=function(sVersion){for(var fnZPad=function(Zpad,count){for(;Zpad.length<count;)Zpad+="0";return Zpad},aThis=DataTable.ext.sVersion.split("."),aThat=sVersion.split("."),sThis="",sThat="",i=0,iLen=aThat.length;iLen>i;i++)sThis+=fnZPad(aThis[i],3),sThat+=fnZPad(aThat[i],3);return parseInt(sThis,10)>=parseInt(sThat,10)},DataTable.fnIsDataTable=function(nTable){for(var o=DataTable.settings,i=0;i<o.length;i++)if(o[i].nTable===nTable||o[i].nScrollHead===nTable||o[i].nScrollFoot===nTable)return!0;return!1},DataTable.fnTables=function(bVisible){var out=[];return jQuery.each(DataTable.settings,function(i,o){(!bVisible||bVisible===!0&&$(o.nTable).is(":visible"))&&out.push(o.nTable)}),out},DataTable.version="1.9.4",DataTable.settings=[],DataTable.models={},DataTable.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:DataTable.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:DataTable.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}},DataTable.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},DataTable.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""},DataTable.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},DataTable.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(iIn){if(1e3>iIn)return iIn;for(var s=iIn+"",a=s.split(""),out="",iLen=s.length,i=0;iLen>i;i++)i%3===0&&0!==i&&(out=this.oLanguage.sInfoThousands+out),out=a[iLen-i-1]+out;return out},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(sUrl,aoData,fnCallback,oSettings){oSettings.jqXHR=$.ajax({url:sUrl,data:aoData,success:function(json){json.sError&&oSettings.oApi._fnLog(oSettings,0,json.sError),$(oSettings.oInstance).trigger("xhr",[oSettings,json]),fnCallback(json)},dataType:"json",cache:!1,type:oSettings.sServerMethod,error:function(xhr,error){"parsererror"==error&&oSettings.oApi._fnLog(oSettings,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(oSettings){var sData=this.oApi._fnReadCookie(oSettings.sCookiePrefix+oSettings.sInstance),oData;try{oData="function"==typeof $.parseJSON?$.parseJSON(sData):eval("("+sData+")")}catch(e){oData=null}return oData},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(oSettings,oData){this.oApi._fnCreateCookie(oSettings.sCookiePrefix+oSettings.sInstance,this.oApi._fnJsonString(oData),oSettings.iCookieDuration,oSettings.sCookiePrefix,oSettings.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:$.extend({},DataTable.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"},DataTable.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},DataTable.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?this.oFeatures.bPaginate===!1||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null},DataTable.ext=$.extend(!0,{},DataTable.models.ext),$.extend(DataTable.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""}),$.extend(DataTable.ext.oJUIClasses,DataTable.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}),$.extend(DataTable.ext.oPagination,{two_button:{fnInit:function(oSettings,nPaging,fnCallbackDraw){var oLang=oSettings.oLanguage.oPaginate,fnClickHandler=(oSettings.oClasses,function(e){oSettings.oApi._fnPageChange(oSettings,e.data.action)&&fnCallbackDraw(oSettings)}),sAppend=oSettings.bJUI?'<a class="'+oSettings.oClasses.sPagePrevDisabled+'" tabindex="'+oSettings.iTabIndex+'" role="button"><span class="'+oSettings.oClasses.sPageJUIPrev+'"></span></a><a class="'+oSettings.oClasses.sPageNextDisabled+'" tabindex="'+oSettings.iTabIndex+'" role="button"><span class="'+oSettings.oClasses.sPageJUINext+'"></span></a>':'<a class="'+oSettings.oClasses.sPagePrevDisabled+'" tabindex="'+oSettings.iTabIndex+'" role="button">'+oLang.sPrevious+'</a><a class="'+oSettings.oClasses.sPageNextDisabled+'" tabindex="'+oSettings.iTabIndex+'" role="button">'+oLang.sNext+"</a>";$(nPaging).append(sAppend);var els=$("a",nPaging),nPrevious=els[0],nNext=els[1];oSettings.oApi._fnBindAction(nPrevious,{action:"previous"},fnClickHandler),oSettings.oApi._fnBindAction(nNext,{action:"next"},fnClickHandler),oSettings.aanFeatures.p||(nPaging.id=oSettings.sTableId+"_paginate",nPrevious.id=oSettings.sTableId+"_previous",nNext.id=oSettings.sTableId+"_next",nPrevious.setAttribute("aria-controls",oSettings.sTableId),nNext.setAttribute("aria-controls",oSettings.sTableId))},fnUpdate:function(oSettings){if(oSettings.aanFeatures.p)for(var nNode,oClasses=oSettings.oClasses,an=oSettings.aanFeatures.p,i=0,iLen=an.length;iLen>i;i++)nNode=an[i].firstChild,nNode&&(nNode.className=0===oSettings._iDisplayStart?oClasses.sPagePrevDisabled:oClasses.sPagePrevEnabled,nNode=nNode.nextSibling,nNode.className=oSettings.fnDisplayEnd()==oSettings.fnRecordsDisplay()?oClasses.sPageNextDisabled:oClasses.sPageNextEnabled)}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(oSettings,nPaging,fnCallbackDraw){var oLang=oSettings.oLanguage.oPaginate,oClasses=oSettings.oClasses,fnClickHandler=function(e){oSettings.oApi._fnPageChange(oSettings,e.data.action)&&fnCallbackDraw(oSettings)};$(nPaging).append('<a  tabindex="'+oSettings.iTabIndex+'" class="'+oClasses.sPageButton+" "+oClasses.sPageFirst+'">'+oLang.sFirst+'</a><a  tabindex="'+oSettings.iTabIndex+'" class="'+oClasses.sPageButton+" "+oClasses.sPagePrevious+'">'+oLang.sPrevious+'</a><span></span><a tabindex="'+oSettings.iTabIndex+'" class="'+oClasses.sPageButton+" "+oClasses.sPageNext+'">'+oLang.sNext+'</a><a tabindex="'+oSettings.iTabIndex+'" class="'+oClasses.sPageButton+" "+oClasses.sPageLast+'">'+oLang.sLast+"</a>");var els=$("a",nPaging),nFirst=els[0],nPrev=els[1],nNext=els[2],nLast=els[3];oSettings.oApi._fnBindAction(nFirst,{action:"first"},fnClickHandler),oSettings.oApi._fnBindAction(nPrev,{action:"previous"},fnClickHandler),oSettings.oApi._fnBindAction(nNext,{action:"next"},fnClickHandler),oSettings.oApi._fnBindAction(nLast,{action:"last"},fnClickHandler),oSettings.aanFeatures.p||(nPaging.id=oSettings.sTableId+"_paginate",nFirst.id=oSettings.sTableId+"_first",nPrev.id=oSettings.sTableId+"_previous",nNext.id=oSettings.sTableId+"_next",nLast.id=oSettings.sTableId+"_last")},fnUpdate:function(oSettings,fnCallbackDraw){if(oSettings.aanFeatures.p){var iStartButton,iEndButton,i,iLen,anButtons,anStatic,nNode,iPageCount=DataTable.ext.oPagination.iFullNumbersShowPages,iPageCountHalf=Math.floor(iPageCount/2),iPages=Math.ceil(oSettings.fnRecordsDisplay()/oSettings._iDisplayLength),iCurrentPage=Math.ceil(oSettings._iDisplayStart/oSettings._iDisplayLength)+1,sList="",oClasses=oSettings.oClasses,an=oSettings.aanFeatures.p,fnBind=function(j){oSettings.oApi._fnBindAction(this,{page:j+iStartButton-1},function(e){oSettings.oApi._fnPageChange(oSettings,e.data.page),fnCallbackDraw(oSettings),e.preventDefault()})};for(-1===oSettings._iDisplayLength?(iStartButton=1,iEndButton=1,iCurrentPage=1):iPageCount>iPages?(iStartButton=1,iEndButton=iPages):iPageCountHalf>=iCurrentPage?(iStartButton=1,iEndButton=iPageCount):iCurrentPage>=iPages-iPageCountHalf?(iStartButton=iPages-iPageCount+1,iEndButton=iPages):(iStartButton=iCurrentPage-Math.ceil(iPageCount/2)+1,iEndButton=iStartButton+iPageCount-1),i=iStartButton;iEndButton>=i;i++)sList+=iCurrentPage!==i?'<a tabindex="'+oSettings.iTabIndex+'" class="'+oClasses.sPageButton+'">'+oSettings.fnFormatNumber(i)+"</a>":'<a tabindex="'+oSettings.iTabIndex+'" class="'+oClasses.sPageButtonActive+'">'+oSettings.fnFormatNumber(i)+"</a>";for(i=0,iLen=an.length;iLen>i;i++)nNode=an[i],nNode.hasChildNodes()&&($("span:eq(0)",nNode).html(sList).children("a").each(fnBind),anButtons=nNode.getElementsByTagName("a"),anStatic=[anButtons[0],anButtons[1],anButtons[anButtons.length-2],anButtons[anButtons.length-1]],$(anStatic).removeClass(oClasses.sPageButton+" "+oClasses.sPageButtonActive+" "+oClasses.sPageButtonStaticDisabled),$([anStatic[0],anStatic[1]]).addClass(1==iCurrentPage?oClasses.sPageButtonStaticDisabled:oClasses.sPageButton),$([anStatic[2],anStatic[3]]).addClass(0===iPages||iCurrentPage===iPages||-1===oSettings._iDisplayLength?oClasses.sPageButtonStaticDisabled:oClasses.sPageButton))}}}}),$.extend(DataTable.ext.oSort,{"string-pre":function(a){return"string"!=typeof a&&(a=null!==a&&a.toString?a.toString():""),a.toLowerCase()},"string-asc":function(x,y){return y>x?-1:x>y?1:0},"string-desc":function(x,y){return y>x?1:x>y?-1:0},"html-pre":function(a){return a.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(x,y){return y>x?-1:x>y?1:0},"html-desc":function(x,y){return y>x?1:x>y?-1:0},"date-pre":function(a){var x=Date.parse(a);return(isNaN(x)||""===x)&&(x=Date.parse("01/01/1970 00:00:00")),x},"date-asc":function(x,y){return x-y},"date-desc":function(x,y){return y-x},"numeric-pre":function(a){return"-"==a||""===a?0:1*a},"numeric-asc":function(x,y){return x-y},"numeric-desc":function(x,y){return y-x}}),$.extend(DataTable.ext.aTypes,[function(sData){if("number"==typeof sData)return"numeric";if("string"!=typeof sData)return null;var Char,sValidFirstChars="0123456789-",sValidChars="0123456789.",bDecimal=!1;if(Char=sData.charAt(0),-1==sValidFirstChars.indexOf(Char))return null;for(var i=1;i<sData.length;i++){if(Char=sData.charAt(i),-1==sValidChars.indexOf(Char))return null;if("."==Char){if(bDecimal)return null;bDecimal=!0}}return"numeric"},function(sData){var iParse=Date.parse(sData);return null!==iParse&&!isNaN(iParse)||"string"==typeof sData&&0===sData.length?"date":null},function(sData){return"string"==typeof sData&&-1!=sData.indexOf("<")&&-1!=sData.indexOf(">")?"html":null}]),$.fn.DataTable=DataTable,$.fn.dataTable=DataTable,$.fn.dataTableSettings=DataTable.settings,$.fn.dataTableExt=DataTable.ext})}(window,document),function(){"Alchemy.js is a graph drawing application for the web.\nCopyright (C) 2014  GraphAlchemist, Inc.\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU Affero General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Affero General Public License for more details.\n\nYou should have received a copy of the GNU Affero General Public License\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\nlets";var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}},d=[].slice;a=function(){function a(){this.allEdges=c(this.allEdges,this),this.allNodes=c(this.allNodes,this),this.getEdges=c(this.getEdges,this),this.getNodes=c(this.getNodes,this),this.begin=c(this.begin,this),this.setState=c(this.setState,this),this.getState=c(this.getState,this),this.version="0.2.1",this.layout={},this.interactions={},this.utils={},this.visControls={},this.styles={},this.models={},this.drawing={},this.editor={},this.log={},this.state={interactions:"default",layout:"default",filters:{edges:{},nodes:{}}}}return a.prototype.getState=function(){return null!=this.state.key?this.state.key:void 0},a.prototype.setState=function(a,b){return this.state.key=b},a.prototype.begin=function(a){return this.conf=_.assign({},alchemy.defaults,a),"string"==typeof alchemy.conf.dataSource?d3.json(alchemy.conf.dataSource,alchemy.startGraph):"object"==typeof alchemy.conf.dataSource?alchemy.startGraph(alchemy.conf.dataSource):void 0},a.prototype.getNodes=function(){var a,b,c,e,f,g,h;if(a=arguments[0],b=2<=arguments.length?d.call(arguments,1):[]){for(b.push(a),e=_.union(b),f=[],g=0,h=e.length;h>g;g++)c=e[g],f.push(alchemy._nodes[c].properties);return f}return[this._nodes[a].properties]},a.prototype.getEdges=function(a,b){var c,d,e;return null==a&&(a=null),null==b&&(b=null),null!=a&&null!=b?(d=""+a+"-"+b,c=this._edges[d],[c.properties]):null!=a&&null==b?(e=_.map(this._edges,function(b){return b.properties.source===a||b.properties.target===a?b.properties:void 0}),_.compact(e)):void 0},a.prototype.allNodes=function(){return _.map(this._nodes,function(a){return a.properties})},a.prototype.allEdges=function(){return _.map(this._edges,function(a){return a.properties})},a}(),b={},"undefined"!=typeof module&&module.exports?module.exports=new a:this.alchemy=new a}.call(this),function(){alchemy.clustering=function(){function a(){var a,b,c,d,e,f;a=alchemy._nodes,this.clusterKey=alchemy.conf.clusterKey,this.identifyClusters(),b=-500,f=function(b){return a[b.source.id].properties[this.clusterKey]===a[b.target.id].properties[this.clusterKey]?1:1},c=function(){return.7},e=function(b){return a=alchemy._nodes,a[b.source.id].properties.root||a[b.target.id].properties.root?300:a[b.source.id].properties[this.clusterKey]===a[b.target.id].properties[this.clusterKey]?10:600},d=function(a){return 8*a},this.layout={charge:b,linkStrength:function(a){return f(a)},friction:function(){return c()},linkDistancefn:function(a){return e(a)},gravity:function(a){return d(a)}}}return a.prototype.identifyClusters=function(){var a,b,c;return b=alchemy._nodes,a=_.uniq(_.map(_.values(b),function(a){return a.properties[""+alchemy.conf.clusterKey]})),this.clusterMap=_.zipObject(a,function(){c=[];for(var b=0,d=a.length;d>=0?d>=b:b>=d;d>=0?b++:b--)c.push(b);return c}.apply(this))},a.prototype.getClusterColour=function(a){var b;return b=this.clusterMap[a]%alchemy.conf.clusterColours.length,alchemy.conf.clusterColours[b]},a.prototype.edgeGradient=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;for(c=d3.select(""+alchemy.conf.divSelector+" svg"),b={},j=alchemy._nodes,n=_.map(a,function(a){return a._d3}),l=0,m=n.length;m>l;l++)if(d=n[l],!j[d.source.id].properties.root&&!j[d.target.id].properties.root&&j[d.source.id].properties[this.clusterKey]!==j[d.target.id].properties[this.clusterKey]&&j[d.target.id].properties[this.clusterKey]!==j[d.source.id].properties[this.clusterKey]){if(h=j[d.source.id].properties[this.clusterKey]+"-"+j[d.target.id].properties[this.clusterKey],h in b)continue;h in b||(k=this.getClusterColour(j[d.target.id].properties[this.clusterKey]),e=this.getClusterColour(j[d.source.id].properties[this.clusterKey]),b[h]={startColour:k,endColour:e})}o=[];for(i in b)g="cluster-gradient-"+i,f=c.append("svg:linearGradient").attr("id",g),f.append("svg:stop").attr("offset","0%").attr("stop-color",b[i].startColour),o.push(f.append("svg:stop").attr("offset","100%").attr("stop-color",b[i].endColour));return o},a}(),alchemy.clusterControls={init:function(){var a;return a="<input class='form-control form-inline' id='cluster-key' placeholder=\"Cluster Key\"></input>",d3.select("#clustering-container").append("div").attr("id","cluster-key-container").attr("class","property form-inline form-group").html(a).style("display","none"),d3.select("#cluster_control_header").on("click",function(){var a,b;return b=d3.select("#cluster-key-container"),a=b.style("display"),b.style("display",function(){return"block"===a?"none":"block"}),"none"===d3.select("#cluster-key-container").style("display")?d3.select("#cluster-arrow").attr("class","fa fa-2x fa-caret-right"):d3.select("#cluster-arrow").attr("class","fa fa-2x fa-caret-down")}),d3.select("#cluster-key").on("keydown",function(){return"Enter"===d3.event.keyIdentifier?(alchemy.conf.cluster=!0,alchemy.conf.clusterKey=this.value,alchemy.generateLayout()):void 0})}}}.call(this),function(){alchemy.controlDash={init:function(){var a;return this.dashIsShown()?(a=alchemy.conf.divSelector,d3.select(""+a).append("div").attr("id","control-dash-wrapper").attr("class","col-md-4 initial"),d3.select("#control-dash-wrapper").append("i").attr("id","dash-toggle").attr("class","fa fa-flask col-md-offset-12"),d3.select("#control-dash-wrapper").append("div").attr("id","control-dash").attr("class","col-md-12"),d3.select("#dash-toggle").on("click",alchemy.interactions.toggleControlDash),alchemy.controlDash.zoomCtrl(),alchemy.controlDash.search(),alchemy.controlDash.filters(),alchemy.controlDash.stats(),alchemy.controlDash.clustering()):void 0},search:function(){return alchemy.conf.search?(d3.select("#control-dash").append("div").attr("id","search").html("<div class='input-group'>\n    <input class='form-control' placeholder='Search'>\n    <i class='input-group-addon search-icon'><span class='fa fa-search fa-1x'></span></i>\n</div> "),alchemy.search.init()):void 0},zoomCtrl:function(){return alchemy.conf.zoomControls?(d3.select("#control-dash-wrapper").append("div").attr("id","zoom-controls").attr("class","col-md-offset-12").html("<button id='zoom-reset'  class='btn btn-defualt btn-primary'><i class='fa fa-crosshairs fa-lg'></i></button> <button id='zoom-in'  class='btn btn-defualt btn-primary'><i class='fa fa-plus'></i></button> <button id='zoom-out' class='btn btn-default btn-primary'><i class='fa fa-minus'></i></button>"),d3.select("#zoom-in").on("click",function(){return alchemy.interactions.clickZoom("in")}),d3.select("#zoom-out").on("click",function(){return alchemy.interactions.clickZoom("out")}),d3.select("#zoom-reset").on("click",function(){return alchemy.interactions.clickZoom("reset")})):void 0},filters:function(){return alchemy.conf.nodeFilters||alchemy.conf.edgeFilters?(d3.select("#control-dash").append("div").attr("id","filters"),alchemy.filters.init()):void 0},stats:function(){var a;return alchemy.conf.nodeStats||alchemy.conf.edgeStats?(a='<div id = "stats-header" data-toggle="collapse" data-target="#stats #all-stats">\n<h3>\n    Statistics\n</h3>\n<span class = "fa fa-caret-right fa-2x"></span>\n</div>\n<div id="all-stats" class="collapse">\n    <ul class = "list-group" id="node-stats"></ul>\n    <ul class = "list-group" id="rel-stats"></ul>  \n</div>',d3.select("#control-dash").append("div").attr("id","stats").html(a).select("#stats-header").on("click",function(){return d3.select("#all-stats").classed("in")?d3.select("#stats-header>span").attr("class","fa fa-2x fa-caret-right"):d3.select("#stats-header>span").attr("class","fa fa-2x fa-caret-down")}),alchemy.stats.init()):void 0},clustering:function(){var a;return alchemy.conf.clusterControl?(a='<div id="clustering-container">\n    <div id="cluster_control_header" data-toggle="collapse" data-target="#clustering #cluster-options">\n         <h3>Clustering</h3>\n        <span id="cluster-arrow" class="fa fa-2x fa-caret-right"></span>\n    </div>\n</div>',d3.select("#control-dash").append("div").attr("id","clustering").html(a).select("#cluster_control_header"),alchemy.clusterControls.init()):void 0},dashIsShown:function(){var a;return a=alchemy.conf,a.showEditor||a.captionToggle||a.toggleRootNodes||a.removeElement||a.clusterControl||a.nodeStats||a.edgeStats||a.edgeFilters||a.nodeFilters||a.edgesToggle||a.nodesToggle||a.search}}}.call(this),function(){alchemy.filters={init:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;if(alchemy.filters.show(),alchemy.conf.edgeFilters&&alchemy.filters.showEdgeFilters(),alchemy.conf.nodeFilters&&alchemy.filters.showNodeFilters(),alchemy.conf.nodeTypes){for(e=Object.keys(alchemy.conf.nodeTypes),g="",n=alchemy.conf.nodeTypes[e],h=0,k=n.length;k>h;h++)f=n[h],alchemy.state.filters.nodes[""+f]={active:!0},a=f.replace("_"," "),g+="<li class = 'list-group-item nodeType' role = 'menuitem' id='li-"+f+"' name = "+f+">"+a+"</li>";$("#node-dropdown").append(g)}if(alchemy.conf.edgeTypes){for(o=d3.selectAll(".edge")[0],i=0,l=o.length;l>i;i++)b=o[i],currentRelationshipTypes[[b].caption]=!0;for(d="",p=alchemy.conf.edgeTypes,j=0,m=p.length;m>j;j++)c=p[j],alchemy.state.filters.edges[""+c]={active:!0},a=c.replace("_"," "),d+="<li class = 'list-group-item edgeType' role = 'menuitem' id='li-"+c+"' name = "+c+">"+a+"</li>";$("#rel-dropdown").append(d)}return alchemy.conf.captionsToggle&&alchemy.filters.captionsToggle(),alchemy.conf.edgesToggle&&alchemy.filters.edgesToggle(),alchemy.conf.nodesToggle&&alchemy.filters.nodesToggle(),alchemy.filters.update()},show:function(){var a;return a='<div id = "filter-header" data-toggle="collapse" data-target="#filters form">\n    <h3>Filters</h3>\n    <span class = "fa fa-2x fa-caret-right"></span>\n</div>\n    <form class="form-inline collapse">\n    </form>',d3.select("#control-dash #filters").html(a),d3.selectAll("#filter-header").on("click",function(){return d3.select("#filters>form").classed("in")?d3.select("#filter-header>span").attr("class","fa fa-2x fa-caret-right"):d3.select("#filter-header>span").attr("class","fa fa-2x fa-caret-down")}),$("#filters form").submit(!1)},showEdgeFilters:function(){var a;return a='<div id="filter-relationships">\n     <div id="filter-rel-header" data-target = "#rel-dropdown" data-toggle="collapse">\n         <h4>\n             Edge Types\n         </h4>\n         <span class="fa fa-lg fa-caret-right"></span>\n     </div>\n     <ul id="rel-dropdown" class="collapse list-group" role="menu">\n     </ul>\n</div>\n',$("#filters form").append(a),d3.select("#filter-rel-header").on("click",function(){return d3.select("#rel-dropdown").classed("in")?d3.select("#filter-rel-header>span").attr("class","fa fa-lg fa-caret-right"):d3.select("#filter-rel-header>span").attr("class","fa fa-lg fa-caret-down")})},showNodeFilters:function(){var a;return a=' <div id="filter-nodes">\n     <div id="filter-node-header" data-target = "#node-dropdown" data-toggle="collapse">\n         <h4>\n             Node Types\n         </h4>\n         <span class="fa fa-lg fa-caret-right"></span>\n     </div>\n     <ul id="node-dropdown" class="collapse list-group" role="menu">\n     </ul>\n</div>',$("#filters form").append(a),d3.select("#filter-node-header").on("click",function(){return d3.select("#node-dropdown").classed("in")?d3.select("#filter-node-header>span").attr("class","fa fa-lg fa-caret-right"):d3.select("#filter-node-header>span").attr("class","fa fa-lg fa-caret-down")
})},captionsToggle:function(){return d3.select("#filters form").append("li").attr({id:"toggle-captions","class":"list-group-item active-label toggle"}).html("Show Captions").on("click",function(){var a;return a=d3.select("g text").attr("style"),"display: block"===a?d3.selectAll("g text").attr("style","display: none"):d3.selectAll("g text").attr("style","display: block")})},edgesToggle:function(){return d3.select("#filters form").append("li").attr({id:"toggle-edges","class":"list-group-item active-label toggle"}).html("Toggle Edges").on("click",function(){return 0===d3.selectAll(".edge.hidden")[0].length?d3.selectAll(".edge").classed("hidden",!0):d3.selectAll(".edge").classed("hidden",!1)})},nodesToggle:function(){return d3.select("#filters form").append("li").attr({id:"toggle-nodes","class":"list-group-item active-label toggle"}).html("Toggle Nodes").on("click",function(){var a;return a=alchemy.conf.toggleRootNodes?".node,.edge":".node:not(.root),.edge",0===d3.selectAll(".node.hidden")[0].length?d3.selectAll(a).classed("hidden",!0):d3.selectAll(a).classed("hidden",!1)})},update:function(){var a,b;return a=function(a){var b,c,d;return d=a.attr("name"),c=!a.classed("disabled"),b=a.classed("nodeType")?"nodes":"edges",[d,b,c]},b=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;if("object"!=typeof a){if(g=d3.selectAll("."+a),g.classed({inactive:c,highlight:d}),"nodes"===b)for(m=g.data(),i=0,k=m.length;k>i;i++)for(h=m[i],n=alchemy._nodes[h.id].adjacentEdges,j=0,l=n.length;l>j;j++)e=n[j],f=alchemy._edges[e],f.allNodesActive()||(c=!0),d3.select("[source-target='"+e+"']").classed({inactive:c,highlight:d});return"edges"===b&&g.classed({inactive:function(a){var b;return b=alchemy._edges[a.id].allNodesActive(),c||!b}}),alchemy.stats.update()}},d3.selectAll(".nodeType, .edgeType").on("mouseenter",function(){var b,c,d,e,f;return b=d3.select(this),f=a(b),e=f[0],c=f[1],d=f[2],d3.selectAll("."+e).classed("highlight",!0)}).on("mouseleave",function(){var b,c,d,e,f;return b=d3.select(this),f=a(b),e=f[0],c=f[1],d=f[2],d3.selectAll("."+e).classed("highlight",!1)}).on("click",function(){var c,d,e,f,g,h;return c=d3.select(this),h=a(c),g=h[0],d=h[1],f=h[2],e=!1,c.classed({disabled:f}),b(g,d,f,e)})}}}.call(this),function(){alchemy.interactions={edgeClick:function(a){var b;return b=alchemy.vis,b.selectAll(".edge").classed({highlight:!1}),d3.select("[source-target='"+a.id+"']").classed({highlight:!0,selected:!0}),d3.event.stopPropagation(),"function"==typeof(null!=alchemy.conf.edgeClick)?alchemy.conf.edgeClick():void 0},nodeMouseOver:function(a){var b;return null==alchemy.conf.nodeMouseOver?null:(b=alchemy._nodes[a.id],"function"==typeof alchemy.conf.nodeMouseOver?alchemy.conf.nodeMouseOver(b):"number"==typeof alchemy.conf.nodeMouseOver?b.properties[alchemy.conf.nodeMouseOver]:void 0)},nodeMouseOut:function(a){return null!=alchemy.conf.nodeMouseOut&&"function"==typeof alchemy.conf.nodeMouseOut?alchemy.conf.nodeMouseOut(a):null},nodeMouseUp:function(){},nodeDoubleClick:function(a){var b,c,d;if(d3.event.stopPropagation(),alchemy.conf.extraDataSource&&!a.expanded&&!alchemy.conf.unexpandable.indexOf(a.type===!1)){$('<div id="loading-spi"></div>nner').show(),console.log("loading more data for "+a.id),a.expanded=!0,d3.json(alchemy.conf.extraDataSource+a.id,loadMoreNodes),c=findAllEdges(a),d=[];for(b in edges)d.push(edges[b].distance*=2);return d}},nodeClick:function(a){var b;d3.event.stopPropagation(),alchemy.vis.select("#node-"+a.id).empty()||(b=alchemy.vis.select("#node-"+a.id).classed("selected"),alchemy.vis.select("#node-"+a.id).classed("selected",!b)),"function"==typeof alchemy.conf.nodeClick&&alchemy.conf.nodeClick(a)},zoom:function(a){return null==this._zoomBehavior&&(this._zoomBehavior=d3.behavior.zoom()),this._zoomBehavior.scaleExtent(a).on("zoom",function(){return alchemy.vis.attr("transform","translate("+d3.event.translate+") scale("+d3.event.scale+")")})},clickZoom:function(a){var b,c,d,e;return e=alchemy.vis.attr("transform").match(/(-*\d+\.*\d*)/g).map(function(a){return parseFloat(a)}),c=e[0],d=e[1],b=e[2],alchemy.vis.attr("transform",function(){return"in"===a?(b<alchemy.conf.scaleExtent[1]&&(b+=.2),"translate("+c+","+d+") scale("+b+")"):"out"===a?(b>alchemy.conf.scaleExtent[0]&&(b-=.2),"translate("+c+","+d+") scale("+b+")"):"reset"===a?"translate(0,0) scale(1)":console.log("error")}),null==this._zoomBehavior&&(this._zoomBehavior=d3.behavior.zoom()),this._zoomBehavior.scale(b).translate([c,d])},toggleControlDash:function(){var a;return a=d3.select("#control-dash-wrapper").classed("off-canvas")||d3.select("#control-dash-wrapper").classed("initial"),d3.select("#control-dash-wrapper").classed({"off-canvas":!a,initial:!1,"on-canvas":a})},nodeDragStarted:function(a){return d3.event.sourceEvent.stopPropagation(),d3.select(this).classed("dragging",!0),a.fixed=!0},nodeDragged:function(a){var b,c,d,e,f,g,h,i;for(a.x+=d3.event.dx,a.y+=d3.event.dy,a.px+=d3.event.dx,a.py+=d3.event.dy,e=d3.select(this),e.attr("transform","translate("+a.x+", "+a.y+")"),c=alchemy._nodes[e.datum().id].adjacentEdges,b=new alchemy.drawing.DrawEdges,i=[],g=0,h=c.length;h>g;g++)d=c[g],f=d3.select("g.edge[source-target='"+d+"']"),i.push(b.updateEdge(f));return i},nodeDragended:function(){return d3.select(this).classed({dragging:!1}),alchemy.conf.forceLocked?void 0:alchemy.force.start()},deselectAll:function(){var a;return(null!=(a=d3.event)?a.defaultPrevented:0)?void 0:(alchemy.vis.selectAll(".node, .edge").classed("selected highlight",!1),d3.select(".alchemy svg").classed({"highlight-active":!1}),alchemy.conf.showEditor===!0&&alchemy.modifyElements.nodeEditorClear(),alchemy.vis.selectAll("line.edge").classed("highlighted connected unconnected",!1),alchemy.vis.selectAll("g.node,circle,text").classed("selected unselected neighbor unconnected connecting",!1),alchemy.conf.deselectAll?alchemy.conf.deselectAll():void 0)}}}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};alchemy.Layout=function(){function b(){this.linkDistancefn=a(this.linkDistancefn,this),this.tick=a(this.tick,this),this.collide=a(this.collide,this),this.linkStrength=a(this.linkStrength,this),this.gravity=a(this.gravity,this);var b,c;b=alchemy.conf,c=alchemy._nodes,this.k=Math.sqrt(Math.log(_.size(alchemy._nodes))/(b.graphWidth()*b.graphHeight())),this._clustering=new alchemy.clustering,this.d3NodeInternals=_.keys(alchemy._nodes),b.cluster?(this._charge=function(){return this._clustering.layout.charge},this._linkStrength=function(a){return this._clustering.layout.linkStrength(a)}):(this._charge=function(){return-10/this.k},this._linkStrength=function(a){return c[a.source.id].properties.root||c[a.target.id].properties.root?1:.9}),b.cluster?this._linkDistancefn=function(a){return this._clustering.layout.linkDistancefn(a)}:"default"===b.linkDistancefn?this._linkDistancefn=function(){return 1/(50*this.k)}:"number"==typeof b.linkDistancefn?this._linkDistancefn=function(){return b.linkDistancefn}:"function"==typeof b.linkDistancefn&&(this._linkDistancefn=function(a){return b.linkDistancefn(a)})}return b.prototype.gravity=function(){return alchemy.conf.cluster?this._clustering.layout.gravity(this.k):50*this.k},b.prototype.linkStrength=function(a){return this._linkStrength(a)},b.prototype.friction=function(){return alchemy.conf.cluster?.7:.9},b.prototype.collide=function(a){var b,c,d,e,f,g;return a=a._d3,b=alchemy.conf,g=2*(a.r+a["stroke-width"])+b.nodeOverlap,c=a.x-g,d=a.x+g,e=a.y-g,f=a.y+g,function(b,h,i,j,k){var l,m,n;return b.point&&b.point!==a&&(m=a.x-Math.abs(b.point.x),n=a.y-b.point.y,l=Math.sqrt(m*m+n*n),g=g,g>l&&(l=(l-g)/l*alchemy.conf.alpha,a.x-=m*=l,a.y-=n*=l,b.point.x+=m,b.point.y+=n)),h>d||c>j||i>f||e>k}},b.prototype.tick=function(){var a,b,c,d,e;if(alchemy.conf.collisionDetection)for(b=d3.geom.quadtree(this.d3NodeInternals),e=_.values(alchemy._nodes),c=0,d=e.length;d>c;c++)a=e[c],b.visit(this.collide(a));return alchemy.node.attr("transform",function(a){return"translate("+a.x+","+a.y+")"}),null==this.drawEdge&&(this.drawEdge=new alchemy.drawing.DrawEdge),this.drawEdge.styleText(alchemy.edge),this.drawEdge.styleLink(alchemy.edge)},b.prototype.positionRootNodes=function(){var a,b,c,d,e,f,g,h,i,j;if(a=alchemy.conf,b={width:a.graphWidth(),height:a.graphHeight()},e=_.filter(alchemy._nodes,function(a){return a.properties.root}),1!==e.length){for(d=0,j=[],f=0,g=e.length;g>f;f++)c=e[f],d++,c._d3.x=b.width/Math.sqrt(e.length*d),c._d3.y=b.height/2,j.push(c._d3.fixed=!0);return j}c=e[0],h=[b.width/2,b.width/2],c._d3.x=h[0],c._d3.px=h[1],i=[b.height/2,b.height/2],c._d3.y=i[0],c._d3.py=i[1],c._d3.fixed=!0},b.prototype.chargeDistance=function(){return 500},b.prototype.linkDistancefn=function(a){return this._linkDistancefn(a)},b.prototype.charge=function(){return this._charge()},b}(),alchemy.generateLayout=function(a){var b;return null==a&&(a=!1),b=alchemy.conf,alchemy.layout=new alchemy.Layout,alchemy.force=d3.layout.force().size([b.graphWidth(),b.graphHeight()]).nodes(_.map(alchemy._nodes,function(a){return a._d3})).links(_.map(alchemy._edges,function(a){return a._d3})),alchemy.force.charge(alchemy.layout.charge()).linkDistance(function(a){return alchemy.layout.linkDistancefn(a)}).theta(1).gravity(alchemy.layout.gravity()).linkStrength(function(a){return alchemy.layout.linkStrength(a)}).friction(alchemy.layout.friction()).chargeDistance(alchemy.layout.chargeDistance()),alchemy.updateGraph()}}.call(this),function(){}.call(this),function(){alchemy.search={init:function(){var a;return a=d3.select("#search input"),a.on("keyup",function(){var b;return b=a[0][0].value.toLowerCase(),d3.selectAll(".node").classed("inactive",!1),d3.selectAll("text").attr("style",function(){return""!==b?"display: inline;":void 0}),d3.selectAll(".node").classed("inactive",function(a){var c,d;return c=d3.select(this),"contains"===alchemy.conf.searchMethod&&(d=c.text().toLowerCase().indexOf(b)<0),"begins"===alchemy.conf.searchMethod&&(d=0!==c.text().toLowerCase().indexOf(b)),d?d3.selectAll("[source-target*='"+a.id+"']").classed("inactive",d):d3.selectAll("[source-target*='"+a.id+"']").classed("inactive",function(a){var b,c,d;return b=[a.source.id,a.target.id],c=d3.select("#node-"+b[0]).classed("inactive"),d=d3.select("#node-"+b[1]).classed("inactive"),d||c}),d})})}}}.call(this),function(){alchemy.startGraph=function(a){var b,c,d,e,f,g;return c=alchemy.conf,d3.select(c.divSelector).empty()&&console.warn(alchemy.utils.warnings.divWarning()),a||alchemy.utils.warnings.dataWarning(),alchemy._nodes={},alchemy._edges={},a.nodes.forEach(function(a){return alchemy._nodes[a.id]=new alchemy.models.Node(a)}),a.edges.forEach(function(a){var b;return b=new alchemy.models.Edge(a),alchemy._edges[b.id]=b}),alchemy.vis=d3.select(c.divSelector).attr("style","width:"+c.graphWidth()+"px; height:"+c.graphHeight()+"px").append("svg").attr("xmlns","http://www.w3.org/2000/svg").attr("pointer-events","all").on("dblclick.zoom",null).on("click",alchemy.interactions.deselectAll).call(alchemy.interactions.zoom(c.scaleExtent)).append("g").attr("transform","translate("+c.initialTranslate+") scale("+c.initialScale+")"),f=new alchemy.editor.Interactions,d3.select("body").on("keydown",f.deleteSelected),alchemy.generateLayout(),alchemy.controlDash.init(),c.forceLocked||alchemy.force.on("tick",alchemy.layout.tick).start(),null!=c.afterLoad&&("function"==typeof c.afterLoad?c.afterLoad():"string"==typeof c.afterLoad&&(alchemy[c.afterLoad]=!0)),c.initialScale!==alchemy.defaults.initialScale?void alchemy.interactions.zoom().scale(c.initialScale):c.initialTranslate!==alchemy.defaults.initialTranslate?void alchemy.interactions.zoom().translate(c.initialTranslate):((c.cluster||c.directedEdges)&&(d=d3.select(""+alchemy.conf.divSelector+" svg").append("svg:defs")),c.directedEdges&&(b=c.edgeArrowSize+2*c.edgeWidth(),g=d.append("svg:marker").attr("id","arrow").attr("viewBox","0 -"+.4*b+" "+b+" "+b).attr("markerUnits","userSpaceOnUse").attr("markerWidth",b).attr("markerHeight",b).attr("orient","auto"),g.append("svg:path").attr("d","M "+b+",0 L 0,"+.4*b+" L 0,-"+.4*b),c.curvedEdges?g.attr("refX",b+1):g.attr("refX",1)),c.showEditor?(e=new alchemy.editor.Editor,e.startEditor()):void 0)}}.call(this),function(){alchemy.stats={init:function(){return alchemy.stats.update()},nodeStats:function(){var a,b,c,d,e,f,g,h,i,j,k,l;if(g="",f=d3.selectAll(".node")[0].length,a=d3.selectAll(".node.active")[0].length,c=d3.selectAll(".node.inactive")[0].length,g+="<li class = 'list-group-item gen_node_stat'>Number of nodes: <span class='badge'>"+f+"</span></li>",g+="<li class = 'list-group-item gen_node_stat'>Number of active nodes: <span class='badge'>"+a+"</span></li>",g+="<li class = 'list-group-item gen_node_stat'>Number of inactive nodes: <span class='badge'>"+c+"</span></li>",alchemy.conf.nodeTypes){for(e=Object.keys(alchemy.conf.nodeTypes),i="",l=alchemy.conf.nodeTypes[e],j=0,k=l.length;k>j;j++)h=l[j],b=h.replace("_"," "),f=d3.selectAll("g.node."+h)[0].length,i+="<li class = 'list-group-item nodeType' id='li-"+h+"' name = "+b+">Number of nodes of type "+b+": <span class='badge'>"+f+"</span></li>";g+=i}return d="<li id='node-stats-graph' class='list-group-item'></li>",g+=d,$("#node-stats").html(g)},edgeStats:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n;if(d=null,f=d3.selectAll(".edge")[0].length,a=d3.selectAll(".edge.active")[0].length,h=d3.selectAll(".edge.inactive")[0].length,e="<li class = 'list-group-item gen_edge_stat'>Number of relationships: <span class='badge'>"+f+"</span></li> <li class = 'list-group-item gen_edge_stat'>Number of active relationships: <span class='badge'>"+a+"</span></li> <li class = 'list-group-item gen_edge_stat'>Number of inactive relationships: <span class='badge'>"+h+"</span></li> <li id='edge-stats-graph' class='list-group-item'></li>",alchemy.conf.edgeTypes){for(d=[],m=d3.selectAll(".edge")[0],i=0,k=m.length;k>i;i++)c=m[i],currentRelationshipTypes[[c].caption]=!0;for(n=alchemy.conf.edgeTypes,j=0,l=n.length;l>j;j++)g=n[j],g&&(b=g.replace("_"," "),f=d3.selectAll(".edge."+g)[0].length,d.push([""+b,f]))}return $("#rel-stats").html(e),alchemy.stats.insertSVG("edge",d),d},nodeStats:function(){var a,b,c,d,e,f,g,h,i,j,k;if(c=null,h=d3.selectAll(".node")[0].length,a=d3.selectAll(".node.active")[0].length,b=d3.selectAll(".node.inactive")[0].length,alchemy.conf.nodeTypes)for(c=[],e=Object.keys(alchemy.conf.nodeTypes),k=alchemy.conf.nodeTypes[e],i=0,j=k.length;j>i;i++)g=k[i],f=d3.selectAll("g.node."+g)[0].length,c.push([""+g,f]);return d="<li class = 'list-group-item gen_node_stat'>Number of nodes: <span class='badge'>"+h+"</span></li> <li class = 'list-group-item gen_node_stat'>Number of active nodes: <span class='badge'>"+a+"</span></li> <li class = 'list-group-item gen_node_stat'>Number of inactive nodes: <span class='badge'>"+b+"</span></li> <li id='node-stats-graph' class='list-group-item'></li>",$("#node-stats").html(d),alchemy.stats.insertSVG("node",c),c},insertSVG:function(a,b){var c,d,e,f,g,h,i,j;return null===b?d3.select("#"+a+"-stats-graph").html("<br><h4 class='no-data'>There are no "+a+"Types listed in your conf.</h4>"):(j=.25*alchemy.conf.graphWidth(),f=250,h=j/4,e=d3.scale.category20(),c=d3.svg.arc().outerRadius(h-10).innerRadius(h/2),g=d3.layout.pie().sort(null).value(function(a){return a[1]}),i=d3.select("#"+a+"-stats-graph").append("svg").append("g").style({width:j,height:f}).attr("transform","translate("+j/2+","+f/2+")"),d=i.selectAll(".arc").data(g(b)).enter().append("g").classed("arc",!0).on("mouseover",function(a,c){return d3.select("#"+b[c][0]+"-stat").classed("hidden",!1)}).on("mouseout",function(a,c){return d3.select("#"+b[c][0]+"-stat").classed("hidden",!0)}),d.append("path").attr("d",c).attr("stroke",function(a,b){return e(b)}).attr("stroke-width",2).attr("fill-opacity","0.3"),d.append("text").attr("transform",function(a){return"translate("+c.centroid(a)+")"}).attr("id",function(a,c){return""+b[c][0]+"-stat"}).attr("dy",".35em").classed("hidden",!0).text(function(a,c){return b[c][0]}))},update:function(){return alchemy.conf.nodeStats===!0&&alchemy.stats.nodeStats(),alchemy.conf.edgeStats===!0?alchemy.stats.edgeStats():void 0}}}.call(this),function(){alchemy.updateGraph=function(a){var b,c,d;if(null==a&&(a=!0),alchemy.edge=alchemy.vis.selectAll("g.edge").data(_.map(alchemy._edges,function(a){return a._d3}),function(a){return a.id}),alchemy.node=alchemy.vis.selectAll("g.node").data(_.map(alchemy._nodes,function(a){return a._d3}),function(a){return a.id}),a){for(alchemy.layout.positionRootNodes(),this.force.start();this.force.alpha()>.005;)alchemy.force.tick();b=new alchemy.drawing.DrawEdges,b.createEdge(alchemy.edge),c=new alchemy.drawing.DrawNodes,c.createNode(alchemy.node),d=!0,console.log(Date()+" completed initial computation")}return alchemy.vis.selectAll("g.node").attr("transform",function(a){return"translate("+a.x+", "+a.y+")"}),alchemy.node.exit().remove()}}.call(this),function(){alchemy.defaults={graphWidth:function(){return d3.select(this.divSelector).node().parentElement.clientWidth},graphHeight:function(){return"BODY"===d3.select(this.divSelector).node().parentElement.nodeName?window.innerHeight:d3.select(this.divSelector).node().parentElement.clientHeight},alpha:.5,collisionDetection:!0,nodeOverlap:25,fixNodes:!1,fixRootNodes:!1,forceLocked:!0,linkDistancefn:"default",nodePositions:null,showEditor:!1,captionToggle:!1,toggleRootNodes:!1,removeElement:!1,cluster:!1,clusterKey:"cluster",clusterColours:d3.shuffle(["#DD79FF","#FFFC00","#00FF30","#5168FF","#00C0FF","#FF004B","#00CDCD","#f83f00","#f800df","#ff8d8f","#ffcd00","#184fff","#ff7e00"]),clusterControl:!0,nodeStats:!1,edgeStats:!1,edgeFilters:!0,nodeFilters:!0,edgesToggle:!1,nodesToggle:!1,zoomControls:!1,nodeCaption:"caption",nodeStyle:{},nodeColour:null,nodeMouseOver:"caption",nodeRadius:10,nodeTypes:null,rootNodes:"root",rootNodeRadius:15,edgeCaption:"caption",edgeClick:"default",edgeStyle:function(){return null},edgeTypes:null,curvedEdges:!1,edgeWidth:function(){return 4},edgeOverlayWidth:20,directedEdges:!1,edgeArrowSize:5,search:!1,searchMethod:"contains",afterLoad:"afterLoad",divSelector:"#alchemy",dataSource:null,initialScale:1,initialTranslate:[0,0],scaleExtent:[.5,2.4],dataWarning:"default",warningMessage:"There be no data!  What's going on?"}}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};alchemy.drawing.DrawEdge=function(){function b(){this.setInteractions=a(this.setInteractions,this),this.styleText=a(this.styleText,this),this.classEdge=a(this.classEdge,this),this.styleLink=a(this.styleLink,this),this.createLink=a(this.createLink,this);var b;b=alchemy.conf,this.curved=b.curvedEdges,this.directed=b.directedEdges,this.utils=new alchemy.drawing.EdgeUtils}return b.prototype.createLink=function(a){var b,c,d;return b=alchemy.conf,c=alchemy.interactions,d=this.utils,this.curved?(a.append("path").attr("class","edge-line").attr("id",function(a){return"path-"+a.id}),a.filter(function(a){return null!=a.caption}).append("text"),a.append("path").attr("class","edge-handler").style("stroke-width",""+b.edgeOverlayWidth)):(a.append("line").attr("class","edge-line").attr("shape-rendering","optimizeSpeed").style("stroke",function(a){return d.edgeStyle(a)}).style("stroke-width",function(a){var b;return b=alchemy._edges[a.id].properties,alchemy.conf.edgeWidth(b)}),a.filter(function(a){return null!=a.caption}).append("text"),a.append("rect").attr("class","edge-handler"))},b.prototype.styleLink=function(a){var b,c;return b=alchemy.conf,c=this.utils,this.curved?(a.selectAll("path").attr("d",function(a){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;return d=c.edgeAngle(a),n=Math.abs(d)>90?-1:1,m=function(a){return 0!==a?0>a?-1:1:0}(d),q=c.startLine(a),i=c.endLine(a),o=q.x,p=q.y,r=i.x,s=i.y,g=r-o,h=s-p,j=Math.sqrt(g*g+h*h),k=(g*alchemy.conf.nodeRadius+2)/j,l=(h*alchemy.conf.nodeRadius+2)/j,e=-m*b.edgeArrowSize+k,f=n*b.edgeArrowSize+l,"M "+(o-k)+","+(p-l)+" A "+j+", "+j+" "+c.edgeAngle(a)+" 0, 1 "+(r-e)+", "+(s-f)}),a.select("path.edge-line").style("stroke",function(a){return c.edgeStyle(a)})):(a.select(".edge-line").each(function(a){var b,d;return d=c.startLine(a),b=c.endLine(a),d3.select(this).attr({x1:d.x,y1:d.y,x2:b.x,y2:b.y})}),a.select(".edge-handler").attr("x",0).attr("y",-b.edgeOverlayWidth/2).attr("height",b.edgeOverlayWidth).attr("width",function(a){return c.edgeLength(a)}).attr("transform",function(a){return"translate("+a.source.x+", "+a.source.y+") rotate("+c.edgeAngle(a)+")"})),this.directed?a.select(".edge-line").attr("marker-end","url(#arrow)"):void 0},b.prototype.classEdge=function(a){return a.classed("active",!0)},b.prototype.styleText=function(a){var b;return b=this.utils,this.curved?a.select("text").attr("dx",function(a){return b.middlePath(a).x}).attr("dy",function(a){return b.middlePath(a).y+20}).attr("transform",function(a){return"rotate("+b.captionAngle(a)+" "+b.middlePath(a).x+" "+b.middlePath(a).y+")"}).text(function(a){return a.caption}):a.select("text").attr("dx",function(a){return b.middleLine(a).x}).attr("dy",function(a){return b.middleLine(a).y-5}).attr("transform",function(a){return"rotate("+b.captionAngle(a)+" "+b.middleLine(a).x+" "+b.middleLine(a).y+")"}).text(function(a){return a.caption})},b.prototype.setInteractions=function(a){var b,c;return b="editor"===alchemy.getState("interactions"),b?(c=new alchemy.editor.Interactions,a.select(".edge-handler").on("click",c.edgeClick)):a.select(".edge-handler").on("click",alchemy.interactions.edgeClick)},b}()}.call(this),function(){alchemy.drawing.DrawEdges=function(){function a(){this.utils=new alchemy.drawing.EdgeUtils,this.drawEdge=new alchemy.drawing.DrawEdge(this.utils)}return a.prototype.createEdge=function(a){return a.enter().append("g").attr("id",function(a){return"edge-"+a.id}).attr("class",function(a){var b;return b=alchemy._edges[a.id].properties.caption,"edge "+b}).attr("source-target",function(a){return""+a.source.id+"-"+a.target.id}),this.drawEdge.createLink(a),this.drawEdge.classEdge(a),this.drawEdge.styleLink(a),this.drawEdge.styleText(a),this.drawEdge.setInteractions(a),a.exit().remove()},a.prototype.updateEdge=function(a){return this.drawEdge.classEdge(a),this.drawEdge.styleLink(a),this.drawEdge.styleText(a),this.drawEdge.setInteractions(a)},a}()}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};alchemy.drawing.DrawNode=function(){function b(){this.styleNode=a(this.styleNode,this),this.setInteractions=a(this.setInteractions,this),this.createNode=a(this.createNode,this),this.styleText=a(this.styleText,this);var b,c,d,e;c=alchemy.interactions,b=alchemy.conf,d=alchemy._nodes,c=alchemy.interactions,this.utils=new alchemy.drawing.NodeUtils,e=this.utils,this._styleText=function(a){return a.selectAll("text").attr("dy",function(a){return d[a.id].properties.root?b.rootNodeRadius/2:2*b.nodeRadius-5}).html(function(a){return e.nodeText(a)})},this._createNode=function(a){return a.append("circle").attr("id",function(a){return"circle-"+a.id}),a.append("svg:text").attr("id",function(a){return"text-"+a.id})},this._styleNode=function(a){return a.select("circle").attr("r",function(a){return a.r}).attr("shape-rendering","optimizeSpeed").attr("style",function(a){return e.nodeStyle(a)})},this._setInteractions=function(a){var c,d,e,f,g,h;return e="editor"===alchemy.getState("interactions"),c=alchemy.interactions,d=d3.behavior.drag().origin(Object).on("dragstart",null).on("drag",null).on("dragend",null),e?(f=new alchemy.editor.Interactions,a.on("mouseup",f.nodeMouseUp).on("mouseover",f.nodeMouseOver).on("mouseout",f.nodeMouseOut).on("dblclick",c.nodeDoubleClick).on("click",f.nodeClick)):(a.on("mouseup",null).on("mouseover",c.nodeMouseOver).on("mouseout",c.nodeMouseOut).on("dblclick",c.nodeDoubleClick).on("click",c.nodeClick),d=d3.behavior.drag().origin(Object).on("dragstart",c.nodeDragStarted).on("drag",c.nodeDragged).on("dragend",c.nodeDragended),b.fixNodes||(g=a.filter(function(a){return a.root!==!0}),g.call(d)),b.fixRootNodes?void 0:(h=a.filter(function(a){return a.root===!0}),h.call(d)))}}return b.prototype.styleText=function(a){return this._styleText(a)},b.prototype.createNode=function(a){return this._createNode(a)},b.prototype.setInteractions=function(a){return this._setInteractions(a)},b.prototype.styleNode=function(a){return this._styleNode(a)},b}()}.call(this),function(){alchemy.drawing.DrawNodes=function(){function a(){this.drawNode=new alchemy.drawing.DrawNode}return a.prototype.createNode=function(a){return a.enter().append("g").attr("class",function(a){var b;return b=alchemy._nodes[a.id].getProperties(),null!=a.nodeType?"node "+a.nodeType+" active":"node active"}).attr("id",function(a){return"node-"+a.id}).classed("root",function(a){return a.root}),this.drawNode.createNode(a),this.drawNode.styleNode(a),this.drawNode.styleText(a),this.drawNode.setInteractions(a),a.exit().remove()},a.prototype.updateNode=function(a){return this.drawNode.styleNode(a),this.drawNode.styleText(a),this.drawNode.setInteractions(a)},a}()}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};alchemy.drawing.EdgeUtils=function(){function b(){this.captionAngle=a(this.captionAngle,this);var b,c,d,e,f,g,h;d=alchemy.conf,g=alchemy._nodes,e=alchemy._edges,alchemy.conf.cluster?(c=alchemy.layout._clustering,this.edgeStyle=function(a){var b,d,e,f;return b=alchemy.conf.clusterKey,g[a.source.id].properties.root||g[a.target.id].properties.root?(f=g[a.source.id].properties.root?g[a.target.id].properties[b]:g[a.source.id].properties[b],""+c.getClusterColour(f)):g[a.source.id].properties[b]===g[a.target.id].properties[b]?(f=g[a.source.id].properties[b],""+c.getClusterColour(f)):g[a.source.id].properties[b]!==g[a.target.id].properties[b]?(e=""+g[a.source.id].properties[b]+"-"+g[a.target.id].properties[b],d="cluster-gradient-"+e,"url(#"+d+")"):void 0}):this.edgeStyle=null==alchemy.conf.edgeStyle||alchemy.conf.cluster?function(){return""}:function(a){return""+alchemy.conf.edgeStyle(a)},h=function(a){return a*a},f=function(a){var b,c;return c=a.target.x-a.source.x,b=a.target.y-a.source.y,Math.sqrt(b*b+c*c)},this._edgeWalk=function(a,b){var c,e,g;return g=a.target.x-a.source.x,e=a.target.y-a.source.y,f=Math.sqrt(e*e+g*g),"middle"===b?(c=f/2,{x:a.source.x+g*c/f,y:a.source.y+e*c/f}):"linkStart"===b?(c=a.source.r+a.source["stroke-width"],{x:a.source.x+g*c/f,y:a.source.y+e*c/f}):"linkEnd"===b?(c=d.curvedEdges?f:f-(a.target.r+a.target["stroke-width"]),d.directedEdges&&(c-=d.edgeArrowSize),{x:a.source.x+g*c/f,y:a.source.y+e*c/f}):void 0},b=alchemy.conf.edgeCaption,"string"==typeof b?this.edgeCaption=function(a){return e[a.id].properties[b]}:"function"==typeof b&&(this.edgeCaption=function(a){return b(e[a.id])})}return b.prototype.middleLine=function(a){return this._edgeWalk(a,"middle")},b.prototype.startLine=function(a){return this._edgeWalk(a,"linkStart")},b.prototype.endLine=function(a){return this._edgeWalk(a,"linkEnd")},b.prototype.edgeLength=function(a){var b,c,d;return d=a.target.x-a.source.x,b=a.target.y-a.source.y,c=Math.sqrt(b*b+d*d)},b.prototype.edgeAngle=function(a){var b,c;return c=a.target.x-a.source.x,b=a.target.y-a.source.y,Math.atan2(b,c)/Math.PI*180},b.prototype.captionAngle=function(a){var b;return b=this.edgeAngle(a),-90>b||b>90?b+=180:b},b.prototype.hyp=function(a){return hyp(a)},b.prototype.middlePath=function(a){var b,c;return c=d3.select("#path-"+a.id).node(),b=c.getPointAtLength(c.getTotalLength()/2),{x:b.x,y:b.y}},b}()}.call(this),function(){alchemy.drawing.NodeUtils=function(){function a(){var a,b;b=alchemy._nodes,a=alchemy.conf,this.nodeColours=a.cluster?function(b){var c,d,e,f,g;return g=alchemy._nodes[b.id].properties,d=alchemy.layout._clustering.clusterMap,c=alchemy.conf.clusterKey,f=d[g[c]]%a.clusterColours.length,e=a.clusterColours[f],""+e}:function(){var b;return a.nodeColour?b=a.nodeColour:""}}return a.prototype.nodeStyle=function(a){var b,c;return b=this.nodeColours(a),c="editor"===alchemy.getState("interactions")?"#E82C0C":b,"fill: "+b+"; stroke: "+b+"; stroke-width: "+a["stroke-width"]+";"},a.prototype.nodeText=function(a){var b,c;return c=alchemy._nodes[a.id],alchemy.conf.nodeCaption&&"string"==typeof alchemy.conf.nodeCaption?null!=c.properties[alchemy.conf.nodeCaption]?c.properties[alchemy.conf.nodeCaption]:"":alchemy.conf.nodeCaption&&"function"==typeof alchemy.conf.nodeCaption?(b=alchemy.conf.nodeCaption(c),(void 0===b||"undefined"===String(b))&&(alchemy.log.caption="At least one caption returned undefined",alchemy.conf.caption=!1),b):void 0},a}()}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};alchemy.editor.Editor=function(){function b(){this.nodeEditor=a(this.nodeEditor,this),this.startEditor=a(this.startEditor,this),this.utils=new alchemy.editor.Utils}return b.prototype.editorContainerHTML='<div id="editor-header" data-toggle="collapse" data-target="#editor #element-options">\n    <h3>Editor</h3><span class="fa fa-2x fa-caret-right"></span>\n</div>\n<div id="element-options" class="collapse">\n    <ul class="list-group"> \n        <li class="list-group-item" id="remove">Remove Selected</li> \n        <li class="list-group-item" id="editor-interactions">Editor mode enabled, click to disable editor interactions</li>\n    </ul>\n</div>',b.prototype.elementEditorHTML=function(a){return"<h4>"+a+' Editor</h4>\n<form id="add-property-form">\n    <div id="add-property">\n        <input class="form-control" id="add-prop-key" placeholder="New Property Name">\n        <input class="form-control" id="add-prop-value" placeholder="New Property Value">\n    </div>\n    <input id="add-prop-submit" type="submit" value="Add Property" placeholder="add a property to this node">\n</form>\n<form id="properties-list">\n    <input id="update-properties" type="submit" value="Update Properties">\n</form>'},b.prototype.startEditor=function(){var a,b,c,d,e;return a=alchemy.conf.divSelector,d=this.editorContainerHTML,b=d3.select(""+a+" #control-dash").append("div").attr("id","editor").html(d),b.select("#editor-header").on("click",function(){return d3.select("#element-options").classed("in")?d3.select("#editor-header>span").attr("class","fa fa-2x fa-caret-right"):d3.select("#editor-header>span").attr("class","fa fa-2x fa-caret-down")}),c=b.select("#element-options ul #editor-interactions").on("click",function(){return d3.select(this).attr("class",function(){return"editor"===alchemy.getState()?(alchemy.setState("interactions","default"),"inactive list-group-item"):(alchemy.setState("interactions","editor"),"active list-group-item")}).html(function(){return"editor"===alchemy.getState()?"Disable Editor Interactions":"Enable Editor Interactions"})}),b.select("#element-options ul #remove").on("click",function(){return alchemy.editor.remove()}),e=this.utils,c.on("click",function(){return d3.select("#editor-interactions").classed("active")?(e.disableEditor(),d3.select("#editor-interactions").classed({active:!1,inactive:!0}).html("Editor mode disabled, click to enable editor interactions")):(e.enableEditor(),d3.select("#editor-interactions").classed({active:!0,inactive:!1}).html("Editor mode enabled, click to disable editor interactions"))})},b.prototype.nodeEditor=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;c=alchemy.conf.divSelector,d=d3.select(""+c+" #control-dash-wrapper #control-dash #editor"),i=d.select("#element-options"),f=this.elementEditorHTML("Node"),e=i.append("div").attr("id","node-editor").html(f),e.attr("class",function(){return d3.select("#editor-interactions").classed("active")?"enabled":"hidden"}),b=d.select("#node-editor form #add-property"),b.select("#node-add-prop-key").attr("placeholder","New Property Name").attr("value",null),b.select("#node-add-prop-value").attr("placeholder","New Property Value").attr("value",null),d3.select("#add-property-form").on("submit",function(){var a,b;return event.preventDefault(),a=d3.select("#add-prop-key").property("value"),a=a.replace(/\s/g,"_"),b=d3.select("#add-prop-value").property("value"),l(a,b,!0),d3.selectAll("#add-property .edited-property").classed({"edited-property":!1}),this.reset()
}),g=alchemy._nodes[a.id].getProperties(),d3.select("#node-"+a.id).classed({editing:!0}),k=d.select("#node-editor #properties-list");for(j in g)m=g[j],h=k.append("div").attr("id","node-"+j).attr("class","property form-inline form-group"),h.append("label").attr("for","node-"+j+"-input").attr("class","form-control property-name").text(""+j),h.append("input").attr("id","node-"+j+"-input").attr("class","form-control property-value").attr("value",""+m);return d3.select("#properties-list").on("submit",function(){var a,b,c,d,e,f,g;for(event.preventDefault(),b=d3.selectAll(".edited-property"),g=b[0],e=0,f=g.length;f>e;e++)j=g[e],c=d3.select(j),a=c.select("label").text(),d=c.select("input").attr("value"),l(a,d,!1);return d3.selectAll("#node-properties-list .edited-property").classed({"edited-property":!1}),this.reset()}),d3.selectAll("#add-prop-key, #add-prop-value, .property").on("keydown",function(){return 13===d3.event.keyCode&&event.preventDefault(),d3.select(this).classed({"edited-property":!0})}),l=function(b,c,d){var e,f;return f=a.id,""!==b&&""!==c?(alchemy._nodes[f].setProperty(""+b,""+c),e=new alchemy.drawing.DrawNodes,e.updateNode(d3.select("#node-"+f)),d===!0?(d3.select("#node-add-prop-key").attr("value","property added/updated to key: "+b),d3.select("#node-add-prop-value").attr("value","property at "+b+" updated to: "+c)):d3.select("#node-"+b+"-input").attr("value","property at "+b+" updated to: "+c)):d===!0?(d3.select("#node-add-prop-key").attr("value","null or invalid input"),d3.select("#node-add-prop-value").attr("value","null or invlid input")):d3.select("#node-"+b+"-input").attr("value","null or invalid input")}},b.prototype.editorClear=function(){return d3.selectAll(".node").classed({editing:!1}),d3.selectAll(".edge").classed({editing:!1}),d3.select("#node-editor").remove(),d3.select("#edge-editor").remove(),d3.select("#node-add-prop-submit").attr("placeholder",function(){return d3.selectAll(".selected").empty()?"select a node or edge to edit properties":"add a property to this element"})},b.prototype.edgeEditor=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;c=alchemy.conf.divSelector,f=d3.select(""+c+" #control-dash-wrapper #control-dash #editor"),i=f.select("#element-options"),h=this.elementEditorHTML("Edge"),g=i.append("div").attr("id","edge-editor").html(h),g.attr("class",function(){return d3.select("#editor-interactions").classed("active")?"enabled":"hidden"}),b=f.select("#edge-editor form #add-property"),b.select("#add-prop-key").attr("placeholder","New Property Name").attr("value",null),b.select("#add-prop-value").attr("placeholder","New Property Value").attr("value",null),d=alchemy._edges[a.id].getProperties(),d3.select("#edge-"+a.id).classed({editing:!0}),k=f.select("#edge-editor #properties-list");for(j in d)m=d[j],e=k.append("div").attr("id","edge-"+j).attr("class","property form-inline form-group"),e.append("label").attr("for","edge-"+j+"-input").attr("class","form-control property-name").text(""+j),e.append("input").attr("id","edge-"+j+"-input").attr("class","form-control property-value").attr("value",""+m);return d3.selectAll("#add-prop-key, #add-prop-value, .property").on("keydown",function(){return 13===d3.event.keyCode&&event.preventDefault(),d3.select(this).classed({"edited-property":!0})}),d3.select("#add-property-form").on("submit",function(){var a,b;return event.preventDefault(),a=d3.select("#add-prop-key").property("value"),a=a.replace(/\s/g,"_"),b=d3.select("#add-prop-value").property("value"),l(a,b,!0),d3.selectAll("#add-property .edited-property").classed({"edited-property":!1}),this.reset()}),d3.select("#properties-list").on("submit",function(){var a,b,c,d,e,f,g;for(event.preventDefault(),b=d3.selectAll(".edited-property"),g=b[0],e=0,f=g.length;f>e;e++)j=g[e],c=d3.select(j),a=c.select("label").text(),d=c.select("input").property("value"),l(a,d,!1);return d3.selectAll("#properties-list .edited-property").classed({"edited-property":!1}),this.reset()}),l=function(b,c,d){var e,f,g;return f=a.id,""!==b&&""!==c?(alchemy._edges[f].setProperty(""+b,""+c),g=d3.select("#edge-"+f),e=new alchemy.drawing.DrawEdges,e.updateEdge(d3.select("#edge-"+f)),d===!0?(d3.select("#add-prop-key").attr("value","property added/updated to key: "+b),d3.select("#add-prop-value").attr("value","property at "+b+" updated to: "+c)):d3.select("#edge-"+b+"-input").attr("value","property at "+b+" updated to: "+c)):d===!0?(d3.select("#add-prop-key").attr("value","null or invalid input"),d3.select("#add-prop-value").attr("value","null or invlid input")):d3.select("#edge-"+b+"-input").attr("value","null or invalid input")}},b}()}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};alchemy.editor.Interactions=function(){function b(){this.reset=a(this.reset,this),this.deleteSelected=a(this.deleteSelected,this),this.addNodeDragended=a(this.addNodeDragended,this),this.addNodeDragging=a(this.addNodeDragging,this),this.addNodeStart=a(this.addNodeStart,this),this.edgeClick=a(this.edgeClick,this),this.nodeClick=a(this.nodeClick,this),this.nodeMouseUp=a(this.nodeMouseUp,this),this.editor=new alchemy.editor.Editor}return b.prototype.nodeMouseOver=function(){var a;return d3.select(this).select("circle").empty()||(a=d3.select(this).select("circle").attr("r"),d3.select(this).select("circle").attr("r",3*a)),this},b.prototype.nodeMouseUp=function(a){return this.sourceNode!==a?(this.mouseUpNode=!0,this.targetNode=a,this.click=!1):this.click=!0,this},b.prototype.nodeMouseOut=function(){var a;return d3.select(this).select("circle").empty()||(a=d3.select(this).select("circle").attr("r"),d3.select(this).select("circle").attr("r",a/3)),this},b.prototype.nodeClick=function(a){var b;return d3.event.stopPropagation(),alchemy.vis.select("#node-"+a.id).empty()||(b=alchemy.vis.select("#node-"+a.id).classed("selected"),alchemy.vis.select("#node-"+a.id).classed("selected",!b)),this.editor.editorClear(),this.editor.nodeEditor(a)},b.prototype.edgeClick=function(a){return d3.event.stopPropagation(),this.editor.editorClear(),this.editor.edgeEditor(a)},b.prototype.addNodeStart=function(a){return d3.event.sourceEvent.stopPropagation(),this.sourceNode=a,d3.select("#dragline").classed({hidden:!1}),this},b.prototype.addNodeDragging=function(){var a,b;return a=d3.event.x,b=d3.event.y,d3.select("#dragline").attr("x1",this.sourceNode.x).attr("y1",this.sourceNode.y).attr("x2",a).attr("y2",b).attr("style","stroke: #FFF"),this},b.prototype.addNodeDragended=function(){var a,b,c;return this.click||(this.mouseUpNode||(a=d3.select("#dragline"),b=a.attr("x2"),c=a.attr("y2"),this.targetNode={id:""+_.uniqueId("addedNode_"),x:parseFloat(b),y:parseFloat(c),caption:"node added"}),this.newEdge={id:""+this.sourceNode.id+"-"+this.targetNode.id,source:this.sourceNode.id,target:this.targetNode.id,caption:"edited"},alchemy.editor.update(this.targetNode,this.newEdge)),this.reset(),this},b.prototype.deleteSelected=function(){switch(d3.event.keyCode){case 8:case 46:if("INPUT"!==d3.select(d3.event.target).node().tagName)return d3.event.preventDefault(),alchemy.editor.remove()}},b.prototype.reset=function(){return this.mouseUpNode=null,this.sourceNode=null,this.targetNode=null,this.newEdge=null,this.click=null,d3.select("#dragline").classed({hidden:!0}).attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0),this},b}()}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};alchemy.editor.Utils=function(){function b(){this.enableEditor=a(this.enableEditor,this),this.drawNodes=new alchemy.drawing.DrawNodes,this.drawEdges=new alchemy.drawing.DrawEdges}return b.prototype.enableEditor=function(){var a,b,c;return alchemy.setState("interactions","editor"),a=alchemy.vis.append("line").attr("id","dragline"),this.drawNodes.updateNode(alchemy.node),this.drawEdges.updateEdge(alchemy.edge),c=d3.selectAll(".selected"),b=new alchemy.editor.Editor,c.empty()||1!==c.length?c.classed({selected:!1}):c.classed("node")?(b.nodeEditor(c.datum()),d3.select("#node-editor").attr("class","enabled").style("opacity",1)):c.classed("edge")?(b.edgeEditor(c.datum()),d3.select("#edge-editor").attr("class","enabled").style("opacity",1)):void 0},b.prototype.disableEditor=function(){return alchemy.setState("interactions","default"),alchemy.vis.select("#dragline").remove(),d3.select("#node-editor").transition().duration(300).style("opacity",0),d3.select("#node-editor").transition().delay(300).attr("class","hidden"),this.drawNodes.updateNode(alchemy.node),d3.selectAll(".node").classed({selected:!1})},b.prototype.remove=function(){var a,b,c,d,e,f,g,h,i,j,k,l;for(e=d3.selectAll(".selected.node"),j=e[0],l=[],f=0,h=j.length;h>f;f++)if(b=j[f],c=d3.select(b).data()[0].id,d=alchemy._nodes[c],null!=d){for(k=d.adjacentEdges,g=0,i=k.length;i>g;g++)a=k[g],alchemy._edges=_.omit(alchemy._edges,""+a),alchemy.edge=alchemy.edge.data(_.map(alchemy._edges,function(a){return a._d3}),function(a){return a.id}),d3.select("#edge-"+a).remove();alchemy._nodes=_.omit(alchemy._nodes,""+c),alchemy.node=alchemy.node.data(_.map(alchemy._nodes,function(a){return a._d3}),function(a){return a.id}),d3.select(b).remove(),l.push("editor"===alchemy.getState("interactions")?alchemy.modifyElements.nodeEditorClear():void 0)}else l.push(void 0);return l},b.prototype.addNode=function(a){var b;return b=alchemy._nodes[a.id]=new alchemy.models.Node({id:""+a.id}),b.setProperty("caption",a.caption),b.setD3Property("x",a.x),b.setD3Property("y",a.y),alchemy.node=alchemy.node.data(_.map(alchemy._nodes,function(a){return a._d3}),function(a){return a.id})},b.prototype.addEdge=function(a){var b;return b=alchemy._edges[a.id]=new alchemy.models.Edge(a),alchemy.edge=alchemy.edge.data(_.map(alchemy._edges,function(a){return a._d3}),function(a){return a.id})},b.prototype.update=function(a,b){return this.mouseUpNode?(alchemy.editor.addEdge(b),this.drawEdges.createEdge(alchemy.edge)):(alchemy.editor.addNode(a),alchemy.editor.addEdge(b),this.drawEdges.createEdge(alchemy.edge),this.drawNodes.createNode(alchemy.node)),alchemy.layout.tick()},b}()}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};alchemy.models.Edge=function(){function b(b){this.allNodesActive=a(this.allNodesActive,this),this.getProperties=a(this.getProperties,this),this.setD3Property=a(this.setD3Property,this),this.setProperty=a(this.setProperty,this),this.toPublic=a(this.toPublic,this);var c,d;d=alchemy.conf,this.id=null!=b.id?b.id:""+b.source+"-"+b.target,this.edgeStyle=_.merge(d.edgeStyle,this.edgeStyle),this.state={active:!0},this.properties=b,this._edgeAttributes=new alchemy.models.EdgeAttributes,c=this._edgeAttributes.edgeCaption(this.properties),c&&(this.properties.caption=c),this._d3={id:this.id,source:alchemy._nodes[this.properties.source]._d3,target:alchemy._nodes[this.properties.target]._d3,caption:c},alchemy._nodes[""+b.source].addEdge(this.id),alchemy._nodes[""+b.target].addEdge(this.id)}return b.prototype.toPublic=function(){var a;return a=_.keys(this.properties),_.pick(this,a)},b.prototype.setProperty=function(a,b){return this.properties[a]=b,"source"===a||"target"===a?this.setD3Property(a,alchemy._nodes[b]._d3):void 0},b.prototype.setD3Property=function(a,b){return this._d3[a]=b},b.prototype.getProperties=function(){return this.properties},b.prototype.allNodesActive=function(){var a,b;return a=d3.select("#node-"+this.properties.source),b=d3.select("#node-"+this.properties.target),!a.classed("inactive")&&!b.classed("inactive")},b}()}.call(this),function(){alchemy.models.EdgeAttributes=function(){function a(){var a,b;b=alchemy.conf,a=b.edgeCaption,"string"==typeof a?this.edgeCaption=function(b){return b[a]}:"function"==typeof a&&(this.edgeCaption=function(b){return a(b)})}return a}()}.call(this),function(){}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};alchemy.models.Node=function(){function b(c){this.removeProperty=a(this.removeProperty,this),this.setD3Property=a(this.setD3Property,this),this.setProperty=a(this.setProperty,this),this.getProperties=a(this.getProperties,this);var d,e,f;d=alchemy.conf,e=new alchemy.models.NodeAttributes,f=e.nodeSize(c),this.id=c.id,this.properties=c,this.state={active:!0},this._d3={id:c.id,r:f,"stroke-width":e.strokeWidth(f),root:this.properties[d.rootNodes]},this.nodeStyle=_.merge(d.nodeStyle,this.nodeStyle),this.adjacentEdges=[],b.prototype.all.push(this.id),d.nodeTypes&&(this.nodeType=this.properties[Object.keys(alchemy.conf.nodeTypes)],this.nodeType&&(this._d3.nodeType=this.nodeType))}return b.prototype.addEdge=function(a){return this.adjacentEdges.push(a),this.adjacentEdges=_.uniq(this.adjacentEdges)},b.prototype.outDegree=function(){return this.adjacentEdges.length},b.prototype.neighbors=function(){var a;return a=new RegExp("[("+this.id+"\\-)(\\-"+this.id+")]","g"),_.map(this.adjacentEdges,function(b){return b.replace(a,"")})},b.prototype.getProperties=function(){return this.properties},b.prototype.setProperty=function(a,b){return this.properties[a]=b},b.prototype.setD3Property=function(a,b){return this._d3[a]=b},b.prototype.removeProperty=function(a){return null!=this.properties.property?_.omit(this.properties,a):void 0},b.prototype.all=[],b}()}.call(this),function(){alchemy.models.NodeAttributes=function(){function a(){var a;a=alchemy.conf.rootNodes,"function"==typeof alchemy.conf.nodeRadius?this.nodeSize=function(b){return null!=b[a]&&d[a]?alchemy.conf.rootNodeRadius(b):alchemy.conf.nodeRadius(b)}:"string"==typeof alchemy.conf.nodeRadius?this.nodeSize=function(b){var c;return c=alchemy.conf.nodeRadius,null!=b[a]?alchemy.conf.rootNodeRadius:null!=b[c]?b[c]:alchemy.defaults.rootNodeRadius}:"number"==typeof alchemy.conf.nodeRadius&&(this.nodeSize=function(b){return null!=b[a]?alchemy.conf.rootNodeRadius:alchemy.conf.nodeRadius})}return a.prototype.strokeWidth=function(a){return a/3},a}()}.call(this),function(){alchemy.utils.warnings={dataWarning:function(){var a;return alchemy.conf.dataWarning&&"function"==typeof alchemy.conf.dataWarning?alchemy.conf.dataWarning():void("default"===alchemy.conf.dataWarning&&(a='<div class="modal fade" id="no-results">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n                <h4 class="modal-title">Sorry!</h4>\n            </div>\n            <div class="modal-body">\n                <p>'+alchemy.conf.warningMessage+'</p>\n            </div>\n            <div class="modal-footer">\n                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n            </div>\n        </div>\n    </div>\n</div>',$("body").append(a),$("#no-results").modal("show"),$("#loading-spinner").hide()))},divWarning:function(){return"create an element that matches the value for 'divSelector' in your conf.\nFor instance, if you are using the default 'divSelector' conf, simply provide\n<div id='#alchemy'></div>."}}}.call(this);var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(input){var chr1,chr2,chr3,enc1,enc2,enc3,enc4,output="",i=0;for(input=Base64._utf8_encode(input);i<input.length;)chr1=input.charCodeAt(i++),chr2=input.charCodeAt(i++),chr3=input.charCodeAt(i++),enc1=chr1>>2,enc2=(3&chr1)<<4|chr2>>4,enc3=(15&chr2)<<2|chr3>>6,enc4=63&chr3,isNaN(chr2)?enc3=enc4=64:isNaN(chr3)&&(enc4=64),output=output+this._keyStr.charAt(enc1)+this._keyStr.charAt(enc2)+this._keyStr.charAt(enc3)+this._keyStr.charAt(enc4);return output},decode:function(input){var chr1,chr2,chr3,enc1,enc2,enc3,enc4,output="",i=0;for(input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");i<input.length;)enc1=this._keyStr.indexOf(input.charAt(i++)),enc2=this._keyStr.indexOf(input.charAt(i++)),enc3=this._keyStr.indexOf(input.charAt(i++)),enc4=this._keyStr.indexOf(input.charAt(i++)),chr1=enc1<<2|enc2>>4,chr2=(15&enc2)<<4|enc3>>2,chr3=(3&enc3)<<6|enc4,output+=String.fromCharCode(chr1),64!=enc3&&(output+=String.fromCharCode(chr2)),64!=enc4&&(output+=String.fromCharCode(chr3));return output=Base64._utf8_decode(output)},_utf8_encode:function(string){string=string.replace(/\r\n/g,"\n");for(var utftext="",n=0;n<string.length;n++){var c=string.charCodeAt(n);128>c?utftext+=String.fromCharCode(c):c>127&&2048>c?(utftext+=String.fromCharCode(c>>6|192),utftext+=String.fromCharCode(63&c|128)):(utftext+=String.fromCharCode(c>>12|224),utftext+=String.fromCharCode(c>>6&63|128),utftext+=String.fromCharCode(63&c|128))}return utftext},_utf8_decode:function(utftext){for(var string="",i=0,c=c1=c2=0;i<utftext.length;)c=utftext.charCodeAt(i),128>c?(string+=String.fromCharCode(c),i++):c>191&&224>c?(c2=utftext.charCodeAt(i+1),string+=String.fromCharCode((31&c)<<6|63&c2),i+=2):(c2=utftext.charCodeAt(i+1),c3=utftext.charCodeAt(i+2),string+=String.fromCharCode((15&c)<<12|(63&c2)<<6|63&c3),i+=3);return string}};